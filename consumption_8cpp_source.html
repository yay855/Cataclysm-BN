<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: src/consumption.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('consumption_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">consumption.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="consumption_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#include &quot;<a class="code" href="player_8h.html">player.h</a>&quot;</span> <span class="comment">// IWYU pragma: associated</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#include &quot;<a class="code" href="consumption_8h.html">consumption.h</a>&quot;</span> <span class="comment">// IWYU pragma: associated</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span> </div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &lt;cstdlib&gt;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span> </div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &quot;<a class="code" href="addiction_8h.html">addiction.h</a>&quot;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &quot;<a class="code" href="avatar_8h.html">avatar.h</a>&quot;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &quot;<a class="code" href="bionics_8h.html">bionics.h</a>&quot;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="calendar_8h.html">calendar.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="cata__utility_8h.html">cata_utility.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="craft__command_8h.html">craft_command.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="debug_8h.html">debug.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="enums_8h.html">enums.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="flat__set_8h.html">flat_set.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="game_8h.html">game.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="item__contents_8h.html">item_contents.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="itype_8h.html">itype.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="magic__enchantment_8h.html">magic_enchantment.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="map_8h.html">map.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="material_8h.html">material.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="messages_8h.html">messages.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="monster_8h.html">monster.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="morale__types_8h.html">morale_types.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="mtype_8h.html">mtype.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="mutation_8h.html">mutation.h</a>&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;<a class="code" href="optional_8h.html">optional.h</a>&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="options_8h.html">options.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;<a class="code" href="pldata_8h.html">pldata.h</a>&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;<a class="code" href="recipe_8h.html">recipe.h</a>&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;<a class="code" href="recipe__dictionary_8h.html">recipe_dictionary.h</a>&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &quot;<a class="code" href="requirements_8h.html">requirements.h</a>&quot;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &quot;<a class="code" href="rng_8h.html">rng.h</a>&quot;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &quot;<a class="code" href="stomach_8h.html">stomach.h</a>&quot;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#include &quot;<a class="code" href="string__formatter_8h.html">string_formatter.h</a>&quot;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#include &quot;<a class="code" href="string__id_8h.html">string_id.h</a>&quot;</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="preprocessor">#include &quot;<a class="code" href="translations_8h.html">translations.h</a>&quot;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="preprocessor">#include &quot;<a class="code" href="units_8h.html">units.h</a>&quot;</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="preprocessor">#include &quot;<a class="code" href="value__ptr_8h.html">value_ptr.h</a>&quot;</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">#include &quot;<a class="code" href="vitamin_8h.html">vitamin.h</a>&quot;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a5101b830b78cb3ac9eb7f0c8f87b1d3b">   46</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a5101b830b78cb3ac9eb7f0c8f87b1d3b">comesttype_DRINK</a>( <span class="stringliteral">&quot;DRINK&quot;</span> );</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ab3904a4e01276706855605f3b616734a">   47</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#ab3904a4e01276706855605f3b616734a">comesttype_FOOD</a>( <span class="stringliteral">&quot;FOOD&quot;</span> );</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span> </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ad0e39d29af45ea0a03f280197b35ca72">   49</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">skill_id</a> <a class="code hl_variable" href="consumption_8cpp.html#ad0e39d29af45ea0a03f280197b35ca72">skill_cooking</a>( <span class="stringliteral">&quot;cooking&quot;</span> );</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ac038c6319122de04af85fb88e6618601">   50</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">skill_id</a> <a class="code hl_variable" href="consumption_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a>( <span class="stringliteral">&quot;survival&quot;</span> );</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> </div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a22b82ff6998caf559fabe67d535d6771">   52</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a22b82ff6998caf559fabe67d535d6771">mon_player_blob</a>( <span class="stringliteral">&quot;mon_player_blob&quot;</span> );</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#af240157d33eeab40ef36bc04dd472e75">   54</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bionic_id</a> <a class="code hl_variable" href="consumption_8cpp.html#af240157d33eeab40ef36bc04dd472e75">bio_advreactor</a>( <span class="stringliteral">&quot;bio_advreactor&quot;</span> );</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a36f9b5f5d763f2c224b59b75af340c6c">   55</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bionic_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a36f9b5f5d763f2c224b59b75af340c6c">bio_digestion</a>( <span class="stringliteral">&quot;bio_digestion&quot;</span> );</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a5f686344fc356a766b2eeb5fd27d56a3">   56</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bionic_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a5f686344fc356a766b2eeb5fd27d56a3">bio_furnace</a>( <span class="stringliteral">&quot;bio_furnace&quot;</span> );</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a8964de0b81cdb278e268ded8e0e50fe9">   57</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bionic_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a8964de0b81cdb278e268ded8e0e50fe9">bio_reactor</a>( <span class="stringliteral">&quot;bio_reactor&quot;</span> );</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a1cdd6de85176097b616ddd8e3e0a9239">   58</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bionic_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a1cdd6de85176097b616ddd8e3e0a9239">bio_taste_blocker</a>( <span class="stringliteral">&quot;bio_taste_blocker&quot;</span> );</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span> </div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">   60</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a>( <span class="stringliteral">&quot;bloodworms&quot;</span> );</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ab20d39f7408673b6c72e08685e5dea15">   61</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="consumption_8cpp.html#ab20d39f7408673b6c72e08685e5dea15">effect_bloated</a>( <span class="stringliteral">&quot;bloated&quot;</span> );</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">   62</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="consumption_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a>( <span class="stringliteral">&quot;brainworms&quot;</span> );</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#add6199d38f99fd7341acd9e5b7f2df63">   63</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="consumption_8cpp.html#add6199d38f99fd7341acd9e5b7f2df63">effect_foodpoison</a>( <span class="stringliteral">&quot;foodpoison&quot;</span> );</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a08ed8f8240259a6a457502b0db459e08">   64</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a>( <span class="stringliteral">&quot;fungus&quot;</span> );</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">   65</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a>( <span class="stringliteral">&quot;hallu&quot;</span> );</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ac00dfe681a5a2f2b03bfe2ad27df1721">   66</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="consumption_8cpp.html#ac00dfe681a5a2f2b03bfe2ad27df1721">effect_nausea</a>( <span class="stringliteral">&quot;nausea&quot;</span> );</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a914db3df05fd548e81adc85699eaaf05">   67</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a>( <span class="stringliteral">&quot;paincysts&quot;</span> );</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">   68</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="consumption_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">effect_poison</a>( <span class="stringliteral">&quot;poison&quot;</span> );</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">   69</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a>( <span class="stringliteral">&quot;tapeworm&quot;</span> );</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a6e356b8c88f37fd089a667b39f6b4419">   70</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a6e356b8c88f37fd089a667b39f6b4419">effect_visuals</a>( <span class="stringliteral">&quot;visuals&quot;</span> );</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#af18c51d2a8f81b4d06912d40760e9691">   72</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#af18c51d2a8f81b4d06912d40760e9691">trait_ACIDBLOOD</a>( <span class="stringliteral">&quot;ACIDBLOOD&quot;</span> );</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ab3388325c8d9a46ddb7af329e1b247fd">   73</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#ab3388325c8d9a46ddb7af329e1b247fd">trait_AMORPHOUS</a>( <span class="stringliteral">&quot;AMORPHOUS&quot;</span> );</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#af7cc775eaf9d4242e2e88f4dfedc93f7">   74</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#af7cc775eaf9d4242e2e88f4dfedc93f7">trait_ANTIFRUIT</a>( <span class="stringliteral">&quot;ANTIFRUIT&quot;</span> );</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a77c556702302ac4ca1a8485f208bebdf">   75</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a77c556702302ac4ca1a8485f208bebdf">trait_ANTIJUNK</a>( <span class="stringliteral">&quot;ANTIJUNK&quot;</span> );</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a7722fb848275ed1493264cbff87a6ca0">   76</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a7722fb848275ed1493264cbff87a6ca0">trait_ANTIWHEAT</a>( <span class="stringliteral">&quot;ANTIWHEAT&quot;</span> );</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a6984ef23000798340375b8fdbcaba096">   77</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a6984ef23000798340375b8fdbcaba096">trait_BEAK_HUM</a>( <span class="stringliteral">&quot;BEAK_HUM&quot;</span> );</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#af1a3e5c07ef96be118895afd086ba143">   78</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#af1a3e5c07ef96be118895afd086ba143">trait_CANNIBAL</a>( <span class="stringliteral">&quot;CANNIBAL&quot;</span> );</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a4fbf975d8c329497caf15aa91d65a664">   79</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a4fbf975d8c329497caf15aa91d65a664">trait_CARNIVORE</a>( <span class="stringliteral">&quot;CARNIVORE&quot;</span> );</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">   80</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">trait_EATDEAD</a>( <span class="stringliteral">&quot;EATDEAD&quot;</span> );</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#abb2203fc9372a7f9651ccca81239445a">   81</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#abb2203fc9372a7f9651ccca81239445a">trait_EATHEALTH</a>( <span class="stringliteral">&quot;EATHEALTH&quot;</span> );</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ae20f23e46accdd4c88c6b435ae94f63c">   82</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#ae20f23e46accdd4c88c6b435ae94f63c">trait_FANGS_SPIDER</a>( <span class="stringliteral">&quot;FANGS_SPIDER&quot;</span> );</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a727bf036aa94e4311063504afc7811f0">   83</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a727bf036aa94e4311063504afc7811f0">trait_GIZZARD</a>( <span class="stringliteral">&quot;GIZZARD&quot;</span> );</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#abd2ce5a2e5c7ede5e25af994457bd123">   84</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#abd2ce5a2e5c7ede5e25af994457bd123">trait_GOURMAND</a>( <span class="stringliteral">&quot;GOURMAND&quot;</span> );</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a17cdfd8aef2fd5e8fceb6c62d37fa741">   85</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a17cdfd8aef2fd5e8fceb6c62d37fa741">trait_HERBIVORE</a>( <span class="stringliteral">&quot;HERBIVORE&quot;</span> );</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#aaa52adaf5d4df3112a266635f08120ed">   86</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#aaa52adaf5d4df3112a266635f08120ed">trait_LACTOSE</a>( <span class="stringliteral">&quot;LACTOSE&quot;</span> );</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ac71452586eb6cf87fab888bc561dc897">   87</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#ac71452586eb6cf87fab888bc561dc897">trait_M_DEPENDENT</a>( <span class="stringliteral">&quot;M_DEPENDENT&quot;</span> );</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a308d750c2cc01d70d7622fdee14be3a5">   88</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a308d750c2cc01d70d7622fdee14be3a5">trait_M_IMMUNE</a>( <span class="stringliteral">&quot;M_IMMUNE&quot;</span> );</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a7187ffc2d22573029ad4c4985f7ad95f">   89</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a7187ffc2d22573029ad4c4985f7ad95f">trait_MANDIBLES</a>( <span class="stringliteral">&quot;MANDIBLES&quot;</span> );</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#af1cffcd5b8f3fa5fd6fe1fca1d45725d">   90</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#af1cffcd5b8f3fa5fd6fe1fca1d45725d">trait_MEATARIAN</a>( <span class="stringliteral">&quot;MEATARIAN&quot;</span> );</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ac8785297401c28693575f38b8e5df375">   91</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#ac8785297401c28693575f38b8e5df375">trait_MOUTH_TENTACLES</a>( <span class="stringliteral">&quot;MOUTH_TENTACLES&quot;</span> );</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a6c2652eceffb663021aeae9d4b7d0429">   92</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a6c2652eceffb663021aeae9d4b7d0429">trait_PARAIMMUNE</a>( <span class="stringliteral">&quot;PARAIMMUNE&quot;</span> );</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ae6a6e853460bbd7e5b9ba2adfe22a864">   93</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#ae6a6e853460bbd7e5b9ba2adfe22a864">trait_POISRESIST</a>( <span class="stringliteral">&quot;POISRESIST&quot;</span> );</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a7b1c110dc6b9d344d32e00ae9f70d070">   94</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a7b1c110dc6b9d344d32e00ae9f70d070">trait_PROBOSCIS</a>( <span class="stringliteral">&quot;PROBOSCIS&quot;</span> );</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#aa529aa8fed8701f3f231986398f2d95d">   95</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#aa529aa8fed8701f3f231986398f2d95d">trait_PROJUNK</a>( <span class="stringliteral">&quot;PROJUNK&quot;</span> );</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a70d7f27f057587e54b30196e6c58ad09">   96</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a70d7f27f057587e54b30196e6c58ad09">trait_PROJUNK2</a>( <span class="stringliteral">&quot;PROJUNK2&quot;</span> );</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">   97</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a>( <span class="stringliteral">&quot;PSYCHOPATH&quot;</span> );</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a0371615cbdf966655d267076abc28b68">   98</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a0371615cbdf966655d267076abc28b68">trait_RUMINANT</a>( <span class="stringliteral">&quot;RUMINANT&quot;</span> );</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a28e8b9d50a08cc7e9fcf534eca71b094">   99</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a28e8b9d50a08cc7e9fcf534eca71b094">trait_SABER_TEETH</a>( <span class="stringliteral">&quot;SABER_TEETH&quot;</span> );</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a93f31d20e997d966be8b81d64c31582b">  100</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a93f31d20e997d966be8b81d64c31582b">trait_SAPIOVORE</a>( <span class="stringliteral">&quot;SAPIOVORE&quot;</span> );</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#af4487f6f0e0eb0e3a671f5053fe2c219">  101</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#af4487f6f0e0eb0e3a671f5053fe2c219">trait_SAPROPHAGE</a>( <span class="stringliteral">&quot;SAPROPHAGE&quot;</span> );</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a92fc92f8871feb56f05a24b582966275">  102</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a>( <span class="stringliteral">&quot;SAPROVORE&quot;</span> );</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a16dc22cee5427c4ffbbe0db4dde27a5e">  103</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a16dc22cee5427c4ffbbe0db4dde27a5e">trait_SHARKTEETH</a>( <span class="stringliteral">&quot;SHARKTEETH&quot;</span> );</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a21bda02fdebbb5bafebd2ba308e29262">  104</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a21bda02fdebbb5bafebd2ba308e29262">trait_SLIMESPAWNER</a>( <span class="stringliteral">&quot;SLIMESPAWNER&quot;</span> );</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">  105</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a>( <span class="stringliteral">&quot;SPIRITUAL&quot;</span> );</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a7b80d711466946f3fb75c76a9d47de41">  106</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a7b80d711466946f3fb75c76a9d47de41">trait_STIMBOOST</a>( <span class="stringliteral">&quot;STIMBOOST&quot;</span> );</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a6d68a01cb1321b3310ac4ddc8c28b8d0">  107</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a6d68a01cb1321b3310ac4ddc8c28b8d0">trait_THRESH_BIRD</a>( <span class="stringliteral">&quot;THRESH_BIRD&quot;</span> );</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ab0274897870729fe991550cf82d246e9">  108</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#ab0274897870729fe991550cf82d246e9">trait_THRESH_CATTLE</a>( <span class="stringliteral">&quot;THRESH_CATTLE&quot;</span> );</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ab2b26b8a5aaccd80452e343236ffe8e7">  109</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#ab2b26b8a5aaccd80452e343236ffe8e7">trait_THRESH_FELINE</a>( <span class="stringliteral">&quot;THRESH_FELINE&quot;</span> );</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#aa9d7670d795db57c4926fef635148e22">  110</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#aa9d7670d795db57c4926fef635148e22">trait_THRESH_LUPINE</a>( <span class="stringliteral">&quot;THRESH_LUPINE&quot;</span> );</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a2d2463d7a32338731d9a8cd1be4faad0">  111</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a2d2463d7a32338731d9a8cd1be4faad0">trait_THRESH_PLANT</a>( <span class="stringliteral">&quot;THRESH_PLANT&quot;</span> );</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a557169ee6dc6d09dfed331f1819983d5">  112</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#a557169ee6dc6d09dfed331f1819983d5">trait_THRESH_URSINE</a>( <span class="stringliteral">&quot;THRESH_URSINE&quot;</span> );</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#aa7c6b64e7778501e77a8c8aeda9c6ffb">  113</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#aa7c6b64e7778501e77a8c8aeda9c6ffb">trait_VEGETARIAN</a>( <span class="stringliteral">&quot;VEGETARIAN&quot;</span> );</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#abf29a0f9f2b03dbf9baa8dd6af688d41">  114</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="consumption_8cpp.html#abf29a0f9f2b03dbf9baa8dd6af688d41">trait_WATERSLEEP</a>( <span class="stringliteral">&quot;WATERSLEEP&quot;</span> );</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span> </div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a74fdff0ac6c7a40b84739f512ff69880">  116</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a74fdff0ac6c7a40b84739f512ff69880">flag_HIDDEN_HALLU</a>( <span class="stringliteral">&quot;HIDDEN_HALLU&quot;</span> );</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a444e9abf6e0fe7e86f4b8bfedf6466b1">  117</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a444e9abf6e0fe7e86f4b8bfedf6466b1">flag_ALLERGEN_EGG</a>( <span class="stringliteral">&quot;ALLERGEN_EGG&quot;</span> );</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a5c5d95582274018a683ad59398c9e69d">  118</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a5c5d95582274018a683ad59398c9e69d">flag_ALLERGEN_FRUIT</a>( <span class="stringliteral">&quot;ALLERGEN_FRUIT&quot;</span> );</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a2d861a0c4ca4d6d868785f9c37589ca3">  119</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a2d861a0c4ca4d6d868785f9c37589ca3">flag_ALLERGEN_JUNK</a>( <span class="stringliteral">&quot;ALLERGEN_JUNK&quot;</span> );</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ad817d910676fca9fd31d349bf1d5ca9c">  120</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#ad817d910676fca9fd31d349bf1d5ca9c">flag_ALLERGEN_MEAT</a>( <span class="stringliteral">&quot;ALLERGEN_MEAT&quot;</span> );</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a164e5731223f7214b3de31da05ade52f">  121</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a164e5731223f7214b3de31da05ade52f">flag_ALLERGEN_MILK</a>( <span class="stringliteral">&quot;ALLERGEN_MILK&quot;</span> );</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a294459f1407d3d2bffba00b088675538">  122</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a294459f1407d3d2bffba00b088675538">flag_ALLERGEN_VEGGY</a>( <span class="stringliteral">&quot;ALLERGEN_VEGGY&quot;</span> );</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ab0ef5d50b9d2e3795b88816ba20982df">  123</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#ab0ef5d50b9d2e3795b88816ba20982df">flag_ALLERGEN_WHEAT</a>( <span class="stringliteral">&quot;ALLERGEN_WHEAT&quot;</span> );</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a0f1390ce6eca1256e19a739ef0906c23">  124</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a0f1390ce6eca1256e19a739ef0906c23">flag_ALLERGEN_NUT</a>( <span class="stringliteral">&quot;ALLERGEN_NUT&quot;</span> );</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a79767ac22fe08c1d456457d701f512e9">  125</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a79767ac22fe08c1d456457d701f512e9">flag_BIRD</a>( <span class="stringliteral">&quot;BIRD&quot;</span> );</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a7db9c307e6c910db699fffaccf9c5e0d">  126</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a7db9c307e6c910db699fffaccf9c5e0d">flag_BYPRODUCT</a>( <span class="stringliteral">&quot;BYPRODUCT&quot;</span> );</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a6fb4b249c40ac59e1c881e9094939dab">  127</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a6fb4b249c40ac59e1c881e9094939dab">flag_CANNIBALISM</a>( <span class="stringliteral">&quot;CANNIBALISM&quot;</span> );</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#abd8d7c4f01bfc8c35f32e2639ec34ab4">  128</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#abd8d7c4f01bfc8c35f32e2639ec34ab4">flag_CARNIVORE_OK</a>( <span class="stringliteral">&quot;CARNIVORE_OK&quot;</span> );</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a9ee9e451710455a6577a559240a53cee">  129</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a9ee9e451710455a6577a559240a53cee">flag_CATTLE</a>( <span class="stringliteral">&quot;CATTLE&quot;</span> );</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#acb899f0e81667f5db435b88b88880c16">  130</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#acb899f0e81667f5db435b88b88880c16">flag_COOKED</a>( <span class="stringliteral">&quot;COOKED&quot;</span> );</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a91b238005aeb2d80dac3fa7de669e797">  131</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a91b238005aeb2d80dac3fa7de669e797">flag_CORPSE</a>( <span class="stringliteral">&quot;CORPSE&quot;</span> );</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ae75a0eb82d40511391fb18ff7a6f4cbe">  132</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#ae75a0eb82d40511391fb18ff7a6f4cbe">flag_EATEN_HOT</a>( <span class="stringliteral">&quot;EATEN_HOT&quot;</span> );</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ac18c869bf39d3ef1f4cccf94a9685962">  133</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#ac18c869bf39d3ef1f4cccf94a9685962">flag_FELINE</a>( <span class="stringliteral">&quot;FELINE&quot;</span> );</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a6667890439d15281d61810dfde0dc2fa">  134</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a6667890439d15281d61810dfde0dc2fa">flag_FERTILIZER</a>( <span class="stringliteral">&quot;FERTILIZER&quot;</span> );</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a146a2a49b9de37f54c126426c47634de">  135</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a146a2a49b9de37f54c126426c47634de">flag_FUNGAL_VECTOR</a>( <span class="stringliteral">&quot;FUNGAL_VECTOR&quot;</span> );</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a17c3eadf018a3066a8a7f28d77aa160f">  136</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a17c3eadf018a3066a8a7f28d77aa160f">flag_INEDIBLE</a>( <span class="stringliteral">&quot;INEDIBLE&quot;</span> );</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#adaaa4a08a887cf8dff40f06eb1baa85a">  137</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#adaaa4a08a887cf8dff40f06eb1baa85a">flag_LUPINE</a>( <span class="stringliteral">&quot;LUPINE&quot;</span> );</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a8f2b6423a81f8993e1f39868c1d9a805">  138</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a8f2b6423a81f8993e1f39868c1d9a805">flag_MYCUS_OK</a>( <span class="stringliteral">&quot;MYCUS_OK&quot;</span> );</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a994d0d6d961fbaf3b81c95eea9265ccf">  139</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a994d0d6d961fbaf3b81c95eea9265ccf">flag_NEGATIVE_MONOTONY_OK</a>( <span class="stringliteral">&quot;NEGATIVE_MONOTONY_OK&quot;</span> );</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#afd06012232776bb8568e171984c28663">  140</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#afd06012232776bb8568e171984c28663">flag_NO_BLOAT</a>( <span class="stringliteral">&quot;NO_BLOAT&quot;</span> );</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ada9c92ee582b7c039559baeb06b4439c">  141</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#ada9c92ee582b7c039559baeb06b4439c">flag_NO_INGEST</a>( <span class="stringliteral">&quot;NO_INGEST&quot;</span> );</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#aa026dbb6ce20973d00e8847f056865dc">  142</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#aa026dbb6ce20973d00e8847f056865dc">flag_NO_PARASITES</a>( <span class="stringliteral">&quot;NO_PARASITES&quot;</span> );</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ab1b77b826e76fc26c990435f29f87d50">  143</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#ab1b77b826e76fc26c990435f29f87d50">flag_NO_RELOAD</a>( <span class="stringliteral">&quot;NO_RELOAD&quot;</span> );</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a62b448cbb3f42468e05cc71fd5942e09">  144</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a62b448cbb3f42468e05cc71fd5942e09">flag_NUTRIENT_OVERRIDE</a>( <span class="stringliteral">&quot;NUTRIENT_OVERRIDE&quot;</span> );</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#adc75c21d21b85c1a29f21a3c0872326c">  145</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#adc75c21d21b85c1a29f21a3c0872326c">flag_RADIOACTIVE</a>( <span class="stringliteral">&quot;RADIOACTIVE&quot;</span> );</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a79ed96d4335e6c039ff4076620fe07ea">  146</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a79ed96d4335e6c039ff4076620fe07ea">flag_RAW</a>( <span class="stringliteral">&quot;RAW&quot;</span> );</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a590a72c763f8f716dbd0a2da2fdf0d4b">  147</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a590a72c763f8f716dbd0a2da2fdf0d4b">flag_URSINE_HONEY</a>( <span class="stringliteral">&quot;URSINE_HONEY&quot;</span> );</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a8048758dc914b63455fd2c2a422579bf">  148</a></span><span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code hl_function" href="consumption_8cpp.html#a8048758dc914b63455fd2c2a422579bf">flag_USE_EAT_VERB</a>( <span class="stringliteral">&quot;USE_EAT_VERB&quot;</span> );</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span> </div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a0474d93e30c8db4395acf56a8d51a9fe">  150</a></span><span class="keyword">const</span> std::vector&lt;std::string&gt; <a class="code hl_variable" href="consumption_8cpp.html#a0474d93e30c8db4395acf56a8d51a9fe">carnivore_blacklist</a> {{</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>        <a class="code hl_function" href="consumption_8cpp.html#a294459f1407d3d2bffba00b088675538">flag_ALLERGEN_VEGGY</a>, <a class="code hl_function" href="consumption_8cpp.html#a5c5d95582274018a683ad59398c9e69d">flag_ALLERGEN_FRUIT</a>, <a class="code hl_function" href="consumption_8cpp.html#ab0ef5d50b9d2e3795b88816ba20982df">flag_ALLERGEN_WHEAT</a>, <a class="code hl_function" href="consumption_8cpp.html#a0f1390ce6eca1256e19a739ef0906c23">flag_ALLERGEN_NUT</a>,</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    }</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>};</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span><span class="comment">// This ugly temp array is here because otherwise it goes</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span><span class="comment">// std::vector(char*, char*)-&gt;vector(InputIterator,InputIterator) or some such</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a8e7b9fefa5c3c64830ff6786d9408ee6">  156</a></span><span class="keyword">const</span> std::array&lt;std::string, 2&gt; <a class="code hl_variable" href="consumption_8cpp.html#a8e7b9fefa5c3c64830ff6786d9408ee6">temparray</a> {{<a class="code hl_function" href="consumption_8cpp.html#ad817d910676fca9fd31d349bf1d5ca9c">flag_ALLERGEN_MEAT</a>, <a class="code hl_function" href="consumption_8cpp.html#a444e9abf6e0fe7e86f4b8bfedf6466b1">flag_ALLERGEN_EGG</a>}};</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a7971bf13ca2d151e46e6a0689b4ae544">  157</a></span><span class="keyword">const</span> std::vector&lt;std::string&gt; <a class="code hl_function" href="consumption_8cpp.html#a7971bf13ca2d151e46e6a0689b4ae544">herbivore_blacklist</a>( <a class="code hl_variable" href="consumption_8cpp.html#a8e7b9fefa5c3c64830ff6786d9408ee6">temparray</a>.begin(), <a class="code hl_variable" href="consumption_8cpp.html#a8e7b9fefa5c3c64830ff6786d9408ee6">temparray</a>.end() );</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span> </div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span><span class="comment">// Defines the maximum volume that a internal furnace can consume</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a11c4831d4b955b120e4516ab3ac75533">  160</a></span><span class="keyword">const</span> <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> <a class="code hl_variable" href="consumption_8cpp.html#a11c4831d4b955b120e4516ab3ac75533">furnace_max_volume</a>( 3_liter );</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span> </div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="comment">// TODO: JSONize.</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a21c7a5371d332978af3e4729459586af">  163</a></span><span class="keyword">const</span> std::map&lt;itype_id, int&gt; <a class="code hl_variable" href="consumption_8cpp.html#a21c7a5371d332978af3e4729459586af">plut_charges</a> = {</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    { <a class="code hl_typedef" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>( <span class="stringliteral">&quot;plut_cell&quot;</span> ),         <a class="code hl_variable" href="game__constants_8h.html#a48b9330c21bc6a0b8f99d7a3414cfe9f">PLUTONIUM_CHARGES</a> * 10 },</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    { <a class="code hl_typedef" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>( <span class="stringliteral">&quot;plut_slurry_dense&quot;</span> ), <a class="code hl_variable" href="game__constants_8h.html#a48b9330c21bc6a0b8f99d7a3414cfe9f">PLUTONIUM_CHARGES</a> },</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    { <a class="code hl_typedef" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>( <span class="stringliteral">&quot;plut_slurry&quot;</span> ),       <a class="code hl_variable" href="game__constants_8h.html#a48b9330c21bc6a0b8f99d7a3414cfe9f">PLUTONIUM_CHARGES</a> / 2 }</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>};</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span><span class="comment">// TODO: Better name</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1">  170</a></span><span class="keyword">enum class</span> <a class="code hl_enumeration" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1">item_consumption_t</a> {</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a334c4a4c42fdb79d7ebc3e73b517e6f8">none</a> = 0,</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>,</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <a class="code hl_struct" href="structcomponent.html">component</a></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>};</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span> </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="comment">// TODO: Better name</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno"><a class="line" href="structprepared__item__consumption.html">  177</a></span><span class="keyword">struct </span><a class="code hl_struct" href="structprepared__item__consumption.html">prepared_item_consumption</a> {</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno"><a class="line" href="structprepared__item__consumption.html#a4d3d155f6442938cb4cb7eba3a68553c">  178</a></span>    <a class="code hl_function" href="structprepared__item__consumption.html#a4d3d155f6442938cb4cb7eba3a68553c">prepared_item_consumption</a>( <a class="code hl_enumeration" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1">item_consumption_t</a> <a class="code hl_variable" href="structprepared__item__consumption.html#a1a9799bd95e916f3a97c190620e4b408">type</a>, <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;<a class="code hl_variable" href="structprepared__item__consumption.html#a96d89b9e2577f72ba5d0f90a6811483d">it</a> )</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        : <a class="code hl_variable" href="structprepared__item__consumption.html#a1a9799bd95e916f3a97c190620e4b408">type</a>( <a class="code hl_variable" href="structprepared__item__consumption.html#a1a9799bd95e916f3a97c190620e4b408">type</a> )</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>        , <a class="code hl_variable" href="structprepared__item__consumption.html#a96d89b9e2577f72ba5d0f90a6811483d">it</a>( <a class="code hl_variable" href="structprepared__item__consumption.html#a96d89b9e2577f72ba5d0f90a6811483d">it</a> )</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    { }</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno"><a class="line" href="structprepared__item__consumption.html#a1a9799bd95e916f3a97c190620e4b408">  182</a></span>    <a class="code hl_enumeration" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1">item_consumption_t</a> <a class="code hl_variable" href="structprepared__item__consumption.html#a1a9799bd95e916f3a97c190620e4b408">type</a>;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno"><a class="line" href="structprepared__item__consumption.html#a96d89b9e2577f72ba5d0f90a6811483d">  183</a></span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;<a class="code hl_variable" href="structprepared__item__consumption.html#a96d89b9e2577f72ba5d0f90a6811483d">it</a>;</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span> </div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno"><a class="line" href="structprepared__item__consumption.html#a44e53bf0b04863165d087329f724ff2f">  185</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="structprepared__item__consumption.html#a44e53bf0b04863165d087329f724ff2f">consume</a>( <a class="code hl_class" href="classCharacter.html">Character</a> &amp;<a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> ) {</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        <span class="comment">// Ugly</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>        <a class="code hl_class" href="classplayer.html">player</a> &amp;p = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classplayer.html">player</a> &amp;<span class="keyword">&gt;</span>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> );</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>        <span class="keywordflow">switch</span>( <a class="code hl_variable" href="structprepared__item__consumption.html#a1a9799bd95e916f3a97c190620e4b408">type</a> ) {</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a334c4a4c42fdb79d7ebc3e73b517e6f8">item_consumption_t::none</a>:</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">item_consumption_t::tool</a>: {</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>                <a class="code hl_struct" href="structcomp__selection.html">comp_selection&lt;tool_comp&gt;</a> selection = <a class="code hl_struct" href="structcomp__selection.html">comp_selection&lt;tool_comp&gt;</a>();</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>                selection.<a class="code hl_variable" href="structcomp__selection.html#abdc3989f1177b3c794be9c679cdefaec">comp</a> = <a class="code hl_struct" href="structtool__comp.html">tool_comp</a>( <a class="code hl_variable" href="structprepared__item__consumption.html#a96d89b9e2577f72ba5d0f90a6811483d">it</a>.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>(), <a class="code hl_variable" href="structprepared__item__consumption.html#a96d89b9e2577f72ba5d0f90a6811483d">it</a>.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>() );</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>                selection.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> = <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a36367df8f9785058d22d022dbd8e5fae">use_from_both</a>;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>                p.<a class="code hl_function" href="classplayer.html#aafa6cc2db2568af687ab21f09f8e4c2e">consume_tools</a>( selection, <a class="code hl_variable" href="structprepared__item__consumption.html#a96d89b9e2577f72ba5d0f90a6811483d">it</a>.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>() );</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>            }</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a700c216fb376666eaeda0c892e8bdc09">item_consumption_t::component</a>: {</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>                <a class="code hl_struct" href="structcomp__selection.html">comp_selection&lt;item_comp&gt;</a> selection = <a class="code hl_struct" href="structcomp__selection.html">comp_selection&lt;item_comp&gt;</a>();</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>                selection.<a class="code hl_variable" href="structcomp__selection.html#abdc3989f1177b3c794be9c679cdefaec">comp</a> = <a class="code hl_struct" href="structitem__comp.html">item_comp</a>( <a class="code hl_variable" href="structprepared__item__consumption.html#a96d89b9e2577f72ba5d0f90a6811483d">it</a>.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>(), 1 );</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>                selection.<a class="code hl_variable" href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">use_from</a> = <a class="code hl_enumvalue" href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a36367df8f9785058d22d022dbd8e5fae">use_from_both</a>;</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>                <span class="keywordflow">return</span> !p.<a class="code hl_function" href="classplayer.html#ad1f5e6d21b83313ab148302140083b99">consume_items</a>( selection, 1, <a class="code hl_function" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a> ).empty();</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>            }</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>        }</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    }</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>};</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span><span class="comment">// Should return item_location instead, but it&#39;s really hard to get it from inventory</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a4637bd22fd149e8cbd782c93737ddf53">  211</a></span><span class="keyword">static</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;prepared_item_consumption&gt;</a> <a class="code hl_function" href="consumption_8cpp.html#a4637bd22fd149e8cbd782c93737ddf53">find_food_heater</a>( <a class="code hl_class" href="classCharacter.html">Character</a> &amp;<a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>,</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>        <span class="keyword">const</span> <a class="code hl_class" href="classinventory.html">inventory</a> &amp;inv, <span class="keywordtype">bool</span> has_fire )</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>{</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <span class="keywordflow">if</span>( has_fire ) {</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>        std::vector&lt;const item *&gt; fire_heaters = inv.<a class="code hl_function" href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">items_with</a>( []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>            <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;HEATS_FOOD_USING_FIRE&quot;</span> );</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>        } );</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>        <span class="keywordflow">if</span>( !fire_heaters.empty() ) {</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>            <span class="keywordflow">return</span> <a class="code hl_struct" href="structprepared__item__consumption.html">prepared_item_consumption</a>( <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a334c4a4c42fdb79d7ebc3e73b517e6f8">item_consumption_t::none</a>, *fire_heaters.front() );</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>        }</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    }</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    std::vector&lt;const item *&gt; charged_heaters = inv.<a class="code hl_function" href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">items_with</a>( [&amp;<a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>        <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;HEATS_FOOD_USING_CHARGES&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>               it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;HEATS_FOOD&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>               <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.has_enough_charges( it, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    } );</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <span class="keywordflow">if</span>( !charged_heaters.empty() ) {</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>        <span class="keywordflow">return</span> <a class="code hl_struct" href="structprepared__item__consumption.html">prepared_item_consumption</a>( <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">item_consumption_t::tool</a>, *charged_heaters.front() );</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    }</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    std::vector&lt;const item *&gt; consumed_heaters = inv.<a class="code hl_function" href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">items_with</a>( []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>        <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;HEATS_FOOD_IS_CONSUMED&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>               it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;HEATS_FOOD&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>               <a class="code hl_function" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a>( it );</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    } );</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <span class="keywordflow">if</span>( !consumed_heaters.empty() ) {</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>        <span class="keywordflow">return</span> <a class="code hl_struct" href="structprepared__item__consumption.html">prepared_item_consumption</a>( <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a700c216fb376666eaeda0c892e8bdc09">item_consumption_t::component</a>, *consumed_heaters.front() );</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span> </div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    }</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>}</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span> </div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a5520025e157ffa952692c4a52c4ef27f">  242</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_function" href="consumption_8cpp.html#a5520025e157ffa952692c4a52c4ef27f">compute_default_effective_kcal</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;comest, <span class="keyword">const</span> <a class="code hl_class" href="classCharacter.html">Character</a> &amp;you,</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1flat__set.html">cata::flat_set&lt;std::string&gt;</a> &amp;extra_flags = {} )</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>{</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    <span class="keywordflow">if</span>( !comest.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>() ) {</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    }</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span> </div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    <span class="comment">// As float to avoid rounding too many times</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    <span class="keywordtype">float</span> kcal = comest.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;default_nutrition.kcal;</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> </div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    <span class="comment">// Many raw foods give less calories, as your body has expends more energy digesting them.</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>    <span class="keywordtype">bool</span> cooked = comest.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#acb899f0e81667f5db435b88b88880c16">flag_COOKED</a> ) || extra_flags.count( <a class="code hl_function" href="consumption_8cpp.html#acb899f0e81667f5db435b88b88880c16">flag_COOKED</a> );</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    <span class="keywordflow">if</span>( comest.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a79ed96d4335e6c039ff4076620fe07ea">flag_RAW</a> ) &amp;&amp; !cooked ) {</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        kcal *= 0.75f;</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    }</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span> </div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    <span class="keywordflow">if</span>( you.<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a727bf036aa94e4311063504afc7811f0">trait_GIZZARD</a> ) ) {</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>        kcal *= 0.6f;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    }</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="keywordflow">if</span>( you.<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a4fbf975d8c329497caf15aa91d65a664">trait_CARNIVORE</a> ) &amp;&amp; comest.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#abd8d7c4f01bfc8c35f32e2639ec34ab4">flag_CARNIVORE_OK</a> ) &amp;&amp;</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        comest.<a class="code hl_function" href="classitem.html#aca5abd8656e123435b97da00608a5daa">has_any_flag</a>( <a class="code hl_variable" href="consumption_8cpp.html#a0474d93e30c8db4395acf56a8d51a9fe">carnivore_blacklist</a> ) ) {</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>        <span class="comment">// TODO: Comment pizza scrapping</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>        kcal *= 0.5f;</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    }</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> relative_rot = comest.<a class="code hl_function" href="classitem.html#adfb5ddb3d50f317c79eb7a1a26a63905">get_relative_rot</a>();</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <span class="comment">// Saprophages get full nutrition from rotting food</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    <span class="keywordflow">if</span>( relative_rot &gt; 1.0f &amp;&amp; !you.<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#af4487f6f0e0eb0e3a671f5053fe2c219">trait_SAPROPHAGE</a> ) ) {</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        <span class="comment">// Everyone else only gets a half of the nutrition</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>        kcal *= 0.5f;</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    }</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span> </div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <span class="comment">// Bionic digestion gives extra nutrition</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <span class="keywordflow">if</span>( you.<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="consumption_8cpp.html#a36f9b5f5d763f2c224b59b75af340c6c">bio_digestion</a> ) ) {</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>        kcal *= 1.5f;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    }</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span> </div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( kcal );</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>}</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span> </div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span><span class="comment">// Compute default effective vitamins for an item, taking into account player</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span><span class="comment">// traits, but not components of the item.</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a6644222f405b1e26a2095f76c0678670">  285</a></span><span class="keyword">static</span> std::map&lt;vitamin_id, int&gt; <a class="code hl_function" href="consumption_8cpp.html#a6644222f405b1e26a2095f76c0678670">compute_default_effective_vitamins</a>(</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it, <span class="keyword">const</span> <a class="code hl_class" href="classCharacter.html">Character</a> &amp;you )</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>{</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    <span class="keywordflow">if</span>( !it.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>() ) {</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    }</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span> </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    std::map&lt;vitamin_id, int&gt; res = it.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;default_nutrition.vitamins;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span> </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> &amp;trait : you.<a class="code hl_function" href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">get_mutations</a>() ) {</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;mut = trait.obj();</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        <span class="comment">// make sure to iterate over every material defined for vitamin absorption</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>        <span class="comment">// TODO: put this loop into a function and utilize it again for bionics</span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;mat : mut.vitamin_absorb_multi ) {</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>            <span class="comment">// this is where we are able to check if the food actually is changed by the trait</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>            <span class="keywordflow">if</span>( mat.first == <a class="code hl_class" href="classstring__id.html">material_id</a>( <span class="stringliteral">&quot;all&quot;</span> ) || it.<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( mat.first ) ) {</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>                <span class="keyword">const</span> std::map&lt;vitamin_id, double&gt; &amp;mat_vit_map = mat.second;</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>                <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;vit : res ) {</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>                    <span class="keyword">auto</span> vit_factor = mat_vit_map.find( vit.first );</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>                    <span class="keywordflow">if</span>( vit_factor != mat_vit_map.end() ) {</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>                        vit.second *= vit_factor-&gt;second;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>                    }</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>                }</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>            }</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>        }</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    }</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span> </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>}</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span> </div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span><span class="comment">// Calculate the effective nutrients for a given item, taking</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span><span class="comment">// into account character traits but not item components.</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno"><a class="line" href="consumption_8cpp.html#a35172e0dcda755fa8faef625bda972f3">  317</a></span><span class="keyword">static</span> <a class="code hl_struct" href="structnutrients.html">nutrients</a> <a class="code hl_function" href="consumption_8cpp.html#a35172e0dcda755fa8faef625bda972f3">compute_default_effective_nutrients</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;comest,</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        <span class="keyword">const</span> <a class="code hl_class" href="classCharacter.html">Character</a> &amp;you, <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1flat__set.html">cata::flat_set&lt;std::string&gt;</a> &amp;extra_flags = {} )</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>{</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    <span class="keywordflow">return</span> { <a class="code hl_function" href="consumption_8cpp.html#a5520025e157ffa952692c4a52c4ef27f">compute_default_effective_kcal</a>( comest, you, extra_flags ),</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>             <a class="code hl_function" href="consumption_8cpp.html#a6644222f405b1e26a2095f76c0678670">compute_default_effective_vitamins</a>( comest, you ) };</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>}</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span> </div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span><span class="comment">// Calculate the nutrients that the given character would receive from consuming</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span><span class="comment">// the given item, taking into account the item components and the character&#39;s</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span><span class="comment">// traits.</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span><span class="comment">// This is used by item display, making actual nutrition available to character.</span></div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno"><a class="line" href="classCharacter.html#a30ae2557de3be7c7e7f353fffc557c91">  328</a></span><a class="code hl_struct" href="structnutrients.html">nutrients</a> <a class="code hl_function" href="classCharacter.html#a30ae2557de3be7c7e7f353fffc557c91">Character::compute_effective_nutrients</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;comest )<span class="keyword"> const</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    <span class="keywordflow">if</span>( !comest.<a class="code hl_function" href="classitem.html#ac070089c03e5dc687bae39670edd5401">is_comestible</a>() ) {</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    }</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span> </div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <span class="comment">// if item has components, will derive calories from that instead.</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <span class="keywordflow">if</span>( !comest.<a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a>.empty() &amp;&amp; !comest.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a62b448cbb3f42468e05cc71fd5942e09">flag_NUTRIENT_OVERRIDE</a> ) ) {</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        <a class="code hl_struct" href="structnutrients.html">nutrients</a> tally{};</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;<a class="code hl_struct" href="structcomponent.html">component</a> : comest.<a class="code hl_variable" href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">components</a> ) {</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>            <a class="code hl_struct" href="structnutrients.html">nutrients</a> component_value =</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>                <a class="code hl_function" href="classCharacter.html#a30ae2557de3be7c7e7f353fffc557c91">compute_effective_nutrients</a>( <a class="code hl_struct" href="structcomponent.html">component</a> ) * <a class="code hl_struct" href="structcomponent.html">component</a>.charges;</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>            <span class="keywordflow">if</span>( <a class="code hl_struct" href="structcomponent.html">component</a>.has_flag( <a class="code hl_function" href="consumption_8cpp.html#a7db9c307e6c910db699fffaccf9c5e0d">flag_BYPRODUCT</a> ) ) {</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>                tally -= component_value;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>                tally += component_value;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>            }</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        }</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        <span class="keywordflow">return</span> tally / comest.<a class="code hl_variable" href="classitem.html#ae6e5a27a821edd75162d46364a24699b">recipe_charges</a>;</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="consumption_8cpp.html#a35172e0dcda755fa8faef625bda972f3">compute_default_effective_nutrients</a>( comest, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    }</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>}</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span> </div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span><span class="comment">// Calculate range of nutrients obtainable for a given item when crafted via</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span><span class="comment">// the given recipe</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno"><a class="line" href="classCharacter.html#a5577a0e5921fcd26b7e28570fc3d7349">  354</a></span>std::pair&lt;nutrients, nutrients&gt; <a class="code hl_function" href="classCharacter.html#a5577a0e5921fcd26b7e28570fc3d7349">Character::compute_nutrient_range</a>(</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;comest, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">recipe_id</a> &amp;recipe_i,</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1flat__set.html">cata::flat_set&lt;std::string&gt;</a> &amp;extra_flags )<span class="keyword"> const</span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    <span class="keywordflow">if</span>( !comest.<a class="code hl_function" href="classitem.html#ac070089c03e5dc687bae39670edd5401">is_comestible</a>() ) {</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    }</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    <span class="comment">// if item has components, will derive calories from that instead.</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    <span class="keywordflow">if</span>( comest.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a62b448cbb3f42468e05cc71fd5942e09">flag_NUTRIENT_OVERRIDE</a> ) ) {</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>        <a class="code hl_struct" href="structnutrients.html">nutrients</a> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <a class="code hl_function" href="consumption_8cpp.html#a35172e0dcda755fa8faef625bda972f3">compute_default_effective_nutrients</a>( comest, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>        <span class="keywordflow">return</span> { <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>, <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> };</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    }</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span> </div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <a class="code hl_struct" href="structnutrients.html">nutrients</a> tally_min;</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>    <a class="code hl_struct" href="structnutrients.html">nutrients</a> tally_max;</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span> </div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> &amp;rec = *recipe_i;</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <a class="code hl_class" href="classcata_1_1flat__set.html">cata::flat_set&lt;std::string&gt;</a> our_extra_flags = extra_flags;</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span> </div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    <span class="keywordflow">if</span>( rec.<a class="code hl_function" href="classrecipe.html#aaf9e9415834cc507fd68b89070bd4bb4">hot_result</a>() ) {</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>        our_extra_flags.<a class="code hl_function" href="classcata_1_1flat__set.html#ab427ae6af6b4cd328c0000bc197f881b">insert</a>( <a class="code hl_function" href="consumption_8cpp.html#acb899f0e81667f5db435b88b88880c16">flag_COOKED</a> );</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    }</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span> </div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structrequirement__data.html">requirement_data</a> requirements = rec.<a class="code hl_function" href="classrecipe.html#a5dcc02c873f2936b832100109d0c3448">simple_requirements</a>();</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="structrequirement__data.html#a81eb3f292988bc3b327f50cdcbb74e0c">requirement_data::alter_item_comp_vector</a> &amp;component_requirements =</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>        requirements.<a class="code hl_function" href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">get_components</a>();</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span> </div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::vector&lt;item_comp&gt; &amp;component_options : component_requirements ) {</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>        <a class="code hl_struct" href="structnutrients.html">nutrients</a> this_min;</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>        <a class="code hl_struct" href="structnutrients.html">nutrients</a> this_max;</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>        <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structitem__comp.html">item_comp</a> &amp;component_option : component_options ) {</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>            std::pair&lt;nutrients, nutrients&gt; component_option_range =</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>                <a class="code hl_function" href="classCharacter.html#a5577a0e5921fcd26b7e28570fc3d7349">compute_nutrient_range</a>( component_option.type, our_extra_flags );</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>            component_option_range.first *= component_option.count;</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>            component_option_range.second *= component_option.count;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span> </div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>            <span class="keywordflow">if</span>( first ) {</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>                std::tie( this_min, this_max ) = component_option_range;</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>                first = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>                this_min.<a class="code hl_function" href="structnutrients.html#a03ea8d7d47251651f66a032158aaa30e">min_in_place</a>( component_option_range.first );</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>                this_max.<a class="code hl_function" href="structnutrients.html#af9d45327824853ff3a2a18ca53f18508">max_in_place</a>( component_option_range.second );</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>            }</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>        }</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>        tally_min += this_min;</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>        tally_max += this_max;</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    }</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span> </div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const itype_id, int&gt; &amp;byproduct : rec.<a class="code hl_variable" href="classrecipe.html#ab2e645b839d27c9e037764715ce10612">byproducts</a> ) {</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        <a class="code hl_class" href="classitem.html">item</a> byproduct_it( byproduct.first, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, byproduct.second );</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>        <a class="code hl_struct" href="structnutrients.html">nutrients</a> byproduct_nutr = <a class="code hl_function" href="consumption_8cpp.html#a35172e0dcda755fa8faef625bda972f3">compute_default_effective_nutrients</a>( byproduct_it, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>        tally_min -= byproduct_nutr;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>        tally_max -= byproduct_nutr;</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>    }</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span> </div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    <span class="keywordtype">int</span> charges = comest.<a class="code hl_function" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>();</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    <span class="keywordflow">return</span> { tally_min / charges, tally_max / charges };</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>}</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span> </div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span><span class="comment">// Calculate the range of nturients possible for a given item across all</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span><span class="comment">// possible recipes</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno"><a class="line" href="classCharacter.html#a152dcf40438d300a12a1dda5591dd017">  418</a></span>std::pair&lt;nutrients, nutrients&gt; <a class="code hl_function" href="classCharacter.html#a5577a0e5921fcd26b7e28570fc3d7349">Character::compute_nutrient_range</a>(</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;comest_id, <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1flat__set.html">cata::flat_set&lt;std::string&gt;</a> &amp;extra_flags )<span class="keyword"> const</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *comest = &amp;*comest_id;</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    <span class="keywordflow">if</span>( !comest-&gt;<a class="code hl_variable" href="structitype.html#aa656fede37aaf975ab567bcc5c6a452e">comestible</a> ) {</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    }</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span> </div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>    <a class="code hl_class" href="classitem.html">item</a> comest_it( comest, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, 1 );</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>    <span class="comment">// The default nutrients are always a possibility</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>    <a class="code hl_struct" href="structnutrients.html">nutrients</a> min_nutr = <a class="code hl_function" href="consumption_8cpp.html#a35172e0dcda755fa8faef625bda972f3">compute_default_effective_nutrients</a>( comest_it, *<span class="keyword">this</span>, extra_flags );</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    <span class="keywordflow">if</span>( comest-&gt;<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a62b448cbb3f42468e05cc71fd5942e09">flag_NUTRIENT_OVERRIDE</a> ) ||</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>        <a class="code hl_variable" href="recipe__dictionary_8cpp.html#a9fdb53bd54fb6dcc5f9b2e1e1b44570f">recipe_dict</a>.<a class="code hl_function" href="classrecipe__dictionary.html#a5f22263eae1314377f1c64ff6d6400fe">is_item_on_loop</a>( comest-&gt;<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>() ) ) {</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>        <span class="keywordflow">return</span> { min_nutr, min_nutr };</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    }</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span> </div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <a class="code hl_struct" href="structnutrients.html">nutrients</a> max_nutr = min_nutr;</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span> </div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">recipe_id</a> &amp;rec : comest-&gt;<a class="code hl_variable" href="structitype.html#ab40a0ab92be2b0d0dfb8fc027a8057ec">recipes</a> ) {</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>        <a class="code hl_struct" href="structnutrients.html">nutrients</a> this_min;</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>        <a class="code hl_struct" href="structnutrients.html">nutrients</a> this_max;</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span> </div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>        <a class="code hl_class" href="classitem.html">item</a> result_it = rec-&gt;<a class="code hl_function" href="classrecipe.html#a0109db19f0b18d82ab469121ee60ca3f">create_result</a>();</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>        <span class="keywordflow">if</span>( result_it.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#aa744f662499b0a03029ea58389cc260a">num_item_stacks</a>() == 1 ) {</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>            <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> alt_result = result_it.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>();</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>            <span class="keywordflow">if</span>( alt_result.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == comest_it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ) {</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>                result_it = alt_result;</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>            }</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>        }</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>        <span class="keywordflow">if</span>( result_it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() != comest_it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ) {</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;When creating recipe result expected %s, got %s\n&quot;</span>,</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>                      comest_it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>(), result_it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>        }</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>        std::tie( this_min, this_max ) = <a class="code hl_function" href="classCharacter.html#a5577a0e5921fcd26b7e28570fc3d7349">compute_nutrient_range</a>( result_it, rec, extra_flags );</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>        min_nutr.<a class="code hl_function" href="structnutrients.html#a03ea8d7d47251651f66a032158aaa30e">min_in_place</a>( this_min );</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>        max_nutr.<a class="code hl_function" href="structnutrients.html#af9d45327824853ff3a2a18ca53f18508">max_in_place</a>( this_max );</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    }</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span> </div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    <span class="keywordflow">return</span> { min_nutr, max_nutr };</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>}</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span> </div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno"><a class="line" href="classCharacter.html#adfe305dc4dab1ce52dc6b46c73f4883f">  460</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCharacter.html#adfe305dc4dab1ce52dc6b46c73f4883f">Character::nutrition_for</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;comest )<span class="keyword"> const</span></div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCharacter.html#a30ae2557de3be7c7e7f353fffc557c91">compute_effective_nutrients</a>( comest ).<a class="code hl_variable" href="structnutrients.html#a250b8d24985580cc4b6a640050bef208">kcal</a> / <a class="code hl_variable" href="structislot__comestible.html#aecc91e5454fc8c79df0fe6535690f246">islot_comestible::kcal_per_nutr</a>;</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>}</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span> </div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno"><a class="line" href="classCharacter.html#ace2d1a2ba10920f5986e562fb8ff8aff">  465</a></span>std::pair&lt;int, int&gt; <a class="code hl_function" href="classCharacter.html#ace2d1a2ba10920f5986e562fb8ff8aff">Character::fun_for</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;comest )<span class="keyword"> const</span></div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>    <span class="keywordflow">if</span>( !comest.<a class="code hl_function" href="classitem.html#ac070089c03e5dc687bae39670edd5401">is_comestible</a>() ) {</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>        <span class="keywordflow">return</span> std::pair&lt;int, int&gt;( 0, 0 );</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>    }</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span> </div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>    <span class="comment">// As float to avoid rounding too many times</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    <span class="keywordtype">float</span> fun = comest.<a class="code hl_function" href="classitem.html#a66b0bbc211f6fb668781640c971d3acc">get_comestible_fun</a>();</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    <span class="keywordtype">float</span> fun_max;</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span> </div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    <span class="comment">// Lupines/Felines like dog/cat food. Won&#39;t skip the rotting check.</span></div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>    <span class="comment">// This is specifically so that Lupines/Felines don&#39;t get the harsher</span></div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>    <span class="comment">//    morale penalties from rotting cat/dog food.</span></div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>    <span class="keywordflow">if</span>( ( comest.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#adaaa4a08a887cf8dff40f06eb1baa85a">flag_LUPINE</a> ) &amp;&amp; <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#aa9d7670d795db57c4926fef635148e22">trait_THRESH_LUPINE</a> ) ) ||</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>        ( comest.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#ac18c869bf39d3ef1f4cccf94a9685962">flag_FELINE</a> ) &amp;&amp; <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#ab2b26b8a5aaccd80452e343236ffe8e7">trait_THRESH_FELINE</a> ) ) ) {</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>        <span class="keywordflow">if</span>( fun &lt; 0 ) {</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>            fun = -fun / 2;</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>        }</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>    }</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span> </div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> relative_rot = comest.<a class="code hl_function" href="classitem.html#adfb5ddb3d50f317c79eb7a1a26a63905">get_relative_rot</a>();</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span> </div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>    <span class="keywordflow">if</span>( relative_rot &gt; 1.0f &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#af4487f6f0e0eb0e3a671f5053fe2c219">trait_SAPROPHAGE</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a> ) ) {</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>        <span class="comment">// Rotten food should be pretty disgusting.</span></div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>        <span class="comment">// Baseline minumum is the same as eating raw meat as a normal human being.</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>        fun = std::min( fun - 5, -10.0f );</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>        fun_max = fun * 6;</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>        <span class="comment">// Food is less enjoyable when eaten too often.</span></div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>        <span class="keywordflow">if</span>( fun &gt; 0 || comest.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a994d0d6d961fbaf3b81c95eea9265ccf">flag_NEGATIVE_MONOTONY_OK</a> ) ) {</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structconsumption__event.html">consumption_event</a> &amp;event : <a class="code hl_variable" href="classCharacter.html#a2fb9db0c817b5144d7351c38f0a43f55">consumption_history</a>-&gt;elems ) {</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>                <span class="keywordflow">if</span>( event.<a class="code hl_variable" href="structconsumption__event.html#a14550f96f563a9649b3f785317e652ba">time</a> &gt; <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> - 2_days &amp;&amp; event.<a class="code hl_variable" href="structconsumption__event.html#ae8ccb6bd97c295530db359ef8a9cf19e">type_id</a> == comest.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() &amp;&amp;</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>                    event.<a class="code hl_variable" href="structconsumption__event.html#a8bd22e7e99c473ff0bc630bf92846aab">component_hash</a> == comest.<a class="code hl_function" href="classitem.html#a0863a9784ae90c120d91478521163f16">make_component_hash</a>() ) {</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>                    fun -= comest.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;monotony_penalty;</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>                    <span class="comment">// This effect can&#39;t drop fun below 0, unless the food has the right flag.</span></div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>                    <span class="comment">// 0 is the lowest we&#39;ll go, no need to keep looping.</span></div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>                    <span class="keywordflow">if</span>( fun &lt;= 0 &amp;&amp; !comest.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a994d0d6d961fbaf3b81c95eea9265ccf">flag_NEGATIVE_MONOTONY_OK</a> ) ) {</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>                        fun = 0;</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>                    }</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>                }</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>            }</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>        }</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span> </div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>        fun_max = fun &lt; 0 ? fun * 6 : fun * 3;</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span> </div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>        <span class="comment">// I&#39;d assume since gourmands are just big eaters they still can&#39;t stand rotten food.</span></div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#abd2ce5a2e5c7ede5e25af994457bd123">trait_GOURMAND</a> ) ) {</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>            <span class="keywordflow">if</span>( fun &lt; -1 ) {</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>                fun_max = fun;</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>                fun /= 2;</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( fun &gt; 0 ) {</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>                fun_max *= 3;</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>                fun = fun * 3 / 2;</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>            }</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>        }</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    }</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span> </div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    <span class="keywordflow">return</span> { <span class="keyword">static_cast&lt;</span> <span class="keywordtype">int</span> <span class="keyword">&gt;</span>( fun ), <span class="keyword">static_cast&lt;</span> <span class="keywordtype">int</span> <span class="keyword">&gt;</span>( fun_max ) };</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>}</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span> </div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno"><a class="line" href="classCharacter.html#aca04618a096cdf167a88143d66d4aa0a">  526</a></span><a class="code hl_class" href="classtime__duration.html">time_duration</a> <a class="code hl_function" href="classCharacter.html#aca04618a096cdf167a88143d66d4aa0a">Character::vitamin_rate</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">vitamin_id</a> &amp;vit )<span class="keyword"> const</span></div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>    <a class="code hl_class" href="classtime__duration.html">time_duration</a> res = vit.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_function" href="classvitamin.html#ae60227e2365936a1d53684a54f59835f">rate</a>();</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span> </div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;m : <a class="code hl_function" href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">get_mutations</a>() ) {</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;mut = m.obj();</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>        <span class="keyword">auto</span> iter = mut.vitamin_rates.find( vit );</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>        <span class="keywordflow">if</span>( iter != mut.vitamin_rates.end() ) {</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>            res += iter-&gt;second;</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>        }</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    }</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span> </div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>}</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span> </div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno"><a class="line" href="classCharacter.html#af090da1ea61ecf999c1136d48cc35a07">  541</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCharacter.html#af090da1ea61ecf999c1136d48cc35a07">Character::vitamin_mod</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">vitamin_id</a> &amp;vit, <span class="keywordtype">int</span> qty, <span class="keywordtype">bool</span> capped )</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>{</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>    <span class="keywordflow">if</span>( !vit.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Vitamin with id %s does not exist, and cannot be modified&quot;</span>, vit.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>    }</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    <span class="comment">// What&#39;s going on here? Emplace returns either an iterator to the inserted</span></div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    <span class="comment">// item or, if it already exists, an iterator to the (unchanged) extant item</span></div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    <span class="comment">// (Okay, technically it returns a pair&lt;iterator, bool&gt;, the iterator is what we want)</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    <span class="keyword">auto</span> it = <a class="code hl_variable" href="classCharacter.html#a314c7e8043648ef9e6189ed8d9de0654">vitamin_levels</a>.emplace( vit, 0 ).first;</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>    <span class="keyword">const</span> <a class="code hl_class" href="classvitamin.html">vitamin</a> &amp;v = *it-&gt;first;</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span> </div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>    <span class="keywordflow">if</span>( qty &gt; 0 ) {</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>        <span class="comment">// Accumulations can never occur from food sources</span></div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>        it-&gt;second = std::min( it-&gt;second + qty, capped ? 0 : v.<a class="code hl_function" href="classvitamin.html#a02118e1482cc2de278511d63b764b7d0">max</a>() );</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>        <a class="code hl_function" href="classCharacter.html#aa81f7189c03db495fc90e44b3421ebc5">update_vitamins</a>( vit );</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span> </div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( qty &lt; 0 ) {</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>        it-&gt;second = std::max( it-&gt;second + qty, v.<a class="code hl_function" href="classvitamin.html#acfc2222126afc9c1040c1d71fb75ebe1">min</a>() );</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>        <a class="code hl_function" href="classCharacter.html#aa81f7189c03db495fc90e44b3421ebc5">update_vitamins</a>( vit );</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>    }</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span> </div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>    <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>}</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span> </div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno"><a class="line" href="classCharacter.html#ab4435f5588dfa3597c3754ca5038c522">  566</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCharacter.html#ab4435f5588dfa3597c3754ca5038c522">Character::vitamins_mod</a>( <span class="keyword">const</span> std::map&lt;vitamin_id, int&gt; &amp;vitamins, <span class="keywordtype">bool</span> capped )</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>{</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> vit : vitamins ) {</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>        <a class="code hl_function" href="classCharacter.html#af090da1ea61ecf999c1136d48cc35a07">vitamin_mod</a>( vit.first, vit.second, capped );</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>    }</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>}</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span> </div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno"><a class="line" href="classCharacter.html#a7536f499a8b09536d1d9c8360319fad5">  573</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCharacter.html#a7536f499a8b09536d1d9c8360319fad5">Character::vitamin_get</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">vitamin_id</a> &amp;vit )<span class="keyword"> const</span></div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>    <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;NO_VITAMINS&quot;</span> ) &amp;&amp; vit-&gt;<a class="code hl_function" href="classvitamin.html#a466e45b1a3189baec243eaf314923a05">type</a>() == <a class="code hl_enumvalue" href="vitamin_8h.html#a1614a36ad4442e08210a822735541012a6332547a7029263c6caae02ab40dc0d3">vitamin_type::VITAMIN</a> ) {</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>    }</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span> </div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;v = <a class="code hl_variable" href="classCharacter.html#a314c7e8043648ef9e6189ed8d9de0654">vitamin_levels</a>.find( vit );</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>    <span class="keywordflow">return</span> v != <a class="code hl_variable" href="classCharacter.html#a314c7e8043648ef9e6189ed8d9de0654">vitamin_levels</a>.end() ? v-&gt;second : 0;</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>}</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span> </div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno"><a class="line" href="classCharacter.html#a7975474f0c63007e927640d70614ee71">  583</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCharacter.html#a7975474f0c63007e927640d70614ee71">Character::vitamin_set</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">vitamin_id</a> &amp;vit, <span class="keywordtype">int</span> qty )</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>{</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>    <span class="keyword">auto</span> v = <a class="code hl_variable" href="classCharacter.html#a314c7e8043648ef9e6189ed8d9de0654">vitamin_levels</a>.find( vit );</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>    <span class="keywordflow">if</span>( v == <a class="code hl_variable" href="classCharacter.html#a314c7e8043648ef9e6189ed8d9de0654">vitamin_levels</a>.end() ) {</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>    }</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    <a class="code hl_function" href="classCharacter.html#af090da1ea61ecf999c1136d48cc35a07">vitamin_mod</a>( vit, qty - v-&gt;second, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span> </div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>}</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span> </div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno"><a class="line" href="classCharacter.html#a69245a386351aaece624b82f7fb668d2">  594</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classCharacter.html#a69245a386351aaece624b82f7fb668d2">Character::metabolic_rate_base</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::string hunger_rate_string( <span class="stringliteral">&quot;PLAYER_HUNGER_RATE&quot;</span> );</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::string metabolism_modifier( <span class="stringliteral">&quot;metabolism_modifier&quot;</span> );</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span> </div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    <span class="keywordtype">float</span> hunger_rate = get_option&lt; float &gt;( hunger_rate_string );</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>    <span class="keywordtype">float</span> mut_bonus = 1.0f + <a class="code hl_function" href="classCharacter.html#a7fbae705aa03db588d52519dfa1e285c">mutation_value</a>( metabolism_modifier );</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    <span class="keywordtype">float</span> with_mut = hunger_rate * mut_bonus;</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>    <span class="keywordtype">float</span> ench_bonus = <a class="code hl_function" href="classCharacter.html#adc248f444bde56349dc619c48a549c04">bonus_from_enchantments</a>( with_mut, <a class="code hl_enumvalue" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a335c75c5f9b974aed057bff2c6551d36">enchant_vals::mod::METABOLISM</a> );</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span> </div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>    <span class="keywordflow">return</span> std::max( 0.0f, with_mut + ench_bonus );</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>}</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span> </div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno"><a class="line" href="classCharacter.html#a24a1143537358b4138e3d9d504847a81">  607</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classCharacter.html#a24a1143537358b4138e3d9d504847a81">Character::metabolic_rate</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCharacter.html#a69245a386351aaece624b82f7fb668d2">metabolic_rate_base</a>();</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>}</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span> </div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno"><a class="line" href="classCharacter.html#a306dfd8496f2ff25cce5ad2a9cc7f80e">  612</a></span><a class="code hl_class" href="classstring__id.html">morale_type</a> <a class="code hl_function" href="classCharacter.html#a306dfd8496f2ff25cce5ad2a9cc7f80e">Character::allergy_type</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;food )<span class="keyword"> const</span></div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>    <span class="keyword">using</span> allergy_tuple = std::tuple&lt;trait_id, std::string, morale_type&gt;;</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;allergy_tuple, 8&gt; allergy_tuples = {{</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>            std::make_tuple( <a class="code hl_variable" href="consumption_8cpp.html#aa7c6b64e7778501e77a8c8aeda9c6ffb">trait_VEGETARIAN</a>, <a class="code hl_function" href="consumption_8cpp.html#ad817d910676fca9fd31d349bf1d5ca9c">flag_ALLERGEN_MEAT</a>, <a class="code hl_variable" href="morale__types_8cpp.html#ac24c67863634ace2234e2f0ffa904797">MORALE_VEGETARIAN</a> ),</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>            std::make_tuple( <a class="code hl_variable" href="consumption_8cpp.html#af1cffcd5b8f3fa5fd6fe1fca1d45725d">trait_MEATARIAN</a>, <a class="code hl_function" href="consumption_8cpp.html#a294459f1407d3d2bffba00b088675538">flag_ALLERGEN_VEGGY</a>, <a class="code hl_variable" href="morale__types_8cpp.html#a39fc566951d4c0c32246d3bae87d6b6b">MORALE_MEATARIAN</a> ),</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>            std::make_tuple( <a class="code hl_variable" href="consumption_8cpp.html#aaa52adaf5d4df3112a266635f08120ed">trait_LACTOSE</a>, <a class="code hl_function" href="consumption_8cpp.html#a164e5731223f7214b3de31da05ade52f">flag_ALLERGEN_MILK</a>, <a class="code hl_variable" href="morale__types_8cpp.html#ab7b975d881b9d7221861440bea7199ad">MORALE_LACTOSE</a> ),</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>            std::make_tuple( <a class="code hl_variable" href="consumption_8cpp.html#af7cc775eaf9d4242e2e88f4dfedc93f7">trait_ANTIFRUIT</a>, <a class="code hl_function" href="consumption_8cpp.html#a5c5d95582274018a683ad59398c9e69d">flag_ALLERGEN_FRUIT</a>, <a class="code hl_variable" href="morale__types_8cpp.html#aad0f6497e9bdd2600bec61d7a3ce6846">MORALE_ANTIFRUIT</a> ),</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>            std::make_tuple( <a class="code hl_variable" href="consumption_8cpp.html#a77c556702302ac4ca1a8485f208bebdf">trait_ANTIJUNK</a>, <a class="code hl_function" href="consumption_8cpp.html#a2d861a0c4ca4d6d868785f9c37589ca3">flag_ALLERGEN_JUNK</a>, <a class="code hl_variable" href="morale__types_8cpp.html#a7edfa870019cc60861c30d1599ea0d3c">MORALE_ANTIJUNK</a> ),</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>            std::make_tuple( <a class="code hl_variable" href="consumption_8cpp.html#a7722fb848275ed1493264cbff87a6ca0">trait_ANTIWHEAT</a>, <a class="code hl_function" href="consumption_8cpp.html#ab0ef5d50b9d2e3795b88816ba20982df">flag_ALLERGEN_WHEAT</a>, <a class="code hl_variable" href="morale__types_8cpp.html#a9cdddeda12b744438b83f90ced17491a">MORALE_ANTIWHEAT</a> )</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>        }</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    };</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span> </div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;tp : allergy_tuples ) {</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( std::get&lt;0&gt;( tp ) ) &amp;&amp;</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>            food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( std::get&lt;1&gt;( tp ) ) ) {</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>            <span class="keywordflow">return</span> std::get&lt;2&gt;( tp );</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        }</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    }</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span> </div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="morale__types_8cpp.html#ae95b6eefc4c6ba6583014d4792b51814">MORALE_NULL</a>;</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>}</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span> </div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno"><a class="line" href="classCharacter.html#a04df4efd633604ed5b88827b8072a1d2">  635</a></span><a class="code hl_class" href="classret__val.html">ret_val&lt;edible_rating&gt;</a> <a class="code hl_function" href="classCharacter.html#a04df4efd633604ed5b88827b8072a1d2">Character::can_eat</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;food )<span class="keyword"> const</span></div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span> </div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;comest = food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>();</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>    <span class="keywordflow">if</span>( !comest ) {</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;edible_rating&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That doesn&#39;t look edible.&quot;</span> ) );</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>    }</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span> </div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>    <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a17c3eadf018a3066a8a7f28d77aa160f">flag_INEDIBLE</a> ) ) {</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>        <span class="keywordflow">if</span>( ( food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a9ee9e451710455a6577a559240a53cee">flag_CATTLE</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#ab0274897870729fe991550cf82d246e9">trait_THRESH_CATTLE</a> ) ) ||</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>            ( food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#ac18c869bf39d3ef1f4cccf94a9685962">flag_FELINE</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#ab2b26b8a5aaccd80452e343236ffe8e7">trait_THRESH_FELINE</a> ) ) ||</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>            ( food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#adaaa4a08a887cf8dff40f06eb1baa85a">flag_LUPINE</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#aa9d7670d795db57c4926fef635148e22">trait_THRESH_LUPINE</a> ) ) ||</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>            ( food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a79767ac22fe08c1d456457d701f512e9">flag_BIRD</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a6d68a01cb1321b3310ac4ddc8c28b8d0">trait_THRESH_BIRD</a> ) ) ) {</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;edible_rating&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That doesn&#39;t look edible to you.&quot;</span> ) );</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>        }</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    }</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span> </div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>    <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() ) {</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;edible_rating&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That doesn&#39;t look edible in its current form.&quot;</span> ) );</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>    }</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span> </div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>    <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#acc31d53fc90c5d0af806946d51c45b0f">has_own_flag</a>( <span class="stringliteral">&quot;DIRTY&quot;</span> ) ) {</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;edible_rating&gt;::make_failure</a>(</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This is full of dirt after being on the ground.&quot;</span> ) );</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    }</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span> </div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> eat_verb  = food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a8048758dc914b63455fd2c2a422579bf">flag_USE_EAT_VERB</a> );</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfad31765030932e90b353bfa393a1fd5ab">edible</a>    = eat_verb ||  comest-&gt;comesttype == <a class="code hl_function" href="consumption_8cpp.html#ab3904a4e01276706855605f3b616734a">comesttype_FOOD</a>;</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> drinkable = !eat_verb &amp;&amp; comest-&gt;comesttype == <a class="code hl_function" href="consumption_8cpp.html#a5101b830b78cb3ac9eb7f0c8f87b1d3b">comesttype_DRINK</a>;</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span> </div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>    <span class="comment">// TODO: This condition occurs way too often. Unify it.</span></div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>    <span class="comment">// update Sep. 26 2018: this apparently still occurs way too often. yay!</span></div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#abf29a0f9f2b03dbf9baa8dd6af688d41">trait_WATERSLEEP</a> ) ) {</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;edible_rating&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>    }</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span> </div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfad31765030932e90b353bfa393a1fd5ab">edible</a> || drinkable ) {</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a32ac824cb8437ef7a8288dafe6c6bfe1">materials</a> ) {</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>            <span class="keywordflow">if</span>( !elem-&gt;edible() ) {</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;edible_rating&gt;::make_failure</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That doesn&#39;t look edible in its current form.&quot;</span> ) );</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>            }</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>        }</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>    }</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span> </div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>    <span class="keywordflow">if</span>( !comest-&gt;tool.<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> has = <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a>( comest-&gt;tool )</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>                         ? <a class="code hl_function" href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">has_charges</a>( comest-&gt;tool, 1 )</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>                         : <a class="code hl_function" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a>( comest-&gt;tool, 1 );</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>        <span class="keywordflow">if</span>( !has ) {</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;edible_rating&gt;::make_failure</a>( <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa0165972a7b3702e2d84cad0fd0d07c95">edible_rating::no_tool</a>,</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>                    <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need a %s to consume that!&quot;</span> ),</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>                                   <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( comest-&gt;tool ) ) );</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>        }</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    }</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span> </div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>    <span class="comment">// For all those folks who loved eating marloss berries.  D:&lt; mwuhahaha</span></div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#ac71452586eb6cf87fab888bc561dc897">trait_M_DEPENDENT</a> ) &amp;&amp; !food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a8f2b6423a81f8993e1f39868c1d9a805">flag_MYCUS_OK</a> ) &amp;&amp;</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>        !food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#ada9c92ee582b7c039559baeb06b4439c">flag_NO_INGEST</a> ) ) {</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;edible_rating&gt;::make_failure</a>( <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa4c9a2ac020f8dfdc0e570b74be35fcc5">edible_rating::inedible_mutation</a>,</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;We can&#39;t eat that.  It&#39;s not right for us.&quot;</span> ) );</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    }</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>    <span class="comment">// Here&#39;s why PROBOSCIS is such a negative trait.</span></div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a7b1c110dc6b9d344d32e00ae9f70d070">trait_PROBOSCIS</a> ) &amp;&amp; !( drinkable || food.<a class="code hl_function" href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">is_medication</a>() ) ) {</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;edible_rating&gt;::make_failure</a>( <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa4c9a2ac020f8dfdc0e570b74be35fcc5">edible_rating::inedible_mutation</a>,</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Ugh, you can&#39;t drink that!&quot;</span> ) );</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    }</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a4fbf975d8c329497caf15aa91d65a664">trait_CARNIVORE</a> ) &amp;&amp; ( <a class="code hl_function" href="classCharacter.html#a30ae2557de3be7c7e7f353fffc557c91">compute_effective_nutrients</a>( food ).kcal ) &gt; 0 &amp;&amp;</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>        food.<a class="code hl_function" href="classitem.html#aca5abd8656e123435b97da00608a5daa">has_any_flag</a>( <a class="code hl_variable" href="consumption_8cpp.html#a0474d93e30c8db4395acf56a8d51a9fe">carnivore_blacklist</a> ) &amp;&amp; !food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#abd8d7c4f01bfc8c35f32e2639ec34ab4">flag_CARNIVORE_OK</a> ) ) {</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;edible_rating&gt;::make_failure</a>( <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa4c9a2ac020f8dfdc0e570b74be35fcc5">edible_rating::inedible_mutation</a>,</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Eww.  Inedible plant stuff!&quot;</span> ) );</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>    }</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span> </div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>    <span class="keywordflow">if</span>( ( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a17cdfd8aef2fd5e8fceb6c62d37fa741">trait_HERBIVORE</a> ) || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a0371615cbdf966655d267076abc28b68">trait_RUMINANT</a> ) ) &amp;&amp;</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>        food.<a class="code hl_function" href="classitem.html#aca5abd8656e123435b97da00608a5daa">has_any_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a7971bf13ca2d151e46e6a0689b4ae544">herbivore_blacklist</a> ) ) {</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>        <span class="comment">// Like non-cannibal, but more strict!</span></div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;edible_rating&gt;::make_failure</a>( <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa4c9a2ac020f8dfdc0e570b74be35fcc5">edible_rating::inedible_mutation</a>,</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The thought of eating that makes you feel sick.&quot;</span> ) );</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>    }</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span> </div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> &amp;mut : <a class="code hl_function" href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">get_mutations</a>() ) {</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>        <span class="keywordflow">if</span>( !food.<a class="code hl_function" href="classitem.html#a9e2c24734b538e61e186fb6777b62c25">made_of_any</a>( mut.obj().can_only_eat ) &amp;&amp; !mut.obj().can_only_eat.empty() &amp;&amp;</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>            !food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#ada9c92ee582b7c039559baeb06b4439c">flag_NO_INGEST</a> ) ) {</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val&lt;edible_rating&gt;::make_failure</a>( <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa4c9a2ac020f8dfdc0e570b74be35fcc5">edible_rating::inedible_mutation</a>,</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>                    <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t eat this.&quot;</span> ) );</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>        }</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>    }</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span> </div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a0bbde13713bc279563fa85782599f957">ret_val&lt;edible_rating&gt;::make_success</a>();</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>}</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span> </div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno"><a class="line" href="classCharacter.html#a4eb1793aafe89d34ba7ab96bf9facc19">  725</a></span><a class="code hl_class" href="classret__val.html">ret_val&lt;edible_rating&gt;</a> <a class="code hl_function" href="classCharacter.html#a4eb1793aafe89d34ba7ab96bf9facc19">Character::will_eat</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;food, <span class="keywordtype">bool</span> interactive )<span class="keyword"> const</span></div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="classCharacter.html#a04df4efd633604ed5b88827b8072a1d2">can_eat</a>( food );</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.success() ) {</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>        <span class="keywordflow">if</span>( interactive ) {</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>            <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.c_str() );</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>        }</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>    }</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span> </div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>    std::vector&lt;ret_val&lt;edible_rating&gt;&gt; consequences;</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>    <span class="keyword">const</span> <span class="keyword">auto</span> add_consequence = [&amp;consequences]( <span class="keyword">const</span> std::string &amp; msg, <a class="code hl_enumeration" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedf">edible_rating</a> code ) {</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>        consequences.emplace_back( <a class="code hl_class" href="classret__val.html">ret_val&lt;edible_rating&gt;::make_failure</a>( code, msg ) );</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    };</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span> </div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> saprophage = <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#af4487f6f0e0eb0e3a671f5053fe2c219">trait_SAPROPHAGE</a> );</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;comest = food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>();</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span> </div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>    <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>() ) {</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> saprovore = <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a> );</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>        <span class="keywordflow">if</span>( !saprophage &amp;&amp; !saprovore &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="consumption_8cpp.html#a36f9b5f5d763f2c224b59b75af340c6c">bio_digestion</a> ) ) {</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>            add_consequence( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This is rotten and smells awful!&quot;</span> ), <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa78226289aba350a58537ecc63eccdff6">edible_rating::rotten</a> );</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>        }</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>    }</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span> </div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> carnivore = <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a4fbf975d8c329497caf15aa91d65a664">trait_CARNIVORE</a> );</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>    <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a6fb4b249c40ac59e1c881e9094939dab">flag_CANNIBALISM</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a21a89fdd699655461fd63d27179d3adb">has_trait_flag</a>( <span class="stringliteral">&quot;CANNIBAL&quot;</span> ) ) {</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>        add_consequence( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The thought of eating human flesh makes you feel sick.&quot;</span> ),</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>                         <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfaee115c898593ed7d1898b2e0ed0fd39c">edible_rating::cannibalism</a> );</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>    }</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span> </div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfad31765030932e90b353bfa393a1fd5ab">edible</a> = comest-&gt;comesttype == <a class="code hl_function" href="consumption_8cpp.html#ab3904a4e01276706855605f3b616734a">comesttype_FOOD</a> || food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a8048758dc914b63455fd2c2a422579bf">flag_USE_EAT_VERB</a> );</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span> </div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>    <span class="keywordtype">int</span> food_kcal = <a class="code hl_function" href="classCharacter.html#a30ae2557de3be7c7e7f353fffc557c91">compute_effective_nutrients</a>( food ).<a class="code hl_variable" href="structnutrients.html#a250b8d24985580cc4b6a640050bef208">kcal</a>;</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>    <span class="keywordflow">if</span>( food_kcal &gt; 0 &amp;&amp; <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#ac00dfe681a5a2f2b03bfe2ad27df1721">effect_nausea</a> ) ) {</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>        add_consequence( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You still feel nauseous and will probably puke it all up again.&quot;</span> ),</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>                         <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa072ff6bd71a0e05f5b6f7a91b2a16547">edible_rating::nausea</a> );</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>    }</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span> </div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>    <span class="keywordflow">if</span>( ( food_kcal &gt; 0 || comest-&gt;quench &gt; 0 ) &amp;&amp; <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#ab20d39f7408673b6c72e08685e5dea15">effect_bloated</a> )</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>        &amp;&amp; !food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#afd06012232776bb8568e171984c28663">flag_NO_BLOAT</a> ) ) {</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>        add_consequence( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re full and will vomit if you try to consume anything.&quot;</span> ),</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>                         <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa3670b0eaf04d6077f95061efc4fad858">edible_rating::bloated</a> );</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>    }</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span> </div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>    <span class="keywordflow">if</span>( ( <a class="code hl_function" href="classCharacter.html#a306dfd8496f2ff25cce5ad2a9cc7f80e">allergy_type</a>( food ) != <a class="code hl_variable" href="morale__types_8cpp.html#ae95b6eefc4c6ba6583014d4792b51814">MORALE_NULL</a> ) || ( carnivore &amp;&amp; food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a2d861a0c4ca4d6d868785f9c37589ca3">flag_ALLERGEN_JUNK</a> ) &amp;&amp;</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>            !food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#abd8d7c4f01bfc8c35f32e2639ec34ab4">flag_CARNIVORE_OK</a> ) ) ) {</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>        add_consequence( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your stomach won&#39;t be happy (allergy).&quot;</span> ), <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfae13d519f1da4a4e37af747205ba9ca23">edible_rating::allergy</a> );</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>    }</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span> </div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>    <span class="keywordflow">if</span>( saprophage &amp;&amp; <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfad31765030932e90b353bfa393a1fd5ab">edible</a> &amp;&amp; food.<a class="code hl_function" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>() &amp;&amp; !food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a6667890439d15281d61810dfde0dc2fa">flag_FERTILIZER</a> ) ) {</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>        <span class="comment">// Note: We&#39;re allowing all non-solid &quot;food&quot;. This includes drugs</span></div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>        <span class="comment">// Hard-coding fertilizer for now - should be a separate flag later</span></div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>        <span class="comment">//~ No, we don&#39;t eat &quot;rotten&quot; food. We eat properly aged food, like a normal person.</span></div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>        <span class="comment">//~ Semantic difference, but greatly facilitates people being proud of their character.</span></div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>        add_consequence( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your stomach won&#39;t be happy (not rotten enough).&quot;</span> ),</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>                         <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfafdf8798a8492541a3d494c0e6fd1af5e">edible_rating::allergy_weak</a> );</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>    }</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span> </div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>    <span class="keywordflow">if</span>( !food.<a class="code hl_function" href="classitem.html#a310539e1dbfb640f2b23796a40c881f2">has_infinite_charges</a>() &amp;&amp;</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>        ( ( food_kcal &gt; 0 &amp;&amp;</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>            <a class="code hl_function" href="classCharacter.html#a824a60fef8920f38a6f1e1b35bea4879">get_stored_kcal</a>() + <a class="code hl_variable" href="classCharacter.html#aa4ecfee35839a07be48afccbe582023e">stomach</a>.<a class="code hl_function" href="classstomach__contents.html#aa5cf12fa92df9630e78c4cf5af74d616">get_calories</a>() + food_kcal</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>            &gt; <a class="code hl_function" href="classCharacter.html#a4905fef46d52e8b8334cc22666addcf0">max_stored_kcal</a>() ) ||</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>          ( comest-&gt;quench &gt; 0 &amp;&amp; <a class="code hl_function" href="classCharacter.html#a7ca6c670844c9fd8c419c474788a7bf7">get_thirst</a>() &lt; comest-&gt;quench ) ) ) {</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>        add_consequence( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re full already and the excess food will be wasted.&quot;</span> ),</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>                         <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfab04d8d82ebedc4846179e7d31ac97ef4">edible_rating::too_full</a> );</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>    }</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span> </div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>    <span class="keywordflow">if</span>( !consequences.empty() ) {</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>        <span class="keywordflow">if</span>( !interactive ) {</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>            <span class="keywordflow">return</span> consequences.front();</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>        }</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>        std::string req;</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : consequences ) {</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>            req += elem.str() + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>        }</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span> </div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> eat_verb  = food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a8048758dc914b63455fd2c2a422579bf">flag_USE_EAT_VERB</a> );</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>        std::string food_tname = food.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>();</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>        <span class="keyword">const</span> <a class="code hl_class" href="classnc__color.html">nc_color</a> food_color = food.<a class="code hl_function" href="classitem.html#a6bc022aab35ecd1f591a065aa4006eff">color_in_inventory</a>();</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>        <span class="keywordflow">if</span>( eat_verb || comest-&gt;comesttype == <a class="code hl_function" href="consumption_8cpp.html#ab3904a4e01276706855605f3b616734a">comesttype_FOOD</a> ) {</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>            req += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Eat your %s anyway?&quot;</span> ), <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( food_tname, food_color ) );</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !eat_verb &amp;&amp; comest-&gt;comesttype == <a class="code hl_function" href="consumption_8cpp.html#a5101b830b78cb3ac9eb7f0c8f87b1d3b">comesttype_DRINK</a> ) {</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>            req += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Drink your %s anyway?&quot;</span> ), <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( food_tname, food_color ) );</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>            req += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Consume your %s anyway?&quot;</span> ), <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( food_tname, food_color ) );</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>        }</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span> </div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#a358731acbb8b137aa540bb8d49109ca3">query_yn</a>( req ) ) {</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>            <span class="keywordflow">return</span> consequences.front();</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>        }</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>    }</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>    <span class="comment">// All checks ended, it&#39;s edible (or we&#39;re pretending it is)</span></div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classret__val.html#a0bbde13713bc279563fa85782599f957">ret_val&lt;edible_rating&gt;::make_success</a>();</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>}</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span> </div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno"><a class="line" href="classplayer.html#ade215471686460149590c160a167d9f4">  821</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classplayer.html#ade215471686460149590c160a167d9f4">player::eat</a>( <a class="code hl_class" href="classitem.html">item</a> &amp;food, <span class="keywordtype">bool</span> force )</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>{</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>    <span class="keywordflow">if</span>( !food.<a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() ) {</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>    }</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span> </div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = force ? <a class="code hl_function" href="classCharacter.html#a04df4efd633604ed5b88827b8072a1d2">can_eat</a>( food ) : <a class="code hl_function" href="classCharacter.html#a4eb1793aafe89d34ba7ab96bf9facc19">will_eat</a>( food, <a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() );</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.success() ) {</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>    }</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span> </div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#ab20d39f7408673b6c72e08685e5dea15">effect_bloated</a> ) &amp;&amp;</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>        ( <a class="code hl_function" href="classCharacter.html#a30ae2557de3be7c7e7f353fffc557c91">compute_effective_nutrients</a>( food ).kcal &gt; 0 || food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;quench &gt; 0 ) &amp;&amp;</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>        !food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#afd06012232776bb8568e171984c28663">flag_NO_BLOAT</a> ) ) {</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You force yourself to vomit to make space for %s.&quot;</span> ), food.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>        <a class="code hl_function" href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">vomit</a>();</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    }</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span> </div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>    <span class="keywordtype">int</span> charges_used = 0;</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>    <span class="keywordflow">if</span>( food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a7ff45d94507fdbf7369ae269a0f1e52b">has_use</a>() ) {</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>        <span class="keywordflow">if</span>( !food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;DOGFOOD&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>            !food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;CATFOOD&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>            !food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;BIRDFOOD&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>            !food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;CATTLEFODDER&quot;</span> ) ) {</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>            charges_used = food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a9df22ea5b5b6e19d18f730d4a8625cfa">invoke</a>( *<span class="keyword">this</span>, food, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>            <span class="keywordflow">if</span>( charges_used &lt;= 0 ) {</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>            }</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>        }</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>    }</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span> </div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>    <span class="comment">// Note: the block below assumes we decided to eat it</span></div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>    <span class="comment">// No coming back from here</span></div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span> </div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> nutr = <a class="code hl_function" href="classCharacter.html#adfe305dc4dab1ce52dc6b46c73f4883f">nutrition_for</a>( food );</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> spoiled = food.<a class="code hl_function" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>();</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span> </div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    <span class="comment">// The item is solid food</span></div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="namespaceiuse.html#aecdc200d835fb6eaf207e84d2e5992a8">chew</a> = food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;comesttype == <a class="code hl_function" href="consumption_8cpp.html#ab3904a4e01276706855605f3b616734a">comesttype_FOOD</a> ||</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>                      food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a8048758dc914b63455fd2c2a422579bf">flag_USE_EAT_VERB</a> );</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>    <span class="comment">// This item is a drink and not a solid food (and not a thick soup)</span></div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> drinkable = !<a class="code hl_function" href="namespaceiuse.html#aecdc200d835fb6eaf207e84d2e5992a8">chew</a> &amp;&amp; food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;comesttype == <a class="code hl_function" href="consumption_8cpp.html#a5101b830b78cb3ac9eb7f0c8f87b1d3b">comesttype_DRINK</a>;</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>    <span class="comment">// If neither of the above is true then it&#39;s a drug and shouldn&#39;t get mealtime penalty/bonus</span></div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span> </div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> saprophage = <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#af4487f6f0e0eb0e3a671f5053fe2c219">trait_SAPROPHAGE</a> );</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>    <span class="keywordflow">if</span>( spoiled &amp;&amp; !saprophage ) {</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Ick, this %s doesn&#39;t taste so good&quot;</span> ), food.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">trait_EATDEAD</a> ) &amp;&amp;</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>            !<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="consumption_8cpp.html#a36f9b5f5d763f2c224b59b75af340c6c">bio_digestion</a> ) ) {</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#add6199d38f99fd7341acd9e5b7f2df63">effect_foodpoison</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 6_minutes, ( nutr + 1 ) * 6_minutes ) );</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>        }</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( spoiled &amp;&amp; saprophage ) {</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>        <a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Mmm, this %s tastes delicious&quot;</span> ), food.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    }</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#a54f90ca736510c41a6539c8d8ad833b6">consume_effects</a>( food ) ) {</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>        <span class="comment">// Already consumed by using `food.type-&gt;invoke`?</span></div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>        <span class="keywordflow">if</span>( charges_used &gt; 0 ) {</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>            food.<a class="code hl_function" href="classitem.html#a473448af85ae4182f130bd488bf7c0fb">mod_charges</a>( -charges_used );</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>        }</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>    }</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>    food.<a class="code hl_function" href="classitem.html#a473448af85ae4182f130bd488bf7c0fb">mod_charges</a>( -1 );</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span> </div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> amorphous = <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#ab3388325c8d9a46ddb7af329e1b247fd">trait_AMORPHOUS</a> );</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>    <span class="keywordtype">int</span> mealtime = 250;</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>    <span class="keywordflow">if</span>( drinkable || <a class="code hl_function" href="namespaceiuse.html#aecdc200d835fb6eaf207e84d2e5992a8">chew</a> ) {</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>        <span class="comment">// Those bonuses/penalties only apply to food</span></div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>        <span class="comment">// Not to smoking weed or applying bandages!</span></div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#ac8785297401c28693575f38b8e5df375">trait_MOUTH_TENTACLES</a> )  || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a7187ffc2d22573029ad4c4985f7ad95f">trait_MANDIBLES</a> ) ||</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>            <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#ae20f23e46accdd4c88c6b435ae94f63c">trait_FANGS_SPIDER</a> ) ) {</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>            mealtime /= 2;</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a16dc22cee5427c4ffbbe0db4dde27a5e">trait_SHARKTEETH</a> ) ) {</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>            <span class="comment">// SHARKBAIT! HOO HA HA!</span></div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>            mealtime /= 3;</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#abd2ce5a2e5c7ede5e25af994457bd123">trait_GOURMAND</a> ) ) {</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>            <span class="comment">// Don&#39;t stack those two - that would be 25 moves per item</span></div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>            mealtime -= 100;</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>        }</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span> </div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a6984ef23000798340375b8fdbcaba096">trait_BEAK_HUM</a> ) &amp;&amp; !drinkable ) {</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>            <span class="comment">// Much better than PROBOSCIS but still optimized for fluids</span></div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>            mealtime += 200;</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a28e8b9d50a08cc7e9fcf534eca71b094">trait_SABER_TEETH</a> ) ) {</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>            <span class="comment">// They get In The Way</span></div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>            mealtime += 250;</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>        }</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span> </div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>        <span class="keywordflow">if</span>( amorphous ) {</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>            mealtime *= 1.1;</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>            <span class="comment">// Minor speed penalty for having to flow around it</span></div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>            <span class="comment">// rather than just grab &amp; munch</span></div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>        }</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>    }</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span> </div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>    <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= mealtime;</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span> </div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>    <span class="comment">// If it&#39;s poisonous... poison us.</span></div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>    <span class="comment">// TODO: Move this to a flag</span></div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>    <span class="keywordflow">if</span>( food.<a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> &gt; 0 &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#ae6a6e853460bbd7e5b9ba2adfe22a864">trait_POISRESIST</a> ) &amp;&amp;</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>        !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">trait_EATDEAD</a> ) ) {</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>        <span class="keywordflow">if</span>( food.<a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> &gt;= <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 2, 4 ) ) {</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">effect_poison</a>, food.<a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> * 10_minutes );</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>        }</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span> </div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#add6199d38f99fd7341acd9e5b7f2df63">effect_foodpoison</a>, food.<a class="code hl_variable" href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">poison</a> * 30_minutes );</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>    }</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span> </div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>    <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a74fdff0ac6c7a40b84739f512ff69880">flag_HIDDEN_HALLU</a> ) ) {</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a> ) ) {</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a>, 6_hours );</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>        }</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>    }</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span> </div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>    <span class="keywordflow">if</span>( amorphous ) {</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You assimilate your %s.&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; assimilates a %s.&quot;</span> ),</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>                               food.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( drinkable ) {</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You drink your %s.&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; drinks a %s.&quot;</span> ),</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>                               food.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="namespaceiuse.html#aecdc200d835fb6eaf207e84d2e5992a8">chew</a> ) {</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>        <a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You eat your %s.&quot;</span> ), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; eats a %s.&quot;</span> ),</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>                               food.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>    }</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span> </div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;tool-&gt;tool ) {</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>        <span class="comment">// Tools like lighters get used</span></div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>        <a class="code hl_function" href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">use_charges</a>( food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;tool, 1 );</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    }</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span> </div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>    <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a146a2a49b9de37f54c126426c47634de">flag_FUNGAL_VECTOR</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a308d750c2cc01d70d7622fdee14be3a5">trait_M_IMMUNE</a> ) ) {</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>    }</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span> </div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>    <span class="comment">// Chance to become parasitised</span></div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>    <span class="keywordflow">if</span>( !( <a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="consumption_8cpp.html#a36f9b5f5d763f2c224b59b75af340c6c">bio_digestion</a> ) || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a6c2652eceffb663021aeae9d4b7d0429">trait_PARAIMMUNE</a> ) ) ) {</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>        <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;parasites &gt; 0 &amp;&amp; !food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#aa026dbb6ce20973d00e8847f056865dc">flag_NO_PARASITES</a> ) &amp;&amp;</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>            <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;parasites ) ) {</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>            <span class="keywordflow">switch</span>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 3 ) ) {</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>                <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>                    <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>                <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>                    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#af18c51d2a8f81b4d06912d40760e9691">trait_ACIDBLOOD</a> ) ) {</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>                        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>                    }</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>                <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>                    <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>                <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>                    <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>            }</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>        }</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>    }</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span> </div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const diseasetype_id, int&gt; &amp;elem : food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;contamination ) {</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 100 ) &lt;= elem.second ) {</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>            <a class="code hl_function" href="classCharacter.html#a075e636b02332a92beb8aaadd7653118">expose_to_disease</a>( elem.first );</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>        }</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>    }</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span> </div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>    <a class="code hl_variable" href="classCharacter.html#a2fb9db0c817b5144d7351c38f0a43f55">consumption_history</a>-&gt;elems.emplace_back( food );</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>    <span class="comment">// Clean out consumption_history so it doesn&#39;t get bigger than needed.</span></div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>    <span class="keywordflow">while</span>( <a class="code hl_variable" href="classCharacter.html#a2fb9db0c817b5144d7351c38f0a43f55">consumption_history</a>-&gt;elems.front().time &lt; <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> - 2_days ) {</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>        <a class="code hl_variable" href="classCharacter.html#a2fb9db0c817b5144d7351c38f0a43f55">consumption_history</a>-&gt;elems.pop_front();</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>    }</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span> </div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>}</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span> </div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno"><a class="line" href="classCharacter.html#abcc868bf2ce6d77beb80fe1e57fec732">  991</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCharacter.html#abcc868bf2ce6d77beb80fe1e57fec732">Character::modify_health</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structislot__comestible.html">islot_comestible</a> &amp;comest )</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>{</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> effective_health = comest.<a class="code hl_variable" href="structislot__comestible.html#aea71935dc37b7f711efb6f8d9ca5353d">healthy</a>;</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>    <span class="comment">// Effectively no cap on health modifiers from food and meds</span></div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> health_cap = 200;</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>    <a class="code hl_function" href="classCharacter.html#a8c4e364e25b0ea4d5a27c3120a9f973f">mod_healthy_mod</a>( effective_health, effective_health &gt;= 0 ? health_cap : -health_cap );</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>}</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span> </div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno"><a class="line" href="classCharacter.html#a187c642b9a6ea2a8c8b1a257ecd11f3e">  999</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCharacter.html#a187c642b9a6ea2a8c8b1a257ecd11f3e">Character::modify_stimulation</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structislot__comestible.html">islot_comestible</a> &amp;comest )</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>{</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> current_stim = <a class="code hl_function" href="classCharacter.html#a7335f053c5874081211552623fa625c5">get_stim</a>();</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>    <span class="keywordflow">if</span>( comest.<a class="code hl_variable" href="structislot__comestible.html#aa8ccc76e6c3389ee17cbb14a7625bd39">stim</a> != 0 &amp;&amp;</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>        ( std::abs( current_stim ) &lt; ( std::abs( comest.<a class="code hl_variable" href="structislot__comestible.html#aa8ccc76e6c3389ee17cbb14a7625bd39">stim</a> ) * 3 ) ||</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>          <a class="code hl_function" href="enums_8h.html#a89bed42d8e3efcd44570febc837f088e">sgn</a>( current_stim ) != <a class="code hl_function" href="enums_8h.html#a89bed42d8e3efcd44570febc837f088e">sgn</a>( comest.<a class="code hl_variable" href="structislot__comestible.html#aa8ccc76e6c3389ee17cbb14a7625bd39">stim</a> ) ) ) {</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>        <span class="keywordflow">if</span>( comest.<a class="code hl_variable" href="structislot__comestible.html#aa8ccc76e6c3389ee17cbb14a7625bd39">stim</a> &lt; 0 ) {</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>            <a class="code hl_function" href="classCharacter.html#a5106996739b703dd5915cf166236653a">set_stim</a>( std::max( comest.<a class="code hl_variable" href="structislot__comestible.html#aa8ccc76e6c3389ee17cbb14a7625bd39">stim</a> * 3, current_stim + comest.<a class="code hl_variable" href="structislot__comestible.html#aa8ccc76e6c3389ee17cbb14a7625bd39">stim</a> ) );</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>            <a class="code hl_function" href="classCharacter.html#a5106996739b703dd5915cf166236653a">set_stim</a>( std::min( comest.<a class="code hl_variable" href="structislot__comestible.html#aa8ccc76e6c3389ee17cbb14a7625bd39">stim</a> * 3, current_stim + comest.<a class="code hl_variable" href="structislot__comestible.html#aa8ccc76e6c3389ee17cbb14a7625bd39">stim</a> ) );</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>        }</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>    }</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a7b80d711466946f3fb75c76a9d47de41">trait_STIMBOOST</a> ) &amp;&amp; ( current_stim &gt; 30 ) &amp;&amp;</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>        ( ( comest.<a class="code hl_variable" href="structislot__comestible.html#a5e7afc63b23fe879daf961d2940ed404">add</a> == <a class="code hl_enumvalue" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295ba40b2d5c486b7ef00c1b9ae13c63bd6c6">add_type::CAFFEINE</a> ) || ( comest.<a class="code hl_variable" href="structislot__comestible.html#a5e7afc63b23fe879daf961d2940ed404">add</a> == <a class="code hl_enumvalue" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295ba65a59338b99aee6a451e86b17b462b5a">add_type::SPEED</a> ) ||</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>          ( comest.<a class="code hl_variable" href="structislot__comestible.html#a5e7afc63b23fe879daf961d2940ed404">add</a> == <a class="code hl_enumvalue" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295baccafb1ecc36ef9e0c27e3252102b0253">add_type::COKE</a> ) || ( comest.<a class="code hl_variable" href="structislot__comestible.html#a5e7afc63b23fe879daf961d2940ed404">add</a> == <a class="code hl_enumvalue" href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295ba2e6d9801a7e8f255fd21bb5c34d946ae">add_type::CRACK</a> ) ) ) {</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>        <span class="keywordtype">int</span> hallu_duration = ( current_stim - comest.<a class="code hl_variable" href="structislot__comestible.html#aa8ccc76e6c3389ee17cbb14a7625bd39">stim</a> &lt; 30 ) ? current_stim - 30 : comest.<a class="code hl_variable" href="structislot__comestible.html#aa8ccc76e6c3389ee17cbb14a7625bd39">stim</a>;</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#a6e356b8c88f37fd089a667b39f6b4419">effect_visuals</a>, hallu_duration * 30_minutes );</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>        std::vector&lt;std::string&gt; stimboost_msg{ <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The shadows are getting ever closer.&quot;</span> ),</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>                                                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You have a bad feeling about this.&quot;</span> ),</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>                                                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;A powerful sense of dread comes over you.&quot;</span> ),</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>                                                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your skin starts crawling.&quot;</span> ),</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>                                                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;They&#39;re coming to get you.&quot;</span> ),</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>                                                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This might&#39;ve been a bad idea&quot;</span> ),</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>                                                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;ve really done it this time, haven&#39;t you?&quot;</span> ),</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>                                                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You have to stay vigilant.  They&#39;re always watching&quot;</span> ),</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>                                                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;mistake mistake mistake mistake mistake&quot;</span> ),</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>                                                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Just gotta stay calm, and you&#39;ll make it through this.&quot;</span> ),</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>                                                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re starting to feel very jumpy.&quot;</span> ),</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>                                                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Something is twitching at the edge of your vision.&quot;</span> ),</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>                                                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;They know what you&#39;ve done&quot;</span> ),</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>                                                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You&#39;re feeling even more paranoid than usual.&quot;</span> ) };</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>        <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_function" href="rng_8h.html#a265321f9012874a83b2a57ee33835617">random_entry_ref</a>( stimboost_msg ) );</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>    }</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>}</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span> </div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"><a class="line" href="classCharacter.html#afefd24b9a3671f6d49454b28e3c52200"> 1034</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCharacter.html#afefd24b9a3671f6d49454b28e3c52200">Character::modify_fatigue</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structislot__comestible.html">islot_comestible</a> &amp;comest )</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>{</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>    <a class="code hl_function" href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">mod_fatigue</a>( -comest.<a class="code hl_variable" href="structislot__comestible.html#a82f9d567b3efb4a5f9a0665432f32094">fatigue_mod</a> );</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>}</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span> </div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"><a class="line" href="classCharacter.html#a842395c262eb711ca235be5de59e9781"> 1039</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCharacter.html#a842395c262eb711ca235be5de59e9781">Character::modify_radiation</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structislot__comestible.html">islot_comestible</a> &amp;comest )</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>{</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>    <a class="code hl_function" href="classCharacter.html#af157e1fa623589a34b3c23a511dbc797">irradiate</a>( comest.<a class="code hl_variable" href="structislot__comestible.html#a4656f297a3ea96ffb9e20a6511287ec9">radiation</a> );</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>}</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span> </div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"><a class="line" href="classCharacter.html#a135907caa62db71b58cb8a46e8180ce6"> 1044</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCharacter.html#a135907caa62db71b58cb8a46e8180ce6">Character::modify_addiction</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structislot__comestible.html">islot_comestible</a> &amp;comest )</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>{</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>    <a class="code hl_function" href="classCharacter.html#a218867c29011e068411140277abdab80">add_addiction</a>( comest.<a class="code hl_variable" href="structislot__comestible.html#a5e7afc63b23fe879daf961d2940ed404">add</a>, comest.<a class="code hl_variable" href="structislot__comestible.html#af0c402e9f8df019dedb20f589e4e93c4">addict</a> );</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="addiction_8cpp.html#ac1079f9dbc0ea66f2b01a3f1d1130459">addiction_craving</a>( comest.<a class="code hl_variable" href="structislot__comestible.html#a5e7afc63b23fe879daf961d2940ed404">add</a> ) != <a class="code hl_variable" href="morale__types_8cpp.html#ae95b6eefc4c6ba6583014d4792b51814">MORALE_NULL</a> ) {</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>        <a class="code hl_function" href="classCharacter.html#ac55733961846b5c57183bd3b0fde9eae">rem_morale</a>( <a class="code hl_function" href="addiction_8cpp.html#ac1079f9dbc0ea66f2b01a3f1d1130459">addiction_craving</a>( comest.<a class="code hl_variable" href="structislot__comestible.html#a5e7afc63b23fe879daf961d2940ed404">add</a> ) );</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>    }</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>}</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span> </div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"><a class="line" href="classCharacter.html#a2aa55d8bbc2485b0f02b7c4f7af79605"> 1052</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCharacter.html#a2aa55d8bbc2485b0f02b7c4f7af79605">Character::modify_morale</a>( <a class="code hl_class" href="classitem.html">item</a> &amp;food, <span class="keywordtype">int</span> nutr )</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>{</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>    <a class="code hl_class" href="classtime__duration.html">time_duration</a> morale_time = 2_hours;</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>    <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#ae75a0eb82d40511391fb18ff7a6f4cbe">flag_EATEN_HOT</a> ) ) {</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>        <span class="keyword">auto</span> heater = <a class="code hl_function" href="consumption_8cpp.html#a4637bd22fd149e8cbd782c93737ddf53">find_food_heater</a>( *<span class="keyword">this</span>, <a class="code hl_function" href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">crafting_inventory</a>(),</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>                                        <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().has_nearby_fire( <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a> ) );</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>        <span class="keywordflow">if</span>( heater &amp;&amp; heater-&gt;consume( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>            <a class="code hl_function" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You heat up your %1$s using the %2$s.&quot;</span> ),</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; heats up their %1$s using the %2$s.&quot;</span> ),</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>                                   food.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), heater-&gt;it.tname() );</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>            morale_time = 3_hours;</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>            <span class="keywordtype">int</span> clamped_nutr = std::max( 5, std::min( 20, nutr / 10 ) );</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>            <a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#aaa5338b2599dee343776a16d858acd72">MORALE_FOOD_HOT</a>, clamped_nutr, 20, morale_time, morale_time / 2 );</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>        }</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>    }</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span> </div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>    std::pair&lt;int, int&gt; fun = <a class="code hl_function" href="classCharacter.html#ace2d1a2ba10920f5986e562fb8ff8aff">fun_for</a>( food );</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>    <span class="keywordflow">if</span>( fun.first &lt; 0 ) {</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( <a class="code hl_variable" href="consumption_8cpp.html#a1cdd6de85176097b616ddd8e3e0a9239">bio_taste_blocker</a> ) &amp;&amp;</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>            <a class="code hl_function" href="classCharacter.html#add22510ff2fa20a662868b4dd86e030e">get_power_level</a>() &gt; <a class="code hl_function" href="namespaceunits.html#ada24d52c1ffd0df8d52a363d013d3231">units::from_kilojoule</a>( -fun.first ) ) {</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>            <a class="code hl_function" href="classCharacter.html#a17446e14fd6046648a505c4aaec3d976">mod_power_level</a>( <a class="code hl_function" href="namespaceunits.html#ada24d52c1ffd0df8d52a363d013d3231">units::from_kilojoule</a>( std::min( 0, <a class="code hl_function" href="classCharacter.html#ace2d1a2ba10920f5986e562fb8ff8aff">fun_for</a>( food ).first ) ) );</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>            <a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#ae5bf12aa6533cebf50765069d6d78eb0">MORALE_FOOD_BAD</a>, fun.first, fun.second, morale_time, morale_time / 2, <span class="keyword">false</span>,</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>                        food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> );</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>        }</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( fun.first &gt; 0 ) {</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>        <a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#ab2e7f135d6749b067f488c38bec7eb8c">MORALE_FOOD_GOOD</a>, fun.first, fun.second, morale_time, morale_time / 2, <span class="keyword">false</span>,</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>                    food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a> );</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>    }</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span> </div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>    <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a74fdff0ac6c7a40b84739f512ff69880">flag_HIDDEN_HALLU</a> ) ) {</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a> ) ) {</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>            <a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#ab2e7f135d6749b067f488c38bec7eb8c">MORALE_FOOD_GOOD</a>, 36, 72, 2_hours, 1_hours, <span class="keyword">false</span> );</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>            <a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#ab2e7f135d6749b067f488c38bec7eb8c">MORALE_FOOD_GOOD</a>, 18, 36, 1_hours, 30_minutes, <span class="keyword">false</span> );</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>        }</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>    }</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span> </div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>    <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a6fb4b249c40ac59e1c881e9094939dab">flag_CANNIBALISM</a> ) ) {</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> cannibal = <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#af1a3e5c07ef96be118895afd086ba143">trait_CANNIBAL</a> );</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> psycho = <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a> );</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> sapiovore = <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a93f31d20e997d966be8b81d64c31582b">trait_SAPIOVORE</a> );</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>        <span class="keywordflow">if</span>( cannibal ) {</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>            <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You indulge your shameful hunger.&quot;</span> ) );</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>            <a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#abd50d45c43979e0bc6b3fb8ae8add0a2">MORALE_CANNIBAL</a>, 20, 200 );</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( psycho || sapiovore ) {</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>            <span class="comment">// Nothing - doesn&#39;t care enough to print a message</span></div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>            <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel horrible for eating a person.&quot;</span> ) );</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>            <a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#abd50d45c43979e0bc6b3fb8ae8add0a2">MORALE_CANNIBAL</a>, -60, -400, 60_minutes, 30_minutes );</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>        }</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>    }</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span> </div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>    <span class="comment">// Allergy check for food that is ingested (not gum)</span></div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>    <span class="keywordflow">if</span>( !food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;NO_INGEST&quot;</span> ) ) {</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>        <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfae13d519f1da4a4e37af747205ba9ca23">allergy</a> = <a class="code hl_function" href="classCharacter.html#a306dfd8496f2ff25cce5ad2a9cc7f80e">allergy_type</a>( food );</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfae13d519f1da4a4e37af747205ba9ca23">allergy</a> != <a class="code hl_variable" href="morale__types_8cpp.html#ae95b6eefc4c6ba6583014d4792b51814">MORALE_NULL</a> ) {</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>            <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Yuck!  How can anybody eat this stuff?&quot;</span> ) );</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>            <a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_enumvalue" href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfae13d519f1da4a4e37af747205ba9ca23">allergy</a>, -75, -400, 30_minutes, 24_minutes );</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>        }</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>        <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a2d861a0c4ca4d6d868785f9c37589ca3">flag_ALLERGEN_JUNK</a> ) ) {</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#aa529aa8fed8701f3f231986398f2d95d">trait_PROJUNK</a> ) ) {</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>                <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Mmm, junk food.&quot;</span> ) );</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>                <a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#a47333d246e87662bad4ddb36c8212855">MORALE_SWEETTOOTH</a>, 5, 30, 30_minutes, 24_minutes );</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>            }</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a70d7f27f057587e54b30196e6c58ad09">trait_PROJUNK2</a> ) ) {</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>                <span class="keywordflow">if</span>( !<a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 100 ) ) {</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>                    <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;When life&#39;s got you down, there&#39;s always sugar.&quot;</span> ) );</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>                    <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;They may do what they must you&#39;ve already won.&quot;</span> ) );</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>                }</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>                <a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#a47333d246e87662bad4ddb36c8212855">MORALE_SWEETTOOTH</a>, 10, 50, 1_hours, 50_minutes );</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>            }</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>            <span class="comment">// Carnivores CAN eat junk food, but they won&#39;t like it much.</span></div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>            <span class="comment">// Pizza-scraping happens in consume_effects.</span></div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a4fbf975d8c329497caf15aa91d65a664">trait_CARNIVORE</a> ) &amp;&amp; !food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#abd8d7c4f01bfc8c35f32e2639ec34ab4">flag_CARNIVORE_OK</a> ) ) {</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>                <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your stomach begins gurgling and you feel bloated and ill.&quot;</span> ) );</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>                <a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#a68694c468b07b54d28a9ba55ad62380d">MORALE_NO_DIGEST</a>, -25, -125, 30_minutes, 24_minutes );</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>            }</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>        }</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>    }</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="namespaceiuse.html#aecdc200d835fb6eaf207e84d2e5992a8">chew</a> = food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;comesttype == <a class="code hl_function" href="consumption_8cpp.html#ab3904a4e01276706855605f3b616734a">comesttype_FOOD</a> ||</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>                      food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a8048758dc914b63455fd2c2a422579bf">flag_USE_EAT_VERB</a> );</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>    <span class="keywordflow">if</span>( !food.<a class="code hl_function" href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">rotten</a>() &amp;&amp; <a class="code hl_function" href="namespaceiuse.html#aecdc200d835fb6eaf207e84d2e5992a8">chew</a> &amp;&amp; <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#af4487f6f0e0eb0e3a671f5053fe2c219">trait_SAPROPHAGE</a> ) ) {</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>        <span class="comment">// It&#39;s OK to *drink* things that haven&#39;t rotted.  Alternative is to ban water.  D:</span></div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>        <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your stomach begins gurgling and you feel bloated and ill.&quot;</span> ) );</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>        <a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#a68694c468b07b54d28a9ba55ad62380d">MORALE_NO_DIGEST</a>, -75, -400, 30_minutes, 24_minutes );</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>    }</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>    <span class="keywordflow">if</span>( food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a590a72c763f8f716dbd0a2da2fdf0d4b">flag_URSINE_HONEY</a> ) &amp;&amp; ( !<a class="code hl_function" href="classCharacter.html#a3ecd6260cdd64e5e520d834f03e449bd">crossed_threshold</a>() ||</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>            <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a557169ee6dc6d09dfed331f1819983d5">trait_THRESH_URSINE</a> ) ) &amp;&amp;</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>        <a class="code hl_variable" href="classCharacter.html#af1a5539eaced527b8c2b1dc36527dbec">mutation_category_level</a>[<span class="stringliteral">&quot;URSINE&quot;</span>] &gt; 40 ) {</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>        <span class="comment">// Need at least 5 bear mutations for effect to show, to filter out mutations in common with other categories</span></div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>        <span class="keywordtype">int</span> honey_fun = <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a557169ee6dc6d09dfed331f1819983d5">trait_THRESH_URSINE</a> ) ?</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>                        std::min( <a class="code hl_variable" href="classCharacter.html#af1a5539eaced527b8c2b1dc36527dbec">mutation_category_level</a>[<span class="stringliteral">&quot;URSINE&quot;</span>] / 8, 20 ) :</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>                        <a class="code hl_variable" href="classCharacter.html#af1a5539eaced527b8c2b1dc36527dbec">mutation_category_level</a>[<span class="stringliteral">&quot;URSINE&quot;</span>] / 12;</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>        <span class="keywordflow">if</span>( honey_fun &lt; 10 ) {</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>            <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You find the sweet taste of honey surprisingly palatable.&quot;</span> ) );</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>            <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feast upon the sweet honey.&quot;</span> ) );</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>        }</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>        <a class="code hl_function" href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">add_morale</a>( <a class="code hl_variable" href="morale__types_8cpp.html#a0526ed49652901e606e16ddc54b34507">MORALE_HONEY</a>, honey_fun, 100 );</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>    }</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>}</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span> </div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"><a class="line" href="classCharacter.html#a54f90ca736510c41a6539c8d8ad833b6"> 1157</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCharacter.html#a54f90ca736510c41a6539c8d8ad833b6">Character::consume_effects</a>( <a class="code hl_class" href="classitem.html">item</a> &amp;food )</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>{</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>    <span class="keywordflow">if</span>( !food.<a class="code hl_function" href="classitem.html#ac070089c03e5dc687bae39670edd5401">is_comestible</a>() ) {</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;called Character::consume_effects with non-comestible&quot;</span> );</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>    }</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span> </div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a2d2463d7a32338731d9a8cd1be4faad0">trait_THRESH_PLANT</a> ) &amp;&amp; food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;PLANTBLECH&quot;</span> ) ) {</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>        <span class="comment">// Was used to cap nutrition and thirst, but no longer does this</span></div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>    }</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>    <span class="keywordflow">if</span>( ( <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a17cdfd8aef2fd5e8fceb6c62d37fa741">trait_HERBIVORE</a> ) || <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a0371615cbdf966655d267076abc28b68">trait_RUMINANT</a> ) ) &amp;&amp;</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>        food.<a class="code hl_function" href="classitem.html#aca5abd8656e123435b97da00608a5daa">has_any_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a7971bf13ca2d151e46e6a0689b4ae544">herbivore_blacklist</a> ) ) {</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>        <span class="comment">// No good can come of this.</span></div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>    }</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span> </div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;comest = *food.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>();</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span> </div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>    <span class="comment">// Rotten food causes health loss</span></div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> relative_rot = food.<a class="code hl_function" href="classitem.html#adfb5ddb3d50f317c79eb7a1a26a63905">get_relative_rot</a>();</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>    <span class="keywordflow">if</span>( relative_rot &gt; 1.0f &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#af4487f6f0e0eb0e3a671f5053fe2c219">trait_SAPROPHAGE</a> ) &amp;&amp;</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>        !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="consumption_8cpp.html#a36f9b5f5d763f2c224b59b75af340c6c">bio_digestion</a> ) ) {</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> rottedness = <a class="code hl_function" href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a>( 2 * relative_rot - 2.0f, 0.1f, 1.0f );</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>        <span class="comment">// ~-1 health per 1 nutrition at halfway-rotten-away, ~0 at &quot;just got rotten&quot;</span></div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>        <span class="comment">// But always round down</span></div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>        <span class="keywordtype">int</span> h_loss = -rottedness * comest.get_default_nutr();</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>        <a class="code hl_function" href="classCharacter.html#a8c4e364e25b0ea4d5a27c3120a9f973f">mod_healthy_mod</a>( h_loss, -200 );</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a>, <span class="stringliteral">&quot;%d health from %0.2f%% rotten food&quot;</span>, h_loss, rottedness );</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>    }</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span> </div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>    <span class="comment">// Used in hibernation messages.</span></div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>    <span class="keyword">const</span> <span class="keyword">auto</span> nutr = <a class="code hl_function" href="classCharacter.html#adfe305dc4dab1ce52dc6b46c73f4883f">nutrition_for</a>( food );</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> skip_health = <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a70d7f27f057587e54b30196e6c58ad09">trait_PROJUNK2</a> ) &amp;&amp; comest.healthy &lt; 0;</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>    <span class="comment">// We can handle junk just fine</span></div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>    <span class="keywordflow">if</span>( !skip_health ) {</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>        <a class="code hl_function" href="classCharacter.html#abcc868bf2ce6d77beb80fe1e57fec732">modify_health</a>( comest );</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>    }</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>    <a class="code hl_function" href="classCharacter.html#a187c642b9a6ea2a8c8b1a257ecd11f3e">modify_stimulation</a>( comest );</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>    <a class="code hl_function" href="classCharacter.html#afefd24b9a3671f6d49454b28e3c52200">modify_fatigue</a>( comest );</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>    <a class="code hl_function" href="classCharacter.html#a842395c262eb711ca235be5de59e9781">modify_radiation</a>( comest );</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>    <a class="code hl_function" href="classCharacter.html#a135907caa62db71b58cb8a46e8180ce6">modify_addiction</a>( comest );</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>    <a class="code hl_function" href="classCharacter.html#a2aa55d8bbc2485b0f02b7c4f7af79605">modify_morale</a>( food, nutr );</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span> </div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>    <span class="comment">// Moved here and changed a bit - it was too complex</span></div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>    <span class="comment">// Incredibly minor stuff like this shouldn&#39;t require complexity</span></div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">is_npc</a>() &amp;&amp; <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#a21bda02fdebbb5bafebd2ba308e29262">trait_SLIMESPAWNER</a> ) &amp;&amp;</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>        <a class="code hl_function" href="classCharacter.html#a4905fef46d52e8b8334cc22666addcf0">max_stored_kcal</a>() &lt; <a class="code hl_function" href="classCharacter.html#a824a60fef8920f38a6f1e1b35bea4879">get_stored_kcal</a>() + 4000 &amp;&amp; <a class="code hl_function" href="classCharacter.html#a7ca6c670844c9fd8c419c474788a7bf7">get_thirst</a>() &lt; <a class="code hl_enumvalue" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa471a11f43e136d5e6058d2a4ba9c1442">thirst_levels::slaked</a> ) {</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>        <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaa65a3cd4a2c6d0fbb31833ade22ee100">m_mixed</a>,</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>                           <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel as though you&#39;re going to split open!  In a good way?&quot;</span> ) );</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>        <a class="code hl_function" href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54">mod_pain</a>( 5 );</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>        <span class="keywordtype">int</span> numslime = 1;</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; numslime; i++ ) {</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>            <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> slime = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_around( <a class="code hl_variable" href="consumption_8cpp.html#a22b82ff6998caf559fabe67d535d6771">mon_player_blob</a>, <a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), 1 ) ) {</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>                slime-&gt;friendly = -1;</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>            }</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>        }</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>        <a class="code hl_function" href="classCharacter.html#a431180ff2af878a9956bf474783017c0">mod_stored_kcal</a>( -400 );</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>        <a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( 40 );</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>        <span class="comment">//~ slimespawns have *small voices* which may be the Nice equivalent</span></div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>        <span class="comment">//~ of the Rat King&#39;s ALL CAPS invective.  Probably shared-brain telepathy.</span></div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>        <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;hey, you look like me!  let&#39;s work together!&quot;</span> ) );</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>    }</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span> </div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>    <span class="comment">// Set up food for ingestion</span></div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;contained_food = food.<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() ? food.<a class="code hl_function" href="classitem.html#aeb62f6d93e37bf01af71f795cc39f4f1">get_contained</a>() : food;</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>    <a class="code hl_struct" href="structfood__summary.html">food_summary</a> ingested{</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>        <a class="code hl_function" href="classCharacter.html#a30ae2557de3be7c7e7f353fffc557c91">compute_effective_nutrients</a>( contained_food )</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>    };</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>    <span class="comment">// Maybe move tapeworm to digestion</span></div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a> ) ) {</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>        ingested.nutr /= 2;</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>    }</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span> </div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>    <span class="keywordtype">int</span> excess_kcal = <a class="code hl_function" href="classCharacter.html#a824a60fef8920f38a6f1e1b35bea4879">get_stored_kcal</a>() + <a class="code hl_variable" href="classCharacter.html#aa4ecfee35839a07be48afccbe582023e">stomach</a>.<a class="code hl_function" href="classstomach__contents.html#aa5cf12fa92df9630e78c4cf5af74d616">get_calories</a>() + ingested.nutr.kcal -</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>                      <a class="code hl_function" href="classCharacter.html#a4905fef46d52e8b8334cc22666addcf0">max_stored_kcal</a>();</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span> </div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>    <span class="comment">// Moved hypermetabolism check here to prevent it being gimped by various bloating/vomit problems.</span></div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>    <span class="keywordflow">if</span>( excess_kcal &gt; 0 &amp;&amp; <a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#abb2203fc9372a7f9651ccca81239445a">trait_EATHEALTH</a> ) ) {</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>        <a class="code hl_function" href="classCharacter.html#ae7a558a2455f552673b825e3ad2e0fd4">healall</a>( <a class="code hl_function" href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a>( excess_kcal / 50.0f ) );</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>        <a class="code hl_function" href="classCharacter.html#a431180ff2af878a9956bf474783017c0">mod_stored_kcal</a>( -excess_kcal );</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>        excess_kcal = 0;</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>    }</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span> </div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>    <span class="keywordtype">int</span> excess_quench = -( <a class="code hl_function" href="classCharacter.html#a7ca6c670844c9fd8c419c474788a7bf7">get_thirst</a>() - comest.quench );</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>    <a class="code hl_variable" href="classCharacter.html#aa4ecfee35839a07be48afccbe582023e">stomach</a>.<a class="code hl_function" href="classstomach__contents.html#a96eccd372c5b0f42ca47bfd7bfeabaec">ingest</a>( ingested );</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>    <a class="code hl_function" href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">mod_thirst</a>( -contained_food.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aa656fede37aaf975ab567bcc5c6a452e">comestible</a>-&gt;quench );</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span> </div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span> </div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>    <span class="keywordflow">if</span>( ( excess_kcal &gt; 0 || excess_quench &gt; 0 ) &amp;&amp; !food.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#afd06012232776bb8568e171984c28663">flag_NO_BLOAT</a> ) &amp;&amp;</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>        !<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="consumption_8cpp.html#abd2ce5a2e5c7ede5e25af994457bd123">trait_GOURMAND</a> ) ) {</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="consumption_8cpp.html#ab20d39f7408673b6c72e08685e5dea15">effect_bloated</a>, 5_minutes );</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>    }</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span> </div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>}</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span> </div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"><a class="line" href="classCharacter.html#adb47b37ee747b2306ff2b45809108be3"> 1254</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCharacter.html#adb47b37ee747b2306ff2b45809108be3">Character::can_feed_reactor_with</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it )<span class="keyword"> const</span></div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::set&lt;ammotype&gt; acceptable = {{</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>            <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( <span class="stringliteral">&quot;reactor_slurry&quot;</span> ),</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>            <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( <span class="stringliteral">&quot;plutonium&quot;</span> )</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>        }</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>    };</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span> </div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>    <span class="keywordflow">if</span>( !it.<a class="code hl_function" href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">is_ammo</a>() || <a class="code hl_function" href="classCharacter.html#a04df4efd633604ed5b88827b8072a1d2">can_eat</a>( it ).<a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a>() ) {</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>    }</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span> </div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( <a class="code hl_variable" href="consumption_8cpp.html#a8964de0b81cdb278e268ded8e0e50fe9">bio_reactor</a> ) &amp;&amp; !<a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( <a class="code hl_variable" href="consumption_8cpp.html#af240157d33eeab40ef36bc04dd472e75">bio_advreactor</a> ) ) {</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>    }</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span> </div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>    <span class="keywordflow">return</span> std::any_of( acceptable.begin(), acceptable.end(), [ &amp;it ]( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp; elem ) {</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>        return it.ammo_type() == elem;</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>    } );</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>}</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span> </div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"><a class="line" href="classCharacter.html#aeac0c91004fe8bc0c5019e99439e5f31"> 1275</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCharacter.html#aeac0c91004fe8bc0c5019e99439e5f31">Character::feed_reactor_with</a>( <a class="code hl_class" href="classitem.html">item</a> &amp;it )</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>{</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#adb47b37ee747b2306ff2b45809108be3">can_feed_reactor_with</a>( it ) ) {</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>    }</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span> </div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>    <span class="keyword">const</span> <span class="keyword">auto</span> iter = <a class="code hl_variable" href="consumption_8cpp.html#a21c7a5371d332978af3e4729459586af">plut_charges</a>.find( it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() );</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> max_amount = iter != <a class="code hl_variable" href="consumption_8cpp.html#a21c7a5371d332978af3e4729459586af">plut_charges</a>.end() ? iter-&gt;second : 0;</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> amount = std::min( <a class="code hl_function" href="classCharacter.html#a48b48caf9a892afb2d51d217b66f4953">get_acquirable_energy</a>( it, <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa14106c7e29076a7501b25177e2848fcc">rechargeable_cbm::reactor</a> ), max_amount );</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span> </div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>    <span class="keywordflow">if</span>( amount &gt;= <a class="code hl_variable" href="game__constants_8h.html#a48b9330c21bc6a0b8f99d7a3414cfe9f">PLUTONIUM_CHARGES</a> * 10 &amp;&amp;</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>        !<a class="code hl_function" href="classCharacter.html#a358731acbb8b137aa540bb8d49109ca3">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That is a LOT of plutonium.  Are you sure you want that much?&quot;</span> ) ) ) {</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>    }</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span> </div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>    <a class="code hl_function" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You add your %s to your reactor&#39;s tank.&quot;</span> ),</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>                           <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; pours %s into their reactor&#39;s tank.&quot;</span> ),</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>                           it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span> </div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>    <span class="comment">// TODO: Encapsulate</span></div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>    <a class="code hl_variable" href="classCharacter.html#ade57fb8b6f705040f097ff6419d8c9d7">tank_plut</a> += amount;</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>    it.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= 1;</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>    <a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -250 );</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>}</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span> </div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"><a class="line" href="classCharacter.html#a504cb6c25145b63f0d764e5704200ae1"> 1301</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCharacter.html#a504cb6c25145b63f0d764e5704200ae1">Character::can_feed_furnace_with</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it )<span class="keyword"> const</span></div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>    <span class="keywordflow">if</span>( !it.<a class="code hl_function" href="classitem.html#a464c09886d48850b162592b9aa985853">flammable</a>() || it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#adc75c21d21b85c1a29f21a3c0872326c">flag_RADIOACTIVE</a> ) || <a class="code hl_function" href="classCharacter.html#a04df4efd633604ed5b88827b8072a1d2">can_eat</a>( it ).<a class="code hl_enumvalue" href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">success</a>() ) {</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>    }</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span> </div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#af9c7419575e23d52745c94009929fafb">has_active_bionic</a>( <a class="code hl_variable" href="consumption_8cpp.html#a5f686344fc356a766b2eeb5fd27d56a3">bio_furnace</a> ) ) {</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>    }</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span> </div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>    <span class="comment">// Not even one charge fits</span></div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>    <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#abc27dc693d588feea7812432929fb5a9">charges_per_volume</a>( <a class="code hl_variable" href="consumption_8cpp.html#a11c4831d4b955b120e4516ab3ac75533">furnace_max_volume</a> ) &lt; 1 ) {</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>    }</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span> </div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>    <span class="keywordflow">return</span> !it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#a91b238005aeb2d80dac3fa7de669e797">flag_CORPSE</a> );</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>}</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span> </div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"><a class="line" href="classCharacter.html#ab55ee1eb2acb63789182bf7bda945118"> 1319</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCharacter.html#ab55ee1eb2acb63789182bf7bda945118">Character::feed_furnace_with</a>( <a class="code hl_class" href="classitem.html">item</a> &amp;it )</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>{</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#a504cb6c25145b63f0d764e5704200ae1">can_feed_furnace_with</a>( it ) ) {</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>    }</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>    <span class="keywordflow">if</span>( it.<a class="code hl_variable" href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">is_favorite</a> &amp;&amp;</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>        !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.query_yn( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Are you sure you want to eat your favorited %s?&quot;</span> ), it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ) ) {</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>    }</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span> </div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> consumed_charges =  std::min( it.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>, it.<a class="code hl_function" href="classitem.html#abc27dc693d588feea7812432929fb5a9">charges_per_volume</a>( <a class="code hl_variable" href="consumption_8cpp.html#a11c4831d4b955b120e4516ab3ac75533">furnace_max_volume</a> ) );</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_typedef" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">energy</a> =  <a class="code hl_function" href="classCharacter.html#a48b48caf9a892afb2d51d217b66f4953">get_acquirable_energy</a>( it, <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa23295fa6e8af5fada85fd5ed40ce4c58">rechargeable_cbm::furnace</a> );</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span> </div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>    <span class="keywordflow">if</span>( <a class="code hl_typedef" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">energy</a> == 0 ) {</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>        <a class="code hl_function" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You digest your %s, but fail to acquire energy from it.&quot;</span> ),</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>                               <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; digests their %s for energy, but fails to acquire energy from it.&quot;</span> ),</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>                               it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a6168af7dd0878d4c7fe9322fd7f0cb0f">is_max_power</a>() ) {</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>        <a class="code hl_function" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>(</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You digest your %s, but you&#39;re fully powered already, so the energy is wasted.&quot;</span> ),</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>            <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; digests a %s for energy, they&#39;re fully powered already, so the energy is wasted.&quot;</span> ),</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>            it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> profitable_energy = std::min( <a class="code hl_typedef" href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">energy</a>,</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>                                                <a class="code hl_function" href="namespaceunits.html#a54442f1523294bc7b9946662beed96e6">units::to_kilojoule</a>( <a class="code hl_function" href="classCharacter.html#ac3e27cd8b8fe445e06e6d20d0eb82aff">get_max_power_level</a>() - <a class="code hl_function" href="classCharacter.html#add22510ff2fa20a662868b4dd86e030e">get_power_level</a>() ) );</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>        <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ) {</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>            <a class="code hl_function" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>                                   <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;You digest %d %s and recharge %d point of energy.&quot;</span>,</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>                                             <span class="stringliteral">&quot;You digest %d %s and recharge %d points of energy.&quot;</span>,</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>                                             profitable_energy</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>                                           ),</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>                                   <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;&lt;npcname&gt; digests %d %s and recharges %d point of energy.&quot;</span>,</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>                                             <span class="stringliteral">&quot;&lt;npcname&gt; digests %d %s and recharges %d points of energy.&quot;</span>,</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>                                             profitable_energy</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>                                           ), consumed_charges, it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), profitable_energy</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>                                 );</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>            <a class="code hl_function" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>                                   <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;You digest your %s and recharge %d point of energy.&quot;</span>,</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>                                             <span class="stringliteral">&quot;You digest your %s and recharge %d points of energy.&quot;</span>,</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>                                             profitable_energy</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>                                           ),</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>                                   <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;&lt;npcname&gt; digests a %s and recharges %d point of energy.&quot;</span>,</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>                                             <span class="stringliteral">&quot;&lt;npcname&gt; digests a %s and recharges %d points of energy.&quot;</span>,</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>                                             profitable_energy</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>                                           ), it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), profitable_energy</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>                                 );</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>        }</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>        <a class="code hl_function" href="classCharacter.html#a17446e14fd6046648a505c4aaec3d976">mod_power_level</a>( <a class="code hl_function" href="namespaceunits.html#ada24d52c1ffd0df8d52a363d013d3231">units::from_kilojoule</a>( profitable_energy ) );</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>    }</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span> </div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>    it.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= consumed_charges;</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>    <a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -250 );</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span> </div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>}</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span> </div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"><a class="line" href="classCharacter.html#acd0c316a434eb1177663869cea11e88e"> 1377</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCharacter.html#acd0c316a434eb1177663869cea11e88e">Character::fuel_bionic_with</a>( <a class="code hl_class" href="classitem.html">item</a> &amp;it )</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>{</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCharacter.html#a98634805ba288293c54905c26cb5e8a2">can_fuel_bionic_with</a>( it ) ) {</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>    }</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span> </div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bionic_id</a> bio = <a class="code hl_function" href="classCharacter.html#a84cc7c0ee05228b3b6eec72c16335f47">get_most_efficient_bionic</a>( <a class="code hl_function" href="classCharacter.html#a4ed6a6f9d344eddefc42ea45e3f19dfa">get_bionic_fueled_with</a>( it ) );</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span> </div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> loadable = std::min( it.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>, <a class="code hl_function" href="classCharacter.html#af3fa3ed689e34de72fee39d15753d2b6">get_fuel_capacity</a>( it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ) );</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>    <span class="keyword">const</span> std::string str_loaded  = <a class="code hl_function" href="classCreature.html#a2acb6e1e19bcb775748403d07d8dc3f0">get_value</a>( it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>    <span class="keywordtype">int</span> loaded = 0;</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>    <span class="keywordflow">if</span>( !str_loaded.empty() ) {</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>        loaded = std::stoi( str_loaded );</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>    }</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span> </div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>    <span class="keyword">const</span> std::string new_charge = <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">std::to_string</a>( loadable + loaded );</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span> </div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>    it.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= loadable;</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>    <span class="comment">// Type and amount of fuel</span></div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>    <a class="code hl_function" href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab">set_value</a>( it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>(), new_charge );</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>    <a class="code hl_function" href="classCharacter.html#ac784c8908bd868115933c363e77cc0a6">update_fuel_storage</a>( it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() );</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>    <a class="code hl_function" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>                           <span class="comment">//~ %1$i: charge number, %2$s: item name, %3$s: bionics name</span></div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>                           <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;You load %1$i charge of %2$s in your %3$s.&quot;</span>,</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>                                     <span class="stringliteral">&quot;You load %1$i charges of %2$s in your %3$s.&quot;</span>, loadable ),</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>                           <span class="comment">//~ %1$i: charge number, %2$s: item name, %3$s: bionics name</span></div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>                           <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;&lt;npcname&gt; load %1$i charge of %2$s in their %3$s.&quot;</span>,</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>                                     <span class="stringliteral">&quot;&lt;npcname&gt; load %1$i charges of %2$s in their %3$s.&quot;</span>, loadable ), loadable, it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>(), bio-&gt;<a class="code hl_variable" href="structbionic__data.html#a3cf96a3fc532f2c82b73924ab585451e">name</a> );</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>    <a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -250 );</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>}</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span> </div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"><a class="line" href="classCharacter.html#a0da9712d69a6d58b659622f9cdbeacd7"> 1409</a></span><a class="code hl_enumeration" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5a">rechargeable_cbm</a> <a class="code hl_function" href="classCharacter.html#a0da9712d69a6d58b659622f9cdbeacd7">Character::get_cbm_rechargeable_with</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it )<span class="keyword"> const</span></div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#adb47b37ee747b2306ff2b45809108be3">can_feed_reactor_with</a>( it ) ) {</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa14106c7e29076a7501b25177e2848fcc">rechargeable_cbm::reactor</a>;</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>    }</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span> </div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a504cb6c25145b63f0d764e5704200ae1">can_feed_furnace_with</a>( it ) ) {</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa23295fa6e8af5fada85fd5ed40ce4c58">rechargeable_cbm::furnace</a>;</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>    }</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span> </div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a98634805ba288293c54905c26cb5e8a2">can_fuel_bionic_with</a>( it ) ) {</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">rechargeable_cbm::other</a>;</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>    }</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span> </div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa334c4a4c42fdb79d7ebc3e73b517e6f8">rechargeable_cbm::none</a>;</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>}</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span> </div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"><a class="line" href="classCharacter.html#a48b48caf9a892afb2d51d217b66f4953"> 1426</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCharacter.html#a48b48caf9a892afb2d51d217b66f4953">Character::get_acquirable_energy</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it, <a class="code hl_enumeration" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5a">rechargeable_cbm</a> cbm )<span class="keyword"> const</span></div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>    <span class="keywordflow">switch</span>( cbm ) {</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa334c4a4c42fdb79d7ebc3e73b517e6f8">rechargeable_cbm::none</a>:</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span> </div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa14106c7e29076a7501b25177e2848fcc">rechargeable_cbm::reactor</a>:</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>            <span class="keywordflow">if</span>( it.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; 0 ) {</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>                <span class="keyword">const</span> <span class="keyword">auto</span> iter = <a class="code hl_variable" href="consumption_8cpp.html#a21c7a5371d332978af3e4729459586af">plut_charges</a>.find( it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() );</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>                <span class="keywordflow">return</span> iter != <a class="code hl_variable" href="consumption_8cpp.html#a21c7a5371d332978af3e4729459586af">plut_charges</a>.end() ? it.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> * iter-&gt;second : 0;</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>            }</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span> </div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span> </div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa23295fa6e8af5fada85fd5ed40ce4c58">rechargeable_cbm::furnace</a>: {</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>            <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> consumed_vol = it.<a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>();</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>            <a class="code hl_class" href="classunits_1_1quantity.html">units::mass</a> consumed_mass = it.<a class="code hl_function" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a>();</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>            <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() &amp;&amp; it.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; it.<a class="code hl_function" href="classitem.html#abc27dc693d588feea7812432929fb5a9">charges_per_volume</a>( <a class="code hl_variable" href="consumption_8cpp.html#a11c4831d4b955b120e4516ab3ac75533">furnace_max_volume</a> ) ) {</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>                <span class="keyword">const</span> <span class="keywordtype">double</span> n_stacks = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( it.<a class="code hl_function" href="classitem.html#abc27dc693d588feea7812432929fb5a9">charges_per_volume</a>( <a class="code hl_variable" href="consumption_8cpp.html#a11c4831d4b955b120e4516ab3ac75533">furnace_max_volume</a> ) ) /</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>                                        it.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a>;</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>                consumed_vol = it.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#abd3ca12912367ae92d488864e09ea921">volume</a> * n_stacks;</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>                <span class="comment">// it.type-&gt;weight is in 10g units?</span></div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>                consumed_mass = it.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a4ecb806dae208ff275b4aa50ffcd3902">weight</a> * 10 * n_stacks;</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>            }</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>            <span class="keywordtype">int</span> amount = ( consumed_vol / 250_ml + consumed_mass / 1_gram ) / 9;</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span> </div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>            <span class="comment">// TODO: JSONize.</span></div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>            <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_class" href="classstring__id.html">material_id</a>( <span class="stringliteral">&quot;leather&quot;</span> ) ) ) {</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>                amount /= 4;</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>            }</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>            <span class="keywordflow">if</span>( it.<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_class" href="classstring__id.html">material_id</a>( <span class="stringliteral">&quot;wood&quot;</span> ) ) ) {</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>                amount /= 2;</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>            }</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span> </div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>            <span class="keywordflow">return</span> amount;</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>        }</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">rechargeable_cbm::other</a>:</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>            <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bionic_id</a> &amp;bid = <a class="code hl_function" href="classCharacter.html#a84cc7c0ee05228b3b6eec72c16335f47">get_most_efficient_bionic</a>( <a class="code hl_function" href="classCharacter.html#a4ed6a6f9d344eddefc42ea45e3f19dfa">get_bionic_fueled_with</a>( it ) );</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> to_consume = std::min( it.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>, bid-&gt;<a class="code hl_variable" href="structbionic__data.html#a2b5ec44e1d06dc01de34f0efd9483dbc">fuel_capacity</a> );</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> to_charge = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( it.<a class="code hl_function" href="classitem.html#a820e79d915781a615d3b160fa63946af">fuel_energy</a>() * to_consume * bid-&gt;<a class="code hl_variable" href="structbionic__data.html#adc21bfb66fbff7f76ef8097457986075">fuel_efficiency</a> );</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>            <span class="keywordflow">return</span> to_charge;</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>    }</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span> </div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>}</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span> </div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"><a class="line" href="classCharacter.html#a7e09c0bb63fbe757546c2d121e0f480b"> 1472</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCharacter.html#a48b48caf9a892afb2d51d217b66f4953">Character::get_acquirable_energy</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it )<span class="keyword"> const</span></div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCharacter.html#a48b48caf9a892afb2d51d217b66f4953">get_acquirable_energy</a>( it, <a class="code hl_function" href="classCharacter.html#a0da9712d69a6d58b659622f9cdbeacd7">get_cbm_rechargeable_with</a>( it ) );</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>}</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span> </div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"><a class="line" href="classCharacter.html#a5903c5bd493f4300e949d8452eb04835"> 1477</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCharacter.html#a5903c5bd493f4300e949d8452eb04835">Character::can_estimate_rot</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="consumption_8cpp.html#ad0e39d29af45ea0a03f280197b35ca72">skill_cooking</a> ) &gt;= 3 || <a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="consumption_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a> ) &gt;= 4;</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>}</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span> </div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"><a class="line" href="classCharacter.html#a881167b8345723b21ff8c7e54781dcd5"> 1482</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCharacter.html#a881167b8345723b21ff8c7e54781dcd5">Character::can_consume_as_is</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it )<span class="keyword"> const</span></div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>    <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#ac070089c03e5dc687bae39670edd5401">is_comestible</a>() || <a class="code hl_function" href="classCharacter.html#af95eda3657fd255e76aa3e4a43088d57">can_consume_for_bionic</a>( it );</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>}</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span> </div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"><a class="line" href="classCharacter.html#af95eda3657fd255e76aa3e4a43088d57"> 1487</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCharacter.html#af95eda3657fd255e76aa3e4a43088d57">Character::can_consume_for_bionic</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it )<span class="keyword"> const</span></div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCharacter.html#a0da9712d69a6d58b659622f9cdbeacd7">get_cbm_rechargeable_with</a>( it ) != <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa334c4a4c42fdb79d7ebc3e73b517e6f8">rechargeable_cbm::none</a>;</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>}</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span> </div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"><a class="line" href="classCharacter.html#aef5b7618d63c19913facbdf221098cf2"> 1492</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCharacter.html#aef5b7618d63c19913facbdf221098cf2">Character::can_consume</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it )<span class="keyword"> const</span></div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a881167b8345723b21ff8c7e54781dcd5">can_consume_as_is</a>( it ) ) {</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>    }</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>    <span class="comment">// Checking NO_RELOAD to prevent consumption of `battery` when contained in `battery_car` (#20012)</span></div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>    <span class="keywordflow">return</span> !it.<a class="code hl_function" href="classitem.html#a5996f63ca1797fc01482678b51a87680">is_container_empty</a>() &amp;&amp; !it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="consumption_8cpp.html#ab1b77b826e76fc26c990435f29f87d50">flag_NO_RELOAD</a> ) &amp;&amp;</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>           <a class="code hl_function" href="classCharacter.html#a881167b8345723b21ff8c7e54781dcd5">can_consume_as_is</a>( it.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>() );</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>}</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span> </div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"><a class="line" href="classCharacter.html#ad58bc3e4db2aa237a070695ca2746ee5"> 1502</a></span><a class="code hl_class" href="classitem.html">item</a> &amp;<a class="code hl_function" href="classCharacter.html#ad58bc3e4db2aa237a070695ca2746ee5">Character::get_consumable_from</a>( <a class="code hl_class" href="classitem.html">item</a> &amp;it )<span class="keyword"> const</span></div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>    <span class="keywordflow">if</span>( !it.<a class="code hl_function" href="classitem.html#a5996f63ca1797fc01482678b51a87680">is_container_empty</a>() &amp;&amp; <a class="code hl_function" href="classCharacter.html#a881167b8345723b21ff8c7e54781dcd5">can_consume_as_is</a>( it.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>() ) ) {</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>        <span class="keywordflow">return</span> it.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>();</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCharacter.html#a881167b8345723b21ff8c7e54781dcd5">can_consume_as_is</a>( it ) ) {</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>        <span class="keywordflow">return</span> it;</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>    }</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span> </div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>    <span class="keyword">static</span> <a class="code hl_class" href="classitem.html">item</a> null_comestible;</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>    <span class="comment">// Since it&#39;s not const.</span></div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>    null_comestible = <a class="code hl_class" href="classitem.html">item</a>();</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>    <span class="keywordflow">return</span> null_comestible;</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>}</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span> </div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"><a class="line" href="structconsumption__event.html#aae31d9467bd78265b298659dc808b612"> 1516</a></span><a class="code hl_function" href="structconsumption__event.html#af25f2a22ce1b57d634dfdab388d08f5d">consumption_event::consumption_event</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;food ) : time( <a class="code hl_namespace" href="namespacecalendar.html">calendar</a>::<a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">turn</a> )</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>{</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>    <a class="code hl_variable" href="structconsumption__event.html#ae8ccb6bd97c295530db359ef8a9cf19e">type_id</a> = food.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>();</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>    <a class="code hl_variable" href="structconsumption__event.html#a8bd22e7e99c473ff0bc630bf92846aab">component_hash</a> = food.<a class="code hl_function" href="classitem.html#a0863a9784ae90c120d91478521163f16">make_component_hash</a>();</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>}</div>
<div class="ttc" id="aaddiction_8cpp_html_ac1079f9dbc0ea66f2b01a3f1d1130459"><div class="ttname"><a href="addiction_8cpp.html#ac1079f9dbc0ea66f2b01a3f1d1130459">addiction_craving</a></div><div class="ttdeci">morale_type addiction_craving(add_type const cur)</div><div class="ttdef"><b>Definition:</b> <a href="addiction_8cpp_source.html#l00307">addiction.cpp:307</a></div></div>
<div class="ttc" id="aaddiction_8h_html"><div class="ttname"><a href="addiction_8h.html">addiction.h</a></div></div>
<div class="ttc" id="aartifact_8cpp_html_a70800e95389f34dd34186fafaea2a840"><div class="ttname"><a href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a></div><div class="ttdeci">units::quantity&lt; V, B &gt; rng(const units::quantity&lt; V, B &gt; &amp;min, const units::quantity&lt; V, B &gt; &amp;max)</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8cpp_source.html#l00032">artifact.cpp:32</a></div></div>
<div class="ttc" id="aavatar_8h_html"><div class="ttname"><a href="avatar_8h.html">avatar.h</a></div></div>
<div class="ttc" id="abionics_8h_html"><div class="ttname"><a href="bionics_8h.html">bionics.h</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a></div><div class="ttdeci">@ num_bp</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00053">bodypart.h:52</a></div></div>
<div class="ttc" id="acached__options_8cpp_html_a1467e25ae6a1c8f9d4489be4a8e014a3"><div class="ttname"><a href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a></div><div class="ttdeci">int PICKUP_RANGE</div><div class="ttdoc">Items on the map with at most this distance to the player are considered available for crafting,...</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00019">cached_options.cpp:19</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_aeb989652ea2bf7fd03b07a74fd30bd7a"><div class="ttname"><a href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">to_string</a></div><div class="ttdeci">std::string to_string(const time_duration &amp;d)</div><div class="ttdoc">Returns a string showing a duration.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00327">calendar.cpp:327</a></div></div>
<div class="ttc" id="acalendar_8h_html"><div class="ttname"><a href="calendar_8h.html">calendar.h</a></div></div>
<div class="ttc" id="acata__utility_8h_html"><div class="ttname"><a href="cata__utility_8h.html">cata_utility.h</a></div></div>
<div class="ttc" id="acata__utility_8h_html_ad22b4a043b6eb4c2c06f87f83b720b15"><div class="ttname"><a href="cata__utility_8h.html#ad22b4a043b6eb4c2c06f87f83b720b15">clamp</a></div><div class="ttdeci">constexpr T clamp(const T &amp;val, const T &amp;min, const T &amp;max)</div><div class="ttdoc">Clamp first argument so that it is no lower than second and no higher than third.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8h_source.html#l00145">cata_utility.h:145</a></div></div>
<div class="ttc" id="acharacter_8h_html_a2e6af65e94e820564fb484840378cf4aa471a11f43e136d5e6058d2a4ba9c1442"><div class="ttname"><a href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa471a11f43e136d5e6058d2a4ba9c1442">thirst_levels::slaked</a></div><div class="ttdeci">@ slaked</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedf"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedf">edible_rating</a></div><div class="ttdeci">edible_rating</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00157">character.h:157</a></div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa0165972a7b3702e2d84cad0fd0d07c95"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa0165972a7b3702e2d84cad0fd0d07c95">edible_rating::no_tool</a></div><div class="ttdeci">@ no_tool</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa072ff6bd71a0e05f5b6f7a91b2a16547"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa072ff6bd71a0e05f5b6f7a91b2a16547">edible_rating::nausea</a></div><div class="ttdeci">@ nausea</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa3670b0eaf04d6077f95061efc4fad858"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa3670b0eaf04d6077f95061efc4fad858">edible_rating::bloated</a></div><div class="ttdeci">@ bloated</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa4c9a2ac020f8dfdc0e570b74be35fcc5"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa4c9a2ac020f8dfdc0e570b74be35fcc5">edible_rating::inedible_mutation</a></div><div class="ttdeci">@ inedible_mutation</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfa78226289aba350a58537ecc63eccdff6"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfa78226289aba350a58537ecc63eccdff6">edible_rating::rotten</a></div><div class="ttdeci">@ rotten</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfab04d8d82ebedc4846179e7d31ac97ef4"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfab04d8d82ebedc4846179e7d31ac97ef4">edible_rating::too_full</a></div><div class="ttdeci">@ too_full</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfad31765030932e90b353bfa393a1fd5ab"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfad31765030932e90b353bfa393a1fd5ab">edible_rating::edible</a></div><div class="ttdeci">@ edible</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfae13d519f1da4a4e37af747205ba9ca23"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfae13d519f1da4a4e37af747205ba9ca23">edible_rating::allergy</a></div><div class="ttdeci">@ allergy</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfaee115c898593ed7d1898b2e0ed0fd39c"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfaee115c898593ed7d1898b2e0ed0fd39c">edible_rating::cannibalism</a></div><div class="ttdeci">@ cannibalism</div></div>
<div class="ttc" id="acharacter_8h_html_a3a436072188c9efbfad9d5a7d017aedfafdf8798a8492541a3d494c0e6fd1af5e"><div class="ttname"><a href="character_8h.html#a3a436072188c9efbfad9d5a7d017aedfafdf8798a8492541a3d494c0e6fd1af5e">edible_rating::allergy_weak</a></div><div class="ttdeci">@ allergy_weak</div></div>
<div class="ttc" id="acharacter_8h_html_a70a4eaaf64bcd7658f91bfb500492f5a"><div class="ttname"><a href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5a">rechargeable_cbm</a></div><div class="ttdeci">rechargeable_cbm</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00182">character.h:182</a></div></div>
<div class="ttc" id="acharacter_8h_html_a70a4eaaf64bcd7658f91bfb500492f5aa14106c7e29076a7501b25177e2848fcc"><div class="ttname"><a href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa14106c7e29076a7501b25177e2848fcc">rechargeable_cbm::reactor</a></div><div class="ttdeci">@ reactor</div></div>
<div class="ttc" id="acharacter_8h_html_a70a4eaaf64bcd7658f91bfb500492f5aa23295fa6e8af5fada85fd5ed40ce4c58"><div class="ttname"><a href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa23295fa6e8af5fada85fd5ed40ce4c58">rechargeable_cbm::furnace</a></div><div class="ttdeci">@ furnace</div></div>
<div class="ttc" id="acharacter_8h_html_a70a4eaaf64bcd7658f91bfb500492f5aa334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa334c4a4c42fdb79d7ebc3e73b517e6f8">rechargeable_cbm::none</a></div><div class="ttdeci">@ none</div></div>
<div class="ttc" id="acharacter_8h_html_a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf"><div class="ttname"><a href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">rechargeable_cbm::other</a></div><div class="ttdeci">@ other</div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00202">character.h:203</a></div></div>
<div class="ttc" id="aclassCharacter_html_a04df4efd633604ed5b88827b8072a1d2"><div class="ttname"><a href="classCharacter.html#a04df4efd633604ed5b88827b8072a1d2">Character::can_eat</a></div><div class="ttdeci">ret_val&lt; edible_rating &gt; can_eat(const item &amp;food) const</div><div class="ttdoc">Can the food be [theoretically] eaten no matter the consequen ces?</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00635">consumption.cpp:635</a></div></div>
<div class="ttc" id="aclassCharacter_html_a075e636b02332a92beb8aaadd7653118"><div class="ttname"><a href="classCharacter.html#a075e636b02332a92beb8aaadd7653118">Character::expose_to_disease</a></div><div class="ttdeci">void expose_to_disease(diseasetype_id dis_type)</div><div class="ttdoc">Determine if character is susceptible to dis_type and if so apply the symptoms.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01624">character.cpp:1624</a></div></div>
<div class="ttc" id="aclassCharacter_html_a0da9712d69a6d58b659622f9cdbeacd7"><div class="ttname"><a href="classCharacter.html#a0da9712d69a6d58b659622f9cdbeacd7">Character::get_cbm_rechargeable_with</a></div><div class="ttdeci">rechargeable_cbm get_cbm_rechargeable_with(const item &amp;it) const</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01409">consumption.cpp:1409</a></div></div>
<div class="ttc" id="aclassCharacter_html_a135907caa62db71b58cb8a46e8180ce6"><div class="ttname"><a href="classCharacter.html#a135907caa62db71b58cb8a46e8180ce6">Character::modify_addiction</a></div><div class="ttdeci">void modify_addiction(const islot_comestible &amp;comest)</div><div class="ttdoc">Used to apply addiction modifications from food and medication.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01044">consumption.cpp:1044</a></div></div>
<div class="ttc" id="aclassCharacter_html_a17446e14fd6046648a505c4aaec3d976"><div class="ttname"><a href="classCharacter.html#a17446e14fd6046648a505c4aaec3d976">Character::mod_power_level</a></div><div class="ttdeci">void mod_power_level(const units::energy &amp;npower)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01987">character.cpp:1987</a></div></div>
<div class="ttc" id="aclassCharacter_html_a187c642b9a6ea2a8c8b1a257ecd11f3e"><div class="ttname"><a href="classCharacter.html#a187c642b9a6ea2a8c8b1a257ecd11f3e">Character::modify_stimulation</a></div><div class="ttdeci">void modify_stimulation(const islot_comestible &amp;comest)</div><div class="ttdoc">Used to apply stimulation modifications from food and medication.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00999">consumption.cpp:999</a></div></div>
<div class="ttc" id="aclassCharacter_html_a218867c29011e068411140277abdab80"><div class="ttname"><a href="classCharacter.html#a218867c29011e068411140277abdab80">Character::add_addiction</a></div><div class="ttdeci">void add_addiction(add_type type, int strength)</div><div class="ttdoc">Adds an addiction to the player.</div><div class="ttdef"><b>Definition:</b> <a href="suffer_8cpp_source.html#l01889">suffer.cpp:1889</a></div></div>
<div class="ttc" id="aclassCharacter_html_a21a89fdd699655461fd63d27179d3adb"><div class="ttname"><a href="classCharacter.html#a21a89fdd699655461fd63d27179d3adb">Character::has_trait_flag</a></div><div class="ttdeci">bool has_trait_flag(const std::string &amp;b) const</div><div class="ttdoc">Returns true if player has a trait with a flag.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00108">mutation.cpp:108</a></div></div>
<div class="ttc" id="aclassCharacter_html_a24a1143537358b4138e3d9d504847a81"><div class="ttname"><a href="classCharacter.html#a24a1143537358b4138e3d9d504847a81">Character::metabolic_rate</a></div><div class="ttdeci">float metabolic_rate() const</div><div class="ttdoc">Current metabolic rate due to traits, hunger, speed, etc.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00607">consumption.cpp:607</a></div></div>
<div class="ttc" id="aclassCharacter_html_a2aa55d8bbc2485b0f02b7c4f7af79605"><div class="ttname"><a href="classCharacter.html#a2aa55d8bbc2485b0f02b7c4f7af79605">Character::modify_morale</a></div><div class="ttdeci">void modify_morale(item &amp;food, int nutr=0)</div><div class="ttdoc">Used to apply morale modifications from food and medication.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01052">consumption.cpp:1052</a></div></div>
<div class="ttc" id="aclassCharacter_html_a2fb9db0c817b5144d7351c38f0a43f55"><div class="ttname"><a href="classCharacter.html#a2fb9db0c817b5144d7351c38f0a43f55">Character::consumption_history</a></div><div class="ttdeci">pimpl&lt; consumption_history_t &gt; consumption_history</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01528">character.h:1528</a></div></div>
<div class="ttc" id="aclassCharacter_html_a306dfd8496f2ff25cce5ad2a9cc7f80e"><div class="ttname"><a href="classCharacter.html#a306dfd8496f2ff25cce5ad2a9cc7f80e">Character::allergy_type</a></div><div class="ttdeci">morale_type allergy_type(const item &amp;food) const</div><div class="ttdoc">Returns allergy type or MORALE_NULL if not allergic for this character.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00612">consumption.cpp:612</a></div></div>
<div class="ttc" id="aclassCharacter_html_a30ae2557de3be7c7e7f353fffc557c91"><div class="ttname"><a href="classCharacter.html#a30ae2557de3be7c7e7f353fffc557c91">Character::compute_effective_nutrients</a></div><div class="ttdeci">nutrients compute_effective_nutrients(const item &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00328">consumption.cpp:328</a></div></div>
<div class="ttc" id="aclassCharacter_html_a314c7e8043648ef9e6189ed8d9de0654"><div class="ttname"><a href="classCharacter.html#a314c7e8043648ef9e6189ed8d9de0654">Character::vitamin_levels</a></div><div class="ttdeci">std::map&lt; vitamin_id, int &gt; vitamin_levels</div><div class="ttdoc">Current deficiency/excess quantity for each vitamin.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l02130">character.h:2130</a></div></div>
<div class="ttc" id="aclassCharacter_html_a358731acbb8b137aa540bb8d49109ca3"><div class="ttname"><a href="classCharacter.html#a358731acbb8b137aa540bb8d49109ca3">Character::query_yn</a></div><div class="ttdeci">bool query_yn(const char *const msg, Args &amp;&amp;... args) const</div><div class="ttdoc">It is supposed to hide the query_yn to simplify player vs.</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01435">character.h:1435</a></div></div>
<div class="ttc" id="aclassCharacter_html_a3d0ec2b4e80527bd2daad576c2bbb187"><div class="ttname"><a href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">Character::use_charges</a></div><div class="ttdeci">std::list&lt; item &gt; use_charges(const itype_id &amp;what, int qty, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09658">character.cpp:9658</a></div></div>
<div class="ttc" id="aclassCharacter_html_a3ecd6260cdd64e5e520d834f03e449bd"><div class="ttname"><a href="classCharacter.html#a3ecd6260cdd64e5e520d834f03e449bd">Character::crossed_threshold</a></div><div class="ttdeci">bool crossed_threshold() const</div><div class="ttdoc">Returns true if the player has crossed a mutation threshold Player can only cross one mutation thresh...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08716">character.cpp:8716</a></div></div>
<div class="ttc" id="aclassCharacter_html_a431180ff2af878a9956bf474783017c0"><div class="ttname"><a href="classCharacter.html#a431180ff2af878a9956bf474783017c0">Character::mod_stored_kcal</a></div><div class="ttdeci">virtual void mod_stored_kcal(int nkcal)</div><div class="ttdoc">Modifiers for need values exclusive to characters.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04299">character.cpp:4299</a></div></div>
<div class="ttc" id="aclassCharacter_html_a48b48caf9a892afb2d51d217b66f4953"><div class="ttname"><a href="classCharacter.html#a48b48caf9a892afb2d51d217b66f4953">Character::get_acquirable_energy</a></div><div class="ttdeci">int get_acquirable_energy(const item &amp;it, rechargeable_cbm cbm) const</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01426">consumption.cpp:1426</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4905fef46d52e8b8334cc22666addcf0"><div class="ttname"><a href="classCharacter.html#a4905fef46d52e8b8334cc22666addcf0">Character::max_stored_kcal</a></div><div class="ttdeci">int max_stored_kcal() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04317">character.cpp:4317</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4eb1793aafe89d34ba7ab96bf9facc19"><div class="ttname"><a href="classCharacter.html#a4eb1793aafe89d34ba7ab96bf9facc19">Character::will_eat</a></div><div class="ttdeci">ret_val&lt; edible_rating &gt; will_eat(const item &amp;food, bool interactive=false) const</div><div class="ttdoc">Same as can_eat, but takes consequences into account.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00725">consumption.cpp:725</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4ed6a6f9d344eddefc42ea45e3f19dfa"><div class="ttname"><a href="classCharacter.html#a4ed6a6f9d344eddefc42ea45e3f19dfa">Character::get_bionic_fueled_with</a></div><div class="ttdeci">std::vector&lt; bionic_id &gt; get_bionic_fueled_with(const item &amp;it) const</div><div class="ttdoc">Return bionic_id of bionics able to use it as fuel.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01928">character.cpp:1928</a></div></div>
<div class="ttc" id="aclassCharacter_html_a504cb6c25145b63f0d764e5704200ae1"><div class="ttname"><a href="classCharacter.html#a504cb6c25145b63f0d764e5704200ae1">Character::can_feed_furnace_with</a></div><div class="ttdeci">bool can_feed_furnace_with(const item &amp;it) const</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01301">consumption.cpp:1301</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5106996739b703dd5915cf166236653a"><div class="ttname"><a href="classCharacter.html#a5106996739b703dd5915cf166236653a">Character::set_stim</a></div><div class="ttdeci">void set_stim(int new_stim)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07166">character.cpp:7166</a></div></div>
<div class="ttc" id="aclassCharacter_html_a54f90ca736510c41a6539c8d8ad833b6"><div class="ttname"><a href="classCharacter.html#a54f90ca736510c41a6539c8d8ad833b6">Character::consume_effects</a></div><div class="ttdeci">bool consume_effects(item &amp;food)</div><div class="ttdoc">Handles the effects of consuming an item.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01157">consumption.cpp:1157</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5577a0e5921fcd26b7e28570fc3d7349"><div class="ttname"><a href="classCharacter.html#a5577a0e5921fcd26b7e28570fc3d7349">Character::compute_nutrient_range</a></div><div class="ttdeci">std::pair&lt; nutrients, nutrients &gt; compute_nutrient_range(const item &amp;, const recipe_id &amp;, const cata::flat_set&lt; std::string &gt; &amp;extra_flags={}) const</div><div class="ttdoc">Get calorie &amp; vitamin contents for a comestible, taking into account character traits.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00354">consumption.cpp:354</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5751b689e5a4ecd43b6de5c3e2d31541"><div class="ttname"><a href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">Character::has_bionic</a></div><div class="ttdeci">bool has_bionic(const bionic_id &amp;b) const</div><div class="ttdoc">Returns true if the player has the entered bionic id.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01877">character.cpp:1877</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5903c5bd493f4300e949d8452eb04835"><div class="ttname"><a href="classCharacter.html#a5903c5bd493f4300e949d8452eb04835">Character::can_estimate_rot</a></div><div class="ttdeci">bool can_estimate_rot() const</div><div class="ttdoc">True if the character has enough skill (in cooking or survival) to estimate time to rot.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01477">consumption.cpp:1477</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6168af7dd0878d4c7fe9322fd7f0cb0f"><div class="ttname"><a href="classCharacter.html#a6168af7dd0878d4c7fe9322fd7f0cb0f">Character::is_max_power</a></div><div class="ttdeci">bool is_max_power() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02004">character.cpp:2004</a></div></div>
<div class="ttc" id="aclassCharacter_html_a67a7e1b4bc1b191c747a27a1575ee1a6"><div class="ttname"><a href="classCharacter.html#a67a7e1b4bc1b191c747a27a1575ee1a6">Character::mod_fatigue</a></div><div class="ttdeci">virtual void mod_fatigue(int nfatigue)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04430">character.cpp:4430</a></div></div>
<div class="ttc" id="aclassCharacter_html_a69245a386351aaece624b82f7fb668d2"><div class="ttname"><a href="classCharacter.html#a69245a386351aaece624b82f7fb668d2">Character::metabolic_rate_base</a></div><div class="ttdeci">float metabolic_rate_base() const</div><div class="ttdoc">Stable base metabolic rate due to traits.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00594">consumption.cpp:594</a></div></div>
<div class="ttc" id="aclassCharacter_html_a72b82d2498ae823e0cd6cad311215327"><div class="ttname"><a href="classCharacter.html#a72b82d2498ae823e0cd6cad311215327">Character::vomit</a></div><div class="ttdeci">void vomit()</div><div class="ttdoc">Handles Character vomiting effects.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07794">character.cpp:7794</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7335f053c5874081211552623fa625c5"><div class="ttname"><a href="classCharacter.html#a7335f053c5874081211552623fa625c5">Character::get_stim</a></div><div class="ttdeci">int get_stim() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07161">character.cpp:7161</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7536f499a8b09536d1d9c8360319fad5"><div class="ttname"><a href="classCharacter.html#a7536f499a8b09536d1d9c8360319fad5">Character::vitamin_get</a></div><div class="ttdeci">int vitamin_get(const vitamin_id &amp;vit) const</div><div class="ttdoc">Check current level of a vitamin.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00573">consumption.cpp:573</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7975474f0c63007e927640d70614ee71"><div class="ttname"><a href="classCharacter.html#a7975474f0c63007e927640d70614ee71">Character::vitamin_set</a></div><div class="ttdeci">bool vitamin_set(const vitamin_id &amp;vit, int qty)</div><div class="ttdoc">Sets level of a vitamin or returns false if id given in vit does not exist.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00583">consumption.cpp:583</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7ca6c670844c9fd8c419c474788a7bf7"><div class="ttname"><a href="classCharacter.html#a7ca6c670844c9fd8c419c474788a7bf7">Character::get_thirst</a></div><div class="ttdeci">int get_thirst() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04327">character.cpp:4327</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7fbae705aa03db588d52519dfa1e285c"><div class="ttname"><a href="classCharacter.html#a7fbae705aa03db588d52519dfa1e285c">Character::mutation_value</a></div><div class="ttdeci">float mutation_value(const std::string &amp;val) const</div><div class="ttdoc">Goes over all mutations, gets min and max of a value with given name.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06751">character.cpp:6751</a></div></div>
<div class="ttc" id="aclassCharacter_html_a824a60fef8920f38a6f1e1b35bea4879"><div class="ttname"><a href="classCharacter.html#a824a60fef8920f38a6f1e1b35bea4879">Character::get_stored_kcal</a></div><div class="ttdeci">int get_stored_kcal() const</div><div class="ttdoc">Getter for need values exclusive to characters.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04294">character.cpp:4294</a></div></div>
<div class="ttc" id="aclassCharacter_html_a842395c262eb711ca235be5de59e9781"><div class="ttname"><a href="classCharacter.html#a842395c262eb711ca235be5de59e9781">Character::modify_radiation</a></div><div class="ttdeci">void modify_radiation(const islot_comestible &amp;comest)</div><div class="ttdoc">Used to apply radiation from food and medication.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01039">consumption.cpp:1039</a></div></div>
<div class="ttc" id="aclassCharacter_html_a84cc7c0ee05228b3b6eec72c16335f47"><div class="ttname"><a href="classCharacter.html#a84cc7c0ee05228b3b6eec72c16335f47">Character::get_most_efficient_bionic</a></div><div class="ttdeci">bionic_id get_most_efficient_bionic(const std::vector&lt; bionic_id &gt; &amp;bids) const</div><div class="ttdoc">Return bionic_id of bionic of most fuel efficient bionic.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01954">character.cpp:1954</a></div></div>
<div class="ttc" id="aclassCharacter_html_a881167b8345723b21ff8c7e54781dcd5"><div class="ttname"><a href="classCharacter.html#a881167b8345723b21ff8c7e54781dcd5">Character::can_consume_as_is</a></div><div class="ttdeci">bool can_consume_as_is(const item &amp;it) const</div><div class="ttdoc">Check whether character can consume this very item.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01482">consumption.cpp:1482</a></div></div>
<div class="ttc" id="aclassCharacter_html_a8c4e364e25b0ea4d5a27c3120a9f973f"><div class="ttname"><a href="classCharacter.html#a8c4e364e25b0ea4d5a27c3120a9f973f">Character::mod_healthy_mod</a></div><div class="ttdeci">virtual void mod_healthy_mod(int nhealthy_mod, int cap)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04258">character.cpp:4258</a></div></div>
<div class="ttc" id="aclassCharacter_html_a97c5948a2648dc5fd3e2defd5885cdb0"><div class="ttname"><a href="classCharacter.html#a97c5948a2648dc5fd3e2defd5885cdb0">Character::get_mutations</a></div><div class="ttdeci">std::vector&lt; trait_id &gt; get_mutations(bool include_hidden=true) const</div><div class="ttdoc">Get the idents of all traits/mutations.</div><div class="ttdef"><b>Definition:</b> <a href="newcharacter_8cpp_source.html#l02857">newcharacter.cpp:2857</a></div></div>
<div class="ttc" id="aclassCharacter_html_a98634805ba288293c54905c26cb5e8a2"><div class="ttname"><a href="classCharacter.html#a98634805ba288293c54905c26cb5e8a2">Character::can_fuel_bionic_with</a></div><div class="ttdeci">bool can_fuel_bionic_with(const item &amp;it) const</div><div class="ttdoc">Returns true if the character can fuel a bionic with the item.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01912">character.cpp:1912</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9bff3208a5e121c4e3a71b81b378e4e7"><div class="ttname"><a href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">Character::has_charges</a></div><div class="ttdeci">bool has_charges(const itype_id &amp;it, int quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09598">character.cpp:9598</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9ce2644a98b526b5e453b043f5fa49bc"><div class="ttname"><a href="classCharacter.html#a9ce2644a98b526b5e453b043f5fa49bc">Character::mod_thirst</a></div><div class="ttdeci">virtual void mod_thirst(int nthirst)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04414">character.cpp:4414</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa4ecfee35839a07be48afccbe582023e"><div class="ttname"><a href="classCharacter.html#aa4ecfee35839a07be48afccbe582023e">Character::stomach</a></div><div class="ttdeci">stomach_contents stomach</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01527">character.h:1527</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa81f7189c03db495fc90e44b3421ebc5"><div class="ttname"><a href="classCharacter.html#aa81f7189c03db495fc90e44b3421ebc5">Character::update_vitamins</a></div><div class="ttdeci">void update_vitamins(const vitamin_id &amp;vit)</div><div class="ttdoc">Set vitamin deficiency/excess disease states dependent upon current vitamin levels.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08800">character.cpp:8800</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab4435f5588dfa3597c3754ca5038c522"><div class="ttname"><a href="classCharacter.html#ab4435f5588dfa3597c3754ca5038c522">Character::vitamins_mod</a></div><div class="ttdeci">void vitamins_mod(const std::map&lt; vitamin_id, int &gt; &amp;, bool capped=true)</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00566">consumption.cpp:566</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab55ee1eb2acb63789182bf7bda945118"><div class="ttname"><a href="classCharacter.html#ab55ee1eb2acb63789182bf7bda945118">Character::feed_furnace_with</a></div><div class="ttdeci">bool feed_furnace_with(item &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01319">consumption.cpp:1319</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab6b6b317ae10bfb8f358fe289d645c96"><div class="ttname"><a href="classCharacter.html#ab6b6b317ae10bfb8f358fe289d645c96">Character::add_morale</a></div><div class="ttdeci">void add_morale(const morale_type &amp;type, int bonus, int max_bonus=0, const time_duration &amp;duration=1_hours, const time_duration &amp;decay_start=30_minutes, bool capped=false, const itype *item_type=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09091">character.cpp:9091</a></div></div>
<div class="ttc" id="aclassCharacter_html_abcc868bf2ce6d77beb80fe1e57fec732"><div class="ttname"><a href="classCharacter.html#abcc868bf2ce6d77beb80fe1e57fec732">Character::modify_health</a></div><div class="ttdeci">void modify_health(const islot_comestible &amp;comest)</div><div class="ttdoc">Used to apply health modifications from food and medication.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00991">consumption.cpp:991</a></div></div>
<div class="ttc" id="aclassCharacter_html_abd358c7a7757575b70b1613dbcce40a7"><div class="ttname"><a href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">Character::crafting_inventory</a></div><div class="ttdeci">const inventory &amp; crafting_inventory(bool clear_path)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00553">crafting.cpp:553</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac3e27cd8b8fe445e06e6d20d0eb82aff"><div class="ttname"><a href="classCharacter.html#ac3e27cd8b8fe445e06e6d20d0eb82aff">Character::get_max_power_level</a></div><div class="ttdeci">units::energy get_max_power_level() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01972">character.cpp:1972</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac55733961846b5c57183bd3b0fde9eae"><div class="ttname"><a href="classCharacter.html#ac55733961846b5c57183bd3b0fde9eae">Character::rem_morale</a></div><div class="ttdeci">void rem_morale(const morale_type &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09112">character.cpp:9112</a></div></div>
<div class="ttc" id="aclassCharacter_html_ac784c8908bd868115933c363e77cc0a6"><div class="ttname"><a href="classCharacter.html#ac784c8908bd868115933c363e77cc0a6">Character::update_fuel_storage</a></div><div class="ttdeci">void update_fuel_storage(const itype_id &amp;fuel)</div><div class="ttdoc">Updates which bionic contain fuel and which is empty.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02122">character.cpp:2122</a></div></div>
<div class="ttc" id="aclassCharacter_html_aca04618a096cdf167a88143d66d4aa0a"><div class="ttname"><a href="classCharacter.html#aca04618a096cdf167a88143d66d4aa0a">Character::vitamin_rate</a></div><div class="ttdeci">time_duration vitamin_rate(const vitamin_id &amp;vit) const</div><div class="ttdoc">Get vitamin usage rate (minutes per unit) accounting for bionics, mutations and effects.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00526">consumption.cpp:526</a></div></div>
<div class="ttc" id="aclassCharacter_html_acd0c316a434eb1177663869cea11e88e"><div class="ttname"><a href="classCharacter.html#acd0c316a434eb1177663869cea11e88e">Character::fuel_bionic_with</a></div><div class="ttdeci">bool fuel_bionic_with(item &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01377">consumption.cpp:1377</a></div></div>
<div class="ttc" id="aclassCharacter_html_ace2d1a2ba10920f5986e562fb8ff8aff"><div class="ttname"><a href="classCharacter.html#ace2d1a2ba10920f5986e562fb8ff8aff">Character::fun_for</a></div><div class="ttdeci">std::pair&lt; int, int &gt; fun_for(const item &amp;comest) const</div><div class="ttdoc">Handles the enjoyability value for a comestible.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00465">consumption.cpp:465</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad24859164517ed6e392e21df69527199"><div class="ttname"><a href="classCharacter.html#ad24859164517ed6e392e21df69527199">Character::pos</a></div><div class="ttdeci">const tripoint &amp; pos() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00714">character.cpp:714</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad58bc3e4db2aa237a070695ca2746ee5"><div class="ttname"><a href="classCharacter.html#ad58bc3e4db2aa237a070695ca2746ee5">Character::get_consumable_from</a></div><div class="ttdeci">item &amp; get_consumable_from(item &amp;it) const</div><div class="ttdoc">Returns a reference to the item itself (if it's consumable), the first of its contents (if it's consu...</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01502">consumption.cpp:1502</a></div></div>
<div class="ttc" id="aclassCharacter_html_adb47b37ee747b2306ff2b45809108be3"><div class="ttname"><a href="classCharacter.html#adb47b37ee747b2306ff2b45809108be3">Character::can_feed_reactor_with</a></div><div class="ttdeci">bool can_feed_reactor_with(const item &amp;it) const</div><div class="ttdoc">Determine character's capability of recharging their CBMs.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01254">consumption.cpp:1254</a></div></div>
<div class="ttc" id="aclassCharacter_html_adc248f444bde56349dc619c48a549c04"><div class="ttname"><a href="classCharacter.html#adc248f444bde56349dc619c48a549c04">Character::bonus_from_enchantments</a></div><div class="ttdeci">double bonus_from_enchantments(double base, enchant_vals::mod value, bool round=false) const</div><div class="ttdoc">Calculate bonus from enchantments for given base value.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08038">character.cpp:8038</a></div></div>
<div class="ttc" id="aclassCharacter_html_add22510ff2fa20a662868b4dd86e030e"><div class="ttname"><a href="classCharacter.html#add22510ff2fa20a662868b4dd86e030e">Character::get_power_level</a></div><div class="ttdeci">units::energy get_power_level() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01967">character.cpp:1967</a></div></div>
<div class="ttc" id="aclassCharacter_html_ade57fb8b6f705040f097ff6419d8c9d7"><div class="ttname"><a href="classCharacter.html#ade57fb8b6f705040f097ff6419d8c9d7">Character::tank_plut</a></div><div class="ttdeci">int tank_plut</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01531">character.h:1531</a></div></div>
<div class="ttc" id="aclassCharacter_html_adfe305dc4dab1ce52dc6b46c73f4883f"><div class="ttname"><a href="classCharacter.html#adfe305dc4dab1ce52dc6b46c73f4883f">Character::nutrition_for</a></div><div class="ttdeci">int nutrition_for(const item &amp;comest) const</div><div class="ttdoc">Handles the nutrition value for a comestible.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00460">consumption.cpp:460</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae7a558a2455f552673b825e3ad2e0fd4"><div class="ttname"><a href="classCharacter.html#ae7a558a2455f552673b825e3ad2e0fd4">Character::healall</a></div><div class="ttdeci">void healall(int dam)</div><div class="ttdoc">Heals all body parts for dam.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08649">character.cpp:8649</a></div></div>
<div class="ttc" id="aclassCharacter_html_aeac0c91004fe8bc0c5019e99439e5f31"><div class="ttname"><a href="classCharacter.html#aeac0c91004fe8bc0c5019e99439e5f31">Character::feed_reactor_with</a></div><div class="ttdeci">bool feed_reactor_with(item &amp;it)</div><div class="ttdoc">Recharge CBMs whenever possible.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01275">consumption.cpp:1275</a></div></div>
<div class="ttc" id="aclassCharacter_html_aef5b7618d63c19913facbdf221098cf2"><div class="ttname"><a href="classCharacter.html#aef5b7618d63c19913facbdf221098cf2">Character::can_consume</a></div><div class="ttdeci">bool can_consume(const item &amp;it) const</div><div class="ttdoc">Check character's capability of consumption overall.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01492">consumption.cpp:1492</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00103">mutation.cpp:103</a></div></div>
<div class="ttc" id="aclassCharacter_html_af090da1ea61ecf999c1136d48cc35a07"><div class="ttname"><a href="classCharacter.html#af090da1ea61ecf999c1136d48cc35a07">Character::vitamin_mod</a></div><div class="ttdeci">int vitamin_mod(const vitamin_id &amp;vit, int qty, bool capped=true)</div><div class="ttdoc">Add or subtract vitamins from character storage pools.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00541">consumption.cpp:541</a></div></div>
<div class="ttc" id="aclassCharacter_html_af157e1fa623589a34b3c23a511dbc797"><div class="ttname"><a href="classCharacter.html#af157e1fa623589a34b3c23a511dbc797">Character::irradiate</a></div><div class="ttdeci">bool irradiate(float rads, bool bypass=false)</div><div class="ttdoc">Handles mitigation and application of radiation.</div><div class="ttdef"><b>Definition:</b> <a href="suffer_8cpp_source.html#l01531">suffer.cpp:1531</a></div></div>
<div class="ttc" id="aclassCharacter_html_af1a5539eaced527b8c2b1dc36527dbec"><div class="ttname"><a href="classCharacter.html#af1a5539eaced527b8c2b1dc36527dbec">Character::mutation_category_level</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; mutation_category_level</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01719">character.h:1719</a></div></div>
<div class="ttc" id="aclassCharacter_html_af3fa3ed689e34de72fee39d15753d2b6"><div class="ttname"><a href="classCharacter.html#af3fa3ed689e34de72fee39d15753d2b6">Character::get_fuel_capacity</a></div><div class="ttdeci">int get_fuel_capacity(const itype_id &amp;fuel) const</div><div class="ttdoc">Return available space to store specified fuel.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02088">character.cpp:2088</a></div></div>
<div class="ttc" id="aclassCharacter_html_af95eda3657fd255e76aa3e4a43088d57"><div class="ttname"><a href="classCharacter.html#af95eda3657fd255e76aa3e4a43088d57">Character::can_consume_for_bionic</a></div><div class="ttdeci">bool can_consume_for_bionic(const item &amp;it) const</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01487">consumption.cpp:1487</a></div></div>
<div class="ttc" id="aclassCharacter_html_af9c7419575e23d52745c94009929fafb"><div class="ttname"><a href="classCharacter.html#af9c7419575e23d52745c94009929fafb">Character::has_active_bionic</a></div><div class="ttdeci">bool has_active_bionic(const bionic_id &amp;b) const</div><div class="ttdoc">Returns true if the player has the entered bionic id and it is powered on.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01887">character.cpp:1887</a></div></div>
<div class="ttc" id="aclassCharacter_html_afa95fe499ca6b55ab97f1b442a4c95c5"><div class="ttname"><a href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">Character::get_skill_level</a></div><div class="ttdeci">int get_skill_level(const skill_id &amp;ident) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03356">character.cpp:3356</a></div></div>
<div class="ttc" id="aclassCharacter_html_afefd24b9a3671f6d49454b28e3c52200"><div class="ttname"><a href="classCharacter.html#afefd24b9a3671f6d49454b28e3c52200">Character::modify_fatigue</a></div><div class="ttdeci">void modify_fatigue(const islot_comestible &amp;comest)</div><div class="ttdoc">Used to apply fatigue modifications from food and medication.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01034">consumption.cpp:1034</a></div></div>
<div class="ttc" id="aclassCreature_html_a04c1983abeefbf67db1e3f2b2a9b58ab"><div class="ttname"><a href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab">Creature::set_value</a></div><div class="ttdeci">void set_value(const std::string &amp;key, const std::string &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01331">creature.cpp:1331</a></div></div>
<div class="ttc" id="aclassCreature_html_a2acb6e1e19bcb775748403d07d8dc3f0"><div class="ttname"><a href="classCreature.html#a2acb6e1e19bcb775748403d07d8dc3f0">Creature::get_value</a></div><div class="ttdeci">std::string get_value(const std::string &amp;key) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01341">creature.cpp:1341</a></div></div>
<div class="ttc" id="aclassCreature_html_a5391e672390a2e5f28f0d5e6742c0b54"><div class="ttname"><a href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54">Creature::mod_pain</a></div><div class="ttdeci">virtual void mod_pain(int npain)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01347">creature.cpp:1347</a></div></div>
<div class="ttc" id="aclassCreature_html_a5a2346f549de9c87e8f2afeec1e71366"><div class="ttname"><a href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">Creature::is_underwater</a></div><div class="ttdeci">virtual bool is_underwater() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00174">creature.cpp:174</a></div></div>
<div class="ttc" id="aclassCreature_html_a666022fd3ed772fa109d273c20e8de55"><div class="ttname"><a href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a></div><div class="ttdeci">void add_effect(const effect &amp;eff, bool force=false, bool deferred=false)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00980">creature.cpp:980</a></div></div>
<div class="ttc" id="aclassCreature_html_a6fb79df9315dc2bed6f34d9a2e37da90"><div class="ttname"><a href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">Creature::has_effect</a></div><div class="ttdeci">bool has_effect(const efftype_id &amp;eff_id, body_part bp=num_bp) const</div><div class="ttdoc">Check if creature has the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01179">creature.cpp:1179</a></div></div>
<div class="ttc" id="aclassCreature_html_a7cf71d2bd6c350f2ceda3f1d64046e63"><div class="ttname"><a href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">Creature::add_msg_player_or_npc</a></div><div class="ttdeci">virtual void add_msg_player_or_npc(const std::string &amp;, const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00677">creature.h:677</a></div></div>
<div class="ttc" id="aclassCreature_html_a891bc2d0c564449cb462178317819254"><div class="ttname"><a href="classCreature.html#a891bc2d0c564449cb462178317819254">Creature::mod_moves</a></div><div class="ttdeci">void mod_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01408">creature.cpp:1408</a></div></div>
<div class="ttc" id="aclassCreature_html_a8c5a392caa213bee9581b47e9f0e2052"><div class="ttname"><a href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">Creature::moves</a></div><div class="ttdeci">int moves</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00569">creature.h:569</a></div></div>
<div class="ttc" id="aclassCreature_html_a91dc4715c36eef7d116f944be9a4d435"><div class="ttname"><a href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">Creature::add_msg_if_player</a></div><div class="ttdeci">virtual void add_msg_if_player(const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00593">creature.h:593</a></div></div>
<div class="ttc" id="aclassCreature_html_aed84fe52e1335d48d53f482f8a278c87"><div class="ttname"><a href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">Creature::is_npc</a></div><div class="ttdeci">virtual bool is_npc() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00098">creature.h:98</a></div></div>
<div class="ttc" id="aclasscata_1_1flat__set_html"><div class="ttname"><a href="classcata_1_1flat__set.html">cata::flat_set&lt; std::string &gt;</a></div></div>
<div class="ttc" id="aclasscata_1_1flat__set_html_ab427ae6af6b4cd328c0000bc197f881b"><div class="ttname"><a href="classcata_1_1flat__set.html#ab427ae6af6b4cd328c0000bc197f881b">cata::flat_set::insert</a></div><div class="ttdeci">iterator insert(iterator, const value_type &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="flat__set_8h_source.html#l00151">flat_set.h:151</a></div></div>
<div class="ttc" id="aclasscata_1_1optional_html"><div class="ttname"><a href="classcata_1_1optional.html">cata::optional</a></div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00030">optional.h:31</a></div></div>
<div class="ttc" id="aclassinventory_html"><div class="ttname"><a href="classinventory.html">inventory</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00089">inventory.h:90</a></div></div>
<div class="ttc" id="aclassitem__contents_html_a14299e40ca1440af11623c86e0b84072"><div class="ttname"><a href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">item_contents::front</a></div><div class="ttdeci">item &amp; front()</div><div class="ttdoc">this is an artifact of the previous code using front() everywhere for contents.</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00190">item_contents.cpp:190</a></div></div>
<div class="ttc" id="aclassitem__contents_html_aa744f662499b0a03029ea58389cc260a"><div class="ttname"><a href="classitem__contents.html#aa744f662499b0a03029ea58389cc260a">item_contents::num_item_stacks</a></div><div class="ttdeci">size_t num_item_stacks() const</div><div class="ttdoc">returns the number of items stacks in contents each item that is not count_by_charges,...</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00027">item_contents.cpp:27</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00175">item.h:176</a></div></div>
<div class="ttc" id="aclassitem_html_a016494fa25a7a403fe78fadbd90b267b"><div class="ttname"><a href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">item::count</a></div><div class="ttdeci">int count() const</div><div class="ttdoc">If count_by_charges(), returns charges, otherwise 1.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05881">item.cpp:5881</a></div></div>
<div class="ttc" id="aclassitem_html_a05c24ca1052a7a8cb9fd314acdb49f40"><div class="ttname"><a href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">item::is_favorite</a></div><div class="ttdeci">bool is_favorite</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02234">item.h:2234</a></div></div>
<div class="ttc" id="aclassitem_html_a0863a9784ae90c120d91478521163f16"><div class="ttname"><a href="classitem.html#a0863a9784ae90c120d91478521163f16">item::make_component_hash</a></div><div class="ttdeci">uint64_t make_component_hash() const</div><div class="ttdoc">Creates a hash from the itype_ids of this item's components.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08776">item.cpp:8776</a></div></div>
<div class="ttc" id="aclassitem_html_a310539e1dbfb640f2b23796a40c881f2"><div class="ttname"><a href="classitem.html#a310539e1dbfb640f2b23796a40c881f2">item::has_infinite_charges</a></div><div class="ttdeci">bool has_infinite_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09809">item.cpp:9809</a></div></div>
<div class="ttc" id="aclassitem_html_a3157f01f1da6fe89bdbc87db2605afb9"><div class="ttname"><a href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">item::weight</a></div><div class="ttdeci">units::mass weight(bool include_contents=true, bool integral=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04865">item.cpp:4865</a></div></div>
<div class="ttc" id="aclassitem_html_a34f7ae5deade2f4a8fed4f04e81797ce"><div class="ttname"><a href="classitem.html#a34f7ae5deade2f4a8fed4f04e81797ce">item::rotten</a></div><div class="ttdeci">bool rotten() const</div><div class="ttdoc">returns true if item is now rotten after all shelf life has elapsed</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00853">item.h:853</a></div></div>
<div class="ttc" id="aclassitem_html_a40963a016376016eb408bdb9dbb94388"><div class="ttname"><a href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a></div><div class="ttdeci">bool count_by_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05876">item.cpp:5876</a></div></div>
<div class="ttc" id="aclassitem_html_a411163e892e27c57b802d0d015c05162"><div class="ttname"><a href="classitem.html#a411163e892e27c57b802d0d015c05162">item::get_comestible</a></div><div class="ttdeci">const cata::value_ptr&lt; islot_comestible &gt; &amp; get_comestible() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09972">item.cpp:9972</a></div></div>
<div class="ttc" id="aclassitem_html_a4326944ae95f4d265c8ca1c76ed89a03"><div class="ttname"><a href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">item::made_of</a></div><div class="ttdeci">const std::vector&lt; material_id &gt; &amp; made_of() const</div><div class="ttdoc">The ids of all the materials this is made of.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06284">item.cpp:6284</a></div></div>
<div class="ttc" id="aclassitem_html_a438855ffd52d33307e1dfba6d607535b"><div class="ttname"><a href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a></div><div class="ttdeci">static std::string nname(const itype_id &amp;id, unsigned int quantity=1)</div><div class="ttdoc">Returns the translated item name for the item with given id.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09770">item.cpp:9770</a></div></div>
<div class="ttc" id="aclassitem_html_a464c09886d48850b162592b9aa985853"><div class="ttname"><a href="classitem.html#a464c09886d48850b162592b9aa985853">item::flammable</a></div><div class="ttdeci">bool flammable(int threshold=0) const</div><div class="ttdoc">Whether the items is flammable.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08180">item.cpp:8180</a></div></div>
<div class="ttc" id="aclassitem_html_a473448af85ae4182f130bd488bf7c0fb"><div class="ttname"><a href="classitem.html#a473448af85ae4182f130bd488bf7c0fb">item::mod_charges</a></div><div class="ttdeci">void mod_charges(int mod)</div><div class="ttdoc">Modify the charges of this item, only use for items counted by charges! The item must have enough cha...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09569">item.cpp:9569</a></div></div>
<div class="ttc" id="aclassitem_html_a4afe851abb42cbff0857065860f96e0e"><div class="ttname"><a href="classitem.html#a4afe851abb42cbff0857065860f96e0e">item::contents</a></div><div class="ttdeci">item_contents contents</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02157">item.h:2157</a></div></div>
<div class="ttc" id="aclassitem_html_a4d5555082454b3cb192f59a70838c891"><div class="ttname"><a href="classitem.html#a4d5555082454b3cb192f59a70838c891">item::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00732">item.cpp:732</a></div></div>
<div class="ttc" id="aclassitem_html_a51eafbdf8b331d88b741c0c527f98eb9"><div class="ttname"><a href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">item::volume</a></div><div class="ttdeci">units::volume volume(bool integral=false) const</div><div class="ttdoc">Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to n...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05012">item.cpp:5012</a></div></div>
<div class="ttc" id="aclassitem_html_a5996f63ca1797fc01482678b51a87680"><div class="ttname"><a href="classitem.html#a5996f63ca1797fc01482678b51a87680">item::is_container_empty</a></div><div class="ttdeci">bool is_container_empty() const</div><div class="ttdoc">Whether this item has no contents at all.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06708">item.cpp:6708</a></div></div>
<div class="ttc" id="aclassitem_html_a66b0bbc211f6fb668781640c971d3acc"><div class="ttname"><a href="classitem.html#a66b0bbc211f6fb668781640c971d3acc">item::get_comestible_fun</a></div><div class="ttdeci">int get_comestible_fun() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05392">item.cpp:5392</a></div></div>
<div class="ttc" id="aclassitem_html_a6bc022aab35ecd1f591a065aa4006eff"><div class="ttname"><a href="classitem.html#a6bc022aab35ecd1f591a065aa4006eff">item::color_in_inventory</a></div><div class="ttdeci">nc_color color_in_inventory() const</div><div class="ttdoc">Returns the color of the item depending on usefulness for the player character, e....</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04042">item.cpp:4042</a></div></div>
<div class="ttc" id="aclassitem_html_a6bfb92ab5d41e0eb3a1da160fac71b0e"><div class="ttname"><a href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">item::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02195">item.h:2195</a></div></div>
<div class="ttc" id="aclassitem_html_a723753bab4cc789e3ec186846c9916a3"><div class="ttname"><a href="classitem.html#a723753bab4cc789e3ec186846c9916a3">item::is_container</a></div><div class="ttdeci">bool is_container() const</div><div class="ttdoc">Whether this is container.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06590">item.cpp:6590</a></div></div>
<div class="ttc" id="aclassitem_html_a7e78e26dcf9b357cda769c3ca2938eda"><div class="ttname"><a href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">item::tname</a></div><div class="ttdeci">std::string tname(unsigned int quantity=1, bool with_prefix=true, unsigned int truncate=0) const</div><div class="ttdoc">Return the (translated) item name.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04465">item.cpp:4465</a></div></div>
<div class="ttc" id="aclassitem_html_a7f25e0430419609c538b07f704d6ba7a"><div class="ttname"><a href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">item::is_craft</a></div><div class="ttdeci">bool is_craft() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06789">item.cpp:6789</a></div></div>
<div class="ttc" id="aclassitem_html_a820e79d915781a615d3b160fa63946af"><div class="ttname"><a href="classitem.html#a820e79d915781a615d3b160fa63946af">item::fuel_energy</a></div><div class="ttdeci">float fuel_energy() const</div><div class="ttdoc">Returns energy of one charge of this item as fuel for an engine.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06687">item.cpp:6687</a></div></div>
<div class="ttc" id="aclassitem_html_a891e49f36521b955b9ad58817ddf65d8"><div class="ttname"><a href="classitem.html#a891e49f36521b955b9ad58817ddf65d8">item::components</a></div><div class="ttdeci">std::list&lt; item &gt; components</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02158">item.h:2158</a></div></div>
<div class="ttc" id="aclassitem_html_a9e2c24734b538e61e186fb6777b62c25"><div class="ttname"><a href="classitem.html#a9e2c24734b538e61e186fb6777b62c25">item::made_of_any</a></div><div class="ttdeci">bool made_of_any(const std::set&lt; material_id &gt; &amp;mat_idents) const</div><div class="ttdoc">Check we are made of at least one of a set (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06306">item.cpp:6306</a></div></div>
<div class="ttc" id="aclassitem_html_a9f276bdd47b29bc1649dce5c64cbe433"><div class="ttname"><a href="classitem.html#a9f276bdd47b29bc1649dce5c64cbe433">item::poison</a></div><div class="ttdeci">int poison</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02200">item.h:2200</a></div></div>
<div class="ttc" id="aclassitem_html_aa344ad5d3082d7a56b1c902fbafb6347"><div class="ttname"><a href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">item::is_medication</a></div><div class="ttdeci">bool is_medication() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06469">item.cpp:6469</a></div></div>
<div class="ttc" id="aclassitem_html_aa79dad64e1ef6347219be2f8666e2752"><div class="ttname"><a href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">item::typeId</a></div><div class="ttdeci">const itype_id &amp; typeId() const</div><div class="ttdoc">return the unique identifier of the items underlying type</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08217">item.cpp:8217</a></div></div>
<div class="ttc" id="aclassitem_html_aaa5aeb6f838927babb10ede535cf2a73"><div class="ttname"><a href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">item::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05213">item.cpp:5213</a></div></div>
<div class="ttc" id="aclassitem_html_aad45569fa1fdd99d602eabbbbca04f75"><div class="ttname"><a href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">item::is_food</a></div><div class="ttdeci">bool is_food() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06463">item.cpp:6463</a></div></div>
<div class="ttc" id="aclassitem_html_abc27dc693d588feea7812432929fb5a9"><div class="ttname"><a href="classitem.html#abc27dc693d588feea7812432929fb5a9">item::charges_per_volume</a></div><div class="ttdeci">int charges_per_volume(const units::volume &amp;vol) const</div><div class="ttdoc">Number of (charges of) this item that fit into the given volume.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00864">item.cpp:864</a></div></div>
<div class="ttc" id="aclassitem_html_ac070089c03e5dc687bae39670edd5401"><div class="ttname"><a href="classitem.html#ac070089c03e5dc687bae39670edd5401">item::is_comestible</a></div><div class="ttdeci">bool is_comestible() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06458">item.cpp:6458</a></div></div>
<div class="ttc" id="aclassitem_html_ac1d2c4c33b8a499812f3437cb2fad742"><div class="ttname"><a href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">item::type</a></div><div class="ttdeci">const itype * type</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02156">item.h:2156</a></div></div>
<div class="ttc" id="aclassitem_html_ac3cc4d74d020cbd36ae490cbe88f9152"><div class="ttname"><a href="classitem.html#ac3cc4d74d020cbd36ae490cbe88f9152">item::is_ammo</a></div><div class="ttdeci">bool is_ammo() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06453">item.cpp:6453</a></div></div>
<div class="ttc" id="aclassitem_html_aca5abd8656e123435b97da00608a5daa"><div class="ttname"><a href="classitem.html#aca5abd8656e123435b97da00608a5daa">item::has_any_flag</a></div><div class="ttdeci">bool has_any_flag(const Container &amp;flags) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l01402">item.h:1402</a></div></div>
<div class="ttc" id="aclassitem_html_acc31d53fc90c5d0af806946d51c45b0f"><div class="ttname"><a href="classitem.html#acc31d53fc90c5d0af806946d51c45b0f">item::has_own_flag</a></div><div class="ttdeci">bool has_own_flag(const std::string &amp;flag) const</div><div class="ttdoc">Checks whether item itself has given flag (doesn't check item type or gunmods).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05208">item.cpp:5208</a></div></div>
<div class="ttc" id="aclassitem_html_adfb5ddb3d50f317c79eb7a1a26a63905"><div class="ttname"><a href="classitem.html#adfb5ddb3d50f317c79eb7a1a26a63905">item::get_relative_rot</a></div><div class="ttdeci">double get_relative_rot() const</div><div class="ttdoc">Get rot value relative to shelf life (or 0 if item does not spoil)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05441">item.cpp:5441</a></div></div>
<div class="ttc" id="aclassitem_html_ae6e5a27a821edd75162d46364a24699b"><div class="ttname"><a href="classitem.html#ae6e5a27a821edd75162d46364a24699b">item::recipe_charges</a></div><div class="ttdeci">int recipe_charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02198">item.h:2198</a></div></div>
<div class="ttc" id="aclassitem_html_aeb62f6d93e37bf01af71f795cc39f4f1"><div class="ttname"><a href="classitem.html#aeb62f6d93e37bf01af71f795cc39f4f1">item::get_contained</a></div><div class="ttdeci">const item &amp; get_contained() const</div><div class="ttdoc">Return a contained item (if any and only one).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06911">item.cpp:6911</a></div></div>
<div class="ttc" id="aclassmonster_html"><div class="ttname"><a href="classmonster.html">monster</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00084">monster.h:85</a></div></div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00348">color.h:349</a></div></div>
<div class="ttc" id="aclassplayer_html"><div class="ttname"><a href="classplayer.html">player</a></div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00089">player.h:90</a></div></div>
<div class="ttc" id="aclassplayer_html_a07108565639fa6fe5b6776b4e8674fb6"><div class="ttname"><a href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">player::add_msg_player_or_npc</a></div><div class="ttdeci">void add_msg_player_or_npc(const std::string &amp;player_msg, const std::string &amp;npc_str) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03978">player.cpp:3978</a></div></div>
<div class="ttc" id="aclassplayer_html_aafa6cc2db2568af687ab21f09f8e4c2e"><div class="ttname"><a href="classplayer.html#aafa6cc2db2568af687ab21f09f8e4c2e">player::consume_tools</a></div><div class="ttdeci">void consume_tools(const comp_selection&lt; tool_comp &gt; &amp;tool, int batch)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01839">crafting.cpp:1839</a></div></div>
<div class="ttc" id="aclassplayer_html_ad1f5e6d21b83313ab148302140083b99"><div class="ttname"><a href="classplayer.html#ad1f5e6d21b83313ab148302140083b99">player::consume_items</a></div><div class="ttdeci">std::list&lt; item &gt; consume_items(const comp_selection&lt; item_comp &gt; &amp;is, int batch, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01507">crafting.cpp:1507</a></div></div>
<div class="ttc" id="aclassplayer_html_ade215471686460149590c160a167d9f4"><div class="ttname"><a href="classplayer.html#ade215471686460149590c160a167d9f4">player::eat</a></div><div class="ttdeci">bool eat(item &amp;food, bool force=false)</div><div class="ttdoc">Used for eating entered comestible, returns true if comestible is successfully eaten.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00821">consumption.cpp:821</a></div></div>
<div class="ttc" id="aclassplayer_html_ae7009d849f19a4f5ebe877cbe463c459"><div class="ttname"><a href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">player::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03973">player.cpp:3973</a></div></div>
<div class="ttc" id="aclassplayer_html_af4d6390315e3c781edf8649c5ae59a33"><div class="ttname"><a href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">player::is_player</a></div><div class="ttdeci">bool is_player() const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00105">player.h:105</a></div></div>
<div class="ttc" id="aclassrecipe__dictionary_html_a5f22263eae1314377f1c64ff6d6400fe"><div class="ttname"><a href="classrecipe__dictionary.html#a5f22263eae1314377f1c64ff6d6400fe">recipe_dictionary::is_item_on_loop</a></div><div class="ttdeci">bool is_item_on_loop(const itype_id &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00349">recipe_dictionary.cpp:349</a></div></div>
<div class="ttc" id="aclassrecipe_html"><div class="ttname"><a href="classrecipe.html">recipe</a></div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00034">recipe.h:35</a></div></div>
<div class="ttc" id="aclassrecipe_html_a0109db19f0b18d82ab469121ee60ca3f"><div class="ttname"><a href="classrecipe.html#a0109db19f0b18d82ab469121ee60ca3f">recipe::create_result</a></div><div class="ttdeci">item create_result() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00453">recipe.cpp:453</a></div></div>
<div class="ttc" id="aclassrecipe_html_a5dcc02c873f2936b832100109d0c3448"><div class="ttname"><a href="classrecipe.html#a5dcc02c873f2936b832100109d0c3448">recipe::simple_requirements</a></div><div class="ttdeci">const requirement_data &amp; simple_requirements() const</div><div class="ttdoc">Fetch combined requirement data (inline and via &quot;using&quot; syntax).</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00067">recipe.h:67</a></div></div>
<div class="ttc" id="aclassrecipe_html_aaf9e9415834cc507fd68b89070bd4bb4"><div class="ttname"><a href="classrecipe.html#aaf9e9415834cc507fd68b89070bd4bb4">recipe::hot_result</a></div><div class="ttdeci">bool hot_result() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00804">recipe.cpp:804</a></div></div>
<div class="ttc" id="aclassrecipe_html_ab2e645b839d27c9e037764715ce10612"><div class="ttname"><a href="classrecipe.html#ab2e645b839d27c9e037764715ce10612">recipe::byproducts</a></div><div class="ttdeci">std::map&lt; itype_id, int &gt; byproducts</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00105">recipe.h:105</a></div></div>
<div class="ttc" id="aclassret__val_html"><div class="ttname"><a href="classret__val.html">ret_val</a></div><div class="ttdoc">The class represents a composite return value of an arbitrary function (result).</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00020">ret_val.h:21</a></div></div>
<div class="ttc" id="aclassret__val_html_a0bbde13713bc279563fa85782599f957"><div class="ttname"><a href="classret__val.html#a0bbde13713bc279563fa85782599f957">ret_val::make_success</a></div><div class="ttdeci">static ret_val make_success(T val=default_success::value)</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00042">ret_val.h:42</a></div></div>
<div class="ttc" id="aclassret__val_html_a415798e6fd736bd724329890cae0df4a"><div class="ttname"><a href="classret__val.html#a415798e6fd736bd724329890cae0df4a">ret_val::make_failure</a></div><div class="ttdeci">static ret_val make_failure(T val=default_failure::value)</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00046">ret_val.h:46</a></div></div>
<div class="ttc" id="aclassstomach__contents_html_a96eccd372c5b0f42ca47bfd7bfeabaec"><div class="ttname"><a href="classstomach__contents.html#a96eccd372c5b0f42ca47bfd7bfeabaec">stomach_contents::ingest</a></div><div class="ttdeci">void ingest(const food_summary &amp;ingested)</div><div class="ttdoc">Directly adds food to stomach contents.</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8cpp_source.html#l00126">stomach.cpp:126</a></div></div>
<div class="ttc" id="aclassstomach__contents_html_aa5cf12fa92df9630e78c4cf5af74d616"><div class="ttname"><a href="classstomach__contents.html#aa5cf12fa92df9630e78c4cf5af74d616">stomach_contents::get_calories</a></div><div class="ttdeci">int get_calories() const</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8cpp_source.html#l00179">stomach.cpp:179</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; Skill &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00058">achievement.cpp:58</a></div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00065">achievement.cpp:65</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa7dabc565f0c067e1a237ea224b18f93"><div class="ttname"><a href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00255">string_id.h:255</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00179">calendar.h:180</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units__def_8h_source.html#l00014">units_def.h:15</a></div></div>
<div class="ttc" id="aclassvisitable_html_a5b3c37fbe8209cab68aa26d3cc7f4300"><div class="ttname"><a href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">visitable::items_with</a></div><div class="ttdeci">std::vector&lt; item * &gt; items_with(const std::function&lt; bool(const item &amp;)&gt; &amp;filter)</div><div class="ttdoc">Returns all items (including those within a container) matching the filter.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00324">visitable.cpp:324</a></div></div>
<div class="ttc" id="aclassvisitable_html_ac50bc4422d4636a70a97d41787f22d0d"><div class="ttname"><a href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">visitable&lt; Character &gt;::has_amount</a></div><div class="ttdeci">bool has_amount(const itype_id &amp;what, int qty, bool pseudo=true, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdoc">Check instance provides at least qty of an item (.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00096">visitable.cpp:1108</a></div></div>
<div class="ttc" id="aclassvitamin_html"><div class="ttname"><a href="classvitamin.html">vitamin</a></div><div class="ttdef"><b>Definition:</b> <a href="vitamin_8h_source.html#l00031">vitamin.h:32</a></div></div>
<div class="ttc" id="aclassvitamin_html_a02118e1482cc2de278511d63b764b7d0"><div class="ttname"><a href="classvitamin.html#a02118e1482cc2de278511d63b764b7d0">vitamin::max</a></div><div class="ttdeci">int max() const</div><div class="ttdoc">Upper bound for any accumulation of this vitamin.</div><div class="ttdef"><b>Definition:</b> <a href="vitamin_8h_source.html#l00072">vitamin.h:72</a></div></div>
<div class="ttc" id="aclassvitamin_html_a466e45b1a3189baec243eaf314923a05"><div class="ttname"><a href="classvitamin.html#a466e45b1a3189baec243eaf314923a05">vitamin::type</a></div><div class="ttdeci">const vitamin_type &amp; type() const</div><div class="ttdef"><b>Definition:</b> <a href="vitamin_8h_source.html#l00040">vitamin.h:40</a></div></div>
<div class="ttc" id="aclassvitamin_html_acfc2222126afc9c1040c1d71fb75ebe1"><div class="ttname"><a href="classvitamin.html#acfc2222126afc9c1040c1d71fb75ebe1">vitamin::min</a></div><div class="ttdeci">int min() const</div><div class="ttdoc">Lower bound for deficiency of this vitamin.</div><div class="ttdef"><b>Definition:</b> <a href="vitamin_8h_source.html#l00067">vitamin.h:67</a></div></div>
<div class="ttc" id="aclassvitamin_html_ae60227e2365936a1d53684a54f59835f"><div class="ttname"><a href="classvitamin.html#ae60227e2365936a1d53684a54f59835f">vitamin::rate</a></div><div class="ttdeci">time_duration rate() const</div><div class="ttdoc">Usage rate of vitamin (time to consume unit) Lower bound is zero whereby vitamin is not required (but...</div><div class="ttdef"><b>Definition:</b> <a href="vitamin_8h_source.html#l00080">vitamin.h:80</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a0f25678be1fc95cb81381a004493a4cc"><div class="ttname"><a href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a></div><div class="ttdeci">std::string colorize(const std::string &amp;text, const nc_color &amp;color)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00669">color.cpp:669</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_a0371615cbdf966655d267076abc28b68"><div class="ttname"><a href="consumption_8cpp.html#a0371615cbdf966655d267076abc28b68">trait_RUMINANT</a></div><div class="ttdeci">static const trait_id trait_RUMINANT(&quot;RUMINANT&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a0474d93e30c8db4395acf56a8d51a9fe"><div class="ttname"><a href="consumption_8cpp.html#a0474d93e30c8db4395acf56a8d51a9fe">carnivore_blacklist</a></div><div class="ttdeci">const std::vector&lt; std::string &gt; carnivore_blacklist</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00150">consumption.cpp:150</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_a074b87b8d18347675f51ed9e6d7e8787"><div class="ttname"><a href="consumption_8cpp.html#a074b87b8d18347675f51ed9e6d7e8787">effect_bloodworms</a></div><div class="ttdeci">static const efftype_id effect_bloodworms(&quot;bloodworms&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a08ed8f8240259a6a457502b0db459e08"><div class="ttname"><a href="consumption_8cpp.html#a08ed8f8240259a6a457502b0db459e08">effect_fungus</a></div><div class="ttdeci">static const efftype_id effect_fungus(&quot;fungus&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a0f1390ce6eca1256e19a739ef0906c23"><div class="ttname"><a href="consumption_8cpp.html#a0f1390ce6eca1256e19a739ef0906c23">flag_ALLERGEN_NUT</a></div><div class="ttdeci">static const std::string flag_ALLERGEN_NUT(&quot;ALLERGEN_NUT&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a11c4831d4b955b120e4516ab3ac75533"><div class="ttname"><a href="consumption_8cpp.html#a11c4831d4b955b120e4516ab3ac75533">furnace_max_volume</a></div><div class="ttdeci">const units::volume furnace_max_volume(3_liter)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a146a2a49b9de37f54c126426c47634de"><div class="ttname"><a href="consumption_8cpp.html#a146a2a49b9de37f54c126426c47634de">flag_FUNGAL_VECTOR</a></div><div class="ttdeci">static const std::string flag_FUNGAL_VECTOR(&quot;FUNGAL_VECTOR&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a164e5731223f7214b3de31da05ade52f"><div class="ttname"><a href="consumption_8cpp.html#a164e5731223f7214b3de31da05ade52f">flag_ALLERGEN_MILK</a></div><div class="ttdeci">static const std::string flag_ALLERGEN_MILK(&quot;ALLERGEN_MILK&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a16dc22cee5427c4ffbbe0db4dde27a5e"><div class="ttname"><a href="consumption_8cpp.html#a16dc22cee5427c4ffbbe0db4dde27a5e">trait_SHARKTEETH</a></div><div class="ttdeci">static const trait_id trait_SHARKTEETH(&quot;SHARKTEETH&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a17c3eadf018a3066a8a7f28d77aa160f"><div class="ttname"><a href="consumption_8cpp.html#a17c3eadf018a3066a8a7f28d77aa160f">flag_INEDIBLE</a></div><div class="ttdeci">static const std::string flag_INEDIBLE(&quot;INEDIBLE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a17cdfd8aef2fd5e8fceb6c62d37fa741"><div class="ttname"><a href="consumption_8cpp.html#a17cdfd8aef2fd5e8fceb6c62d37fa741">trait_HERBIVORE</a></div><div class="ttdeci">static const trait_id trait_HERBIVORE(&quot;HERBIVORE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a1cdd6de85176097b616ddd8e3e0a9239"><div class="ttname"><a href="consumption_8cpp.html#a1cdd6de85176097b616ddd8e3e0a9239">bio_taste_blocker</a></div><div class="ttdeci">static const bionic_id bio_taste_blocker(&quot;bio_taste_blocker&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a1eb34af6b7fba64663cb266638373e1b"><div class="ttname"><a href="consumption_8cpp.html#a1eb34af6b7fba64663cb266638373e1b">trait_EATDEAD</a></div><div class="ttdeci">static const trait_id trait_EATDEAD(&quot;EATDEAD&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a21bda02fdebbb5bafebd2ba308e29262"><div class="ttname"><a href="consumption_8cpp.html#a21bda02fdebbb5bafebd2ba308e29262">trait_SLIMESPAWNER</a></div><div class="ttdeci">static const trait_id trait_SLIMESPAWNER(&quot;SLIMESPAWNER&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a21c7a5371d332978af3e4729459586af"><div class="ttname"><a href="consumption_8cpp.html#a21c7a5371d332978af3e4729459586af">plut_charges</a></div><div class="ttdeci">const std::map&lt; itype_id, int &gt; plut_charges</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00163">consumption.cpp:163</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_a22b82ff6998caf559fabe67d535d6771"><div class="ttname"><a href="consumption_8cpp.html#a22b82ff6998caf559fabe67d535d6771">mon_player_blob</a></div><div class="ttdeci">static const mtype_id mon_player_blob(&quot;mon_player_blob&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a28e8b9d50a08cc7e9fcf534eca71b094"><div class="ttname"><a href="consumption_8cpp.html#a28e8b9d50a08cc7e9fcf534eca71b094">trait_SABER_TEETH</a></div><div class="ttdeci">static const trait_id trait_SABER_TEETH(&quot;SABER_TEETH&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a294459f1407d3d2bffba00b088675538"><div class="ttname"><a href="consumption_8cpp.html#a294459f1407d3d2bffba00b088675538">flag_ALLERGEN_VEGGY</a></div><div class="ttdeci">static const std::string flag_ALLERGEN_VEGGY(&quot;ALLERGEN_VEGGY&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a2d2463d7a32338731d9a8cd1be4faad0"><div class="ttname"><a href="consumption_8cpp.html#a2d2463d7a32338731d9a8cd1be4faad0">trait_THRESH_PLANT</a></div><div class="ttdeci">static const trait_id trait_THRESH_PLANT(&quot;THRESH_PLANT&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a2d861a0c4ca4d6d868785f9c37589ca3"><div class="ttname"><a href="consumption_8cpp.html#a2d861a0c4ca4d6d868785f9c37589ca3">flag_ALLERGEN_JUNK</a></div><div class="ttdeci">static const std::string flag_ALLERGEN_JUNK(&quot;ALLERGEN_JUNK&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a308d750c2cc01d70d7622fdee14be3a5"><div class="ttname"><a href="consumption_8cpp.html#a308d750c2cc01d70d7622fdee14be3a5">trait_M_IMMUNE</a></div><div class="ttdeci">static const trait_id trait_M_IMMUNE(&quot;M_IMMUNE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a33d14d146dbc0f416314bdb87d8fca77"><div class="ttname"><a href="consumption_8cpp.html#a33d14d146dbc0f416314bdb87d8fca77">effect_hallu</a></div><div class="ttdeci">static const efftype_id effect_hallu(&quot;hallu&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a35172e0dcda755fa8faef625bda972f3"><div class="ttname"><a href="consumption_8cpp.html#a35172e0dcda755fa8faef625bda972f3">compute_default_effective_nutrients</a></div><div class="ttdeci">static nutrients compute_default_effective_nutrients(const item &amp;comest, const Character &amp;you, const cata::flat_set&lt; std::string &gt; &amp;extra_flags={})</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00317">consumption.cpp:317</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_a36f9b5f5d763f2c224b59b75af340c6c"><div class="ttname"><a href="consumption_8cpp.html#a36f9b5f5d763f2c224b59b75af340c6c">bio_digestion</a></div><div class="ttdeci">static const bionic_id bio_digestion(&quot;bio_digestion&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a41e08c32ee980d1dd390b1d031c16696"><div class="ttname"><a href="consumption_8cpp.html#a41e08c32ee980d1dd390b1d031c16696">effect_tapeworm</a></div><div class="ttdeci">static const efftype_id effect_tapeworm(&quot;tapeworm&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a444e9abf6e0fe7e86f4b8bfedf6466b1"><div class="ttname"><a href="consumption_8cpp.html#a444e9abf6e0fe7e86f4b8bfedf6466b1">flag_ALLERGEN_EGG</a></div><div class="ttdeci">static const std::string flag_ALLERGEN_EGG(&quot;ALLERGEN_EGG&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a4637bd22fd149e8cbd782c93737ddf53"><div class="ttname"><a href="consumption_8cpp.html#a4637bd22fd149e8cbd782c93737ddf53">find_food_heater</a></div><div class="ttdeci">static cata::optional&lt; prepared_item_consumption &gt; find_food_heater(Character &amp;c, const inventory &amp;inv, bool has_fire)</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00211">consumption.cpp:211</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_a4fbf975d8c329497caf15aa91d65a664"><div class="ttname"><a href="consumption_8cpp.html#a4fbf975d8c329497caf15aa91d65a664">trait_CARNIVORE</a></div><div class="ttdeci">static const trait_id trait_CARNIVORE(&quot;CARNIVORE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a5101b830b78cb3ac9eb7f0c8f87b1d3b"><div class="ttname"><a href="consumption_8cpp.html#a5101b830b78cb3ac9eb7f0c8f87b1d3b">comesttype_DRINK</a></div><div class="ttdeci">static const std::string comesttype_DRINK(&quot;DRINK&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a5520025e157ffa952692c4a52c4ef27f"><div class="ttname"><a href="consumption_8cpp.html#a5520025e157ffa952692c4a52c4ef27f">compute_default_effective_kcal</a></div><div class="ttdeci">static int compute_default_effective_kcal(const item &amp;comest, const Character &amp;you, const cata::flat_set&lt; std::string &gt; &amp;extra_flags={})</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00242">consumption.cpp:242</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_a557169ee6dc6d09dfed331f1819983d5"><div class="ttname"><a href="consumption_8cpp.html#a557169ee6dc6d09dfed331f1819983d5">trait_THRESH_URSINE</a></div><div class="ttdeci">static const trait_id trait_THRESH_URSINE(&quot;THRESH_URSINE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a590a72c763f8f716dbd0a2da2fdf0d4b"><div class="ttname"><a href="consumption_8cpp.html#a590a72c763f8f716dbd0a2da2fdf0d4b">flag_URSINE_HONEY</a></div><div class="ttdeci">static const std::string flag_URSINE_HONEY(&quot;URSINE_HONEY&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a5c5d95582274018a683ad59398c9e69d"><div class="ttname"><a href="consumption_8cpp.html#a5c5d95582274018a683ad59398c9e69d">flag_ALLERGEN_FRUIT</a></div><div class="ttdeci">static const std::string flag_ALLERGEN_FRUIT(&quot;ALLERGEN_FRUIT&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a5f686344fc356a766b2eeb5fd27d56a3"><div class="ttname"><a href="consumption_8cpp.html#a5f686344fc356a766b2eeb5fd27d56a3">bio_furnace</a></div><div class="ttdeci">static const bionic_id bio_furnace(&quot;bio_furnace&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a62b448cbb3f42468e05cc71fd5942e09"><div class="ttname"><a href="consumption_8cpp.html#a62b448cbb3f42468e05cc71fd5942e09">flag_NUTRIENT_OVERRIDE</a></div><div class="ttdeci">static const std::string flag_NUTRIENT_OVERRIDE(&quot;NUTRIENT_OVERRIDE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a6644222f405b1e26a2095f76c0678670"><div class="ttname"><a href="consumption_8cpp.html#a6644222f405b1e26a2095f76c0678670">compute_default_effective_vitamins</a></div><div class="ttdeci">static std::map&lt; vitamin_id, int &gt; compute_default_effective_vitamins(const item &amp;it, const Character &amp;you)</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00285">consumption.cpp:285</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_a6667890439d15281d61810dfde0dc2fa"><div class="ttname"><a href="consumption_8cpp.html#a6667890439d15281d61810dfde0dc2fa">flag_FERTILIZER</a></div><div class="ttdeci">static const std::string flag_FERTILIZER(&quot;FERTILIZER&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a6984ef23000798340375b8fdbcaba096"><div class="ttname"><a href="consumption_8cpp.html#a6984ef23000798340375b8fdbcaba096">trait_BEAK_HUM</a></div><div class="ttdeci">static const trait_id trait_BEAK_HUM(&quot;BEAK_HUM&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a6c2652eceffb663021aeae9d4b7d0429"><div class="ttname"><a href="consumption_8cpp.html#a6c2652eceffb663021aeae9d4b7d0429">trait_PARAIMMUNE</a></div><div class="ttdeci">static const trait_id trait_PARAIMMUNE(&quot;PARAIMMUNE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a6d68a01cb1321b3310ac4ddc8c28b8d0"><div class="ttname"><a href="consumption_8cpp.html#a6d68a01cb1321b3310ac4ddc8c28b8d0">trait_THRESH_BIRD</a></div><div class="ttdeci">static const trait_id trait_THRESH_BIRD(&quot;THRESH_BIRD&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a6e356b8c88f37fd089a667b39f6b4419"><div class="ttname"><a href="consumption_8cpp.html#a6e356b8c88f37fd089a667b39f6b4419">effect_visuals</a></div><div class="ttdeci">static const efftype_id effect_visuals(&quot;visuals&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a6fb4b249c40ac59e1c881e9094939dab"><div class="ttname"><a href="consumption_8cpp.html#a6fb4b249c40ac59e1c881e9094939dab">flag_CANNIBALISM</a></div><div class="ttdeci">static const std::string flag_CANNIBALISM(&quot;CANNIBALISM&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a70d7f27f057587e54b30196e6c58ad09"><div class="ttname"><a href="consumption_8cpp.html#a70d7f27f057587e54b30196e6c58ad09">trait_PROJUNK2</a></div><div class="ttdeci">static const trait_id trait_PROJUNK2(&quot;PROJUNK2&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a7187ffc2d22573029ad4c4985f7ad95f"><div class="ttname"><a href="consumption_8cpp.html#a7187ffc2d22573029ad4c4985f7ad95f">trait_MANDIBLES</a></div><div class="ttdeci">static const trait_id trait_MANDIBLES(&quot;MANDIBLES&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a727bf036aa94e4311063504afc7811f0"><div class="ttname"><a href="consumption_8cpp.html#a727bf036aa94e4311063504afc7811f0">trait_GIZZARD</a></div><div class="ttdeci">static const trait_id trait_GIZZARD(&quot;GIZZARD&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a74fdff0ac6c7a40b84739f512ff69880"><div class="ttname"><a href="consumption_8cpp.html#a74fdff0ac6c7a40b84739f512ff69880">flag_HIDDEN_HALLU</a></div><div class="ttdeci">static const std::string flag_HIDDEN_HALLU(&quot;HIDDEN_HALLU&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a7722fb848275ed1493264cbff87a6ca0"><div class="ttname"><a href="consumption_8cpp.html#a7722fb848275ed1493264cbff87a6ca0">trait_ANTIWHEAT</a></div><div class="ttdeci">static const trait_id trait_ANTIWHEAT(&quot;ANTIWHEAT&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a77c556702302ac4ca1a8485f208bebdf"><div class="ttname"><a href="consumption_8cpp.html#a77c556702302ac4ca1a8485f208bebdf">trait_ANTIJUNK</a></div><div class="ttdeci">static const trait_id trait_ANTIJUNK(&quot;ANTIJUNK&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a7971bf13ca2d151e46e6a0689b4ae544"><div class="ttname"><a href="consumption_8cpp.html#a7971bf13ca2d151e46e6a0689b4ae544">herbivore_blacklist</a></div><div class="ttdeci">const std::vector&lt; std::string &gt; herbivore_blacklist(temparray.begin(), temparray.end())</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a79767ac22fe08c1d456457d701f512e9"><div class="ttname"><a href="consumption_8cpp.html#a79767ac22fe08c1d456457d701f512e9">flag_BIRD</a></div><div class="ttdeci">static const std::string flag_BIRD(&quot;BIRD&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a79ed96d4335e6c039ff4076620fe07ea"><div class="ttname"><a href="consumption_8cpp.html#a79ed96d4335e6c039ff4076620fe07ea">flag_RAW</a></div><div class="ttdeci">static const std::string flag_RAW(&quot;RAW&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a7b1c110dc6b9d344d32e00ae9f70d070"><div class="ttname"><a href="consumption_8cpp.html#a7b1c110dc6b9d344d32e00ae9f70d070">trait_PROBOSCIS</a></div><div class="ttdeci">static const trait_id trait_PROBOSCIS(&quot;PROBOSCIS&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a7b80d711466946f3fb75c76a9d47de41"><div class="ttname"><a href="consumption_8cpp.html#a7b80d711466946f3fb75c76a9d47de41">trait_STIMBOOST</a></div><div class="ttdeci">static const trait_id trait_STIMBOOST(&quot;STIMBOOST&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a7db9c307e6c910db699fffaccf9c5e0d"><div class="ttname"><a href="consumption_8cpp.html#a7db9c307e6c910db699fffaccf9c5e0d">flag_BYPRODUCT</a></div><div class="ttdeci">static const std::string flag_BYPRODUCT(&quot;BYPRODUCT&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a8048758dc914b63455fd2c2a422579bf"><div class="ttname"><a href="consumption_8cpp.html#a8048758dc914b63455fd2c2a422579bf">flag_USE_EAT_VERB</a></div><div class="ttdeci">static const std::string flag_USE_EAT_VERB(&quot;USE_EAT_VERB&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a8964de0b81cdb278e268ded8e0e50fe9"><div class="ttname"><a href="consumption_8cpp.html#a8964de0b81cdb278e268ded8e0e50fe9">bio_reactor</a></div><div class="ttdeci">static const bionic_id bio_reactor(&quot;bio_reactor&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a8e7b9fefa5c3c64830ff6786d9408ee6"><div class="ttname"><a href="consumption_8cpp.html#a8e7b9fefa5c3c64830ff6786d9408ee6">temparray</a></div><div class="ttdeci">const std::array&lt; std::string, 2 &gt; temparray</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00156">consumption.cpp:156</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_a8f2b6423a81f8993e1f39868c1d9a805"><div class="ttname"><a href="consumption_8cpp.html#a8f2b6423a81f8993e1f39868c1d9a805">flag_MYCUS_OK</a></div><div class="ttdeci">static const std::string flag_MYCUS_OK(&quot;MYCUS_OK&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a914db3df05fd548e81adc85699eaaf05"><div class="ttname"><a href="consumption_8cpp.html#a914db3df05fd548e81adc85699eaaf05">effect_paincysts</a></div><div class="ttdeci">static const efftype_id effect_paincysts(&quot;paincysts&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a91b238005aeb2d80dac3fa7de669e797"><div class="ttname"><a href="consumption_8cpp.html#a91b238005aeb2d80dac3fa7de669e797">flag_CORPSE</a></div><div class="ttdeci">static const std::string flag_CORPSE(&quot;CORPSE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a92fc92f8871feb56f05a24b582966275"><div class="ttname"><a href="consumption_8cpp.html#a92fc92f8871feb56f05a24b582966275">trait_SAPROVORE</a></div><div class="ttdeci">static const trait_id trait_SAPROVORE(&quot;SAPROVORE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a93f31d20e997d966be8b81d64c31582b"><div class="ttname"><a href="consumption_8cpp.html#a93f31d20e997d966be8b81d64c31582b">trait_SAPIOVORE</a></div><div class="ttdeci">static const trait_id trait_SAPIOVORE(&quot;SAPIOVORE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a994d0d6d961fbaf3b81c95eea9265ccf"><div class="ttname"><a href="consumption_8cpp.html#a994d0d6d961fbaf3b81c95eea9265ccf">flag_NEGATIVE_MONOTONY_OK</a></div><div class="ttdeci">static const std::string flag_NEGATIVE_MONOTONY_OK(&quot;NEGATIVE_MONOTONY_OK&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a9bbf692360c0fe96f9fccf41db5756be"><div class="ttname"><a href="consumption_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a></div><div class="ttdeci">static const trait_id trait_PSYCHOPATH(&quot;PSYCHOPATH&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_a9ee9e451710455a6577a559240a53cee"><div class="ttname"><a href="consumption_8cpp.html#a9ee9e451710455a6577a559240a53cee">flag_CATTLE</a></div><div class="ttdeci">static const std::string flag_CATTLE(&quot;CATTLE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_aa026dbb6ce20973d00e8847f056865dc"><div class="ttname"><a href="consumption_8cpp.html#aa026dbb6ce20973d00e8847f056865dc">flag_NO_PARASITES</a></div><div class="ttdeci">static const std::string flag_NO_PARASITES(&quot;NO_PARASITES&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_aa529aa8fed8701f3f231986398f2d95d"><div class="ttname"><a href="consumption_8cpp.html#aa529aa8fed8701f3f231986398f2d95d">trait_PROJUNK</a></div><div class="ttdeci">static const trait_id trait_PROJUNK(&quot;PROJUNK&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_aa7c6b64e7778501e77a8c8aeda9c6ffb"><div class="ttname"><a href="consumption_8cpp.html#aa7c6b64e7778501e77a8c8aeda9c6ffb">trait_VEGETARIAN</a></div><div class="ttdeci">static const trait_id trait_VEGETARIAN(&quot;VEGETARIAN&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_aa9d7670d795db57c4926fef635148e22"><div class="ttname"><a href="consumption_8cpp.html#aa9d7670d795db57c4926fef635148e22">trait_THRESH_LUPINE</a></div><div class="ttdeci">static const trait_id trait_THRESH_LUPINE(&quot;THRESH_LUPINE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_aaa52adaf5d4df3112a266635f08120ed"><div class="ttname"><a href="consumption_8cpp.html#aaa52adaf5d4df3112a266635f08120ed">trait_LACTOSE</a></div><div class="ttdeci">static const trait_id trait_LACTOSE(&quot;LACTOSE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab0274897870729fe991550cf82d246e9"><div class="ttname"><a href="consumption_8cpp.html#ab0274897870729fe991550cf82d246e9">trait_THRESH_CATTLE</a></div><div class="ttdeci">static const trait_id trait_THRESH_CATTLE(&quot;THRESH_CATTLE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab0ef5d50b9d2e3795b88816ba20982df"><div class="ttname"><a href="consumption_8cpp.html#ab0ef5d50b9d2e3795b88816ba20982df">flag_ALLERGEN_WHEAT</a></div><div class="ttdeci">static const std::string flag_ALLERGEN_WHEAT(&quot;ALLERGEN_WHEAT&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab1b77b826e76fc26c990435f29f87d50"><div class="ttname"><a href="consumption_8cpp.html#ab1b77b826e76fc26c990435f29f87d50">flag_NO_RELOAD</a></div><div class="ttdeci">static const std::string flag_NO_RELOAD(&quot;NO_RELOAD&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab20d39f7408673b6c72e08685e5dea15"><div class="ttname"><a href="consumption_8cpp.html#ab20d39f7408673b6c72e08685e5dea15">effect_bloated</a></div><div class="ttdeci">static const efftype_id effect_bloated(&quot;bloated&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab2b26b8a5aaccd80452e343236ffe8e7"><div class="ttname"><a href="consumption_8cpp.html#ab2b26b8a5aaccd80452e343236ffe8e7">trait_THRESH_FELINE</a></div><div class="ttdeci">static const trait_id trait_THRESH_FELINE(&quot;THRESH_FELINE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab3388325c8d9a46ddb7af329e1b247fd"><div class="ttname"><a href="consumption_8cpp.html#ab3388325c8d9a46ddb7af329e1b247fd">trait_AMORPHOUS</a></div><div class="ttdeci">static const trait_id trait_AMORPHOUS(&quot;AMORPHOUS&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab3904a4e01276706855605f3b616734a"><div class="ttname"><a href="consumption_8cpp.html#ab3904a4e01276706855605f3b616734a">comesttype_FOOD</a></div><div class="ttdeci">static const std::string comesttype_FOOD(&quot;FOOD&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab52b3b592a42745385edcf8d90c690a1"><div class="ttname"><a href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1">item_consumption_t</a></div><div class="ttdeci">item_consumption_t</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00170">consumption.cpp:170</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab52b3b592a42745385edcf8d90c690a1a334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a334c4a4c42fdb79d7ebc3e73b517e6f8">item_consumption_t::none</a></div><div class="ttdeci">@ none</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023"><div class="ttname"><a href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">item_consumption_t::tool</a></div><div class="ttdeci">@ tool</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab52b3b592a42745385edcf8d90c690a1a700c216fb376666eaeda0c892e8bdc09"><div class="ttname"><a href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a700c216fb376666eaeda0c892e8bdc09">item_consumption_t::component</a></div><div class="ttdeci">@ component</div></div>
<div class="ttc" id="aconsumption_8cpp_html_abb2203fc9372a7f9651ccca81239445a"><div class="ttname"><a href="consumption_8cpp.html#abb2203fc9372a7f9651ccca81239445a">trait_EATHEALTH</a></div><div class="ttdeci">static const trait_id trait_EATHEALTH(&quot;EATHEALTH&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_abd2ce5a2e5c7ede5e25af994457bd123"><div class="ttname"><a href="consumption_8cpp.html#abd2ce5a2e5c7ede5e25af994457bd123">trait_GOURMAND</a></div><div class="ttdeci">static const trait_id trait_GOURMAND(&quot;GOURMAND&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_abd8d7c4f01bfc8c35f32e2639ec34ab4"><div class="ttname"><a href="consumption_8cpp.html#abd8d7c4f01bfc8c35f32e2639ec34ab4">flag_CARNIVORE_OK</a></div><div class="ttdeci">static const std::string flag_CARNIVORE_OK(&quot;CARNIVORE_OK&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_abf29a0f9f2b03dbf9baa8dd6af688d41"><div class="ttname"><a href="consumption_8cpp.html#abf29a0f9f2b03dbf9baa8dd6af688d41">trait_WATERSLEEP</a></div><div class="ttdeci">static const trait_id trait_WATERSLEEP(&quot;WATERSLEEP&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_abf47c050c3a01d3496c3eb251fa9c517"><div class="ttname"><a href="consumption_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a></div><div class="ttdeci">static const trait_id trait_SPIRITUAL(&quot;SPIRITUAL&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ac00dfe681a5a2f2b03bfe2ad27df1721"><div class="ttname"><a href="consumption_8cpp.html#ac00dfe681a5a2f2b03bfe2ad27df1721">effect_nausea</a></div><div class="ttdeci">static const efftype_id effect_nausea(&quot;nausea&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ac038c6319122de04af85fb88e6618601"><div class="ttname"><a href="consumption_8cpp.html#ac038c6319122de04af85fb88e6618601">skill_survival</a></div><div class="ttdeci">static const skill_id skill_survival(&quot;survival&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ac18c869bf39d3ef1f4cccf94a9685962"><div class="ttname"><a href="consumption_8cpp.html#ac18c869bf39d3ef1f4cccf94a9685962">flag_FELINE</a></div><div class="ttdeci">static const std::string flag_FELINE(&quot;FELINE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ac71452586eb6cf87fab888bc561dc897"><div class="ttname"><a href="consumption_8cpp.html#ac71452586eb6cf87fab888bc561dc897">trait_M_DEPENDENT</a></div><div class="ttdeci">static const trait_id trait_M_DEPENDENT(&quot;M_DEPENDENT&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ac8785297401c28693575f38b8e5df375"><div class="ttname"><a href="consumption_8cpp.html#ac8785297401c28693575f38b8e5df375">trait_MOUTH_TENTACLES</a></div><div class="ttdeci">static const trait_id trait_MOUTH_TENTACLES(&quot;MOUTH_TENTACLES&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_acb899f0e81667f5db435b88b88880c16"><div class="ttname"><a href="consumption_8cpp.html#acb899f0e81667f5db435b88b88880c16">flag_COOKED</a></div><div class="ttdeci">static const std::string flag_COOKED(&quot;COOKED&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ace42425e1e703ebbe953ade0f6110b7c"><div class="ttname"><a href="consumption_8cpp.html#ace42425e1e703ebbe953ade0f6110b7c">effect_poison</a></div><div class="ttdeci">static const efftype_id effect_poison(&quot;poison&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ad0e39d29af45ea0a03f280197b35ca72"><div class="ttname"><a href="consumption_8cpp.html#ad0e39d29af45ea0a03f280197b35ca72">skill_cooking</a></div><div class="ttdeci">static const skill_id skill_cooking(&quot;cooking&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ad817d910676fca9fd31d349bf1d5ca9c"><div class="ttname"><a href="consumption_8cpp.html#ad817d910676fca9fd31d349bf1d5ca9c">flag_ALLERGEN_MEAT</a></div><div class="ttdeci">static const std::string flag_ALLERGEN_MEAT(&quot;ALLERGEN_MEAT&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ada9c92ee582b7c039559baeb06b4439c"><div class="ttname"><a href="consumption_8cpp.html#ada9c92ee582b7c039559baeb06b4439c">flag_NO_INGEST</a></div><div class="ttdeci">static const std::string flag_NO_INGEST(&quot;NO_INGEST&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_adaaa4a08a887cf8dff40f06eb1baa85a"><div class="ttname"><a href="consumption_8cpp.html#adaaa4a08a887cf8dff40f06eb1baa85a">flag_LUPINE</a></div><div class="ttdeci">static const std::string flag_LUPINE(&quot;LUPINE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_adc75c21d21b85c1a29f21a3c0872326c"><div class="ttname"><a href="consumption_8cpp.html#adc75c21d21b85c1a29f21a3c0872326c">flag_RADIOACTIVE</a></div><div class="ttdeci">static const std::string flag_RADIOACTIVE(&quot;RADIOACTIVE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_add6199d38f99fd7341acd9e5b7f2df63"><div class="ttname"><a href="consumption_8cpp.html#add6199d38f99fd7341acd9e5b7f2df63">effect_foodpoison</a></div><div class="ttdeci">static const efftype_id effect_foodpoison(&quot;foodpoison&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ae20f23e46accdd4c88c6b435ae94f63c"><div class="ttname"><a href="consumption_8cpp.html#ae20f23e46accdd4c88c6b435ae94f63c">trait_FANGS_SPIDER</a></div><div class="ttdeci">static const trait_id trait_FANGS_SPIDER(&quot;FANGS_SPIDER&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ae6a6e853460bbd7e5b9ba2adfe22a864"><div class="ttname"><a href="consumption_8cpp.html#ae6a6e853460bbd7e5b9ba2adfe22a864">trait_POISRESIST</a></div><div class="ttdeci">static const trait_id trait_POISRESIST(&quot;POISRESIST&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_ae75a0eb82d40511391fb18ff7a6f4cbe"><div class="ttname"><a href="consumption_8cpp.html#ae75a0eb82d40511391fb18ff7a6f4cbe">flag_EATEN_HOT</a></div><div class="ttdeci">static const std::string flag_EATEN_HOT(&quot;EATEN_HOT&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_af18c51d2a8f81b4d06912d40760e9691"><div class="ttname"><a href="consumption_8cpp.html#af18c51d2a8f81b4d06912d40760e9691">trait_ACIDBLOOD</a></div><div class="ttdeci">static const trait_id trait_ACIDBLOOD(&quot;ACIDBLOOD&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_af1a3e5c07ef96be118895afd086ba143"><div class="ttname"><a href="consumption_8cpp.html#af1a3e5c07ef96be118895afd086ba143">trait_CANNIBAL</a></div><div class="ttdeci">static const trait_id trait_CANNIBAL(&quot;CANNIBAL&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_af1cffcd5b8f3fa5fd6fe1fca1d45725d"><div class="ttname"><a href="consumption_8cpp.html#af1cffcd5b8f3fa5fd6fe1fca1d45725d">trait_MEATARIAN</a></div><div class="ttdeci">static const trait_id trait_MEATARIAN(&quot;MEATARIAN&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_af240157d33eeab40ef36bc04dd472e75"><div class="ttname"><a href="consumption_8cpp.html#af240157d33eeab40ef36bc04dd472e75">bio_advreactor</a></div><div class="ttdeci">static const bionic_id bio_advreactor(&quot;bio_advreactor&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_af39c36bbd4b4d5ea9cc11bbaba43570f"><div class="ttname"><a href="consumption_8cpp.html#af39c36bbd4b4d5ea9cc11bbaba43570f">effect_brainworms</a></div><div class="ttdeci">static const efftype_id effect_brainworms(&quot;brainworms&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_af4487f6f0e0eb0e3a671f5053fe2c219"><div class="ttname"><a href="consumption_8cpp.html#af4487f6f0e0eb0e3a671f5053fe2c219">trait_SAPROPHAGE</a></div><div class="ttdeci">static const trait_id trait_SAPROPHAGE(&quot;SAPROPHAGE&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_af7cc775eaf9d4242e2e88f4dfedc93f7"><div class="ttname"><a href="consumption_8cpp.html#af7cc775eaf9d4242e2e88f4dfedc93f7">trait_ANTIFRUIT</a></div><div class="ttdeci">static const trait_id trait_ANTIFRUIT(&quot;ANTIFRUIT&quot;)</div></div>
<div class="ttc" id="aconsumption_8cpp_html_afd06012232776bb8568e171984c28663"><div class="ttname"><a href="consumption_8cpp.html#afd06012232776bb8568e171984c28663">flag_NO_BLOAT</a></div><div class="ttdeci">static const std::string flag_NO_BLOAT(&quot;NO_BLOAT&quot;)</div></div>
<div class="ttc" id="aconsumption_8h_html"><div class="ttname"><a href="consumption_8h.html">consumption.h</a></div></div>
<div class="ttc" id="acraft__command_8h_html"><div class="ttname"><a href="craft__command_8h.html">craft_command.h</a></div></div>
<div class="ttc" id="acraft__command_8h_html_a5684f219761d78b4f98e7b2869dd1726a36367df8f9785058d22d022dbd8e5fae"><div class="ttname"><a href="craft__command_8h.html#a5684f219761d78b4f98e7b2869dd1726a36367df8f9785058d22d022dbd8e5fae">use_from_both</a></div><div class="ttdeci">@ use_from_both</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00027">craft_command.h:27</a></div></div>
<div class="ttc" id="adebug_8h_html"><div class="ttname"><a href="debug_8h.html">debug.h</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="aenums_8h_html"><div class="ttname"><a href="enums_8h.html">enums.h</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a></div><div class="ttdeci">@ m_good</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00253">enums.h:253</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a></div><div class="ttdeci">@ m_info</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00258">enums.h:258</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a></div><div class="ttdeci">@ m_bad</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00254">enums.h:254</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a></div><div class="ttdeci">@ m_debug</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00264">enums.h:264</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096eaa65a3cd4a2c6d0fbb31833ade22ee100"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaa65a3cd4a2c6d0fbb31833ade22ee100">m_mixed</a></div><div class="ttdeci">@ m_mixed</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00255">enums.h:255</a></div></div>
<div class="ttc" id="aenums_8h_html_a89bed42d8e3efcd44570febc837f088e"><div class="ttname"><a href="enums_8h.html#a89bed42d8e3efcd44570febc837f088e">sgn</a></div><div class="ttdeci">constexpr int sgn(const T x)</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00008">enums.h:8</a></div></div>
<div class="ttc" id="aflat__set_8h_html"><div class="ttname"><a href="flat__set_8h.html">flat_set.h</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00272">game.cpp:272</a></div></div>
<div class="ttc" id="agame_8h_html"><div class="ttname"><a href="game_8h.html">game.h</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a48b9330c21bc6a0b8f99d7a3414cfe9f"><div class="ttname"><a href="game__constants_8h.html#a48b9330c21bc6a0b8f99d7a3414cfe9f">PLUTONIUM_CHARGES</a></div><div class="ttdeci">static constexpr int PLUTONIUM_CHARGES</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00077">game_constants.h:77</a></div></div>
<div class="ttc" id="aitem_8h_html_a64c6001518eb0b959300f427a0086eb0"><div class="ttname"><a href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a></div><div class="ttdeci">bool is_crafting_component(const item &amp;component)</div><div class="ttdoc">Default filter for crafting component searches.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02260">item.h:2260</a></div></div>
<div class="ttc" id="aitem__contents_8h_html"><div class="ttname"><a href="item__contents_8h.html">item_contents.h</a></div></div>
<div class="ttc" id="aitype_8h_html"><div class="ttname"><a href="itype_8h.html">itype.h</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a6753ecfe87da659675b18c2f81d6ec12"><div class="ttname"><a href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a></div><div class="ttdeci">constexpr double c</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01032">magic.cpp:1032</a></div></div>
<div class="ttc" id="amagic__enchantment_8h_html"><div class="ttname"><a href="magic__enchantment_8h.html">magic_enchantment.h</a></div></div>
<div class="ttc" id="amap_8cpp_html_acb0b34be6e497bdd2f9f40ae6929d562"><div class="ttname"><a href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00146">map.cpp:146</a></div></div>
<div class="ttc" id="amap_8h_html"><div class="ttname"><a href="map_8h.html">map.h</a></div></div>
<div class="ttc" id="amaterial_8h_html"><div class="ttname"><a href="material_8h.html">material.h</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00884">messages.cpp:884</a></div></div>
<div class="ttc" id="amessages_8h_html"><div class="ttname"><a href="messages_8h.html">messages.h</a></div></div>
<div class="ttc" id="amonster_8h_html"><div class="ttname"><a href="monster_8h.html">monster.h</a></div></div>
<div class="ttc" id="amorale__types_8cpp_html_a0526ed49652901e606e16ddc54b34507"><div class="ttname"><a href="morale__types_8cpp.html#a0526ed49652901e606e16ddc54b34507">MORALE_HONEY</a></div><div class="ttdeci">const morale_type MORALE_HONEY(&quot;morale_honey&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_a39fc566951d4c0c32246d3bae87d6b6b"><div class="ttname"><a href="morale__types_8cpp.html#a39fc566951d4c0c32246d3bae87d6b6b">MORALE_MEATARIAN</a></div><div class="ttdeci">const morale_type MORALE_MEATARIAN(&quot;morale_meatarian&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_a47333d246e87662bad4ddb36c8212855"><div class="ttname"><a href="morale__types_8cpp.html#a47333d246e87662bad4ddb36c8212855">MORALE_SWEETTOOTH</a></div><div class="ttdeci">const morale_type MORALE_SWEETTOOTH(&quot;morale_sweettooth&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_a68694c468b07b54d28a9ba55ad62380d"><div class="ttname"><a href="morale__types_8cpp.html#a68694c468b07b54d28a9ba55ad62380d">MORALE_NO_DIGEST</a></div><div class="ttdeci">const morale_type MORALE_NO_DIGEST(&quot;morale_no_digest&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_a7edfa870019cc60861c30d1599ea0d3c"><div class="ttname"><a href="morale__types_8cpp.html#a7edfa870019cc60861c30d1599ea0d3c">MORALE_ANTIJUNK</a></div><div class="ttdeci">const morale_type MORALE_ANTIJUNK(&quot;morale_antijunk&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_a9cdddeda12b744438b83f90ced17491a"><div class="ttname"><a href="morale__types_8cpp.html#a9cdddeda12b744438b83f90ced17491a">MORALE_ANTIWHEAT</a></div><div class="ttdeci">const morale_type MORALE_ANTIWHEAT(&quot;morale_antiwheat&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_aaa5338b2599dee343776a16d858acd72"><div class="ttname"><a href="morale__types_8cpp.html#aaa5338b2599dee343776a16d858acd72">MORALE_FOOD_HOT</a></div><div class="ttdeci">const morale_type MORALE_FOOD_HOT(&quot;morale_food_hot&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_aad0f6497e9bdd2600bec61d7a3ce6846"><div class="ttname"><a href="morale__types_8cpp.html#aad0f6497e9bdd2600bec61d7a3ce6846">MORALE_ANTIFRUIT</a></div><div class="ttdeci">const morale_type MORALE_ANTIFRUIT(&quot;morale_antifruit&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_ab2e7f135d6749b067f488c38bec7eb8c"><div class="ttname"><a href="morale__types_8cpp.html#ab2e7f135d6749b067f488c38bec7eb8c">MORALE_FOOD_GOOD</a></div><div class="ttdeci">const morale_type MORALE_FOOD_GOOD(&quot;morale_food_good&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_ab7b975d881b9d7221861440bea7199ad"><div class="ttname"><a href="morale__types_8cpp.html#ab7b975d881b9d7221861440bea7199ad">MORALE_LACTOSE</a></div><div class="ttdeci">const morale_type MORALE_LACTOSE(&quot;morale_lactose&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_abd50d45c43979e0bc6b3fb8ae8add0a2"><div class="ttname"><a href="morale__types_8cpp.html#abd50d45c43979e0bc6b3fb8ae8add0a2">MORALE_CANNIBAL</a></div><div class="ttdeci">const morale_type MORALE_CANNIBAL(&quot;morale_cannibal&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_ac24c67863634ace2234e2f0ffa904797"><div class="ttname"><a href="morale__types_8cpp.html#ac24c67863634ace2234e2f0ffa904797">MORALE_VEGETARIAN</a></div><div class="ttdeci">const morale_type MORALE_VEGETARIAN(&quot;morale_vegetarian&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_ae5bf12aa6533cebf50765069d6d78eb0"><div class="ttname"><a href="morale__types_8cpp.html#ae5bf12aa6533cebf50765069d6d78eb0">MORALE_FOOD_BAD</a></div><div class="ttdeci">const morale_type MORALE_FOOD_BAD(&quot;morale_food_bad&quot;)</div></div>
<div class="ttc" id="amorale__types_8cpp_html_ae95b6eefc4c6ba6583014d4792b51814"><div class="ttname"><a href="morale__types_8cpp.html#ae95b6eefc4c6ba6583014d4792b51814">MORALE_NULL</a></div><div class="ttdeci">const morale_type MORALE_NULL(&quot;morale_null&quot;)</div></div>
<div class="ttc" id="amorale__types_8h_html"><div class="ttname"><a href="morale__types_8h.html">morale_types.h</a></div></div>
<div class="ttc" id="amtype_8h_html"><div class="ttname"><a href="mtype_8h.html">mtype.h</a></div></div>
<div class="ttc" id="amutation_8h_html"><div class="ttname"><a href="mutation_8h.html">mutation.h</a></div></div>
<div class="ttc" id="anamespacebehavior_html_af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b"><div class="ttname"><a href="namespacebehavior.html#af83204dc0162740f1458e4bbea975a07a6ece335eed53daba50d8caceed1b5c4b">behavior::success</a></div><div class="ttdeci">@ success</div><div class="ttdef"><b>Definition:</b> <a href="behavior_8h_source.html#l00020">behavior.h:20</a></div></div>
<div class="ttc" id="anamespacecalendar_html"><div class="ttname"><a href="namespacecalendar.html">calendar</a></div><div class="ttdoc">Time keeping namespace that holds global time.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00058">calendar.h:59</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00036">calendar.cpp:36</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
<div class="ttc" id="anamespacecata_html_ad05314667ac5d05f984aeeef26b9a87f"><div class="ttname"><a href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a></div><div class="ttdeci">static constexpr nullopt_t nullopt</div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00022">optional.h:22</a></div></div>
<div class="ttc" id="anamespacedetail_1_1digits_html_aad69d2373aa047bdd9e81494bf3da5ae"><div class="ttname"><a href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">detail::digits::result</a></div><div class="ttdeci">result</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format-inl_8h_source.html#l01626">fmtlib_format-inl.h:1626</a></div></div>
<div class="ttc" id="anamespaceenchant__vals_html_acd6a6ebb27f9ecb82b3bce1d3aef2998a335c75c5f9b974aed057bff2c6551d36"><div class="ttname"><a href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998a335c75c5f9b974aed057bff2c6551d36">enchant_vals::mod::METABOLISM</a></div><div class="ttdeci">@ METABOLISM</div></div>
<div class="ttc" id="anamespaceiuse_html_aecdc200d835fb6eaf207e84d2e5992a8"><div class="ttname"><a href="namespaceiuse.html#aecdc200d835fb6eaf207e84d2e5992a8">iuse::chew</a></div><div class="ttdeci">int chew(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01096">iuse.cpp:1096</a></div></div>
<div class="ttc" id="anamespaceunits_html_a2c4cd5492f5947af989912819d5b5e4b"><div class="ttname"><a href="namespaceunits.html#a2c4cd5492f5947af989912819d5b5e4b">units::energy</a></div><div class="ttdeci">quantity&lt; int, energy_in_joule_tag &gt; energy</div><div class="ttdef"><b>Definition:</b> <a href="units__energy_8h_source.html#l00016">units_energy.h:16</a></div></div>
<div class="ttc" id="anamespaceunits_html_a54442f1523294bc7b9946662beed96e6"><div class="ttname"><a href="namespaceunits.html#a54442f1523294bc7b9946662beed96e6">units::to_kilojoule</a></div><div class="ttdeci">constexpr value_type to_kilojoule(const quantity&lt; value_type, energy_in_joule_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units__energy_8h_source.html#l00046">units_energy.h:46</a></div></div>
<div class="ttc" id="anamespaceunits_html_ada24d52c1ffd0df8d52a363d013d3231"><div class="ttname"><a href="namespaceunits.html#ada24d52c1ffd0df8d52a363d013d3231">units::from_kilojoule</a></div><div class="ttdeci">constexpr quantity&lt; value_type, energy_in_joule_tag &gt; from_kilojoule(const value_type v)</div><div class="ttdef"><b>Definition:</b> <a href="units__energy_8h_source.html#l00032">units_energy.h:32</a></div></div>
<div class="ttc" id="aoptional_8h_html"><div class="ttname"><a href="optional_8h.html">optional.h</a></div></div>
<div class="ttc" id="aoptions_8h_html"><div class="ttname"><a href="options_8h.html">options.h</a></div></div>
<div class="ttc" id="aplayer_8h_html"><div class="ttname"><a href="player_8h.html">player.h</a></div></div>
<div class="ttc" id="apldata_8h_html"><div class="ttname"><a href="pldata_8h.html">pldata.h</a></div></div>
<div class="ttc" id="apldata_8h_html_abffc2f52fa6cfeac2e388c6de0ac295ba2e6d9801a7e8f255fd21bb5c34d946ae"><div class="ttname"><a href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295ba2e6d9801a7e8f255fd21bb5c34d946ae">add_type::CRACK</a></div><div class="ttdeci">@ CRACK</div></div>
<div class="ttc" id="apldata_8h_html_abffc2f52fa6cfeac2e388c6de0ac295ba40b2d5c486b7ef00c1b9ae13c63bd6c6"><div class="ttname"><a href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295ba40b2d5c486b7ef00c1b9ae13c63bd6c6">add_type::CAFFEINE</a></div><div class="ttdeci">@ CAFFEINE</div></div>
<div class="ttc" id="apldata_8h_html_abffc2f52fa6cfeac2e388c6de0ac295ba65a59338b99aee6a451e86b17b462b5a"><div class="ttname"><a href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295ba65a59338b99aee6a451e86b17b462b5a">add_type::SPEED</a></div><div class="ttdeci">@ SPEED</div></div>
<div class="ttc" id="apldata_8h_html_abffc2f52fa6cfeac2e388c6de0ac295baccafb1ecc36ef9e0c27e3252102b0253"><div class="ttname"><a href="pldata_8h.html#abffc2f52fa6cfeac2e388c6de0ac295baccafb1ecc36ef9e0c27e3252102b0253">add_type::COKE</a></div><div class="ttdeci">@ COKE</div></div>
<div class="ttc" id="arecipe_8h_html"><div class="ttname"><a href="recipe_8h.html">recipe.h</a></div></div>
<div class="ttc" id="arecipe__dictionary_8cpp_html_a9fdb53bd54fb6dcc5f9b2e1e1b44570f"><div class="ttname"><a href="recipe__dictionary_8cpp.html#a9fdb53bd54fb6dcc5f9b2e1e1b44570f">recipe_dict</a></div><div class="ttdeci">recipe_dictionary recipe_dict</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00028">recipe_dictionary.cpp:28</a></div></div>
<div class="ttc" id="arecipe__dictionary_8h_html"><div class="ttname"><a href="recipe__dictionary_8h.html">recipe_dictionary.h</a></div></div>
<div class="ttc" id="arequirements_8h_html"><div class="ttname"><a href="requirements_8h.html">requirements.h</a></div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00065">rng.cpp:65</a></div></div>
<div class="ttc" id="arng_8cpp_html_acd19ae79e3590a99c9eaf0389318b686"><div class="ttname"><a href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a></div><div class="ttdeci">int roll_remainder(double value)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00096">rng.cpp:96</a></div></div>
<div class="ttc" id="arng_8h_html"><div class="ttname"><a href="rng_8h.html">rng.h</a></div></div>
<div class="ttc" id="arng_8h_html_a265321f9012874a83b2a57ee33835617"><div class="ttname"><a href="rng_8h.html#a265321f9012874a83b2a57ee33835617">random_entry_ref</a></div><div class="ttdeci">std::enable_if&lt;!is_std_array&lt; C &gt;::value, constV &amp; &gt;::type random_entry_ref(const C &amp;container)</div><div class="ttdoc">Same as above, but with a statically allocated default value (using the default constructor).</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00149">rng.h:149</a></div></div>
<div class="ttc" id="astomach_8h_html"><div class="ttname"><a href="stomach_8h.html">stomach.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html"><div class="ttname"><a href="string__formatter_8h.html">string_formatter.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a9b089d0b697443b096063219dab08ef5"><div class="ttname"><a href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a></div><div class="ttdeci">std::string string_format(std::string format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00418">string_formatter.h:418</a></div></div>
<div class="ttc" id="astring__id_8h_html"><div class="ttname"><a href="string__id_8h.html">string_id.h</a></div></div>
<div class="ttc" id="astructbionic__data_html_a2b5ec44e1d06dc01de34f0efd9483dbc"><div class="ttname"><a href="structbionic__data.html#a2b5ec44e1d06dc01de34f0efd9483dbc">bionic_data::fuel_capacity</a></div><div class="ttdeci">int fuel_capacity</div><div class="ttdoc">How much fuel this bionic can hold.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00065">bionics.h:65</a></div></div>
<div class="ttc" id="astructbionic__data_html_a3cf96a3fc532f2c82b73924ab585451e"><div class="ttname"><a href="structbionic__data.html#a3cf96a3fc532f2c82b73924ab585451e">bionic_data::name</a></div><div class="ttdeci">translation name</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00034">bionics.h:34</a></div></div>
<div class="ttc" id="astructbionic__data_html_adc21bfb66fbff7f76ef8097457986075"><div class="ttname"><a href="structbionic__data.html#adc21bfb66fbff7f76ef8097457986075">bionic_data::fuel_efficiency</a></div><div class="ttdeci">float fuel_efficiency</div><div class="ttdoc">Fraction of fuel energy converted to bionic power.</div><div class="ttdef"><b>Definition:</b> <a href="bionics_8h_source.html#l00067">bionics.h:67</a></div></div>
<div class="ttc" id="astructcomp__selection_html"><div class="ttname"><a href="structcomp__selection.html">comp_selection</a></div><div class="ttdoc">Struct that represents a selection of a component for crafting.</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00041">craft_command.h:41</a></div></div>
<div class="ttc" id="astructcomp__selection_html_a4425758a07ddfa5c74d6fa8fca658a34"><div class="ttname"><a href="structcomp__selection.html#a4425758a07ddfa5c74d6fa8fca658a34">comp_selection::use_from</a></div><div class="ttdeci">usage use_from</div><div class="ttdoc">Tells us where the selected component should be used from.</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00049">craft_command.h:49</a></div></div>
<div class="ttc" id="astructcomp__selection_html_abdc3989f1177b3c794be9c679cdefaec"><div class="ttname"><a href="structcomp__selection.html#abdc3989f1177b3c794be9c679cdefaec">comp_selection::comp</a></div><div class="ttdeci">CompType comp</div><div class="ttdef"><b>Definition:</b> <a href="craft__command_8h_source.html#l00050">craft_command.h:50</a></div></div>
<div class="ttc" id="astructcomponent_html"><div class="ttname"><a href="structcomponent.html">component</a></div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00057">requirements.h:57</a></div></div>
<div class="ttc" id="astructconsumption__event_html"><div class="ttname"><a href="structconsumption__event.html">consumption_event</a></div><div class="ttdef"><b>Definition:</b> <a href="consumption_8h_source.html#l00014">consumption.h:14</a></div></div>
<div class="ttc" id="astructconsumption__event_html_a14550f96f563a9649b3f785317e652ba"><div class="ttname"><a href="structconsumption__event.html#a14550f96f563a9649b3f785317e652ba">consumption_event::time</a></div><div class="ttdeci">time_point time</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8h_source.html#l00015">consumption.h:15</a></div></div>
<div class="ttc" id="astructconsumption__event_html_a8bd22e7e99c473ff0bc630bf92846aab"><div class="ttname"><a href="structconsumption__event.html#a8bd22e7e99c473ff0bc630bf92846aab">consumption_event::component_hash</a></div><div class="ttdeci">uint64_t component_hash</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8h_source.html#l00017">consumption.h:17</a></div></div>
<div class="ttc" id="astructconsumption__event_html_ae8ccb6bd97c295530db359ef8a9cf19e"><div class="ttname"><a href="structconsumption__event.html#ae8ccb6bd97c295530db359ef8a9cf19e">consumption_event::type_id</a></div><div class="ttdeci">itype_id type_id</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8h_source.html#l00016">consumption.h:16</a></div></div>
<div class="ttc" id="astructconsumption__event_html_af25f2a22ce1b57d634dfdab388d08f5d"><div class="ttname"><a href="structconsumption__event.html#af25f2a22ce1b57d634dfdab388d08f5d">consumption_event::consumption_event</a></div><div class="ttdeci">consumption_event()=default</div></div>
<div class="ttc" id="astructfood__summary_html"><div class="ttname"><a href="structfood__summary.html">food_summary</a></div><div class="ttdef"><b>Definition:</b> <a href="stomach_8h_source.html#l00052">stomach.h:52</a></div></div>
<div class="ttc" id="astructislot__comestible_html"><div class="ttname"><a href="structislot__comestible.html">islot_comestible</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00115">itype.h:115</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a4656f297a3ea96ffb9e20a6511287ec9"><div class="ttname"><a href="structislot__comestible.html#a4656f297a3ea96ffb9e20a6511287ec9">islot_comestible::radiation</a></div><div class="ttdeci">int radiation</div><div class="ttdoc">Amount of radiation you get from this comestible.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00163">itype.h:163</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a5e7afc63b23fe879daf961d2940ed404"><div class="ttname"><a href="structislot__comestible.html#a5e7afc63b23fe879daf961d2940ed404">islot_comestible::add</a></div><div class="ttdeci">add_type add</div><div class="ttdoc">effects of addiction</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00142">itype.h:142</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a82f9d567b3efb4a5f9a0665432f32094"><div class="ttname"><a href="structislot__comestible.html#a82f9d567b3efb4a5f9a0665432f32094">islot_comestible::fatigue_mod</a></div><div class="ttdeci">int fatigue_mod</div><div class="ttdoc">fatigue altering effect</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00148">itype.h:148</a></div></div>
<div class="ttc" id="astructislot__comestible_html_aa8ccc76e6c3389ee17cbb14a7625bd39"><div class="ttname"><a href="structislot__comestible.html#aa8ccc76e6c3389ee17cbb14a7625bd39">islot_comestible::stim</a></div><div class="ttdeci">int stim</div><div class="ttdoc">stimulant effect</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00145">itype.h:145</a></div></div>
<div class="ttc" id="astructislot__comestible_html_aea71935dc37b7f711efb6f8d9ca5353d"><div class="ttname"><a href="structislot__comestible.html#aea71935dc37b7f711efb6f8d9ca5353d">islot_comestible::healthy</a></div><div class="ttdeci">int healthy</div><div class="ttdoc">TODO: add documentation.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00157">itype.h:157</a></div></div>
<div class="ttc" id="astructislot__comestible_html_aecc91e5454fc8c79df0fe6535690f246"><div class="ttname"><a href="structislot__comestible.html#aecc91e5454fc8c79df0fe6535690f246">islot_comestible::kcal_per_nutr</a></div><div class="ttdeci">static constexpr float kcal_per_nutr</div><div class="ttdoc">1 nutr ~= 8.7kcal (1 nutr/5min = 288 nutr/day at 2500kcal/day)</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00180">itype.h:180</a></div></div>
<div class="ttc" id="astructislot__comestible_html_af0c402e9f8df019dedb20f589e4e93c4"><div class="ttname"><a href="structislot__comestible.html#af0c402e9f8df019dedb20f589e4e93c4">islot_comestible::addict</a></div><div class="ttdeci">int addict</div><div class="ttdoc">addiction potential</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00139">itype.h:139</a></div></div>
<div class="ttc" id="astructitem__comp_html"><div class="ttname"><a href="structitem__comp.html">item_comp</a></div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00116">requirements.h:116</a></div></div>
<div class="ttc" id="astructitype_html"><div class="ttname"><a href="structitype.html">itype</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00836">itype.h:836</a></div></div>
<div class="ttc" id="astructitype_html_a32ac824cb8437ef7a8288dafe6c6bfe1"><div class="ttname"><a href="structitype.html#a32ac824cb8437ef7a8288dafe6c6bfe1">itype::materials</a></div><div class="ttdeci">std::vector&lt; material_id &gt; materials</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00924">itype.h:924</a></div></div>
<div class="ttc" id="astructitype_html_a4ecb806dae208ff275b4aa50ffcd3902"><div class="ttname"><a href="structitype.html#a4ecb806dae208ff275b4aa50ffcd3902">itype::weight</a></div><div class="ttdeci">units::mass weight</div><div class="ttdoc">Weight of item ( or each stack member )</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00967">itype.h:967</a></div></div>
<div class="ttc" id="astructitype_html_a531f460f3ba31cb3e433f7e585e1d4e5"><div class="ttname"><a href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">itype::stack_size</a></div><div class="ttdeci">int stack_size</div><div class="ttdoc">Number of items per above volume for count_by_charges items.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00984">itype.h:984</a></div></div>
<div class="ttc" id="astructitype_html_a7ff45d94507fdbf7369ae269a0f1e52b"><div class="ttname"><a href="structitype.html#a7ff45d94507fdbf7369ae269a0f1e52b">itype::has_use</a></div><div class="ttdeci">bool has_use() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00066">itype.cpp:66</a></div></div>
<div class="ttc" id="astructitype_html_a953828c9c01185fef0f619ecdcd7f3b1"><div class="ttname"><a href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">itype::charges_to_use</a></div><div class="ttdeci">int charges_to_use() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01091">itype.h:1091</a></div></div>
<div class="ttc" id="astructitype_html_a9df22ea5b5b6e19d18f730d4a8625cfa"><div class="ttname"><a href="structitype.html#a9df22ea5b5b6e19d18f730d4a8625cfa">itype::invoke</a></div><div class="ttdeci">int invoke(player &amp;p, item &amp;it, const tripoint &amp;pos) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00105">itype.cpp:105</a></div></div>
<div class="ttc" id="astructitype_html_aa656fede37aaf975ab567bcc5c6a452e"><div class="ttname"><a href="structitype.html#aa656fede37aaf975ab567bcc5c6a452e">itype::comestible</a></div><div class="ttdeci">cata::value_ptr&lt; islot_comestible &gt; comestible</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00850">itype.h:850</a></div></div>
<div class="ttc" id="astructitype_html_ab40a0ab92be2b0d0dfb8fc027a8057ec"><div class="ttname"><a href="structitype.html#ab40a0ab92be2b0d0dfb8fc027a8057ec">itype::recipes</a></div><div class="ttdeci">std::vector&lt; recipe_id &gt; recipes</div><div class="ttdoc">What recipes can make this item.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01016">itype.h:1016</a></div></div>
<div class="ttc" id="astructitype_html_ab8196084d50fd9a33d6d93c290501b4f"><div class="ttname"><a href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">itype::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00071">itype.cpp:71</a></div></div>
<div class="ttc" id="astructitype_html_abc2596bacfc718fba56ab8076bab5d6b"><div class="ttname"><a href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">itype::get_id</a></div><div class="ttdeci">const itype_id &amp; get_id() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01072">itype.h:1072</a></div></div>
<div class="ttc" id="astructitype_html_abd3ca12912367ae92d488864e09ea921"><div class="ttname"><a href="structitype.html#abd3ca12912367ae92d488864e09ea921">itype::volume</a></div><div class="ttdeci">units::volume volume</div><div class="ttdoc">Space occupied by items of this type CAUTION: value given is for a default-sized stack.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00976">itype.h:976</a></div></div>
<div class="ttc" id="astructitype_html_afc46b586361661f16219f0a465b71c1d"><div class="ttname"><a href="structitype.html#afc46b586361661f16219f0a465b71c1d">itype::can_use</a></div><div class="ttdeci">bool can_use(const std::string &amp;iuse_name) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00086">itype.cpp:86</a></div></div>
<div class="ttc" id="astructnutrients_html"><div class="ttname"><a href="structnutrients.html">nutrients</a></div><div class="ttdef"><b>Definition:</b> <a href="stomach_8h_source.html#l00016">stomach.h:16</a></div></div>
<div class="ttc" id="astructnutrients_html_a03ea8d7d47251651f66a032158aaa30e"><div class="ttname"><a href="structnutrients.html#a03ea8d7d47251651f66a032158aaa30e">nutrients::min_in_place</a></div><div class="ttdeci">void min_in_place(const nutrients &amp;r)</div><div class="ttdoc">Replace the values here with the minimum (or maximum) of themselves and the corresponding values take...</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8cpp_source.html#l00012">stomach.cpp:12</a></div></div>
<div class="ttc" id="astructnutrients_html_a250b8d24985580cc4b6a640050bef208"><div class="ttname"><a href="structnutrients.html#a250b8d24985580cc4b6a640050bef208">nutrients::kcal</a></div><div class="ttdeci">int kcal</div><div class="ttdoc">amount of kcal this food has</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8h_source.html#l00018">stomach.h:18</a></div></div>
<div class="ttc" id="astructnutrients_html_af9d45327824853ff3a2a18ca53f18508"><div class="ttname"><a href="structnutrients.html#af9d45327824853ff3a2a18ca53f18508">nutrients::max_in_place</a></div><div class="ttdeci">void max_in_place(const nutrients &amp;r)</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8cpp_source.html#l00029">stomach.cpp:29</a></div></div>
<div class="ttc" id="astructprepared__item__consumption_html"><div class="ttname"><a href="structprepared__item__consumption.html">prepared_item_consumption</a></div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00177">consumption.cpp:177</a></div></div>
<div class="ttc" id="astructprepared__item__consumption_html_a1a9799bd95e916f3a97c190620e4b408"><div class="ttname"><a href="structprepared__item__consumption.html#a1a9799bd95e916f3a97c190620e4b408">prepared_item_consumption::type</a></div><div class="ttdeci">item_consumption_t type</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00182">consumption.cpp:182</a></div></div>
<div class="ttc" id="astructprepared__item__consumption_html_a44e53bf0b04863165d087329f724ff2f"><div class="ttname"><a href="structprepared__item__consumption.html#a44e53bf0b04863165d087329f724ff2f">prepared_item_consumption::consume</a></div><div class="ttdeci">bool consume(Character &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00185">consumption.cpp:185</a></div></div>
<div class="ttc" id="astructprepared__item__consumption_html_a4d3d155f6442938cb4cb7eba3a68553c"><div class="ttname"><a href="structprepared__item__consumption.html#a4d3d155f6442938cb4cb7eba3a68553c">prepared_item_consumption::prepared_item_consumption</a></div><div class="ttdeci">prepared_item_consumption(item_consumption_t type, const item &amp;it)</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00178">consumption.cpp:178</a></div></div>
<div class="ttc" id="astructprepared__item__consumption_html_a96d89b9e2577f72ba5d0f90a6811483d"><div class="ttname"><a href="structprepared__item__consumption.html#a96d89b9e2577f72ba5d0f90a6811483d">prepared_item_consumption::it</a></div><div class="ttdeci">const item &amp; it</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00183">consumption.cpp:183</a></div></div>
<div class="ttc" id="astructrequirement__data_html"><div class="ttname"><a href="structrequirement__data.html">requirement_data</a></div><div class="ttdoc">The *_vector members represent list of alternatives requirements: alter_tool_comp_vector = { * { { a,...</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00215">requirements.h:215</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a56dbf23ade6bced0dc6148b8e1a12d4c"><div class="ttname"><a href="structrequirement__data.html#a56dbf23ade6bced0dc6148b8e1a12d4c">requirement_data::get_components</a></div><div class="ttdeci">const alter_item_comp_vector &amp; get_components() const</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00992">requirements.cpp:992</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a81eb3f292988bc3b327f50cdcbb74e0c"><div class="ttname"><a href="structrequirement__data.html#a81eb3f292988bc3b327f50cdcbb74e0c">requirement_data::alter_item_comp_vector</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; item_comp &gt; &gt; alter_item_comp_vector</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00223">requirements.h:223</a></div></div>
<div class="ttc" id="astructtool__comp_html"><div class="ttname"><a href="structtool__comp.html">tool_comp</a></div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00090">requirements.h:90</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_a82b835742108b8d7f5f6a291b41e208e"><div class="ttname"><a href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a></div><div class="ttdeci">const char * vgettext(const char *msgid, const char *msgid_plural, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00036">translations.cpp:36</a></div></div>
<div class="ttc" id="atranslations_8h_html"><div class="ttname"><a href="translations_8h.html">translations.h</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
<div class="ttc" id="atype__id_8h_html_a4a240e1107e45f10d64b78f1b5f58d59"><div class="ttname"><a href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a></div><div class="ttdeci">string_id&lt; ammunition_type &gt; ammotype</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00012">type_id.h:12</a></div></div>
<div class="ttc" id="atype__id_8h_html_ac2f82f863d4e9e8f267a77a73910ebbf"><div class="ttname"><a href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a></div><div class="ttdeci">string_id&lt; itype &gt; itype_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00080">type_id.h:80</a></div></div>
<div class="ttc" id="aunits_8h_html"><div class="ttname"><a href="units_8h.html">units.h</a></div></div>
<div class="ttc" id="avalue__ptr_8h_html"><div class="ttname"><a href="value__ptr_8h.html">value_ptr.h</a></div></div>
<div class="ttc" id="avitamin_8h_html"><div class="ttname"><a href="vitamin_8h.html">vitamin.h</a></div></div>
<div class="ttc" id="avitamin_8h_html_a1614a36ad4442e08210a822735541012a6332547a7029263c6caae02ab40dc0d3"><div class="ttname"><a href="vitamin_8h.html#a1614a36ad4442e08210a822735541012a6332547a7029263c6caae02ab40dc0d3">VITAMIN</a></div><div class="ttdeci">@ VITAMIN</div><div class="ttdef"><b>Definition:</b> <a href="vitamin_8h_source.html#l00019">vitamin.h:19</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="consumption_8cpp.html">consumption.cpp</a></li>
    <li class="footer">Generated on Fri Oct 21 2022 14:41:06 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
