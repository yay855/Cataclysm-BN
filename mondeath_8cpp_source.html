<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: src/mondeath.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('mondeath_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">mondeath.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="mondeath_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#include &quot;<a class="code" href="mondeath_8h.html">mondeath.h</a>&quot;</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &lt;cstdlib&gt;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;type_traits&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="avatar_8h.html">avatar.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="bodypart_8h.html">bodypart.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="calendar_8h.html">calendar.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="colony_8h.html">colony.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="creature_8h.html">creature.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="enums_8h.html">enums.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="explosion_8h.html">explosion.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="field__type_8h.html">field_type.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="fungal__effects_8h.html">fungal_effects.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="game_8h.html">game.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="harvest_8h.html">harvest.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="item_8h.html">item.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="item__group_8h.html">item_group.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="item__stack_8h.html">item_stack.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="itype_8h.html">itype.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="iuse_8h.html">iuse.h</a>&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;<a class="code" href="iuse__actor_8h.html">iuse_actor.h</a>&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="kill__tracker_8h.html">kill_tracker.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;<a class="code" href="line_8h.html">line.h</a>&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;<a class="code" href="map_8h.html">map.h</a>&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;<a class="code" href="map__iterator_8h.html">map_iterator.h</a>&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &quot;<a class="code" href="mattack__actors_8h.html">mattack_actors.h</a>&quot;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &quot;<a class="code" href="mattack__common_8h.html">mattack_common.h</a>&quot;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &quot;<a class="code" href="messages_8h.html">messages.h</a>&quot;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#include &quot;<a class="code" href="monster_8h.html">monster.h</a>&quot;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#include &quot;<a class="code" href="morale__types_8h.html">morale_types.h</a>&quot;</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="preprocessor">#include &quot;<a class="code" href="mtype_8h.html">mtype.h</a>&quot;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="preprocessor">#include &quot;<a class="code" href="player_8h.html">player.h</a>&quot;</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="preprocessor">#include &quot;<a class="code" href="pldata_8h.html">pldata.h</a>&quot;</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">#include &quot;<a class="code" href="point_8h.html">point.h</a>&quot;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="preprocessor">#include &quot;<a class="code" href="rng_8h.html">rng.h</a>&quot;</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="preprocessor">#include &quot;<a class="code" href="sounds_8h.html">sounds.h</a>&quot;</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="preprocessor">#include &quot;<a class="code" href="string__formatter_8h.html">string_formatter.h</a>&quot;</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="preprocessor">#include &quot;<a class="code" href="string__id_8h.html">string_id.h</a>&quot;</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="preprocessor">#include &quot;<a class="code" href="timed__event_8h.html">timed_event.h</a>&quot;</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="preprocessor">#include &quot;<a class="code" href="translations_8h.html">translations.h</a>&quot;</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="preprocessor">#include &quot;<a class="code" href="type__id_8h.html">type_id.h</a>&quot;</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="preprocessor">#include &quot;<a class="code" href="units_8h.html">units.h</a>&quot;</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="preprocessor">#include &quot;<a class="code" href="value__ptr_8h.html">value_ptr.h</a>&quot;</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="preprocessor">#include &quot;<a class="code" href="weighted__list_8h.html">weighted_list.h</a>&quot;</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span> </div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#aed84cc428d3176b893fe131e4eda45c3">   56</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#aed84cc428d3176b893fe131e4eda45c3">effect_ai_controlled</a>( <span class="stringliteral">&quot;ai_controlled&quot;</span> );</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#ae65a9a8c5e0591a5f9b530b68c704235">   57</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#ae65a9a8c5e0591a5f9b530b68c704235">effect_amigara</a>( <span class="stringliteral">&quot;amigara&quot;</span> );</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">   58</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a>( <span class="stringliteral">&quot;boomered&quot;</span> );</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a84bed2f340b7b3bf9a0ae0c95eabc6dc">   59</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a84bed2f340b7b3bf9a0ae0c95eabc6dc">effect_darkness</a>( <span class="stringliteral">&quot;darkness&quot;</span> );</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a8f6887393d4085f03584ef53b2c63d2f">   60</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a8f6887393d4085f03584ef53b2c63d2f">effect_glowing</a>( <span class="stringliteral">&quot;glowing&quot;</span> );</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a0e701368604950da9eae27352af9044b">   61</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a0e701368604950da9eae27352af9044b">effect_no_ammo</a>( <span class="stringliteral">&quot;no_ammo&quot;</span> );</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a79654cfc6f07462199ec3f5da9e49c83">   62</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a79654cfc6f07462199ec3f5da9e49c83">effect_pacified</a>( <span class="stringliteral">&quot;pacified&quot;</span> );</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#ac2aa877afbc90f2a8dccb91704af5973">   63</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#ac2aa877afbc90f2a8dccb91704af5973">effect_rat</a>( <span class="stringliteral">&quot;rat&quot;</span> );</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a9a69878d610299ed767e077dad05994e">   65</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a9a69878d610299ed767e077dad05994e">itype_processor</a>( <span class="stringliteral">&quot;processor&quot;</span> );</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a1ce9db8f1e355ba884db835013d78b41">   67</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">species_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a1ce9db8f1e355ba884db835013d78b41">species_BLOB</a>( <span class="stringliteral">&quot;BLOB&quot;</span> );</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a4e2730248c54d4d07fa7e215efb35d1a">   68</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">species_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a4e2730248c54d4d07fa7e215efb35d1a">ZOMBIE</a>( <span class="stringliteral">&quot;ZOMBIE&quot;</span> );</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#aa38c932036191fc88554990d16a891a2">   70</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#aa38c932036191fc88554990d16a891a2">mon_blob</a>( <span class="stringliteral">&quot;mon_blob&quot;</span> );</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a039c3acd23099e1631feefe7748f49ac">   71</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a039c3acd23099e1631feefe7748f49ac">mon_blob_brain</a>( <span class="stringliteral">&quot;mon_blob_brain&quot;</span> );</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a96b8333a5c99eec3461bf502b864204b">   72</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a96b8333a5c99eec3461bf502b864204b">mon_blob_small</a>( <span class="stringliteral">&quot;mon_blob_small&quot;</span> );</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a3a701004a797f5511860423764151aa2">   73</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a3a701004a797f5511860423764151aa2">mon_breather</a>( <span class="stringliteral">&quot;mon_breather&quot;</span> );</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a7490b3833a4ccde42b3dab6eadfb43d3">   74</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a7490b3833a4ccde42b3dab6eadfb43d3">mon_breather_hub</a>( <span class="stringliteral">&quot;mon_breather_hub&quot;</span> );</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a9505b03c793013adc043674d3233f8f4">   75</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a9505b03c793013adc043674d3233f8f4">mon_creeper_hub</a>( <span class="stringliteral">&quot;mon_creeper_hub&quot;</span> );</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a041e74f49f2eab98904a956d5d5e473a">   76</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a041e74f49f2eab98904a956d5d5e473a">mon_creeper_vine</a>( <span class="stringliteral">&quot;mon_creeper_vine&quot;</span> );</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a5fec4327ea06615c1bc75fc639b54c11">   77</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a5fec4327ea06615c1bc75fc639b54c11">mon_giant_cockroach_nymph</a>( <span class="stringliteral">&quot;mon_giant_cockroach_nymph&quot;</span> );</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a1274db01551e337ca6c69d003d280e98">   78</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a1274db01551e337ca6c69d003d280e98">mon_halfworm</a>( <span class="stringliteral">&quot;mon_halfworm&quot;</span> );</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a9aa63de6139697ce8d60441863a2b517">   79</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a9aa63de6139697ce8d60441863a2b517">mon_sewer_rat</a>( <span class="stringliteral">&quot;mon_sewer_rat&quot;</span> );</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a1318a41f2960032c7f2043f0e9c9b951">   80</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a1318a41f2960032c7f2043f0e9c9b951">mon_thing</a>( <span class="stringliteral">&quot;mon_thing&quot;</span> );</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a0781c8bcbb6f6f615b022a1b308a21f7">   81</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a0781c8bcbb6f6f615b022a1b308a21f7">mon_zombie_dancer</a>( <span class="stringliteral">&quot;mon_zombie_dancer&quot;</span> );</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a75f940017ac482501c82a06e89a6a9ff">   82</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a75f940017ac482501c82a06e89a6a9ff">mon_zombie_hulk</a>( <span class="stringliteral">&quot;mon_zombie_hulk&quot;</span> );</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a79d0578dfe3d1e27332b119e515f47fb">   84</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a79d0578dfe3d1e27332b119e515f47fb">trait_KILLER</a>( <span class="stringliteral">&quot;KILLER&quot;</span> );</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a53f40b992f1ab4a66785f12dbaae64ec">   85</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a53f40b992f1ab4a66785f12dbaae64ec">trait_PACIFIST</a>( <span class="stringliteral">&quot;PACIFIST&quot;</span> );</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">   86</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> <a class="code hl_variable" href="mondeath_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a>( <span class="stringliteral">&quot;PSYCHOPATH&quot;</span> );</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> </div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno"><a class="line" href="namespacemdeath.html#a149939d36de0fa53a1e49641a3d0cf2c">   88</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#a149939d36de0fa53a1e49641a3d0cf2c">mdeath::normal</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>{</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    <span class="keywordflow">if</span>( z.<a class="code hl_variable" href="classmonster.html#a55f85ad0bf2f4d114107820910a42c0a">no_corpse_quiet</a> ) {</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    }</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span> </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="keywordflow">if</span>( z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_function" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code hl_variable" href="mondeath_8cpp.html#a4e2730248c54d4d07fa7e215efb35d1a">ZOMBIE</a> ) ) {</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>        <a class="code hl_function" href="namespacesfx.html#a8fa2bb887ac81392fb686cc4079b5d5a">sfx::play_variant_sound</a>( <span class="stringliteral">&quot;mon_death&quot;</span>, <span class="stringliteral">&quot;zombie_death&quot;</span>, <a class="code hl_function" href="namespacesfx.html#a1f138eaa92db132e81ce591751c512cc">sfx::get_heard_volume</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>() ) );</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    }</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z ) ) {</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>        <span class="comment">//Currently it is possible to get multiple messages that a monster died.</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s dies!&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    }</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> max_hp = std::max( z.<a class="code hl_function" href="classmonster.html#a551f4a380282f8ec082c74f410c397de">get_hp_max</a>(), 1 );</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> overflow_damage = std::max( -z.<a class="code hl_function" href="classmonster.html#a2d0e466b9d25796cd99402ddd5d3ce20">get_hp</a>(), 0 );</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> corpse_damage = 2.5 * overflow_damage / max_hp;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> pulverized = corpse_damage &gt; 5 &amp;&amp; overflow_damage &gt; z.<a class="code hl_function" href="classmonster.html#a551f4a380282f8ec082c74f410c397de">get_hp_max</a>();</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    z.<a class="code hl_function" href="classCreature.html#a303fcc58869f10f44be1d598ed1aa26f">bleed</a>(); <span class="comment">// leave some blood if we have to</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> </div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="keywordflow">if</span>( !pulverized ) {</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>        <a class="code hl_function" href="mondeath_8cpp.html#aadf59a13d25230d4be1cca5cbe800a4b">make_mon_corpse</a>( z, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( std::floor( corpse_damage * <a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a> ) ) );</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    }</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <span class="comment">// if mdeath::splatter was set along normal makes sure it is not called twice</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <span class="keywordtype">bool</span> splatt = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;deathfunction : z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#a1c38a3e844d79e2a12fcd34e4f6283be">dies</a> ) {</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>        <span class="keywordflow">if</span>( deathfunction == <a class="code hl_function" href="namespacemdeath.html#a8552351ca9ff310424c8f48a32eea44a">mdeath::splatter</a> ) {</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>            splatt = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>        }</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    }</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <span class="keywordflow">if</span>( !splatt ) {</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        <a class="code hl_function" href="namespacemdeath.html#a8552351ca9ff310424c8f48a32eea44a">splatter</a>( z );</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    }</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>}</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span> </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a85f78b5b1a30d02601ddb48682e1ac18">  125</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="mondeath_8cpp.html#a85f78b5b1a30d02601ddb48682e1ac18">scatter_chunks</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;chunk_name, <span class="keywordtype">int</span> chunk_amt, <a class="code hl_class" href="classmonster.html">monster</a> &amp;z, <span class="keywordtype">int</span> distance,</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>                            <span class="keywordtype">int</span> pile_size = 1 )</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>{</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="comment">// can&#39;t have less than one item in a pile or it would cause an infinite loop</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    pile_size = std::max( pile_size, 1 );</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="comment">// can&#39;t have more items in a pile than total items</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    pile_size = std::min( chunk_amt, pile_size );</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    distance = std::abs( distance );</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> chunk( chunk_name, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, pile_size );</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; chunk_amt; i += pile_size ) {</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>        <span class="keywordtype">bool</span> drop_chunks = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        <a class="code hl_struct" href="structtripoint.html">tripoint</a> tarp( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>() + <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -distance, distance ), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -distance, distance ) ) );</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>        <span class="keyword">const</span> <span class="keyword">auto</span> traj = <a class="code hl_function" href="coordinates_8h.html#a4a34f7ffa4c18effba7f8239c68c8738">line_to</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), tarp );</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>        <a class="code hl_struct" href="structtripoint.html">tripoint</a> prev_point = z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>();</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> j = 0; j &lt; traj.size(); j++ ) {</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>            tarp = traj[j];</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span> </div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>            <span class="keywordtype">bool</span> obstructed = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>            <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#a1a51a23a59c4341fd4d8f3c4723fd818">obstructed_by_vehicle_rotation</a>( prev_point, tarp ) ) {</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>                    tarp.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> = prev_point.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a>;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>                    tarp.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> = prev_point.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>                }</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>                obstructed = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>            }</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span> </div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) &amp;&amp; z.<a class="code hl_function" href="classmonster.html#a19f8524caa7fa7b0156d4262fb33a341">bloodType</a>() ) {</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>                here.<a class="code hl_function" href="classmap.html#a78a575384ef025ebc3bc5f29bdfb0bb1">add_splatter</a>( z.<a class="code hl_function" href="classmonster.html#a19f8524caa7fa7b0156d4262fb33a341">bloodType</a>(), tarp );</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( z.<a class="code hl_function" href="classmonster.html#ae48d048c8c53f7563bf7edc6a38a0018">gibType</a>() ) {</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>                here.<a class="code hl_function" href="classmap.html#a78a575384ef025ebc3bc5f29bdfb0bb1">add_splatter</a>( z.<a class="code hl_function" href="classmonster.html#ae48d048c8c53f7563bf7edc6a38a0018">gibType</a>(), tarp, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, j + 1 ) );</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>            }</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span> </div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>            <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">impassable</a>( tarp ) ) {</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>                here.<a class="code hl_function" href="classmap.html#a2266f21420ae2a1b44e8df9a028764e4">bash</a>( tarp, distance );</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>                <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">impassable</a>( tarp ) ) {</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>                    <span class="comment">// Target is obstacle, not destroyed by bashing,</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>                    <span class="comment">// stop trajectory in front of it, if this is the first</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>                    <span class="comment">// point (e.g. wall adjacent to monster), don&#39;t drop anything on it</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>                    <span class="keywordflow">if</span>( j &gt; 0 ) {</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>                        tarp = traj[j - 1];</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>                        drop_chunks = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>                    }</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>                }</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>            }</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>            <span class="comment">//Don&#39;t lower j until after it&#39;s used in bashing</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>            <span class="keywordflow">if</span>( obstructed ) {</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>                j--;</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>            }</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>            prev_point = tarp;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        }</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>        <span class="keywordflow">if</span>( drop_chunks ) {</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>            here.<a class="code hl_function" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( tarp, chunk );</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>        }</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    }</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>}</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span> </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno"><a class="line" href="namespacemdeath.html#a8552351ca9ff310424c8f48a32eea44a">  186</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#a8552351ca9ff310424c8f48a32eea44a">mdeath::splatter</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>{</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> gibbable = !z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_function" href="structmtype.html#a208b05355d08ec7d628606f18e2d53be">has_flag</a>( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842ab2b01890ed83f413db4c59064312950e">MF_NOGIB</a> );</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span> </div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> max_hp = std::max( z.<a class="code hl_function" href="classmonster.html#a551f4a380282f8ec082c74f410c397de">get_hp_max</a>(), 1 );</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> overflow_damage = std::max( -z.<a class="code hl_function" href="classmonster.html#a2d0e466b9d25796cd99402ddd5d3ce20">get_hp</a>(), 0 );</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> corpse_damage = 2.5 * overflow_damage / max_hp;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="keywordtype">bool</span> pulverized = corpse_damage &gt; 5 &amp;&amp; overflow_damage &gt; z.<a class="code hl_function" href="classmonster.html#a551f4a380282f8ec082c74f410c397de">get_hp_max</a>();</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <span class="comment">// make sure that full splatter happens when this is a set death function, not part of normal</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;deathfunction : z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#a1c38a3e844d79e2a12fcd34e4f6283be">dies</a> ) {</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>        <span class="keywordflow">if</span>( deathfunction == <a class="code hl_function" href="namespacemdeath.html#a8552351ca9ff310424c8f48a32eea44a">mdeath::splatter</a> ) {</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>            pulverized = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>        }</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    }</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> type_blood = z.<a class="code hl_function" href="classmonster.html#a19f8524caa7fa7b0156d4262fb33a341">bloodType</a>();</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> type_gib = z.<a class="code hl_function" href="classmonster.html#ae48d048c8c53f7563bf7edc6a38a0018">gibType</a>();</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span> </div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <span class="keywordflow">if</span>( gibbable ) {</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        <span class="keyword">const</span> <span class="keyword">auto</span> area = here.<a class="code hl_function" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 1 );</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>        <span class="keywordtype">int</span> number_of_gibs = std::min( std::floor( corpse_damage ) - 1, 1 + max_hp / 5.0f );</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span> </div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>        <span class="keywordflow">if</span>( pulverized &amp;&amp; z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#aba4c84ff42939b47ff74896ed326a98f">size</a> &gt;= <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592aaef7580aead8b8a18bc50cb6c1f98b31">MS_MEDIUM</a> ) {</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>            number_of_gibs += <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 6 );</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>            <a class="code hl_function" href="namespacesfx.html#a8fa2bb887ac81392fb686cc4079b5d5a">sfx::play_variant_sound</a>( <span class="stringliteral">&quot;mon_death&quot;</span>, <span class="stringliteral">&quot;zombie_gibbed&quot;</span>, <a class="code hl_function" href="namespacesfx.html#a1f138eaa92db132e81ce591751c512cc">sfx::get_heard_volume</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>() ) );</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>        }</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span> </div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; number_of_gibs; ++i ) {</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>            <span class="keywordflow">if</span>( type_blood ) {</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>                here.<a class="code hl_function" href="classmap.html#a78a575384ef025ebc3bc5f29bdfb0bb1">add_splatter</a>( type_gib, <a class="code hl_function" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( area ), <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, i + 1 ) );</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>            }</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>            <span class="keywordflow">if</span>( type_gib ) {</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>                here.<a class="code hl_function" href="classmap.html#a78a575384ef025ebc3bc5f29bdfb0bb1">add_splatter</a>( type_gib, <a class="code hl_function" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( area ) );</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>            }</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>        }</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    }</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <span class="comment">// 1% of the weight of the monster is the base, with overflow damage as a multiplier</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <span class="keywordtype">int</span> gibbed_weight = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, std::round( <a class="code hl_function" href="namespaceunits.html#a8306911daadc1a4d7a7b46e9786f4a4c">to_gram</a>( z.<a class="code hl_function" href="classmonster.html#ac657665936ef8e009e683c2fa02f4ce3">get_weight</a>() ) / 100.0 *</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>                                            ( overflow_damage / max_hp + 1 ) ) );</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> z_weight = <a class="code hl_function" href="namespaceunits.html#a8306911daadc1a4d7a7b46e9786f4a4c">to_gram</a>( z.<a class="code hl_function" href="classmonster.html#ac657665936ef8e009e683c2fa02f4ce3">get_weight</a>() );</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <span class="comment">// limit gibbing to 15%</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    gibbed_weight = std::min( gibbed_weight, z_weight * 15 / 100 );</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span> </div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <span class="keywordflow">if</span>( pulverized &amp;&amp; gibbable ) {</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>        <span class="keywordtype">float</span> overflow_ratio = overflow_damage / max_hp + 1;</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>        <span class="keywordtype">int</span> gib_distance = std::round( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 2, 4 ) );</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;entry : *z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#af030166bf534dd2e4af6897c269bec38">harvest</a> ) {</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>            <span class="comment">// only flesh and bones survive.</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>            <span class="keywordflow">if</span>( entry.type == <span class="stringliteral">&quot;flesh&quot;</span> || entry.type == <span class="stringliteral">&quot;bone&quot;</span> ) {</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>                <span class="comment">// the larger the overflow damage, the less you get</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>                <a class="code hl_class" href="classstring__id.html">itype_id</a> item_id( entry.drop );</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> chunk_amt = entry.mass_ratio / overflow_ratio / 10 * z_weight /</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>                                      <a class="code hl_function" href="namespaceunits.html#a8306911daadc1a4d7a7b46e9786f4a4c">to_gram</a>( item_id-&gt;<a class="code hl_variable" href="structitype.html#a4ecb806dae208ff275b4aa50ffcd3902">weight</a> );</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>                <a class="code hl_function" href="mondeath_8cpp.html#a85f78b5b1a30d02601ddb48682e1ac18">scatter_chunks</a>( item_id, chunk_amt, z, gib_distance,</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>                                chunk_amt / ( gib_distance - 1 ) );</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>                gibbed_weight -= entry.mass_ratio / overflow_ratio / 20 * z_weight;</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>            }</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>        }</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>        <span class="comment">// add corpse with gib flag</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        <a class="code hl_class" href="classitem.html">item</a> <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a> = <a class="code hl_function" href="classitem.html#a843e57d31c5f26b3300b607446c8b860">item::make_corpse</a>( z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, z.<a class="code hl_variable" href="classmonster.html#a5e50554c4210ec2a15d9ed44e61bcf3a">unique_name</a>, z.<a class="code hl_function" href="classmonster.html#ae7d28bfb064ffed8272b320e56da7623">get_upgrade_time</a>() );</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        <span class="comment">// Set corpse to damage that aligns with being pulped</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.set_damage( 4000 );</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>        <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.set_flag( <span class="stringliteral">&quot;GIBBED&quot;</span> );</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>        <span class="keywordflow">if</span>( z.<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="mondeath_8cpp.html#a0e701368604950da9eae27352af9044b">effect_no_ammo</a> ) ) {</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>            <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.set_var( <span class="stringliteral">&quot;no_ammo&quot;</span>, <span class="stringliteral">&quot;no_ammo&quot;</span> );</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>        }</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        here.<a class="code hl_function" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a> );</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    }</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>}</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span> </div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno"><a class="line" href="namespacemdeath.html#aaa11eb74acaa458a524ce41f4f9a4850">  257</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#aaa11eb74acaa458a524ce41f4f9a4850">mdeath::acid</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>{</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z ) ) {</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>        <span class="keywordflow">if</span>( z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#a1c38a3e844d79e2a12fcd34e4f6283be">dies</a>.size() ==</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>            1 ) { <span class="comment">//If this death function is the only function. The corpse gets dissolved.</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaa65a3cd4a2c6d0fbb31833ade22ee100">m_mixed</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s&#39;s body dissolves into acid.&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s&#39;s body leaks acid.&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>        }</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    }</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), <a class="code hl_variable" href="field__type_8cpp.html#ab7a8a9cdb74831f6553f4abf5df22873">fd_acid</a>, 3 );</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>}</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span> </div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno"><a class="line" href="namespacemdeath.html#aed12979088aa9efbc8f84c57036da8c8">  270</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#aed12979088aa9efbc8f84c57036da8c8">mdeath::boomer</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>{</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    std::string <a class="code hl_function" href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">explode</a> = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;a %s explode!&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 24, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code hl_function" href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">explode</a>, <span class="keyword">false</span>, <span class="stringliteral">&quot;explosion&quot;</span>, <span class="stringliteral">&quot;small&quot;</span> );</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 1 ) ) { <span class="comment">// *NOPAD*</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.bash( dest, 10 );</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> target = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( dest ) ) {</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>            target-&gt;stumble();</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>            target-&gt;moves -= 250;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>        }</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    }</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span> </div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() ) == 1 ) {</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.add_env_effect( <a class="code hl_variable" href="mondeath_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2055386ee220ee2ca3e61d13df65e868">bp_eyes</a>, 2, 24_turns );</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    }</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span> </div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.propagate_field( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), <a class="code hl_variable" href="field__type_8cpp.html#a22bb00476a16e7d9d5a0de4454a7e7ae">fd_bile</a>, 15, 1 );</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>}</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span> </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno"><a class="line" href="namespacemdeath.html#a9603f2e984887d32c881e9df6d224f37">  289</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#a9603f2e984887d32c881e9df6d224f37">mdeath::boomer_glow</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>{</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>    std::string <a class="code hl_function" href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">explode</a> = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;a %s explode!&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 24, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code hl_function" href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">explode</a>, <span class="keyword">false</span>, <span class="stringliteral">&quot;explosion&quot;</span>, <span class="stringliteral">&quot;small&quot;</span> );</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span> </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 1 ) ) { <span class="comment">// *NOPAD*</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.bash( dest, 10 );</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> target = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( dest ) ) {</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>            target-&gt;stumble();</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>            target-&gt;moves -= 250;</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        }</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        <span class="keywordflow">if</span>( <a class="code hl_class" href="classCreature.html">Creature</a> *<span class="keyword">const</span> critter = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at( dest ) ) {</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>            critter-&gt;add_env_effect( <a class="code hl_variable" href="mondeath_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2055386ee220ee2ca3e61d13df65e868">bp_eyes</a>, 5, 25_turns );</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>            <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 2, 4 ); i++ ) {</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>                <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp = <a class="code hl_function" href="bodypart_8cpp.html#ad5a2e69e812ef651c2fb33cdf830e50f">random_body_part</a>();</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>                critter-&gt;add_env_effect( <a class="code hl_variable" href="mondeath_8cpp.html#a8f6887393d4085f03584ef53b2c63d2f">effect_glowing</a>, bp, 4, 4_minutes );</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>                <span class="keywordflow">if</span>( critter-&gt;has_effect( <a class="code hl_variable" href="mondeath_8cpp.html#a8f6887393d4085f03584ef53b2c63d2f">effect_glowing</a> ) ) {</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>                }</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>            }</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>        }</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>    }</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span> </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.propagate_field( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), <a class="code hl_variable" href="field__type_8cpp.html#a22bb00476a16e7d9d5a0de4454a7e7ae">fd_bile</a>, 30, 2 );</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>}</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span> </div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno"><a class="line" href="namespacemdeath.html#aa395f6a2411d34c58c9fce3f9ca2c2f6">  315</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#aa395f6a2411d34c58c9fce3f9ca2c2f6">mdeath::kill_vines</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>{</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="keyword">const</span> std::vector&lt;Creature *&gt; vines = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_creatures_if( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classCreature.html">Creature</a> &amp; critter ) {</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        <span class="keyword">const</span> <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">&gt;</span>( &amp;critter );</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>        <span class="keywordflow">return</span> mon &amp;&amp; mon-&gt;<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a> == <a class="code hl_variable" href="mondeath_8cpp.html#a041e74f49f2eab98904a956d5d5e473a">mon_creeper_vine</a>;</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    } );</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="keyword">const</span> std::vector&lt;Creature *&gt; hubs = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_creatures_if( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classCreature.html">Creature</a> &amp; critter ) {</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>        <span class="keyword">const</span> <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> mon = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">&gt;</span>( &amp;critter );</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>        <span class="keywordflow">return</span> mon &amp;&amp; mon != &amp;z &amp;&amp; mon-&gt;<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a> == <a class="code hl_variable" href="mondeath_8cpp.html#a9505b03c793013adc043674d3233f8f4">mon_creeper_hub</a>;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>    } );</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span> </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classCreature.html">Creature</a> *<span class="keyword">const</span> <a class="code hl_function" href="namespacemattack.html#af2676be6738b2b9622d33c48e7c664c6">vine</a> : vines ) {</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>        <span class="keywordtype">int</span> dist = <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( <a class="code hl_function" href="namespacemattack.html#af2676be6738b2b9622d33c48e7c664c6">vine</a>-&gt;pos(), z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>() );</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>        <span class="keywordtype">bool</span> closer = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;j : hubs ) {</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( <a class="code hl_function" href="namespacemattack.html#af2676be6738b2b9622d33c48e7c664c6">vine</a>-&gt;pos(), j-&gt;pos() ) &lt; dist ) {</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>            }</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>        }</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>        <span class="keywordflow">if</span>( !closer ) { <span class="comment">// TODO: closer variable is not being updated and is always false!</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>            <a class="code hl_function" href="namespacemattack.html#af2676be6738b2b9622d33c48e7c664c6">vine</a>-&gt;die( &amp;z );</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        }</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    }</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>}</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span> </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno"><a class="line" href="namespacemdeath.html#a6b2fd64f88b244202a90b98a70b5b539">  340</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#a6b2fd64f88b244202a90b98a70b5b539">mdeath::vine_cut</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>{</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    std::vector&lt;monster *&gt; vines;</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;tmp : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 1 ) ) {</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>        <span class="keywordflow">if</span>( tmp == z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>() ) {</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>            <span class="keywordflow">continue</span>; <span class="comment">// Skip ourselves</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        }</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> neighbor = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( tmp ) ) {</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>            <span class="keywordflow">if</span>( neighbor-&gt;type-&gt;id == <a class="code hl_variable" href="mondeath_8cpp.html#a041e74f49f2eab98904a956d5d5e473a">mon_creeper_vine</a> ) {</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>                vines.push_back( neighbor );</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>            }</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>        }</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    }</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span> </div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;<a class="code hl_function" href="namespacemattack.html#af2676be6738b2b9622d33c48e7c664c6">vine</a> : vines ) {</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>        <span class="keywordtype">bool</span> found_neighbor = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( <a class="code hl_function" href="namespacemattack.html#af2676be6738b2b9622d33c48e7c664c6">vine</a>-&gt;pos(), 1 ) ) {</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>            <span class="keywordflow">if</span>( dest != z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>() ) {</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>                <span class="comment">// Not the dying vine</span></div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>                <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> v = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_at&lt;<a class="code hl_class" href="classmonster.html">monster</a>&gt;( dest ) ) {</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>                    <span class="keywordflow">if</span>( v-&gt;type-&gt;id == <a class="code hl_variable" href="mondeath_8cpp.html#a9505b03c793013adc043674d3233f8f4">mon_creeper_hub</a> || v-&gt;type-&gt;<a class="code hl_variable" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a> == <a class="code hl_variable" href="mondeath_8cpp.html#a041e74f49f2eab98904a956d5d5e473a">mon_creeper_vine</a> ) {</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>                        found_neighbor = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>                    }</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>                }</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>            }</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>        }</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>        <span class="keywordflow">if</span>( !found_neighbor ) {</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>            <a class="code hl_function" href="namespacemattack.html#af2676be6738b2b9622d33c48e7c664c6">vine</a>-&gt;die( &amp;z );</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>        }</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    }</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>}</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno"><a class="line" href="namespacemdeath.html#aa87171d164f54c54a699eb13f9b5f894">  373</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#aa87171d164f54c54a699eb13f9b5f894">mdeath::triffid_heart</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>{</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z ) ) {</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The surrounding roots begin to crack and crumble.&quot;</span> ) );</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    }</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;timed_events.add( <a class="code hl_enumvalue" href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a454e3c286909a969a0c645a49bb3d480">TIMED_EVENT_ROOTS_DIE</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> + 10_minutes );</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>}</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span> </div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno"><a class="line" href="namespacemdeath.html#adfd4f81649e252dba86a3178a7822cfb">  381</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#adfd4f81649e252dba86a3178a7822cfb">mdeath::fungus</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>{</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <span class="comment">//~ the sound of a fungus dying</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 10, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Pouf!&quot;</span> ), <span class="keyword">false</span>, <span class="stringliteral">&quot;misc&quot;</span>, <span class="stringliteral">&quot;puff&quot;</span> );</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span> </div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <a class="code hl_class" href="classfungal__effects.html">fungal_effects</a> fe( *<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m );</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;sporep : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 1 ) ) { <span class="comment">// *NOPAD*</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.impassable( sporep ) &amp;&amp; !<a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().obstructed_by_vehicle_rotation( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), sporep ) ) {</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>        }</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>        <span class="comment">// z is dead, don&#39;t credit it with the kill</span></div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>        <span class="comment">// Maybe credit z&#39;s killer?</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>        fe.<a class="code hl_function" href="classfungal__effects.html#aa5ea9e56f2b97bc6c30c989c652b695f">fungalize</a>( sporep, <span class="keyword">nullptr</span>, 0.25 );</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    }</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>}</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span> </div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno"><a class="line" href="namespacemdeath.html#ab9af743813d471e4f846965044d219e1">  397</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#ab9af743813d471e4f846965044d219e1">mdeath::disintegrate</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>{</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z ) ) {</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s disintegrates!&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    }</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>}</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span> </div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno"><a class="line" href="namespacemdeath.html#adcada0a5a0f3cf4eeb0e1325ac681183">  404</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#adcada0a5a0f3cf4eeb0e1325ac681183">mdeath::worm</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>{</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z ) ) {</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>        <span class="keywordflow">if</span>( z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#a1c38a3e844d79e2a12fcd34e4f6283be">dies</a>.size() == 1 ) {</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s splits in two!&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Two worms crawl out of the %s&#39;s corpse.&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>        }</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    }</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span> </div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    <span class="keywordtype">int</span> worms = 2;</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    <span class="keywordflow">while</span>( worms &gt; 0 &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_around( <a class="code hl_variable" href="mondeath_8cpp.html#a1274db01551e337ca6c69d003d280e98">mon_halfworm</a>, z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 1 ) ) {</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>        worms--;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>    }</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>}</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span> </div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno"><a class="line" href="namespacemdeath.html#ac27195b77b85342701b88d9b2ce64386">  420</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#ac27195b77b85342701b88d9b2ce64386">mdeath::disappear</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>{</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z ) ) {</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s disappears.&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    }</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>}</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span> </div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno"><a class="line" href="namespacemdeath.html#a2b3ee0f23691483f0f16dafa06f3baef">  427</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#a2b3ee0f23691483f0f16dafa06f3baef">mdeath::guilt</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>{</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> MAX_GUILT_DISTANCE = 5;</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    <span class="keywordtype">int</span> kill_count = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_kill_tracker().kill_count( z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a> );</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>    <span class="keywordtype">int</span> maxKills = 100; <span class="comment">// this is when the player stop caring altogether.</span></div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span> </div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    <span class="comment">// different message as we kill more of the same monster</span></div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    std::string msg = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel guilty for killing %s.&quot;</span> ); <span class="comment">// default guilt message</span></div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <a class="code hl_enumeration" href="enums_8h.html#a3baf36d700701401b6baf94db93d096e">game_message_type</a> msgtype = <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>; <span class="comment">// default guilt message type</span></div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    std::map&lt;int, std::string&gt; guilt_tresholds;</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>    guilt_tresholds[75] = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel ashamed for killing %s.&quot;</span> );</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>    guilt_tresholds[50] = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You regret killing %s.&quot;</span> );</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    guilt_tresholds[25] = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel remorse for killing %s.&quot;</span> );</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span> </div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="mondeath_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a> ) || <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait_flag( <span class="stringliteral">&quot;PRED3&quot;</span> ) ||</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait_flag( <span class="stringliteral">&quot;PRED4&quot;</span> ) || <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="mondeath_8cpp.html#a79d0578dfe3d1e27332b119e515f47fb">trait_KILLER</a> ) ) {</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    }</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() ) &gt; MAX_GUILT_DISTANCE ) {</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>        <span class="comment">// Too far away, we can deal with it.</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>    }</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    <span class="keywordflow">if</span>( z.<a class="code hl_function" href="classmonster.html#a2d0e466b9d25796cd99402ddd5d3ce20">get_hp</a>() &gt;= 0 ) {</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>        <span class="comment">// We probably didn&#39;t kill it</span></div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>    }</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    <span class="keywordflow">if</span>( kill_count &gt;= maxKills ) {</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>        <span class="comment">// player no longer cares</span></div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>        <span class="keywordflow">if</span>( kill_count == maxKills ) {</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>            <span class="comment">//~ Message after killing a lot of monsters which would normally affect the morale negatively. %s is the monster name, it will be pluralized with a number of 100.</span></div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;After killing so many bloody %s you no longer care &quot;</span></div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>                                <span class="stringliteral">&quot;about their deaths anymore.&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>( maxKills ) );</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>        }</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait_flag( <span class="stringliteral">&quot;PRED1&quot;</span> ) ) || ( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait_flag( <span class="stringliteral">&quot;PRED2&quot;</span> ) ) ) {</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>        msg = ( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Culling the weak is distasteful, but necessary.&quot;</span> ) );</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>        msgtype = <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>;</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>        msgtype = <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>;</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;guilt_treshold : guilt_tresholds ) {</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>            <span class="keywordflow">if</span>( kill_count &gt;= guilt_treshold.first ) {</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>                msg = guilt_treshold.second;</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>            }</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>        }</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>    }</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span> </div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( msgtype, msg, z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span> </div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>    <span class="keywordtype">int</span> moraleMalus = -50 * ( 1.0 - ( <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( kill_count ) / maxKills ) );</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>    <span class="keywordtype">int</span> maxMalus = -250 * ( 1.0 - ( <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( kill_count ) / maxKills ) );</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>    <a class="code hl_class" href="classtime__duration.html">time_duration</a> duration = 30_minutes * ( 1.0 - ( <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( kill_count ) / maxKills ) );</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>    <a class="code hl_class" href="classtime__duration.html">time_duration</a> decayDelay = 3_minutes * ( 1.0 - ( <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( kill_count ) / maxKills ) );</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    <span class="keywordflow">if</span>( z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_function" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code hl_variable" href="mondeath_8cpp.html#a4e2730248c54d4d07fa7e215efb35d1a">ZOMBIE</a> ) ) {</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>        moraleMalus /= 10;</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="mondeath_8cpp.html#a53f40b992f1ab4a66785f12dbaae64ec">trait_PACIFIST</a> ) ) {</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>            moraleMalus *= 5;</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait_flag( <span class="stringliteral">&quot;PRED1&quot;</span> ) ) {</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>            moraleMalus /= 4;</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait_flag( <span class="stringliteral">&quot;PRED2&quot;</span> ) ) {</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>            moraleMalus /= 5;</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>        }</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>    }</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.add_morale( <a class="code hl_variable" href="morale__types_8cpp.html#a66c3c1723add311ae2081a640fe033f1">MORALE_KILLED_MONSTER</a>, moraleMalus, maxMalus, duration, decayDelay );</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span> </div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>}</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span> </div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno"><a class="line" href="namespacemdeath.html#a260146b4adc5351d4a91165cf09fb524">  494</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#a260146b4adc5351d4a91165cf09fb524">mdeath::blobsplit</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>{</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    <span class="keywordtype">int</span> speed = z.<a class="code hl_function" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">get_speed</a>() - <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 30, 50 );</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.spawn_item( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), <span class="stringliteral">&quot;slime_scrap&quot;</span>, 1, 0, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>    <span class="keywordflow">if</span>( z.<a class="code hl_function" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">get_speed</a>() &lt;= 0 ) {</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z ) ) {</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>            <span class="comment">// TODO: Add vermin-tagged tiny versions of the splattered blob  :)</span></div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s splatters apart.&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>        }</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    }</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z ) ) {</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        <span class="keywordflow">if</span>( z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#a1c38a3e844d79e2a12fcd34e4f6283be">dies</a>.size() == 1 ) {</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s splits in two!&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Two small blobs slither out of the corpse.&quot;</span> ) );</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>        }</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    }</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span> </div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> &amp;child = speed &lt; 50 ? <a class="code hl_variable" href="mondeath_8cpp.html#a96b8333a5c99eec3461bf502b864204b">mon_blob_small</a> : <a class="code hl_variable" href="mondeath_8cpp.html#aa38c932036191fc88554990d16a891a2">mon_blob</a>;</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> s = 0; s &lt; 2; s++ ) {</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>        <span class="keywordflow">if</span>( <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> blob = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_around( child, z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 1 ) ) {</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>            blob-&gt;make_ally( z );</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>            blob-&gt;set_speed_base( speed );</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>            blob-&gt;set_hp( speed );</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>        }</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>    }</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>}</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span> </div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno"><a class="line" href="namespacemdeath.html#a34d536eb1a3c5282ca69ca52f37a9feb">  523</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#a34d536eb1a3c5282ca69ca52f37a9feb">mdeath::brainblob</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>{</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;critter : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_monsters() ) {</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>        <span class="keywordflow">if</span>( critter.type-&gt;in_species( <a class="code hl_variable" href="mondeath_8cpp.html#a1ce9db8f1e355ba884db835013d78b41">species_BLOB</a> ) &amp;&amp; critter.type-&gt;id != <a class="code hl_variable" href="mondeath_8cpp.html#a039c3acd23099e1631feefe7748f49ac">mon_blob_brain</a> ) {</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>            critter.remove_effect( <a class="code hl_variable" href="mondeath_8cpp.html#aed84cc428d3176b893fe131e4eda45c3">effect_ai_controlled</a> );</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>        }</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    }</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    <a class="code hl_function" href="namespacemdeath.html#a260146b4adc5351d4a91165cf09fb524">blobsplit</a>( z );</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>}</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span> </div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno"><a class="line" href="namespacemdeath.html#a7ad1e0c10d14fb4ca8c6755f305de44b">  533</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#a7ad1e0c10d14fb4ca8c6755f305de44b">mdeath::jackson</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>{</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;critter : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_monsters() ) {</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>        <span class="keywordflow">if</span>( critter.type-&gt;id == <a class="code hl_variable" href="mondeath_8cpp.html#a0781c8bcbb6f6f615b022a1b308a21f7">mon_zombie_dancer</a> ) {</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>            critter.poly( <a class="code hl_variable" href="mondeath_8cpp.html#a75f940017ac482501c82a06e89a6a9ff">mon_zombie_hulk</a> );</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>            critter.remove_effect( <a class="code hl_variable" href="mondeath_8cpp.html#aed84cc428d3176b893fe131e4eda45c3">effect_ai_controlled</a> );</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>        }</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z ) ) {</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The music stops!&quot;</span> ) );</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>        }</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>    }</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>}</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span> </div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno"><a class="line" href="namespacemdeath.html#abc45cccd09a53bde4250c0bd0614a162">  546</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#abc45cccd09a53bde4250c0bd0614a162">mdeath::melt</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>{</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z ) ) {</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s melts away.&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    }</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>}</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span> </div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno"><a class="line" href="namespacemdeath.html#a9e7e29aca27668de55cfc4fa0e5ae3f9">  553</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#a9e7e29aca27668de55cfc4fa0e5ae3f9">mdeath::amigara</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>{</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_others = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_creature_if( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classCreature.html">Creature</a> &amp; critter ) {</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>        <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">const</span> candidate = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">&gt;</span>( &amp;critter ) ) {</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>            <span class="keywordflow">return</span> candidate-&gt;type == z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>;</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>        }</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>    } );</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>    <span class="keywordflow">if</span>( has_others ) {</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>    }</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span> </div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>    <span class="comment">// We were the last!</span></div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_effect( <a class="code hl_variable" href="mondeath_8cpp.html#ae65a9a8c5e0591a5f9b530b68c704235">effect_amigara</a> ) ) {</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.remove_effect( <a class="code hl_variable" href="mondeath_8cpp.html#ae65a9a8c5e0591a5f9b530b68c704235">effect_amigara</a> );</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your obsession with the fault fades away&quot;</span> ) );</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>    }</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span> </div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.spawn_artifact( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>() );</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>}</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span> </div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno"><a class="line" href="namespacemdeath.html#ab9b7285922e5e083b4a090db9137c3d8">  574</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#ab9b7285922e5e083b4a090db9137c3d8">mdeath::thing</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>{</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_at( <a class="code hl_variable" href="mondeath_8cpp.html#a1318a41f2960032c7f2043f0e9c9b951">mon_thing</a>, z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>() );</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>}</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span> </div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno"><a class="line" href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">  579</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">mdeath::explode</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>{</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> = 0;</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>    <span class="keywordflow">switch</span>( z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#aba4c84ff42939b47ff74896ed326a98f">size</a> ) {</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614">MS_TINY</a>:</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>            <a class="code hl_variable" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> = 4;</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a6a1920ba558cd6584b689f53519e9e96">MS_SMALL</a>:</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>            <a class="code hl_variable" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> = 8;</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592aaef7580aead8b8a18bc50cb6c1f98b31">MS_MEDIUM</a>:</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>            <a class="code hl_variable" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> = 14;</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a50d9f673ed0348953b2715fa33683791">MS_LARGE</a>:</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>            <a class="code hl_variable" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> = 20;</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9">MS_HUGE</a>:</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>            <a class="code hl_variable" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> = 26;</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>            <a class="code hl_variable" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> = 15;</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    }</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>    <a class="code hl_function" href="namespaceexplosion__handler.html#aedf90c876bd69288b266c6a60dbc91dc">explosion_handler::explosion</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), <a class="code hl_variable" href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">size</a> );</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>}</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span> </div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno"><a class="line" href="namespacemdeath.html#a06acd274a02ce5f3bc21f48af640268e">  605</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#a06acd274a02ce5f3bc21f48af640268e">mdeath::focused_beam</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>{</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>    <a class="code hl_class" href="classmap__stack.html">map_stack</a> items = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.i_at( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>() );</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classcata_1_1colony_1_1colony__iterator.html">map_stack::iterator</a> it = items.<a class="code hl_function" href="classitem__stack.html#a588d49cd17fbf3c64227906758940769">begin</a>(); it != items.<a class="code hl_function" href="classitem__stack.html#ad04a969155cc139c54a6a3b4a3395454">end</a>(); ) {</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>        <span class="keywordflow">if</span>( it-&gt;typeId() == <a class="code hl_variable" href="mondeath_8cpp.html#a9a69878d610299ed767e077dad05994e">itype_processor</a> ) {</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>            it = items.<a class="code hl_function" href="classmap__stack.html#ab58ec66a7ca2e476c6d90967dccc8062">erase</a>( it );</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>            ++it;</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>        }</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>    }</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span> </div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>    <span class="keywordflow">if</span>( !z.<a class="code hl_variable" href="classmonster.html#a275d73e1bf3d08e2ea1a0704ac898f7e">inv</a>.empty() ) {</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span> </div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z ) ) {</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;As the final light is destroyed, it erupts in a blinding flare!&quot;</span> ) );</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>        }</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span> </div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>        <a class="code hl_class" href="classitem.html">item</a> &amp;settings = z.<a class="code hl_variable" href="classmonster.html#a275d73e1bf3d08e2ea1a0704ac898f7e">inv</a>[0];</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span> </div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>        <a class="code hl_struct" href="structpoint.html">point</a> p2( z.<a class="code hl_function" href="classmonster.html#ae5824f6fba759aa296cd55b83d2ea60f">posx</a>() + settings.<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;SL_SPOT_X&quot;</span>, 0 ), z.<a class="code hl_function" href="classmonster.html#a34e7b9873ad1cf0901f6583895ee3af8">posy</a>() + settings.<a class="code hl_function" href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">get_var</a>( <span class="stringliteral">&quot;SL_SPOT_Y&quot;</span>,</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>                  0 ) );</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>        <a class="code hl_struct" href="structtripoint.html">tripoint</a> p( p2, z.<a class="code hl_function" href="classmonster.html#a3690c104bd71bffc25153a86229f2a97">posz</a>() );</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span> </div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>        std::vector &lt;tripoint&gt; traj = <a class="code hl_function" href="coordinates_8h.html#a4a34f7ffa4c18effba7f8239c68c8738">line_to</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), p, 0, 0 );</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        <a class="code hl_struct" href="structtripoint.html">tripoint</a> last_point = z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>();</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : traj ) {</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>            <span class="keywordflow">if</span>( !<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.is_transparent( elem ) || <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().obscured_by_vehicle_rotation( last_point, elem ) ) {</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>            }</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_field( elem, <a class="code hl_variable" href="field__type_8cpp.html#a67e1c2ea914225c5affdf6b847e61e26">fd_dazzling</a>, 2 );</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>            last_point = elem;</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>        }</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>    }</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span> </div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>    z.<a class="code hl_variable" href="classmonster.html#a275d73e1bf3d08e2ea1a0704ac898f7e">inv</a>.clear();</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span> </div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>    <a class="code hl_function" href="namespaceexplosion__handler.html#aedf90c876bd69288b266c6a60dbc91dc">explosion_handler::explosion</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 8 );</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>}</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span> </div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno"><a class="line" href="namespacemdeath.html#afbcbee418575a523796f99175fb037ec">  644</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#afbcbee418575a523796f99175fb037ec">mdeath::broken</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>{</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>    <span class="comment">// Bail out if flagged (simulates eyebot flying away)</span></div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>    <span class="keywordflow">if</span>( z.<a class="code hl_variable" href="classmonster.html#a55f85ad0bf2f4d114107820910a42c0a">no_corpse_quiet</a> ) {</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>    }</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    std::string item_id = z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a>.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>();</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>    <span class="keywordflow">if</span>( item_id.compare( 0, 4, <span class="stringliteral">&quot;mon_&quot;</span> ) == 0 ) {</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>        item_id.erase( 0, 4 );</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>    }</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>    <span class="comment">// make &quot;broken_manhack&quot;, or &quot;broken_eyebot&quot;, ...</span></div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>    item_id.insert( 0, <span class="stringliteral">&quot;broken_&quot;</span> );</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>    <a class="code hl_class" href="classitem.html">item</a> broken_mon( item_id, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> max_hp = std::max( z.<a class="code hl_function" href="classmonster.html#a551f4a380282f8ec082c74f410c397de">get_hp_max</a>(), 1 );</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> overflow_damage = std::max( -z.<a class="code hl_function" href="classmonster.html#a2d0e466b9d25796cd99402ddd5d3ce20">get_hp</a>(), 0 );</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> corpse_damage = 2.5 * overflow_damage / max_hp;</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>    broken_mon.<a class="code hl_function" href="classitem.html#a4095bf310206d3c22ce0bb15bc7dad03">set_damage</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( std::floor( corpse_damage * <a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a> ) ) );</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span> </div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_item_or_charges( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), broken_mon );</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span> </div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>    <span class="keywordflow">if</span>( z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_function" href="structmtype.html#a208b05355d08ec7d628606f18e2d53be">has_flag</a>( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a663166967254a3fb02f58b78aed83d22">MF_DROPS_AMMO</a> ) ) {</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const itype_id, int&gt; &amp;ammo_entry : z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#a9a7a3165f2cd86b6e9b68c748ed7f4c0">starting_ammo</a> ) {</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>            <span class="keywordflow">if</span>( z.<a class="code hl_variable" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>[ammo_entry.first] &gt; 0 ) {</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>                <span class="keywordtype">bool</span> spawned = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const std::string, mtype_special_attack&gt; &amp;attack : z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">special_attacks</a> ) {</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>                    <span class="keywordflow">if</span>( attack.second-&gt;id == <span class="stringliteral">&quot;gun&quot;</span> ) {</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>                        <a class="code hl_class" href="classitem.html">item</a> gun = <a class="code hl_class" href="classitem.html">item</a>( <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classgun__actor.html">gun_actor</a> *<span class="keyword">&gt;</span>( attack.second.get() )-&gt;<a class="code hl_variable" href="classgun__actor.html#ab67d5da84abab2514ed756af85afe71b">gun_type</a> );</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>                        <span class="keywordtype">bool</span> same_ammo = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>                        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;at : gun.<a class="code hl_function" href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">ammo_types</a>() ) {</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>                            <span class="keywordflow">if</span>( at == <a class="code hl_class" href="classitem.html">item</a>( ammo_entry.first ).<a class="code hl_function" href="classitem.html#aab4f4feeb64f169f408c24d03e0ce61f">ammo_type</a>() ) {</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>                                same_ammo = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>                            }</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>                        }</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>                        <span class="keyword">const</span> <span class="keywordtype">bool</span> uses_mags = !gun.<a class="code hl_function" href="classitem.html#a3ebcbfa7afc85cc501d72f52d09e9984">magazine_compatible</a>().empty();</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>                        <span class="keywordflow">if</span>( same_ammo &amp;&amp; uses_mags ) {</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>                            std::vector&lt;item&gt; mags;</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>                            <span class="keywordtype">int</span> ammo_count = z.<a class="code hl_variable" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>[ammo_entry.first];</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>                            <span class="keywordflow">while</span>( ammo_count &gt; 0 ) {</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>                                <a class="code hl_class" href="classitem.html">item</a> mag = <a class="code hl_class" href="classitem.html">item</a>( gun.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#ab5c2a0ece3b013a4088b734cd34841d6">magazine_default</a>.find( <a class="code hl_class" href="classitem.html">item</a>( ammo_entry.first ).<a class="code hl_function" href="classitem.html#aab4f4feeb64f169f408c24d03e0ce61f">ammo_type</a>() )-&gt;second );</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>                                mag.<a class="code hl_function" href="classitem.html#a6a3f16444c412bce4b75a7d600d6a3fe">ammo_set</a>( ammo_entry.first,</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>                                              std::min( ammo_count, mag.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;capacity ) );</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>                                mags.insert( mags.end(), mag );</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>                                ammo_count -= mag.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;capacity;</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>                            }</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>                            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.spawn_items( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), mags );</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>                            spawned = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>                        }</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>                    }</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>                }</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>                <span class="keywordflow">if</span>( !spawned ) {</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.spawn_item( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), ammo_entry.first, z.<a class="code hl_variable" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a>[ammo_entry.first], 1,</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>                                     <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>                }</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>            }</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>        }</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    }</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span> </div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    <span class="comment">// TODO: make mdeath::splatter work for robots</span></div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>    <span class="keywordflow">if</span>( ( broken_mon.<a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &gt;= broken_mon.<a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() ) &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>() ) ) {</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s is destroyed!&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>() ) ) {</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s collapses!&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>    }</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>}</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span> </div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno"><a class="line" href="namespacemdeath.html#af6727868899c22cb43a829d559a0aac4">  711</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#af6727868899c22cb43a829d559a0aac4">mdeath::ratking</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>{</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.remove_effect( <a class="code hl_variable" href="mondeath_8cpp.html#ac2aa877afbc90f2a8dccb91704af5973">effect_rat</a> );</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z ) ) {</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Rats suddenly swarm into view.&quot;</span> ) );</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>    }</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span> </div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> rats = 0; rats &lt; 7; rats++ ) {</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_around( <a class="code hl_variable" href="mondeath_8cpp.html#a9aa63de6139697ce8d60441863a2b517">mon_sewer_rat</a>, z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 1 );</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>    }</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>}</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span> </div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno"><a class="line" href="namespacemdeath.html#a7b6de89bbd0d28404dcb3da6638ac038">  723</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#a7b6de89bbd0d28404dcb3da6638ac038">mdeath::darkman</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>{</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.remove_effect( <a class="code hl_variable" href="mondeath_8cpp.html#a84bed2f340b7b3bf9a0ae0c95eabc6dc">effect_darkness</a> );</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z ) ) {</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s melts away.&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>    }</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>}</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span> </div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno"><a class="line" href="namespacemdeath.html#af0ee9e5a9fadf98e8a3ef7346aa35d26">  731</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#af0ee9e5a9fadf98e8a3ef7346aa35d26">mdeath::gas</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>{</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>    std::string <a class="code hl_function" href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">explode</a> = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;a %s explode!&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>    <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 24, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code hl_function" href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">explode</a>, <span class="keyword">false</span>, <span class="stringliteral">&quot;explosion&quot;</span>, <span class="stringliteral">&quot;small&quot;</span> );</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.emit_field( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), <a class="code hl_class" href="classstring__id.html">emit_id</a>( <span class="stringliteral">&quot;emit_toxic_blast&quot;</span> ) );</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>}</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span> </div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno"><a class="line" href="namespacemdeath.html#ac3b7735dafe42530bc40c4b29c3144b7">  738</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#ac3b7735dafe42530bc40c4b29c3144b7">mdeath::smokeburst</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>{</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>    std::string <a class="code hl_function" href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">explode</a> = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;a %s explode!&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>    <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 24, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code hl_function" href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">explode</a>, <span class="keyword">false</span>, <span class="stringliteral">&quot;explosion&quot;</span>, <span class="stringliteral">&quot;small&quot;</span> );</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.emit_field( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), <a class="code hl_class" href="classstring__id.html">emit_id</a>( <span class="stringliteral">&quot;emit_smoke_blast&quot;</span> ) );</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>}</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span> </div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno"><a class="line" href="namespacemdeath.html#a9373a979aa8282207e7b8221f3112fe6">  745</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#a9373a979aa8282207e7b8221f3112fe6">mdeath::fungalburst</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>{</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>    <span class="comment">// If the fungus died from anti-fungal poison, don&#39;t pouf</span></div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.get_field_intensity( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), <a class="code hl_variable" href="field__type_8cpp.html#a9868dee0533f3cc11e389b49a6c4f636">fd_fungicidal_gas</a> ) ) {</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z ) ) {</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s inflates and melts away.&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>        }</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>    }</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span> </div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>    std::string <a class="code hl_function" href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">explode</a> = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;a %s explodes!&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>    <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 24, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code hl_function" href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">explode</a>, <span class="keyword">false</span>, <span class="stringliteral">&quot;explosion&quot;</span>, <span class="stringliteral">&quot;small&quot;</span> );</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.emit_field( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), <a class="code hl_class" href="classstring__id.html">emit_id</a>( <span class="stringliteral">&quot;emit_fungal_blast&quot;</span> ) );</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>}</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span> </div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno"><a class="line" href="namespacemdeath.html#acce6b6a497584dfe478fc500eca796c7">  760</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#acce6b6a497584dfe478fc500eca796c7">mdeath::jabberwock</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>{</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>    <a class="code hl_class" href="classplayer.html">player</a> *ch = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classplayer.html">player</a> *<span class="keyword">&gt;</span>( z.<a class="code hl_function" href="classCreature.html#a3175e1b479b42298f197f5a41de45f50">get_killer</a>() );</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span> </div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>    <span class="keywordtype">bool</span> vorpal = ch &amp;&amp; ch-&gt;<a class="code hl_function" href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">is_player</a>() &amp;&amp;</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>                  ch-&gt;<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;DIAMOND&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>                  ch-&gt;<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() &gt; 750_ml;</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span> </div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>    <span class="keywordflow">if</span>( vorpal &amp;&amp; !ch-&gt;<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#ab842b7c3aaa4d813575035be37cd3714">has_technique</a>( <a class="code hl_class" href="classstring__id.html">matec_id</a>( <span class="stringliteral">&quot;VORPAL&quot;</span> ) ) ) {</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>        <span class="keywordflow">if</span>( ch-&gt;<a class="code hl_function" href="classCharacter.html#aba9bd7517b334e6ed4149889ed32377a">sees</a>( z ) ) {</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>            ch-&gt;<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>                                   <span class="comment">//~ %s is the possessive form of the monster&#39;s name</span></div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>                                   <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;As the flames in %s eyes die out, your weapon seems to shine slightly brighter.&quot;</span> ),</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>                                   z.<a class="code hl_function" href="classmonster.html#af3444e4763b1dd53e75c5ea50fd8ba9f">disp_name</a>( <span class="keyword">true</span> ) );</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>        }</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>        ch-&gt;<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a178ada62c301bb1058bb56b1d8531a36">add_technique</a>( <a class="code hl_typedef" href="type__id_8h.html#a15c813836397fb5a5747fa15b5c82d84">matec_id</a>( <span class="stringliteral">&quot;VORPAL&quot;</span> ) );</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    }</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span> </div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>    <a class="code hl_function" href="namespacemdeath.html#a149939d36de0fa53a1e49641a3d0cf2c">mdeath::normal</a>( z );</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>}</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span> </div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno"><a class="line" href="namespacemdeath.html#a31cd81b4b70b0a5f23abcb2861aca808">  781</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#a31cd81b4b70b0a5f23abcb2861aca808">mdeath::gameover</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>{</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s was destroyed!  GAME OVER!&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.set_part_hp_cur( <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;torso&quot;</span> ), 0 );</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>}</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span> </div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno"><a class="line" href="namespacemdeath.html#a687a11f90eec0201af46ba685f8aae9b">  787</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#a687a11f90eec0201af46ba685f8aae9b">mdeath::kill_breathers</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;<span class="comment">/*z*/</span> )</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>{</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;critter : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;all_monsters() ) {</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>        <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> &amp;monID = critter.type-&gt;<a class="code hl_variable" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a>;</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>        <span class="keywordflow">if</span>( monID == <a class="code hl_variable" href="mondeath_8cpp.html#a7490b3833a4ccde42b3dab6eadfb43d3">mon_breather_hub</a> || monID == <a class="code hl_variable" href="mondeath_8cpp.html#a3a701004a797f5511860423764151aa2">mon_breather</a> ) {</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>            critter.die( <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>        }</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>    }</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>}</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span> </div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno"><a class="line" href="namespacemdeath.html#a139eb7401ec141e9debeb31d0266a6c2">  797</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#a139eb7401ec141e9debeb31d0266a6c2">mdeath::detonate</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>{</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>    <a class="code hl_struct" href="structweighted__int__list.html">weighted_int_list&lt;itype_id&gt;</a> amm_list;</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;amm : z.<a class="code hl_variable" href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">ammo</a> ) {</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>        amm_list.<a class="code hl_function" href="structweighted__list.html#a7e0f038800c67af8c42c67940ca9c061">add</a>( amm.first, amm.second );</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>    }</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span> </div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>    std::vector&lt;itype_id&gt; pre_dets;</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; 3; i++ ) {</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>        <span class="keywordflow">if</span>( amm_list.<a class="code hl_function" href="structweighted__list.html#a23a0eb0640d5aacb0fae74940d2864bd">get_weight</a>() &lt;= 0 ) {</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>        }</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>        <span class="comment">// Grab one item</span></div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>        <a class="code hl_class" href="classstring__id.html">itype_id</a> tmp = *amm_list.<a class="code hl_function" href="structweighted__list.html#a8aff784597b2a8f2c0fc9c9028d93256">pick</a>();</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>        <span class="comment">// and reduce its weight by 1</span></div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>        amm_list.<a class="code hl_function" href="structweighted__list.html#ad48584471ddb566c69f0fd7e45cc0f33">add_or_replace</a>( tmp, amm_list.<a class="code hl_function" href="structweighted__list.html#a9d17f200fabcad84f42f43e6d4c73107">get_specific_weight</a>( tmp ) - 1 );</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>        <span class="comment">// and stash it for use</span></div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>        pre_dets.push_back( tmp );</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    }</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span> </div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>    <span class="comment">// Update any hardcoded explosion equivalencies</span></div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>    std::vector&lt;std::pair&lt;std::string, long&gt;&gt; dets;</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;bomb_id : pre_dets ) {</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>        <span class="keywordflow">if</span>( bomb_id.str() == <span class="stringliteral">&quot;bot_grenade_hack&quot;</span> ) {</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>            dets.push_back( std::make_pair( <span class="stringliteral">&quot;grenade_act&quot;</span>, 5 ) );</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( bomb_id.str() == <span class="stringliteral">&quot;bot_flashbang_hack&quot;</span> ) {</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>            dets.push_back( std::make_pair( <span class="stringliteral">&quot;flashbang_act&quot;</span>, 5 ) );</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( bomb_id.str() == <span class="stringliteral">&quot;bot_gasbomb_hack&quot;</span> ) {</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>            dets.push_back( std::make_pair( <span class="stringliteral">&quot;gasbomb_act&quot;</span>, 20 ) );</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( bomb_id.str() == <span class="stringliteral">&quot;bot_c4_hack&quot;</span> ) {</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>            dets.push_back( std::make_pair( <span class="stringliteral">&quot;c4armed&quot;</span>, 10 ) );</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( bomb_id.str() == <span class="stringliteral">&quot;bot_mininuke_hack&quot;</span> ) {</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>            dets.push_back( std::make_pair( <span class="stringliteral">&quot;mininuke_act&quot;</span>, 20 ) );</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>            <span class="comment">// Get the transformation item</span></div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>            <span class="keyword">const</span> <a class="code hl_class" href="classiuse__transform.html">iuse_transform</a> *actor = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classiuse__transform.html">iuse_transform</a> *<span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>                                              bomb_id-&gt;get_use( <span class="stringliteral">&quot;transform&quot;</span> )-&gt;get_actor_ptr() );</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>            <span class="keywordflow">if</span>( actor == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>                <span class="comment">// Invalid bomb item, move to the next ammo item</span></div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a>, <span class="stringliteral">&quot;Invalid bomb type in detonate mondeath for %s.&quot;</span>, z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>            }</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>            dets.emplace_back( actor-&gt;<a class="code hl_variable" href="classiuse__transform.html#a34d5287f0d8ce495cdd4baff1901e5ce">target</a>.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>(), actor-&gt;<a class="code hl_variable" href="classiuse__transform.html#a2e48b0898e1f626447cd426b4f511e23">ammo_qty</a> );</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>        }</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>    }</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span> </div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z ) ) {</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>        <span class="keywordflow">if</span>( dets.empty() ) {</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>                     <span class="comment">//~ %s is the possessive form of the monster&#39;s name</span></div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>                     <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s&#39;s hands fly to its pockets, but there&#39;s nothing left in them.&quot;</span> ),</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>                     z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>            <span class="comment">//~ %s is the possessive form of the monster&#39;s name</span></div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s&#39;s hands fly to its remaining pockets, opening them!&quot;</span> ),</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>                     z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>        }</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    }</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    <span class="comment">// HACK, used to stop them from having ammo on respawn</span></div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    z.<a class="code hl_function" href="classmonster.html#a45462fba4c37679c66ecde2f9000c22c">add_effect</a>( <a class="code hl_variable" href="mondeath_8cpp.html#a0e701368604950da9eae27352af9044b">effect_no_ammo</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span> </div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    <span class="comment">// First die normally</span></div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>    <a class="code hl_function" href="namespacemdeath.html#a149939d36de0fa53a1e49641a3d0cf2c">mdeath::normal</a>( z );</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>    <span class="comment">// Then detonate our suicide bombs</span></div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bombs : dets ) {</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>        <a class="code hl_class" href="classitem.html">item</a> bomb_item( bombs.first, <a class="code hl_variable" href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a> );</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>        bomb_item.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = bombs.second;</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>        bomb_item.<a class="code hl_variable" href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.add_item_or_charges( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), bomb_item );</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>    }</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>}</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span> </div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno"><a class="line" href="namespacemdeath.html#adfc56bd2f0d2ff131323cad37fc5fce3">  869</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#adfc56bd2f0d2ff131323cad37fc5fce3">mdeath::broken_ammo</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>{</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>() ) ) {</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>        <span class="comment">//~ %s is the possessive form of the monster&#39;s name</span></div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s&#39;s interior compartment sizzles with destructive energy.&quot;</span> ),</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>                 z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    }</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>    <a class="code hl_function" href="namespacemdeath.html#afbcbee418575a523796f99175fb037ec">mdeath::broken</a>( z );</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>}</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span> </div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#a69facf9e8a9f592a5de03b2d644f567b">  879</a></span><span class="keyword">static</span> std::vector&lt;item&gt; <a class="code hl_function" href="mondeath_8cpp.html#a69facf9e8a9f592a5de03b2d644f567b">butcher_cbm_item</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;what,</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>        <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> &amp;birthday, <span class="keyword">const</span> std::vector&lt;std::string&gt; &amp;flags,</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>        <span class="keyword">const</span> std::vector&lt;fault_id&gt; &amp;faults )</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>{</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>    <a class="code hl_class" href="classitem.html">item</a> something( what, birthday );</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;flg : flags ) {</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>        something.<a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( flg );</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>    }</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">fault_id</a> &amp;flt : faults ) {</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>        something.<a class="code hl_variable" href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">faults</a>.emplace( flt );</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>    }</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span> </div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>    <span class="keywordflow">return</span> {something};</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>}</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span> </div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#ae04f21c0fdc4e48f92280d493ad65b82">  894</a></span><span class="keyword">static</span> std::vector&lt;item&gt; <a class="code hl_function" href="mondeath_8cpp.html#ae04f21c0fdc4e48f92280d493ad65b82">butcher_cbm_group</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">item_group_id</a> &amp;<a class="code hl_enumeration" href="namespacesfx.html#a746a046c4c6989d32aa62d6799c2f496">group</a>,</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>        <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> &amp;birthday, <span class="keyword">const</span> std::vector&lt;std::string&gt; &amp;flags,</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>        <span class="keyword">const</span> std::vector&lt;fault_id&gt; &amp;faults )</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>{</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>    std::vector&lt;item&gt; spawned = <a class="code hl_function" href="namespaceitem__group.html#ad15629f772f27e1d19c90fe9de23ae99">item_group::items_from</a>( <a class="code hl_enumeration" href="namespacesfx.html#a746a046c4c6989d32aa62d6799c2f496">group</a>, birthday );</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> &amp;it : spawned ) {</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;flg : flags ) {</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>            it.set_flag( flg );</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>        }</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">fault_id</a> &amp;flt : faults ) {</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>            it.faults.emplace( flt );</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>        }</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>    }</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>    <span class="keywordflow">return</span> spawned;</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>}</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span> </div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno"><a class="line" href="mondeath_8cpp.html#aadf59a13d25230d4be1cca5cbe800a4b">  910</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="mondeath_8cpp.html#aadf59a13d25230d4be1cca5cbe800a4b">make_mon_corpse</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z, <span class="keywordtype">int</span> damageLvl )</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>{</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>    <a class="code hl_class" href="classitem.html">item</a> <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a> = <a class="code hl_function" href="classitem.html#a843e57d31c5f26b3300b607446c8b860">item::make_corpse</a>( z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">id</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, z.<a class="code hl_variable" href="classmonster.html#a5e50554c4210ec2a15d9ed44e61bcf3a">unique_name</a>, z.<a class="code hl_function" href="classmonster.html#ae7d28bfb064ffed8272b320e56da7623">get_upgrade_time</a>() );</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>    <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.set_damage( damageLvl );</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    <span class="keywordflow">if</span>( z.<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="mondeath_8cpp.html#a79654cfc6f07462199ec3f5da9e49c83">effect_pacified</a> ) &amp;&amp; z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_function" href="structmtype.html#a51ec342d71717bb513f0158198b12840">in_species</a>( <a class="code hl_variable" href="mondeath_8cpp.html#a4e2730248c54d4d07fa7e215efb35d1a">ZOMBIE</a> ) ) {</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>        <span class="comment">// Pacified corpses have a chance of becoming unpacified when regenerating.</span></div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>        <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.set_var( <span class="stringliteral">&quot;zlave&quot;</span>, <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ? <span class="stringliteral">&quot;zlave&quot;</span> : <span class="stringliteral">&quot;mutilated&quot;</span> );</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>    }</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>    <span class="keywordflow">if</span>( z.<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="mondeath_8cpp.html#a0e701368604950da9eae27352af9044b">effect_no_ammo</a> ) ) {</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>        <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.set_var( <span class="stringliteral">&quot;no_ammo&quot;</span>, <span class="stringliteral">&quot;no_ammo&quot;</span> );</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>    }</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>    <span class="keywordflow">if</span>( !z.<a class="code hl_variable" href="classmonster.html#a2f9d03ffee51f0193855490a75511596">no_extra_death_drops</a> ) {</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>        <span class="comment">// Pre-gen bionic on death rather than on butcher</span></div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structharvest__entry.html">harvest_entry</a> &amp;entry : *z.<a class="code hl_variable" href="classmonster.html#aa30f973bf524ba275ada847f6118b048">type</a>-&gt;<a class="code hl_variable" href="structmtype.html#af030166bf534dd2e4af6897c269bec38">harvest</a> ) {</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>            <span class="keywordflow">if</span>( entry.<a class="code hl_variable" href="structharvest__entry.html#a610173c1c420eb01a933c869dc0ddfc2">type</a> == <span class="stringliteral">&quot;bionic&quot;</span> || entry.<a class="code hl_variable" href="structharvest__entry.html#a610173c1c420eb01a933c869dc0ddfc2">type</a> == <span class="stringliteral">&quot;bionic_group&quot;</span> ) {</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>                std::vector&lt;item&gt; contained_bionics =</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>                    entry.<a class="code hl_variable" href="structharvest__entry.html#a610173c1c420eb01a933c869dc0ddfc2">type</a> == <span class="stringliteral">&quot;bionic&quot;</span></div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>                    ? <a class="code hl_function" href="mondeath_8cpp.html#a69facf9e8a9f592a5de03b2d644f567b">butcher_cbm_item</a>( <a class="code hl_typedef" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>( entry.<a class="code hl_variable" href="structharvest__entry.html#aab3c35976b3c964b24ad2af530bfdd3f">drop</a> ), <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, entry.<a class="code hl_variable" href="structharvest__entry.html#a56d984d0924bced99684bc079e8e1b40">flags</a>, entry.<a class="code hl_variable" href="structharvest__entry.html#a46710bb492ce943c1270e55133c07d21">faults</a> )</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>                    : <a class="code hl_function" href="mondeath_8cpp.html#ae04f21c0fdc4e48f92280d493ad65b82">butcher_cbm_group</a>( <a class="code hl_typedef" href="type__id_8h.html#ab297382ed4c098c03ee2b8d70cd8e483">item_group_id</a>( entry.<a class="code hl_variable" href="structharvest__entry.html#aab3c35976b3c964b24ad2af530bfdd3f">drop</a> ), <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, entry.<a class="code hl_variable" href="structharvest__entry.html#a56d984d0924bced99684bc079e8e1b40">flags</a>, entry.<a class="code hl_variable" href="structharvest__entry.html#a46710bb492ce943c1270e55133c07d21">faults</a> );</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it : contained_bionics ) {</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>                    <span class="comment">// Disgusting hack: use components instead of contents to hide stuff</span></div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>                    <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.components.push_back( it );</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>                }</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>            }</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>        }</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>    }</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it : z.<a class="code hl_variable" href="classmonster.html#a817d18569f7c1381fe46aa1464c1d844">corpse_components</a> ) {</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>        <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.components.push_back( it );</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>    }</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>    <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().<a class="code hl_function" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a> );</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>}</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span> </div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno"><a class="line" href="namespacemdeath.html#acc5e43f0467033d339103a5884f04432">  942</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#acc5e43f0467033d339103a5884f04432">mdeath::preg_roach</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>{</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>    <span class="keywordtype">int</span> num_roach = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 3 );</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    <span class="keywordflow">while</span>( num_roach &gt; 0 &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;place_critter_around( <a class="code hl_variable" href="mondeath_8cpp.html#a5fec4327ea06615c1bc75fc639b54c11">mon_giant_cockroach_nymph</a>, z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 1 ) ) {</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>        num_roach--;</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( z ) ) {</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;A cockroach nymph crawls out of the pregnant giant cockroach corpse.&quot;</span> ) );</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>        }</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>    }</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>}</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span> </div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno"><a class="line" href="namespacemdeath.html#afeb8babb525456ffcced07e937f88d0d">  953</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#afeb8babb525456ffcced07e937f88d0d">mdeath::fireball</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>{</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 10 ) ) {</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.propagate_field( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), <a class="code hl_variable" href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a>, 15, 3 );</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>        std::string <a class="code hl_function" href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">explode</a> = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;an explosion of tank of the %s&#39;s flamethrower!&quot;</span> ),</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>                                             z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>        <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 24, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code hl_function" href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">explode</a>, <span class="keyword">false</span>, <span class="stringliteral">&quot;explosion&quot;</span>, <span class="stringliteral">&quot;default&quot;</span> );</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;I love the smell of burning zed in the morning.&quot;</span> ) );</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>        normal( z );</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>    }</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>}</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span> </div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno"><a class="line" href="namespacemdeath.html#ab9ece575772e6442c562a76ab8271134">  966</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespacemdeath.html#ab9ece575772e6442c562a76ab8271134">mdeath::conflagration</a>( <a class="code hl_class" href="classmonster.html">monster</a> &amp;z )</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>{</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;dest : <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.points_in_radius( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 1 ) ) {</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.propagate_field( dest, <a class="code hl_variable" href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a>, 18, 3 );</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>    }</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>    <span class="keyword">const</span> std::string <a class="code hl_function" href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">explode</a> = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;a %s explode!&quot;</span> ), z.<a class="code hl_function" href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">name</a>() );</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    <a class="code hl_function" href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a>( z.<a class="code hl_function" href="classmonster.html#a55d95177d49525c0da7649f135a6306d">pos</a>(), 24, <a class="code hl_enumvalue" href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a>, <a class="code hl_function" href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">explode</a>, <span class="keyword">false</span>, <span class="stringliteral">&quot;explosion&quot;</span>, <span class="stringliteral">&quot;small&quot;</span> );</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span> </div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>}</div>
<div class="ttc" id="aactive__item__cache_8h_html_acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f"><div class="ttname"><a href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">special_item_type::corpse</a></div><div class="ttdeci">@ corpse</div></div>
<div class="ttc" id="aartifact_8cpp_html_a70800e95389f34dd34186fafaea2a840"><div class="ttname"><a href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a></div><div class="ttdeci">units::quantity&lt; V, B &gt; rng(const units::quantity&lt; V, B &gt; &amp;min, const units::quantity&lt; V, B &gt; &amp;max)</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8cpp_source.html#l00032">artifact.cpp:32</a></div></div>
<div class="ttc" id="aavatar_8h_html"><div class="ttname"><a href="avatar_8h.html">avatar.h</a></div></div>
<div class="ttc" id="abodypart_8cpp_html_ad5a2e69e812ef651c2fb33cdf830e50f"><div class="ttname"><a href="bodypart_8cpp.html#ad5a2e69e812ef651c2fb33cdf830e50f">random_body_part</a></div><div class="ttdeci">body_part random_body_part(bool main_parts_only)</div><div class="ttdoc">Returns a random body_part token.</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00364">bodypart.cpp:364</a></div></div>
<div class="ttc" id="abodypart_8h_html"><div class="ttname"><a href="bodypart_8h.html">bodypart.h</a></div></div>
<div class="ttc" id="abodypart_8h_html_a426444e2d486ce1ee315d8b8acc86b40"><div class="ttname"><a href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a></div><div class="ttdeci">int_id&lt; body_part_type &gt; bodypart_id</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00023">bodypart.h:23</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a></div><div class="ttdeci">body_part</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00039">bodypart.h:39</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a2055386ee220ee2ca3e61d13df65e868"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2055386ee220ee2ca3e61d13df65e868">bp_eyes</a></div><div class="ttdeci">@ bp_eyes</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00042">bodypart.h:42</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a></div><div class="ttdeci">@ num_bp</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00053">bodypart.h:52</a></div></div>
<div class="ttc" id="acalendar_8h_html"><div class="ttname"><a href="calendar_8h.html">calendar.h</a></div></div>
<div class="ttc" id="aclassCharacter_html_aba9bd7517b334e6ed4149889ed32377a"><div class="ttname"><a href="classCharacter.html#aba9bd7517b334e6ed4149889ed32377a">Character::sees</a></div><div class="ttdeci">bool sees(const tripoint &amp;t, bool is_player=false, int range_mod=0) const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l10411">character.cpp:10411</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae68b7a6565646ba662e448bded8b6599"><div class="ttname"><a href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">Character::weapon</a></div><div class="ttdeci">item weapon</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01521">character.h:1521</a></div></div>
<div class="ttc" id="aclassCreature_html"><div class="ttname"><a href="classCreature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00077">creature.h:78</a></div></div>
<div class="ttc" id="aclassCreature_html_a261dff3caa6aabe255ae9d3eaa94d3de"><div class="ttname"><a href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">Creature::get_speed</a></div><div class="ttdeci">virtual int get_speed() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01504">creature.cpp:1504</a></div></div>
<div class="ttc" id="aclassCreature_html_a303fcc58869f10f44be1d598ed1aa26f"><div class="ttname"><a href="classCreature.html#a303fcc58869f10f44be1d598ed1aa26f">Creature::bleed</a></div><div class="ttdeci">virtual void bleed() const</div><div class="ttdoc">Adds an appropriate blood splatter.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00131">creature.cpp:131</a></div></div>
<div class="ttc" id="aclassCreature_html_a3175e1b479b42298f197f5a41de45f50"><div class="ttname"><a href="classCreature.html#a3175e1b479b42298f197f5a41de45f50">Creature::get_killer</a></div><div class="ttdeci">virtual Creature * get_killer() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01426">creature.cpp:1426</a></div></div>
<div class="ttc" id="aclassCreature_html_a6fb79df9315dc2bed6f34d9a2e37da90"><div class="ttname"><a href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">Creature::has_effect</a></div><div class="ttdeci">bool has_effect(const efftype_id &amp;eff_id, body_part bp=num_bp) const</div><div class="ttdoc">Check if creature has the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01179">creature.cpp:1179</a></div></div>
<div class="ttc" id="aclasscata_1_1colony_1_1colony__iterator_html"><div class="ttname"><a href="classcata_1_1colony_1_1colony__iterator.html">cata::colony::colony_iterator&lt; false &gt;</a></div></div>
<div class="ttc" id="aclassfungal__effects_html"><div class="ttname"><a href="classfungal__effects.html">fungal_effects</a></div><div class="ttdef"><b>Definition:</b> <a href="fungal__effects_8h_source.html#l00010">fungal_effects.h:11</a></div></div>
<div class="ttc" id="aclassfungal__effects_html_aa5ea9e56f2b97bc6c30c989c652b695f"><div class="ttname"><a href="classfungal__effects.html#aa5ea9e56f2b97bc6c30c989c652b695f">fungal_effects::fungalize</a></div><div class="ttdeci">void fungalize(const tripoint &amp;p, Creature *origin=nullptr, double spore_chance=0.0)</div><div class="ttdef"><b>Definition:</b> <a href="fungal__effects_8cpp_source.html#l00065">fungal_effects.cpp:65</a></div></div>
<div class="ttc" id="aclassgun__actor_html"><div class="ttname"><a href="classgun__actor.html">gun_actor</a></div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00129">mattack_actors.h:130</a></div></div>
<div class="ttc" id="aclassgun__actor_html_ab67d5da84abab2514ed756af85afe71b"><div class="ttname"><a href="classgun__actor.html#ab67d5da84abab2514ed756af85afe71b">gun_actor::gun_type</a></div><div class="ttdeci">itype_id gun_type</div><div class="ttdef"><b>Definition:</b> <a href="mattack__actors_8h_source.html#l00133">mattack_actors.h:133</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; field_type &gt;</a></div></div>
<div class="ttc" id="aclassitem__stack_html_a588d49cd17fbf3c64227906758940769"><div class="ttname"><a href="classitem__stack.html#a588d49cd17fbf3c64227906758940769">item_stack::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00028">item_stack.cpp:28</a></div></div>
<div class="ttc" id="aclassitem__stack_html_ad04a969155cc139c54a6a3b4a3395454"><div class="ttname"><a href="classitem__stack.html#ad04a969155cc139c54a6a3b4a3395454">item_stack::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00033">item_stack.cpp:33</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00175">item.h:176</a></div></div>
<div class="ttc" id="aclassitem_html_a0b12108a604ac9d940716bb8f1368cf5"><div class="ttname"><a href="classitem.html#a0b12108a604ac9d940716bb8f1368cf5">item::get_var</a></div><div class="ttdeci">double get_var(const std::string &amp;name, double default_value) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l01024">item.cpp:1024</a></div></div>
<div class="ttc" id="aclassitem_html_a12a6fa8aac1350f3ca4362a1bdccd9b0"><div class="ttname"><a href="classitem.html#a12a6fa8aac1350f3ca4362a1bdccd9b0">item::faults</a></div><div class="ttdeci">std::set&lt; fault_id &gt; faults</div><div class="ttdoc">What faults (if any) currently apply to this item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02160">item.h:2160</a></div></div>
<div class="ttc" id="aclassitem_html_a178ada62c301bb1058bb56b1d8531a36"><div class="ttname"><a href="classitem.html#a178ada62c301bb1058bb56b1d8531a36">item::add_technique</a></div><div class="ttdeci">void add_technique(const matec_id &amp;tech)</div><div class="ttdoc">Add the given technique to the item specific techniques.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05330">item.cpp:5330</a></div></div>
<div class="ttc" id="aclassitem_html_a216affc51dde30087c21fa5689a5c5e9"><div class="ttname"><a href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">item::max_damage</a></div><div class="ttdeci">int max_damage() const</div><div class="ttdoc">Maximum amount of damage to an item (state before destroyed)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06063">item.cpp:6063</a></div></div>
<div class="ttc" id="aclassitem_html_a2993eb10a5ae589e6bb1be0a74cb65c1"><div class="ttname"><a href="classitem.html#a2993eb10a5ae589e6bb1be0a74cb65c1">item::active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02233">item.h:2233</a></div></div>
<div class="ttc" id="aclassitem_html_a3ebcbfa7afc85cc501d72f52d09e9984"><div class="ttname"><a href="classitem.html#a3ebcbfa7afc85cc501d72f52d09e9984">item::magazine_compatible</a></div><div class="ttdeci">std::set&lt; itype_id &gt; magazine_compatible(bool conversion=true) const</div><div class="ttdoc">Get compatible magazines (if any) for this item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07536">item.cpp:7536</a></div></div>
<div class="ttc" id="aclassitem_html_a4095bf310206d3c22ce0bb15bc7dad03"><div class="ttname"><a href="classitem.html#a4095bf310206d3c22ce0bb15bc7dad03">item::set_damage</a></div><div class="ttdeci">item &amp; set_damage(int qty)</div><div class="ttdoc">Filter setting damage constrained by min_damage and max_damage.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00713">item.cpp:713</a></div></div>
<div class="ttc" id="aclassitem_html_a51eafbdf8b331d88b741c0c527f98eb9"><div class="ttname"><a href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">item::volume</a></div><div class="ttdeci">units::volume volume(bool integral=false) const</div><div class="ttdoc">Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to n...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04988">item.cpp:4988</a></div></div>
<div class="ttc" id="aclassitem_html_a6a3f16444c412bce4b75a7d600d6a3fe"><div class="ttname"><a href="classitem.html#a6a3f16444c412bce4b75a7d600d6a3fe">item::ammo_set</a></div><div class="ttdeci">item &amp; ammo_set(const itype_id &amp;ammo, int qty=-1)</div><div class="ttdoc">Filter setting the ammo for this instance Any existing ammo is removed.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00589">item.cpp:589</a></div></div>
<div class="ttc" id="aclassitem_html_a6bfb92ab5d41e0eb3a1da160fac71b0e"><div class="ttname"><a href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">item::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02195">item.h:2195</a></div></div>
<div class="ttc" id="aclassitem_html_a843e57d31c5f26b3300b607446c8b860"><div class="ttname"><a href="classitem.html#a843e57d31c5f26b3300b607446c8b860">item::make_corpse</a></div><div class="ttdeci">static item make_corpse(const mtype_id &amp;mt=string_id&lt; mtype &gt;::NULL_ID(), time_point turn=calendar::turn, const std::string &amp;name=&quot;&quot;, int upgrade_time=-1)</div><div class="ttdoc">Make a corpse of the given monster type.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00506">item.cpp:506</a></div></div>
<div class="ttc" id="aclassitem_html_aaa5aeb6f838927babb10ede535cf2a73"><div class="ttname"><a href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">item::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05189">item.cpp:5189</a></div></div>
<div class="ttc" id="aclassitem_html_aab4f4feeb64f169f408c24d03e0ce61f"><div class="ttname"><a href="classitem.html#aab4f4feeb64f169f408c24d03e0ce61f">item::ammo_type</a></div><div class="ttdeci">ammotype ammo_type() const</div><div class="ttdoc">Ammo type of an ammo item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07428">item.cpp:7428</a></div></div>
<div class="ttc" id="aclassitem_html_aaf0e79cb1bc190daa4804cfd62f279c4"><div class="ttname"><a href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">item::set_flag</a></div><div class="ttdeci">item &amp; set_flag(const std::string &amp;flag)</div><div class="ttdoc">Idempotent filter setting an item specific flag.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05218">item.cpp:5218</a></div></div>
<div class="ttc" id="aclassitem_html_ab842b7c3aaa4d813575035be37cd3714"><div class="ttname"><a href="classitem.html#ab842b7c3aaa4d813575035be37cd3714">item::has_technique</a></div><div class="ttdeci">bool has_technique(const matec_id &amp;tech) const</div><div class="ttdoc">Whether the item supports a specific martial art technique (either through its type,...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05325">item.cpp:5325</a></div></div>
<div class="ttc" id="aclassitem_html_ac1d2c4c33b8a499812f3437cb2fad742"><div class="ttname"><a href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">item::type</a></div><div class="ttdeci">const itype * type</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02156">item.h:2156</a></div></div>
<div class="ttc" id="aclassitem_html_ac4f8c31c6aa17560f8f523290d568436"><div class="ttname"><a href="classitem.html#ac4f8c31c6aa17560f8f523290d568436">item::ammo_types</a></div><div class="ttdeci">const std::set&lt; ammotype &gt; &amp; ammo_types(bool conversion=true) const</div><div class="ttdoc">Set of ammo types (ammunition_type) used by item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07405">item.cpp:7405</a></div></div>
<div class="ttc" id="aclassitem_html_ae8a58c6fe3c80cded11d6f3ccfa548a3"><div class="ttname"><a href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">item::damage</a></div><div class="ttdeci">int damage() const</div><div class="ttdoc">How much damage has the item sustained?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00695">item.cpp:695</a></div></div>
<div class="ttc" id="aclassiuse__transform_html"><div class="ttname"><a href="classiuse__transform.html">iuse_transform</a></div><div class="ttdoc">Transform an item into a specific type.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00051">iuse_actor.h:52</a></div></div>
<div class="ttc" id="aclassiuse__transform_html_a2e48b0898e1f626447cd426b4f511e23"><div class="ttname"><a href="classiuse__transform.html#a2e48b0898e1f626447cd426b4f511e23">iuse_transform::ammo_qty</a></div><div class="ttdeci">int ammo_qty</div><div class="ttdoc">if zero or positive set remaining ammo of target to this (after transformation)</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00064">iuse_actor.h:64</a></div></div>
<div class="ttc" id="aclassiuse__transform_html_a34d5287f0d8ce495cdd4baff1901e5ce"><div class="ttname"><a href="classiuse__transform.html#a34d5287f0d8ce495cdd4baff1901e5ce">iuse_transform::target</a></div><div class="ttdeci">itype_id target</div><div class="ttdoc">type of the resulting item</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00058">iuse_actor.h:58</a></div></div>
<div class="ttc" id="aclassmap__stack_html"><div class="ttname"><a href="classmap__stack.html">map_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00104">map.h:105</a></div></div>
<div class="ttc" id="aclassmap__stack_html_ab58ec66a7ca2e476c6d90967dccc8062"><div class="ttname"><a href="classmap__stack.html#ab58ec66a7ca2e476c6d90967dccc8062">map_stack::erase</a></div><div class="ttdeci">iterator erase(const_iterator it) override</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00150">map.cpp:150</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00388">map.h:389</a></div></div>
<div class="ttc" id="aclassmap_html_a1a51a23a59c4341fd4d8f3c4723fd818"><div class="ttname"><a href="classmap.html#a1a51a23a59c4341fd4d8f3c4723fd818">map::obstructed_by_vehicle_rotation</a></div><div class="ttdeci">bool obstructed_by_vehicle_rotation(const tripoint &amp;from, const tripoint &amp;to) const</div><div class="ttdoc">Checks if a rotated vehicle is blocking diagonal movement, tripoints must be adjacent.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06474">map.cpp:6474</a></div></div>
<div class="ttc" id="aclassmap_html_a2266f21420ae2a1b44e8df9a028764e4"><div class="ttname"><a href="classmap.html#a2266f21420ae2a1b44e8df9a028764e4">map::bash</a></div><div class="ttdeci">bash_results bash(const tripoint &amp;p, int str, bool silent=false, bool destroy=false, bool bash_floor=false, const vehicle *bashing_vehicle=nullptr)</div><div class="ttdoc">Returns a pair where first is whether anything was smashed and second is if it was destroyed.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03508">map.cpp:3508</a></div></div>
<div class="ttc" id="aclassmap_html_a4f5f812d7e89a998429958573a4c340f"><div class="ttname"><a href="classmap.html#a4f5f812d7e89a998429958573a4c340f">map::points_in_radius</a></div><div class="ttdeci">tripoint_range&lt; tripoint &gt; points_in_radius(const tripoint &amp;center, size_t radius, size_t radiusz=0) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08570">map.cpp:8570</a></div></div>
<div class="ttc" id="aclassmap_html_a5579e13088b4ccd9c5a75458919d528a"><div class="ttname"><a href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">map::add_item_or_charges</a></div><div class="ttdeci">item &amp; add_item_or_charges(const tripoint &amp;pos, item obj, bool overflow=true)</div><div class="ttdoc">Adds an item to map tile or stacks charges.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04216">map.cpp:4216</a></div></div>
<div class="ttc" id="aclassmap_html_a78a575384ef025ebc3bc5f29bdfb0bb1"><div class="ttname"><a href="classmap.html#a78a575384ef025ebc3bc5f29bdfb0bb1">map::add_splatter</a></div><div class="ttdeci">void add_splatter(const field_type_id &amp;type, const tripoint &amp;where, int intensity=1)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05471">map.cpp:5471</a></div></div>
<div class="ttc" id="aclassmap_html_a802cc11379d4be61f4e2b13a50f6390e"><div class="ttname"><a href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">map::impassable</a></div><div class="ttdeci">bool impassable(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01792">map.cpp:1792</a></div></div>
<div class="ttc" id="aclassmonster_html"><div class="ttname"><a href="classmonster.html">monster</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00083">monster.h:84</a></div></div>
<div class="ttc" id="aclassmonster_html_a19f8524caa7fa7b0156d4262fb33a341"><div class="ttname"><a href="classmonster.html#a19f8524caa7fa7b0156d4262fb33a341">monster::bloodType</a></div><div class="ttdeci">field_type_id bloodType() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02657">monster.cpp:2657</a></div></div>
<div class="ttc" id="aclassmonster_html_a275d73e1bf3d08e2ea1a0704ac898f7e"><div class="ttname"><a href="classmonster.html#a275d73e1bf3d08e2ea1a0704ac898f7e">monster::inv</a></div><div class="ttdeci">std::vector&lt; item &gt; inv</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00458">monster.h:458</a></div></div>
<div class="ttc" id="aclassmonster_html_a2d0e466b9d25796cd99402ddd5d3ce20"><div class="ttname"><a href="classmonster.html#a2d0e466b9d25796cd99402ddd5d3ce20">monster::get_hp</a></div><div class="ttdeci">int get_hp(const bodypart_id &amp;) const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02898">monster.cpp:2898</a></div></div>
<div class="ttc" id="aclassmonster_html_a2f9d03ffee51f0193855490a75511596"><div class="ttname"><a href="classmonster.html#a2f9d03ffee51f0193855490a75511596">monster::no_extra_death_drops</a></div><div class="ttdeci">bool no_extra_death_drops</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00482">monster.h:482</a></div></div>
<div class="ttc" id="aclassmonster_html_a34e7b9873ad1cf0901f6583895ee3af8"><div class="ttname"><a href="classmonster.html#a34e7b9873ad1cf0901f6583895ee3af8">monster::posy</a></div><div class="ttdeci">int posy() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00500">monster.h:500</a></div></div>
<div class="ttc" id="aclassmonster_html_a3690c104bd71bffc25153a86229f2a97"><div class="ttname"><a href="classmonster.html#a3690c104bd71bffc25153a86229f2a97">monster::posz</a></div><div class="ttdeci">int posz() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00503">monster.h:503</a></div></div>
<div class="ttc" id="aclassmonster_html_a45462fba4c37679c66ecde2f9000c22c"><div class="ttname"><a href="classmonster.html#a45462fba4c37679c66ecde2f9000c22c">monster::add_effect</a></div><div class="ttdeci">void add_effect(const efftype_id &amp;eff_id, const time_duration &amp;dur, const bodypart_str_id &amp;bp, int intensity=0, bool force=false, bool deferred=false) override</div><div class="ttdoc">Performs any monster-specific modifications to the arguments before passing to Creature::add_effect()...</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01811">monster.cpp:1811</a></div></div>
<div class="ttc" id="aclassmonster_html_a551f4a380282f8ec082c74f410c397de"><div class="ttname"><a href="classmonster.html#a551f4a380282f8ec082c74f410c397de">monster::get_hp_max</a></div><div class="ttdeci">int get_hp_max(const bodypart_id &amp;) const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02888">monster.cpp:2888</a></div></div>
<div class="ttc" id="aclassmonster_html_a55d95177d49525c0da7649f135a6306d"><div class="ttname"><a href="classmonster.html#a55d95177d49525c0da7649f135a6306d">monster::pos</a></div><div class="ttdeci">const tripoint &amp; pos() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00255">monster.cpp:255</a></div></div>
<div class="ttc" id="aclassmonster_html_a55f85ad0bf2f4d114107820910a42c0a"><div class="ttname"><a href="classmonster.html#a55f85ad0bf2f4d114107820910a42c0a">monster::no_corpse_quiet</a></div><div class="ttdeci">bool no_corpse_quiet</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00484">monster.h:484</a></div></div>
<div class="ttc" id="aclassmonster_html_a5e50554c4210ec2a15d9ed44e61bcf3a"><div class="ttname"><a href="classmonster.html#a5e50554c4210ec2a15d9ed44e61bcf3a">monster::unique_name</a></div><div class="ttdeci">std::string unique_name</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00490">monster.h:490</a></div></div>
<div class="ttc" id="aclassmonster_html_a7cb9d9786d11c2c0926d3482d3f51ffe"><div class="ttname"><a href="classmonster.html#a7cb9d9786d11c2c0926d3482d3f51ffe">monster::name</a></div><div class="ttdeci">std::string name(unsigned int quantity=1) const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00492">monster.cpp:492</a></div></div>
<div class="ttc" id="aclassmonster_html_a817d18569f7c1381fe46aa1464c1d844"><div class="ttname"><a href="classmonster.html#a817d18569f7c1381fe46aa1464c1d844">monster::corpse_components</a></div><div class="ttdeci">std::vector&lt; item &gt; corpse_components</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00459">monster.h:459</a></div></div>
<div class="ttc" id="aclassmonster_html_aa30f973bf524ba275ada847f6118b048"><div class="ttname"><a href="classmonster.html#aa30f973bf524ba275ada847f6118b048">monster::type</a></div><div class="ttdeci">const mtype * type</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00480">monster.h:480</a></div></div>
<div class="ttc" id="aclassmonster_html_aa5740a03294bcab8ef209151af709c4c"><div class="ttname"><a href="classmonster.html#aa5740a03294bcab8ef209151af709c4c">monster::ammo</a></div><div class="ttdeci">std::map&lt; itype_id, int &gt; ammo</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00514">monster.h:514</a></div></div>
<div class="ttc" id="aclassmonster_html_ac657665936ef8e009e683c2fa02f4ce3"><div class="ttname"><a href="classmonster.html#ac657665936ef8e009e683c2fa02f4ce3">monster::get_weight</a></div><div class="ttdeci">units::mass get_weight() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02677">monster.cpp:2677</a></div></div>
<div class="ttc" id="aclassmonster_html_ae48d048c8c53f7563bf7edc6a38a0018"><div class="ttname"><a href="classmonster.html#ae48d048c8c53f7563bf7edc6a38a0018">monster::gibType</a></div><div class="ttdeci">field_type_id gibType() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02664">monster.cpp:2664</a></div></div>
<div class="ttc" id="aclassmonster_html_ae5824f6fba759aa296cd55b83d2ea60f"><div class="ttname"><a href="classmonster.html#ae5824f6fba759aa296cd55b83d2ea60f">monster::posx</a></div><div class="ttdeci">int posx() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00497">monster.h:497</a></div></div>
<div class="ttc" id="aclassmonster_html_ae7d28bfb064ffed8272b320e56da7623"><div class="ttname"><a href="classmonster.html#ae7d28bfb064ffed8272b320e56da7623">monster::get_upgrade_time</a></div><div class="ttdeci">int get_upgrade_time() const</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00298">monster.cpp:298</a></div></div>
<div class="ttc" id="aclassmonster_html_af3444e4763b1dd53e75c5ea50fd8ba9f"><div class="ttname"><a href="classmonster.html#af3444e4763b1dd53e75c5ea50fd8ba9f">monster::disp_name</a></div><div class="ttdeci">std::string disp_name(bool possessive=false, bool capitalize_first=false) const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00536">monster.cpp:536</a></div></div>
<div class="ttc" id="aclassplayer_html"><div class="ttname"><a href="classplayer.html">player</a></div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00089">player.h:90</a></div></div>
<div class="ttc" id="aclassplayer_html_ae7009d849f19a4f5ebe877cbe463c459"><div class="ttname"><a href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">player::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03973">player.cpp:3973</a></div></div>
<div class="ttc" id="aclassplayer_html_af4d6390315e3c781edf8649c5ae59a33"><div class="ttname"><a href="classplayer.html#af4d6390315e3c781edf8649c5ae59a33">player::is_player</a></div><div class="ttdeci">bool is_player() const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00105">player.h:105</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; effect_type &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa7dabc565f0c067e1a237ea224b18f93"><div class="ttname"><a href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00255">string_id.h:255</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00179">calendar.h:180</a></div></div>
<div class="ttc" id="aclasstime__point_html"><div class="ttname"><a href="classtime__point.html">time_point</a></div><div class="ttdoc">A point in the game time.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00430">calendar.h:431</a></div></div>
<div class="ttc" id="acolony_8h_html"><div class="ttname"><a href="colony_8h.html">colony.h</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a47953b33a873caa0861b12222842a5ec"><div class="ttname"><a href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00519">coordinates.h:519</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a4a34f7ffa4c18effba7f8239c68c8738"><div class="ttname"><a href="coordinates_8h.html#a4a34f7ffa4c18effba7f8239c68c8738">line_to</a></div><div class="ttdeci">std::vector&lt; coords::coord_point&lt; Point, Origin, Scale &gt; &gt; line_to(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00548">coordinates.h:548</a></div></div>
<div class="ttc" id="acreature_8h_html"><div class="ttname"><a href="creature_8h.html">creature.h</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614">MS_TINY</a></div><div class="ttdeci">@ MS_TINY</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00058">creature.h:58</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592a50d9f673ed0348953b2715fa33683791"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a50d9f673ed0348953b2715fa33683791">MS_LARGE</a></div><div class="ttdeci">@ MS_LARGE</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00061">creature.h:61</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592a6a1920ba558cd6584b689f53519e9e96"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a6a1920ba558cd6584b689f53519e9e96">MS_SMALL</a></div><div class="ttdeci">@ MS_SMALL</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00059">creature.h:59</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9">MS_HUGE</a></div><div class="ttdeci">@ MS_HUGE</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00062">creature.h:62</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592aaef7580aead8b8a18bc50cb6c1f98b31"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592aaef7580aead8b8a18bc50cb6c1f98b31">MS_MEDIUM</a></div><div class="ttdeci">@ MS_MEDIUM</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00060">creature.h:60</a></div></div>
<div class="ttc" id="aenums_8h_html"><div class="ttname"><a href="enums_8h.html">enums.h</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096e"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096e">game_message_type</a></div><div class="ttdeci">game_message_type</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00252">enums.h:252</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a></div><div class="ttdeci">@ m_good</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00253">enums.h:253</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a></div><div class="ttdeci">@ m_neutral</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00260">enums.h:260</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a></div><div class="ttdeci">@ m_info</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00258">enums.h:258</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a></div><div class="ttdeci">@ m_bad</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00254">enums.h:254</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a></div><div class="ttdeci">@ m_debug</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00264">enums.h:264</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096eaa65a3cd4a2c6d0fbb31833ade22ee100"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaa65a3cd4a2c6d0fbb31833ade22ee100">m_mixed</a></div><div class="ttdeci">@ m_mixed</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00255">enums.h:255</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a></div><div class="ttdeci">@ m_warning</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00257">enums.h:257</a></div></div>
<div class="ttc" id="aexplosion_8h_html"><div class="ttname"><a href="explosion_8h.html">explosion.h</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a22bb00476a16e7d9d5a0de4454a7e7ae"><div class="ttname"><a href="field__type_8cpp.html#a22bb00476a16e7d9d5a0de4454a7e7ae">fd_bile</a></div><div class="ttdeci">field_type_id fd_bile</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00337">field_type.cpp:337</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a261d438c14892c55153e1b615c548164"><div class="ttname"><a href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a></div><div class="ttdeci">field_type_id fd_fire</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00345">field_type.cpp:345</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a67e1c2ea914225c5affdf6b847e61e26"><div class="ttname"><a href="field__type_8cpp.html#a67e1c2ea914225c5affdf6b847e61e26">fd_dazzling</a></div><div class="ttdeci">field_type_id fd_dazzling</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00361">field_type.cpp:361</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a9868dee0533f3cc11e389b49a6c4f636"><div class="ttname"><a href="field__type_8cpp.html#a9868dee0533f3cc11e389b49a6c4f636">fd_fungicidal_gas</a></div><div class="ttdeci">field_type_id fd_fungicidal_gas</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00383">field_type.cpp:383</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_ab7a8a9cdb74831f6553f4abf5df22873"><div class="ttname"><a href="field__type_8cpp.html#ab7a8a9cdb74831f6553f4abf5df22873">fd_acid</a></div><div class="ttdeci">field_type_id fd_acid</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00342">field_type.cpp:342</a></div></div>
<div class="ttc" id="afield__type_8h_html"><div class="ttname"><a href="field__type_8h.html">field_type.h</a></div></div>
<div class="ttc" id="afungal__effects_8h_html"><div class="ttname"><a href="fungal__effects_8h.html">fungal_effects.h</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00271">game.cpp:271</a></div></div>
<div class="ttc" id="agame_8h_html"><div class="ttname"><a href="game_8h.html">game.h</a></div></div>
<div class="ttc" id="aharvest_8h_html"><div class="ttname"><a href="harvest_8h.html">harvest.h</a></div></div>
<div class="ttc" id="aitem_8h_html"><div class="ttname"><a href="item_8h.html">item.h</a></div></div>
<div class="ttc" id="aitem__group_8h_html"><div class="ttname"><a href="item__group_8h.html">item_group.h</a></div></div>
<div class="ttc" id="aitem__stack_8h_html"><div class="ttname"><a href="item__stack_8h.html">item_stack.h</a></div></div>
<div class="ttc" id="aitype_8h_html"><div class="ttname"><a href="itype_8h.html">itype.h</a></div></div>
<div class="ttc" id="aiuse_8h_html"><div class="ttname"><a href="iuse_8h.html">iuse.h</a></div></div>
<div class="ttc" id="aiuse__actor_8h_html"><div class="ttname"><a href="iuse__actor_8h.html">iuse_actor.h</a></div></div>
<div class="ttc" id="akill__tracker_8h_html"><div class="ttname"><a href="kill__tracker_8h.html">kill_tracker.h</a></div></div>
<div class="ttc" id="aline_8h_html"><div class="ttname"><a href="line_8h.html">line.h</a></div></div>
<div class="ttc" id="amap_8cpp_html_acb0b34be6e497bdd2f9f40ae6929d562"><div class="ttname"><a href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00144">map.cpp:144</a></div></div>
<div class="ttc" id="amap_8h_html"><div class="ttname"><a href="map_8h.html">map.h</a></div></div>
<div class="ttc" id="amap__iterator_8h_html"><div class="ttname"><a href="map__iterator_8h.html">map_iterator.h</a></div></div>
<div class="ttc" id="amattack__actors_8h_html"><div class="ttname"><a href="mattack__actors_8h.html">mattack_actors.h</a></div></div>
<div class="ttc" id="amattack__common_8h_html"><div class="ttname"><a href="mattack__common_8h.html">mattack_common.h</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00884">messages.cpp:884</a></div></div>
<div class="ttc" id="amessages_8h_html"><div class="ttname"><a href="messages_8h.html">messages.h</a></div></div>
<div class="ttc" id="amondeath_8cpp_html_a039c3acd23099e1631feefe7748f49ac"><div class="ttname"><a href="mondeath_8cpp.html#a039c3acd23099e1631feefe7748f49ac">mon_blob_brain</a></div><div class="ttdeci">static const mtype_id mon_blob_brain(&quot;mon_blob_brain&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a041e74f49f2eab98904a956d5d5e473a"><div class="ttname"><a href="mondeath_8cpp.html#a041e74f49f2eab98904a956d5d5e473a">mon_creeper_vine</a></div><div class="ttdeci">static const mtype_id mon_creeper_vine(&quot;mon_creeper_vine&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a0781c8bcbb6f6f615b022a1b308a21f7"><div class="ttname"><a href="mondeath_8cpp.html#a0781c8bcbb6f6f615b022a1b308a21f7">mon_zombie_dancer</a></div><div class="ttdeci">static const mtype_id mon_zombie_dancer(&quot;mon_zombie_dancer&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a0e701368604950da9eae27352af9044b"><div class="ttname"><a href="mondeath_8cpp.html#a0e701368604950da9eae27352af9044b">effect_no_ammo</a></div><div class="ttdeci">static const efftype_id effect_no_ammo(&quot;no_ammo&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a1274db01551e337ca6c69d003d280e98"><div class="ttname"><a href="mondeath_8cpp.html#a1274db01551e337ca6c69d003d280e98">mon_halfworm</a></div><div class="ttdeci">static const mtype_id mon_halfworm(&quot;mon_halfworm&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a1318a41f2960032c7f2043f0e9c9b951"><div class="ttname"><a href="mondeath_8cpp.html#a1318a41f2960032c7f2043f0e9c9b951">mon_thing</a></div><div class="ttdeci">static const mtype_id mon_thing(&quot;mon_thing&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a1ce9db8f1e355ba884db835013d78b41"><div class="ttname"><a href="mondeath_8cpp.html#a1ce9db8f1e355ba884db835013d78b41">species_BLOB</a></div><div class="ttdeci">static const species_id species_BLOB(&quot;BLOB&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a3a701004a797f5511860423764151aa2"><div class="ttname"><a href="mondeath_8cpp.html#a3a701004a797f5511860423764151aa2">mon_breather</a></div><div class="ttdeci">static const mtype_id mon_breather(&quot;mon_breather&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a468a4ea99d05230e46c7e014a68270a7"><div class="ttname"><a href="mondeath_8cpp.html#a468a4ea99d05230e46c7e014a68270a7">effect_boomered</a></div><div class="ttdeci">static const efftype_id effect_boomered(&quot;boomered&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a4e2730248c54d4d07fa7e215efb35d1a"><div class="ttname"><a href="mondeath_8cpp.html#a4e2730248c54d4d07fa7e215efb35d1a">ZOMBIE</a></div><div class="ttdeci">static const species_id ZOMBIE(&quot;ZOMBIE&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a53f40b992f1ab4a66785f12dbaae64ec"><div class="ttname"><a href="mondeath_8cpp.html#a53f40b992f1ab4a66785f12dbaae64ec">trait_PACIFIST</a></div><div class="ttdeci">static const trait_id trait_PACIFIST(&quot;PACIFIST&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a5fec4327ea06615c1bc75fc639b54c11"><div class="ttname"><a href="mondeath_8cpp.html#a5fec4327ea06615c1bc75fc639b54c11">mon_giant_cockroach_nymph</a></div><div class="ttdeci">static const mtype_id mon_giant_cockroach_nymph(&quot;mon_giant_cockroach_nymph&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a69facf9e8a9f592a5de03b2d644f567b"><div class="ttname"><a href="mondeath_8cpp.html#a69facf9e8a9f592a5de03b2d644f567b">butcher_cbm_item</a></div><div class="ttdeci">static std::vector&lt; item &gt; butcher_cbm_item(const itype_id &amp;what, const time_point &amp;birthday, const std::vector&lt; std::string &gt; &amp;flags, const std::vector&lt; fault_id &gt; &amp;faults)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00879">mondeath.cpp:879</a></div></div>
<div class="ttc" id="amondeath_8cpp_html_a7490b3833a4ccde42b3dab6eadfb43d3"><div class="ttname"><a href="mondeath_8cpp.html#a7490b3833a4ccde42b3dab6eadfb43d3">mon_breather_hub</a></div><div class="ttdeci">static const mtype_id mon_breather_hub(&quot;mon_breather_hub&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a75f940017ac482501c82a06e89a6a9ff"><div class="ttname"><a href="mondeath_8cpp.html#a75f940017ac482501c82a06e89a6a9ff">mon_zombie_hulk</a></div><div class="ttdeci">static const mtype_id mon_zombie_hulk(&quot;mon_zombie_hulk&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a79654cfc6f07462199ec3f5da9e49c83"><div class="ttname"><a href="mondeath_8cpp.html#a79654cfc6f07462199ec3f5da9e49c83">effect_pacified</a></div><div class="ttdeci">static const efftype_id effect_pacified(&quot;pacified&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a79d0578dfe3d1e27332b119e515f47fb"><div class="ttname"><a href="mondeath_8cpp.html#a79d0578dfe3d1e27332b119e515f47fb">trait_KILLER</a></div><div class="ttdeci">static const trait_id trait_KILLER(&quot;KILLER&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a84bed2f340b7b3bf9a0ae0c95eabc6dc"><div class="ttname"><a href="mondeath_8cpp.html#a84bed2f340b7b3bf9a0ae0c95eabc6dc">effect_darkness</a></div><div class="ttdeci">static const efftype_id effect_darkness(&quot;darkness&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a85f78b5b1a30d02601ddb48682e1ac18"><div class="ttname"><a href="mondeath_8cpp.html#a85f78b5b1a30d02601ddb48682e1ac18">scatter_chunks</a></div><div class="ttdeci">static void scatter_chunks(const itype_id &amp;chunk_name, int chunk_amt, monster &amp;z, int distance, int pile_size=1)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00125">mondeath.cpp:125</a></div></div>
<div class="ttc" id="amondeath_8cpp_html_a8f6887393d4085f03584ef53b2c63d2f"><div class="ttname"><a href="mondeath_8cpp.html#a8f6887393d4085f03584ef53b2c63d2f">effect_glowing</a></div><div class="ttdeci">static const efftype_id effect_glowing(&quot;glowing&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a9505b03c793013adc043674d3233f8f4"><div class="ttname"><a href="mondeath_8cpp.html#a9505b03c793013adc043674d3233f8f4">mon_creeper_hub</a></div><div class="ttdeci">static const mtype_id mon_creeper_hub(&quot;mon_creeper_hub&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a96b8333a5c99eec3461bf502b864204b"><div class="ttname"><a href="mondeath_8cpp.html#a96b8333a5c99eec3461bf502b864204b">mon_blob_small</a></div><div class="ttdeci">static const mtype_id mon_blob_small(&quot;mon_blob_small&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a9a69878d610299ed767e077dad05994e"><div class="ttname"><a href="mondeath_8cpp.html#a9a69878d610299ed767e077dad05994e">itype_processor</a></div><div class="ttdeci">static const itype_id itype_processor(&quot;processor&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a9aa63de6139697ce8d60441863a2b517"><div class="ttname"><a href="mondeath_8cpp.html#a9aa63de6139697ce8d60441863a2b517">mon_sewer_rat</a></div><div class="ttdeci">static const mtype_id mon_sewer_rat(&quot;mon_sewer_rat&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_a9bbf692360c0fe96f9fccf41db5756be"><div class="ttname"><a href="mondeath_8cpp.html#a9bbf692360c0fe96f9fccf41db5756be">trait_PSYCHOPATH</a></div><div class="ttdeci">static const trait_id trait_PSYCHOPATH(&quot;PSYCHOPATH&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_aa38c932036191fc88554990d16a891a2"><div class="ttname"><a href="mondeath_8cpp.html#aa38c932036191fc88554990d16a891a2">mon_blob</a></div><div class="ttdeci">static const mtype_id mon_blob(&quot;mon_blob&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_aadf59a13d25230d4be1cca5cbe800a4b"><div class="ttname"><a href="mondeath_8cpp.html#aadf59a13d25230d4be1cca5cbe800a4b">make_mon_corpse</a></div><div class="ttdeci">void make_mon_corpse(monster &amp;z, int damageLvl)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00910">mondeath.cpp:910</a></div></div>
<div class="ttc" id="amondeath_8cpp_html_ac2aa877afbc90f2a8dccb91704af5973"><div class="ttname"><a href="mondeath_8cpp.html#ac2aa877afbc90f2a8dccb91704af5973">effect_rat</a></div><div class="ttdeci">static const efftype_id effect_rat(&quot;rat&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_ae04f21c0fdc4e48f92280d493ad65b82"><div class="ttname"><a href="mondeath_8cpp.html#ae04f21c0fdc4e48f92280d493ad65b82">butcher_cbm_group</a></div><div class="ttdeci">static std::vector&lt; item &gt; butcher_cbm_group(const item_group_id &amp;group, const time_point &amp;birthday, const std::vector&lt; std::string &gt; &amp;flags, const std::vector&lt; fault_id &gt; &amp;faults)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00894">mondeath.cpp:894</a></div></div>
<div class="ttc" id="amondeath_8cpp_html_ae65a9a8c5e0591a5f9b530b68c704235"><div class="ttname"><a href="mondeath_8cpp.html#ae65a9a8c5e0591a5f9b530b68c704235">effect_amigara</a></div><div class="ttdeci">static const efftype_id effect_amigara(&quot;amigara&quot;)</div></div>
<div class="ttc" id="amondeath_8cpp_html_aed84cc428d3176b893fe131e4eda45c3"><div class="ttname"><a href="mondeath_8cpp.html#aed84cc428d3176b893fe131e4eda45c3">effect_ai_controlled</a></div><div class="ttdeci">static const efftype_id effect_ai_controlled(&quot;ai_controlled&quot;)</div></div>
<div class="ttc" id="amondeath_8h_html"><div class="ttname"><a href="mondeath_8h.html">mondeath.h</a></div></div>
<div class="ttc" id="amonster_8h_html"><div class="ttname"><a href="monster_8h.html">monster.h</a></div></div>
<div class="ttc" id="amorale__types_8cpp_html_a66c3c1723add311ae2081a640fe033f1"><div class="ttname"><a href="morale__types_8cpp.html#a66c3c1723add311ae2081a640fe033f1">MORALE_KILLED_MONSTER</a></div><div class="ttdeci">const morale_type MORALE_KILLED_MONSTER(&quot;morale_killed_monster&quot;)</div></div>
<div class="ttc" id="amorale__types_8h_html"><div class="ttname"><a href="morale__types_8h.html">morale_types.h</a></div></div>
<div class="ttc" id="amtype_8h_html"><div class="ttname"><a href="mtype_8h.html">mtype.h</a></div></div>
<div class="ttc" id="amtype_8h_html_afa4c966d04d2ddb261a7cde725eca842a663166967254a3fb02f58b78aed83d22"><div class="ttname"><a href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a663166967254a3fb02f58b78aed83d22">MF_DROPS_AMMO</a></div><div class="ttdeci">@ MF_DROPS_AMMO</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00178">mtype.h:178</a></div></div>
<div class="ttc" id="amtype_8h_html_afa4c966d04d2ddb261a7cde725eca842ab2b01890ed83f413db4c59064312950e"><div class="ttname"><a href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842ab2b01890ed83f413db4c59064312950e">MF_NOGIB</a></div><div class="ttdeci">@ MF_NOGIB</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00128">mtype.h:128</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ab01178b933b4f1c62bd75b2edfdbaf79"><div class="ttname"><a href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a></div><div class="ttdeci">const time_point &amp; start_of_cataclysm</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00033">calendar.cpp:33</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00036">calendar.cpp:36</a></div></div>
<div class="ttc" id="anamespaceexplosion__handler_html_aedf90c876bd69288b266c6a60dbc91dc"><div class="ttname"><a href="namespaceexplosion__handler.html#aedf90c876bd69288b266c6a60dbc91dc">explosion_handler::explosion</a></div><div class="ttdeci">void explosion(const tripoint &amp;p, float power, float factor, bool fire, int legacy_casing_mass, float)</div><div class="ttdoc">Legacy explosion function.</div><div class="ttdef"><b>Definition:</b> <a href="explosion_8cpp_source.html#l00697">explosion.cpp:697</a></div></div>
<div class="ttc" id="anamespaceitem__group_html_ad15629f772f27e1d19c90fe9de23ae99"><div class="ttname"><a href="namespaceitem__group.html#ad15629f772f27e1d19c90fe9de23ae99">item_group::items_from</a></div><div class="ttdeci">ItemList items_from(const item_group_id &amp;group_id, const time_point &amp;birthday)</div><div class="ttdoc">Create items from the given group.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8cpp_source.html#l00574">item_group.cpp:574</a></div></div>
<div class="ttc" id="anamespacemattack_html_af2676be6738b2b9622d33c48e7c664c6"><div class="ttname"><a href="namespacemattack.html#af2676be6738b2b9622d33c48e7c664c6">mattack::vine</a></div><div class="ttdeci">bool vine(monster *z)</div><div class="ttdef"><b>Definition:</b> <a href="monattack_8cpp_source.html#l01553">monattack.cpp:1553</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a06acd274a02ce5f3bc21f48af640268e"><div class="ttname"><a href="namespacemdeath.html#a06acd274a02ce5f3bc21f48af640268e">mdeath::focused_beam</a></div><div class="ttdeci">void focused_beam(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00605">mondeath.cpp:605</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a139eb7401ec141e9debeb31d0266a6c2"><div class="ttname"><a href="namespacemdeath.html#a139eb7401ec141e9debeb31d0266a6c2">mdeath::detonate</a></div><div class="ttdeci">void detonate(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00797">mondeath.cpp:797</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a149939d36de0fa53a1e49641a3d0cf2c"><div class="ttname"><a href="namespacemdeath.html#a149939d36de0fa53a1e49641a3d0cf2c">mdeath::normal</a></div><div class="ttdeci">void normal(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00088">mondeath.cpp:88</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a260146b4adc5351d4a91165cf09fb524"><div class="ttname"><a href="namespacemdeath.html#a260146b4adc5351d4a91165cf09fb524">mdeath::blobsplit</a></div><div class="ttdeci">void blobsplit(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00494">mondeath.cpp:494</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a2b3ee0f23691483f0f16dafa06f3baef"><div class="ttname"><a href="namespacemdeath.html#a2b3ee0f23691483f0f16dafa06f3baef">mdeath::guilt</a></div><div class="ttdeci">void guilt(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00427">mondeath.cpp:427</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a31cd81b4b70b0a5f23abcb2861aca808"><div class="ttname"><a href="namespacemdeath.html#a31cd81b4b70b0a5f23abcb2861aca808">mdeath::gameover</a></div><div class="ttdeci">void gameover(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00781">mondeath.cpp:781</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a34d536eb1a3c5282ca69ca52f37a9feb"><div class="ttname"><a href="namespacemdeath.html#a34d536eb1a3c5282ca69ca52f37a9feb">mdeath::brainblob</a></div><div class="ttdeci">void brainblob(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00523">mondeath.cpp:523</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a687a11f90eec0201af46ba685f8aae9b"><div class="ttname"><a href="namespacemdeath.html#a687a11f90eec0201af46ba685f8aae9b">mdeath::kill_breathers</a></div><div class="ttdeci">void kill_breathers(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00787">mondeath.cpp:787</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a6b2fd64f88b244202a90b98a70b5b539"><div class="ttname"><a href="namespacemdeath.html#a6b2fd64f88b244202a90b98a70b5b539">mdeath::vine_cut</a></div><div class="ttdeci">void vine_cut(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00340">mondeath.cpp:340</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a7ad1e0c10d14fb4ca8c6755f305de44b"><div class="ttname"><a href="namespacemdeath.html#a7ad1e0c10d14fb4ca8c6755f305de44b">mdeath::jackson</a></div><div class="ttdeci">void jackson(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00533">mondeath.cpp:533</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a7b6de89bbd0d28404dcb3da6638ac038"><div class="ttname"><a href="namespacemdeath.html#a7b6de89bbd0d28404dcb3da6638ac038">mdeath::darkman</a></div><div class="ttdeci">void darkman(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00723">mondeath.cpp:723</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a7de3914cb9dc1dbc25bde6c170946a24"><div class="ttname"><a href="namespacemdeath.html#a7de3914cb9dc1dbc25bde6c170946a24">mdeath::explode</a></div><div class="ttdeci">void explode(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00579">mondeath.cpp:579</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a8552351ca9ff310424c8f48a32eea44a"><div class="ttname"><a href="namespacemdeath.html#a8552351ca9ff310424c8f48a32eea44a">mdeath::splatter</a></div><div class="ttdeci">void splatter(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00186">mondeath.cpp:186</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a9373a979aa8282207e7b8221f3112fe6"><div class="ttname"><a href="namespacemdeath.html#a9373a979aa8282207e7b8221f3112fe6">mdeath::fungalburst</a></div><div class="ttdeci">void fungalburst(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00745">mondeath.cpp:745</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a9603f2e984887d32c881e9df6d224f37"><div class="ttname"><a href="namespacemdeath.html#a9603f2e984887d32c881e9df6d224f37">mdeath::boomer_glow</a></div><div class="ttdeci">void boomer_glow(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00289">mondeath.cpp:289</a></div></div>
<div class="ttc" id="anamespacemdeath_html_a9e7e29aca27668de55cfc4fa0e5ae3f9"><div class="ttname"><a href="namespacemdeath.html#a9e7e29aca27668de55cfc4fa0e5ae3f9">mdeath::amigara</a></div><div class="ttdeci">void amigara(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00553">mondeath.cpp:553</a></div></div>
<div class="ttc" id="anamespacemdeath_html_aa395f6a2411d34c58c9fce3f9ca2c2f6"><div class="ttname"><a href="namespacemdeath.html#aa395f6a2411d34c58c9fce3f9ca2c2f6">mdeath::kill_vines</a></div><div class="ttdeci">void kill_vines(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00315">mondeath.cpp:315</a></div></div>
<div class="ttc" id="anamespacemdeath_html_aa87171d164f54c54a699eb13f9b5f894"><div class="ttname"><a href="namespacemdeath.html#aa87171d164f54c54a699eb13f9b5f894">mdeath::triffid_heart</a></div><div class="ttdeci">void triffid_heart(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00373">mondeath.cpp:373</a></div></div>
<div class="ttc" id="anamespacemdeath_html_aaa11eb74acaa458a524ce41f4f9a4850"><div class="ttname"><a href="namespacemdeath.html#aaa11eb74acaa458a524ce41f4f9a4850">mdeath::acid</a></div><div class="ttdeci">void acid(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00257">mondeath.cpp:257</a></div></div>
<div class="ttc" id="anamespacemdeath_html_ab9af743813d471e4f846965044d219e1"><div class="ttname"><a href="namespacemdeath.html#ab9af743813d471e4f846965044d219e1">mdeath::disintegrate</a></div><div class="ttdeci">void disintegrate(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00397">mondeath.cpp:397</a></div></div>
<div class="ttc" id="anamespacemdeath_html_ab9b7285922e5e083b4a090db9137c3d8"><div class="ttname"><a href="namespacemdeath.html#ab9b7285922e5e083b4a090db9137c3d8">mdeath::thing</a></div><div class="ttdeci">void thing(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00574">mondeath.cpp:574</a></div></div>
<div class="ttc" id="anamespacemdeath_html_ab9ece575772e6442c562a76ab8271134"><div class="ttname"><a href="namespacemdeath.html#ab9ece575772e6442c562a76ab8271134">mdeath::conflagration</a></div><div class="ttdeci">void conflagration(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00966">mondeath.cpp:966</a></div></div>
<div class="ttc" id="anamespacemdeath_html_abc45cccd09a53bde4250c0bd0614a162"><div class="ttname"><a href="namespacemdeath.html#abc45cccd09a53bde4250c0bd0614a162">mdeath::melt</a></div><div class="ttdeci">void melt(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00546">mondeath.cpp:546</a></div></div>
<div class="ttc" id="anamespacemdeath_html_ac27195b77b85342701b88d9b2ce64386"><div class="ttname"><a href="namespacemdeath.html#ac27195b77b85342701b88d9b2ce64386">mdeath::disappear</a></div><div class="ttdeci">void disappear(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00420">mondeath.cpp:420</a></div></div>
<div class="ttc" id="anamespacemdeath_html_ac3b7735dafe42530bc40c4b29c3144b7"><div class="ttname"><a href="namespacemdeath.html#ac3b7735dafe42530bc40c4b29c3144b7">mdeath::smokeburst</a></div><div class="ttdeci">void smokeburst(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00738">mondeath.cpp:738</a></div></div>
<div class="ttc" id="anamespacemdeath_html_acc5e43f0467033d339103a5884f04432"><div class="ttname"><a href="namespacemdeath.html#acc5e43f0467033d339103a5884f04432">mdeath::preg_roach</a></div><div class="ttdeci">void preg_roach(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00942">mondeath.cpp:942</a></div></div>
<div class="ttc" id="anamespacemdeath_html_acce6b6a497584dfe478fc500eca796c7"><div class="ttname"><a href="namespacemdeath.html#acce6b6a497584dfe478fc500eca796c7">mdeath::jabberwock</a></div><div class="ttdeci">void jabberwock(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00760">mondeath.cpp:760</a></div></div>
<div class="ttc" id="anamespacemdeath_html_adcada0a5a0f3cf4eeb0e1325ac681183"><div class="ttname"><a href="namespacemdeath.html#adcada0a5a0f3cf4eeb0e1325ac681183">mdeath::worm</a></div><div class="ttdeci">void worm(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00404">mondeath.cpp:404</a></div></div>
<div class="ttc" id="anamespacemdeath_html_adfc56bd2f0d2ff131323cad37fc5fce3"><div class="ttname"><a href="namespacemdeath.html#adfc56bd2f0d2ff131323cad37fc5fce3">mdeath::broken_ammo</a></div><div class="ttdeci">void broken_ammo(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00869">mondeath.cpp:869</a></div></div>
<div class="ttc" id="anamespacemdeath_html_adfd4f81649e252dba86a3178a7822cfb"><div class="ttname"><a href="namespacemdeath.html#adfd4f81649e252dba86a3178a7822cfb">mdeath::fungus</a></div><div class="ttdeci">void fungus(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00381">mondeath.cpp:381</a></div></div>
<div class="ttc" id="anamespacemdeath_html_aed12979088aa9efbc8f84c57036da8c8"><div class="ttname"><a href="namespacemdeath.html#aed12979088aa9efbc8f84c57036da8c8">mdeath::boomer</a></div><div class="ttdeci">void boomer(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00270">mondeath.cpp:270</a></div></div>
<div class="ttc" id="anamespacemdeath_html_af0ee9e5a9fadf98e8a3ef7346aa35d26"><div class="ttname"><a href="namespacemdeath.html#af0ee9e5a9fadf98e8a3ef7346aa35d26">mdeath::gas</a></div><div class="ttdeci">void gas(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00731">mondeath.cpp:731</a></div></div>
<div class="ttc" id="anamespacemdeath_html_af6727868899c22cb43a829d559a0aac4"><div class="ttname"><a href="namespacemdeath.html#af6727868899c22cb43a829d559a0aac4">mdeath::ratking</a></div><div class="ttdeci">void ratking(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00711">mondeath.cpp:711</a></div></div>
<div class="ttc" id="anamespacemdeath_html_afbcbee418575a523796f99175fb037ec"><div class="ttname"><a href="namespacemdeath.html#afbcbee418575a523796f99175fb037ec">mdeath::broken</a></div><div class="ttdeci">void broken(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00644">mondeath.cpp:644</a></div></div>
<div class="ttc" id="anamespacemdeath_html_afeb8babb525456ffcced07e937f88d0d"><div class="ttname"><a href="namespacemdeath.html#afeb8babb525456ffcced07e937f88d0d">mdeath::fireball</a></div><div class="ttdeci">void fireball(monster &amp;z)</div><div class="ttdef"><b>Definition:</b> <a href="mondeath_8cpp_source.html#l00953">mondeath.cpp:953</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_af97f9dbddaa758278662da3478826c61"><div class="ttname"><a href="namespaceom__direction.html#af97f9dbddaa758278662da3478826c61">om_direction::size</a></div><div class="ttdeci">const size_t size</div><div class="ttdef"><b>Definition:</b> <a href="om__direction_8h_source.html#l00027">om_direction.h:27</a></div></div>
<div class="ttc" id="anamespacesfx_html_a1f138eaa92db132e81ce591751c512cc"><div class="ttname"><a href="namespacesfx.html#a1f138eaa92db132e81ce591751c512cc">sfx::get_heard_volume</a></div><div class="ttdeci">int get_heard_volume(const tripoint &amp;source)</div><div class="ttdoc">Functions from sfx that do not use the SDL_mixer API at all.</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l01643">sounds.cpp:1643</a></div></div>
<div class="ttc" id="anamespacesfx_html_a746a046c4c6989d32aa62d6799c2f496"><div class="ttname"><a href="namespacesfx.html#a746a046c4c6989d32aa62d6799c2f496">sfx::group</a></div><div class="ttdeci">group</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8h_source.html#l00125">sounds.h:125</a></div></div>
<div class="ttc" id="anamespacesfx_html_a8fa2bb887ac81392fb686cc4079b5d5a"><div class="ttname"><a href="namespacesfx.html#a8fa2bb887ac81392fb686cc4079b5d5a">sfx::play_variant_sound</a></div><div class="ttdeci">void play_variant_sound(const std::string &amp;id, const std::string &amp;variant, int volume, units::angle angle, double pitch_min=-1.0, double pitch_max=-1.0)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l01599">sounds.cpp:1599</a></div></div>
<div class="ttc" id="anamespacesounds_html_a6bb79ae1c9c3dcd8c8e0b28c66b0398d"><div class="ttname"><a href="namespacesounds.html#a6bb79ae1c9c3dcd8c8e0b28c66b0398d">sounds::sound</a></div><div class="ttdeci">void sound(const tripoint &amp;p, int vol, sound_t category, const std::string &amp;description, bool ambient=false, const std::string &amp;id=&quot;&quot;, const std::string &amp;variant=&quot;default&quot;)</div><div class="ttdoc">Sound at (p) of intensity (vol)</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00177">sounds.cpp:177</a></div></div>
<div class="ttc" id="anamespacesounds_html_af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed"><div class="ttname"><a href="namespacesounds.html#af6b3d144906d9ccfda6824fb87e46aa3ac222ae0d4e9c59bd254b72521b9e74ed">sounds::sound_t::combat</a></div><div class="ttdeci">@ combat</div></div>
<div class="ttc" id="anamespaceunits_html_a8306911daadc1a4d7a7b46e9786f4a4c"><div class="ttname"><a href="namespaceunits.html#a8306911daadc1a4d7a7b46e9786f4a4c">units::to_gram</a></div><div class="ttdeci">constexpr value_type to_gram(const quantity&lt; value_type, mass_in_milligram_tag &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="units__mass_8h_source.html#l00067">units_mass.h:67</a></div></div>
<div class="ttc" id="aplayer_8h_html"><div class="ttname"><a href="player_8h.html">player.h</a></div></div>
<div class="ttc" id="apldata_8h_html"><div class="ttname"><a href="pldata_8h.html">pldata.h</a></div></div>
<div class="ttc" id="apoint_8h_html"><div class="ttname"><a href="point_8h.html">point.h</a></div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00065">rng.cpp:65</a></div></div>
<div class="ttc" id="arng_8h_html"><div class="ttname"><a href="rng_8h.html">rng.h</a></div></div>
<div class="ttc" id="arng_8h_html_a12244355ee77108f1b08618e9962e4d1"><div class="ttname"><a href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a></div><div class="ttdeci">V random_entry(const C &amp;container, D default_value)</div><div class="ttdoc">Returns a random entry in the container.</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00088">rng.h:88</a></div></div>
<div class="ttc" id="asounds_8h_html"><div class="ttname"><a href="sounds_8h.html">sounds.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html"><div class="ttname"><a href="string__formatter_8h.html">string_formatter.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a9b089d0b697443b096063219dab08ef5"><div class="ttname"><a href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a></div><div class="ttdeci">std::string string_format(std::string format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00418">string_formatter.h:418</a></div></div>
<div class="ttc" id="astring__id_8h_html"><div class="ttname"><a href="string__id_8h.html">string_id.h</a></div></div>
<div class="ttc" id="astructharvest__entry_html"><div class="ttname"><a href="structharvest__entry.html">harvest_entry</a></div><div class="ttdef"><b>Definition:</b> <a href="harvest_8h_source.html#l00018">harvest.h:18</a></div></div>
<div class="ttc" id="astructharvest__entry_html_a46710bb492ce943c1270e55133c07d21"><div class="ttname"><a href="structharvest__entry.html#a46710bb492ce943c1270e55133c07d21">harvest_entry::faults</a></div><div class="ttdeci">std::vector&lt; fault_id &gt; faults</div><div class="ttdef"><b>Definition:</b> <a href="harvest_8h_source.html#l00033">harvest.h:33</a></div></div>
<div class="ttc" id="astructharvest__entry_html_a56d984d0924bced99684bc079e8e1b40"><div class="ttname"><a href="structharvest__entry.html#a56d984d0924bced99684bc079e8e1b40">harvest_entry::flags</a></div><div class="ttdeci">std::vector&lt; std::string &gt; flags</div><div class="ttdef"><b>Definition:</b> <a href="harvest_8h_source.html#l00032">harvest.h:32</a></div></div>
<div class="ttc" id="astructharvest__entry_html_a610173c1c420eb01a933c869dc0ddfc2"><div class="ttname"><a href="structharvest__entry.html#a610173c1c420eb01a933c869dc0ddfc2">harvest_entry::type</a></div><div class="ttdeci">std::string type</div><div class="ttdef"><b>Definition:</b> <a href="harvest_8h_source.html#l00027">harvest.h:27</a></div></div>
<div class="ttc" id="astructharvest__entry_html_aab3c35976b3c964b24ad2af530bfdd3f"><div class="ttname"><a href="structharvest__entry.html#aab3c35976b3c964b24ad2af530bfdd3f">harvest_entry::drop</a></div><div class="ttdeci">std::string drop</div><div class="ttdef"><b>Definition:</b> <a href="harvest_8h_source.html#l00020">harvest.h:20</a></div></div>
<div class="ttc" id="astructitype_html_a4ecb806dae208ff275b4aa50ffcd3902"><div class="ttname"><a href="structitype.html#a4ecb806dae208ff275b4aa50ffcd3902">itype::weight</a></div><div class="ttdeci">units::mass weight</div><div class="ttdoc">Weight of item ( or each stack member )</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00965">itype.h:965</a></div></div>
<div class="ttc" id="astructitype_html_ab5c2a0ece3b013a4088b734cd34841d6"><div class="ttname"><a href="structitype.html#ab5c2a0ece3b013a4088b734cd34841d6">itype::magazine_default</a></div><div class="ttdeci">std::map&lt; ammotype, itype_id &gt; magazine_default</div><div class="ttdoc">Default magazine for each ammo type that can be used to reload this item.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01023">itype.h:1023</a></div></div>
<div class="ttc" id="astructitype_html_aba9992b8bc80b65d4153370b3e0755ec"><div class="ttname"><a href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">itype::magazine</a></div><div class="ttdeci">cata::value_ptr&lt; islot_magazine &gt; magazine</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00859">itype.h:859</a></div></div>
<div class="ttc" id="astructitype_html_acbc6974858332fd6933f71a304312d7f"><div class="ttname"><a href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a></div><div class="ttdeci">static constexpr int damage_scale</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01008">itype.h:1008</a></div></div>
<div class="ttc" id="astructmtype_html_a1c38a3e844d79e2a12fcd34e4f6283be"><div class="ttname"><a href="structmtype.html#a1c38a3e844d79e2a12fcd34e4f6283be">mtype::dies</a></div><div class="ttdeci">std::vector&lt; mon_action_death &gt; dies</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00317">mtype.h:317</a></div></div>
<div class="ttc" id="astructmtype_html_a208b05355d08ec7d628606f18e2d53be"><div class="ttname"><a href="structmtype.html#a208b05355d08ec7d628606f18e2d53be">mtype::has_flag</a></div><div class="ttdeci">bool has_flag(m_flag flag) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00075">mtype.cpp:75</a></div></div>
<div class="ttc" id="astructmtype_html_a51ec342d71717bb513f0158198b12840"><div class="ttname"><a href="structmtype.html#a51ec342d71717bb513f0158198b12840">mtype::in_species</a></div><div class="ttdeci">bool in_species(const species_id &amp;spec) const</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8cpp_source.html#l00122">mtype.cpp:122</a></div></div>
<div class="ttc" id="astructmtype_html_a60dea81cdc4c627313e540831d311b5a"><div class="ttname"><a href="structmtype.html#a60dea81cdc4c627313e540831d311b5a">mtype::id</a></div><div class="ttdeci">mtype_id id</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00240">mtype.h:240</a></div></div>
<div class="ttc" id="astructmtype_html_a9a7a3165f2cd86b6e9b68c748ed7f4c0"><div class="ttname"><a href="structmtype.html#a9a7a3165f2cd86b6e9b68c748ed7f4c0">mtype::starting_ammo</a></div><div class="ttdeci">std::map&lt; itype_id, int &gt; starting_ammo</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00242">mtype.h:242</a></div></div>
<div class="ttc" id="astructmtype_html_aba4c84ff42939b47ff74896ed326a98f"><div class="ttname"><a href="structmtype.html#aba4c84ff42939b47ff74896ed326a98f">mtype::size</a></div><div class="ttdeci">m_size size</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00259">mtype.h:259</a></div></div>
<div class="ttc" id="astructmtype_html_ad3d8be7cacb7cd0a19b2c187c9e1ac26"><div class="ttname"><a href="structmtype.html#ad3d8be7cacb7cd0a19b2c187c9e1ac26">mtype::special_attacks</a></div><div class="ttdeci">std::map&lt; std::string, mtype_special_attack &gt; special_attacks</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00314">mtype.h:314</a></div></div>
<div class="ttc" id="astructmtype_html_af030166bf534dd2e4af6897c269bec38"><div class="ttname"><a href="structmtype.html#af030166bf534dd2e4af6897c269bec38">mtype::harvest</a></div><div class="ttdeci">harvest_id harvest</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00309">mtype.h:309</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00035">point.h:35</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00147">point.h:147</a></div></div>
<div class="ttc" id="astructtripoint_html_a89f6c0a16e2bfd7ce4f1f1d20404c4d7"><div class="ttname"><a href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">tripoint::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00151">point.h:151</a></div></div>
<div class="ttc" id="astructtripoint_html_affdc0d5b75024cbfacd208a495def3dc"><div class="ttname"><a href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">tripoint::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00150">point.h:150</a></div></div>
<div class="ttc" id="astructweighted__int__list_html"><div class="ttname"><a href="structweighted__int__list.html">weighted_int_list</a></div><div class="ttdef"><b>Definition:</b> <a href="weighted__list_8h_source.html#l00186">weighted_list.h:186</a></div></div>
<div class="ttc" id="astructweighted__list_html_a23a0eb0640d5aacb0fae74940d2864bd"><div class="ttname"><a href="structweighted__list.html#a23a0eb0640d5aacb0fae74940d2864bd">weighted_list::get_weight</a></div><div class="ttdeci">W get_weight() const</div><div class="ttdoc">This will return the sum of all the object's weights in the list.</div><div class="ttdef"><b>Definition:</b> <a href="weighted__list_8h_source.html#l00147">weighted_list.h:147</a></div></div>
<div class="ttc" id="astructweighted__list_html_a7e0f038800c67af8c42c67940ca9c061"><div class="ttname"><a href="structweighted__list.html#a7e0f038800c67af8c42c67940ca9c061">weighted_list::add</a></div><div class="ttdeci">T * add(const T &amp;obj, const W &amp;weight)</div><div class="ttdoc">This will add a new object to the weighted list.</div><div class="ttdef"><b>Definition:</b> <a href="weighted__list_8h_source.html#l00033">weighted_list.h:33</a></div></div>
<div class="ttc" id="astructweighted__list_html_a8aff784597b2a8f2c0fc9c9028d93256"><div class="ttname"><a href="structweighted__list.html#a8aff784597b2a8f2c0fc9c9028d93256">weighted_list::pick</a></div><div class="ttdeci">const T * pick(unsigned int randi) const</div><div class="ttdoc">This will return a pointer to an object from the list randomly selected and biased by weight.</div><div class="ttdef"><b>Definition:</b> <a href="weighted__list_8h_source.html#l00094">weighted_list.h:94</a></div></div>
<div class="ttc" id="astructweighted__list_html_a9d17f200fabcad84f42f43e6d4c73107"><div class="ttname"><a href="structweighted__list.html#a9d17f200fabcad84f42f43e6d4c73107">weighted_list::get_specific_weight</a></div><div class="ttdeci">W get_specific_weight(const T &amp;obj) const</div><div class="ttdoc">This will return the weight of a specific object.</div><div class="ttdef"><b>Definition:</b> <a href="weighted__list_8h_source.html#l00135">weighted_list.h:135</a></div></div>
<div class="ttc" id="astructweighted__list_html_ad48584471ddb566c69f0fd7e45cc0f33"><div class="ttname"><a href="structweighted__list.html#ad48584471ddb566c69f0fd7e45cc0f33">weighted_list::add_or_replace</a></div><div class="ttdeci">T * add_or_replace(const T &amp;obj, const W &amp;weight)</div><div class="ttdoc">This will check to see if the given object is already in the weighted list.</div><div class="ttdef"><b>Definition:</b> <a href="weighted__list_8h_source.html#l00051">weighted_list.h:51</a></div></div>
<div class="ttc" id="atimed__event_8h_html"><div class="ttname"><a href="timed__event_8h.html">timed_event.h</a></div></div>
<div class="ttc" id="atimed__event_8h_html_ad10eb56251f11e9a5694491529afbcc7a454e3c286909a969a0c645a49bb3d480"><div class="ttname"><a href="timed__event_8h.html#ad10eb56251f11e9a5694491529afbcc7a454e3c286909a969a0c645a49bb3d480">TIMED_EVENT_ROOTS_DIE</a></div><div class="ttdeci">@ TIMED_EVENT_ROOTS_DIE</div><div class="ttdef"><b>Definition:</b> <a href="timed__event_8h_source.html#l00018">timed_event.h:18</a></div></div>
<div class="ttc" id="atranslations_8h_html"><div class="ttname"><a href="translations_8h.html">translations.h</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
<div class="ttc" id="atype__id_8h_html"><div class="ttname"><a href="type__id_8h.html">type_id.h</a></div></div>
<div class="ttc" id="atype__id_8h_html_a15c813836397fb5a5747fa15b5c82d84"><div class="ttname"><a href="type__id_8h.html#a15c813836397fb5a5747fa15b5c82d84">matec_id</a></div><div class="ttdeci">string_id&lt; ma_technique &gt; matec_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00082">type_id.h:82</a></div></div>
<div class="ttc" id="atype__id_8h_html_ab297382ed4c098c03ee2b8d70cd8e483"><div class="ttname"><a href="type__id_8h.html#ab297382ed4c098c03ee2b8d70cd8e483">item_group_id</a></div><div class="ttdeci">string_id&lt; Item_group &gt; item_group_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00070">type_id.h:70</a></div></div>
<div class="ttc" id="atype__id_8h_html_ac2f82f863d4e9e8f267a77a73910ebbf"><div class="ttname"><a href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a></div><div class="ttdeci">string_id&lt; itype &gt; itype_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00073">type_id.h:73</a></div></div>
<div class="ttc" id="aunits_8h_html"><div class="ttname"><a href="units_8h.html">units.h</a></div></div>
<div class="ttc" id="avalue__ptr_8h_html"><div class="ttname"><a href="value__ptr_8h.html">value_ptr.h</a></div></div>
<div class="ttc" id="aweighted__list_8h_html"><div class="ttname"><a href="weighted__list_8h.html">weighted_list.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="mondeath_8cpp.html">mondeath.cpp</a></li>
    <li class="footer">Generated on Thu Sep 29 2022 13:52:22 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
