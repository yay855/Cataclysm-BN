<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: src/npctalk.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('npctalk_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">npctalk.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="dialogue_8h_source.html">dialogue.h</a>&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;array&gt;</code><br />
<code>#include &lt;cmath&gt;</code><br />
<code>#include &lt;cstddef&gt;</code><br />
<code>#include &lt;iterator&gt;</code><br />
<code>#include &lt;list&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;ostream&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;unordered_map&gt;</code><br />
<code>#include &lt;unordered_set&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;<a class="el" href="activity__type_8h_source.html">activity_type.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="auto__pickup_8h_source.html">auto_pickup.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="avatar_8h_source.html">avatar.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bodypart_8h_source.html">bodypart.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="calendar_8h_source.html">calendar.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cata__utility_8h_source.html">cata_utility.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="character_8h_source.html">character.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="character__functions_8h_source.html">character_functions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="character__id_8h_source.html">character_id.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="clzones_8h_source.html">clzones.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="color_8h_source.html">color.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="condition_8h_source.html">condition.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debug_8h_source.html">debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="enums_8h_source.html">enums.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="faction_8h_source.html">faction.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="faction__camp_8h_source.html">faction_camp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="game_8h_source.html">game.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="game__constants_8h_source.html">game_constants.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="game__inventory_8h_source.html">game_inventory.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="help_8h_source.html">help.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="input_8h_source.html">input.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item_8h_source.html">item.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item__category_8h_source.html">item_category.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item__contents_8h_source.html">item_contents.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item__location_8h_source.html">item_location.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="itype_8h_source.html">itype.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="json_8h_source.html">json.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="line_8h_source.html">line.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="magic_8h_source.html">magic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="map_8h_source.html">map.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mapgen__functions_8h_source.html">mapgen_functions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="martialarts_8h_source.html">martialarts.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="messages_8h_source.html">messages.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mission_8h_source.html">mission.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mission__companion_8h_source.html">mission_companion.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="monster_8h_source.html">monster.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mtype_8h_source.html">mtype.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="npc_8h_source.html">npc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="npc__class_8h_source.html">npc_class.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="npctalk_8h_source.html">npctalk.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="npctrade_8h_source.html">npctrade.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="output_8h_source.html">output.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pimpl_8h_source.html">pimpl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="player_8h_source.html">player.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="player__activity_8h_source.html">player_activity.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="point_8h_source.html">point.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="recipe_8h_source.html">recipe.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ret__val_8h_source.html">ret_val.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rng_8h_source.html">rng.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="skill_8h_source.html">skill.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sounds_8h_source.html">sounds.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="string__formatter_8h_source.html">string_formatter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="string__id_8h_source.html">string_id.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="string__input__popup_8h_source.html">string_input_popup.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="string__utils_8h_source.html">string_utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="text__snippets_8h_source.html">text_snippets.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="translations_8h_source.html">translations.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ui_8h_source.html">ui.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ui__manager_8h_source.html">ui_manager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="units_8h_source.html">units.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="units__utility_8h_source.html">units_utility.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="value__ptr_8h_source.html">value_ptr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="veh__type_8h_source.html">veh_type.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vehicle_8h_source.html">vehicle.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vpart__position_8h_source.html">vpart_position.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vpart__range_8h_source.html">vpart_range.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="effect_8h_source.html">effect.h</a>&quot;</code><br />
</div>
<p><a href="npctalk_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3bfe374d17a62d8610a3eb51152de432"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a3bfe374d17a62d8610a3eb51152de432">OWED_VAL</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a3bfe374d17a62d8610a3eb51152de432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aade5ead77b80032af2a15aaa43c7ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a0aade5ead77b80032af2a15aaa43c7ab">WRAP</a>(value)&#160;&#160;&#160;{ #value, TALK_TRIAL_##value }</td></tr>
<tr class="separator:a0aade5ead77b80032af2a15aaa43c7ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a216ef356549a9f10fed4f2df4d4d5a8a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a216ef356549a9f10fed4f2df4d4d5a8a">WRAP</a>(function)&#160;&#160;&#160;{ #function, &amp;talk_function::function }</td></tr>
<tr class="separator:a216ef356549a9f10fed4f2df4d4d5a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ad2ae1bb0e28baed485b629d6e87a58c5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5">npc_chat_menu</a> { <br />
&#160;&#160;<a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a3321383180f1c10d13b3f669ea745911">NPC_CHAT_DONE</a>
, <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5acbdd5775d8a25e3b1b04b46617981164">NPC_CHAT_TALK</a>
, <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a5b57d66fb23519dbb0fe09bb16af8d71">NPC_CHAT_YELL</a>
, <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aa41dbe6194e35f0c7b8f3d71b5befb2a">NPC_CHAT_SENTENCE</a>
, <br />
&#160;&#160;<a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a90dfeb2fc4f4656f62fdd00cd7ea5b31">NPC_CHAT_GUARD</a>
, <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a8aac81bf281fbaa1af2f9ae5cbcf7f54">NPC_CHAT_FOLLOW</a>
, <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ac4d58a9f084ab657cb4817f4f494e56f">NPC_CHAT_AWAKE</a>
, <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a224cd4a12b403f0e3d141cb5c5f8ce5b">NPC_CHAT_MOUNT</a>
, <br />
&#160;&#160;<a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a9b51877bb0185865f5643ae8b4859c62">NPC_CHAT_DISMOUNT</a>
, <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aac45ddc984e888925fd24e64fddd1fef">NPC_CHAT_DANGER</a>
, <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aa3fdf4ff55c1b3a479ce38717c338be7">NPC_CHAT_ORDERS</a>
, <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ab0f976be572157292fe31c13fd05b18d">NPC_CHAT_NO_GUNS</a>
, <br />
&#160;&#160;<a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a80d3f005dba6e3ea44d1a112fb8d4391">NPC_CHAT_PULP</a>
, <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ac5178e864a93db225cf597d24de8bee4">NPC_CHAT_FOLLOW_CLOSE</a>
, <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a6e4a56e42c108e817727787465a86bdf">NPC_CHAT_MOVE_FREELY</a>
, <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a1fffea620308dbbea0a5cc2096331154">NPC_CHAT_SLEEP</a>
, <br />
&#160;&#160;<a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ad9fc6aa627f1db95b55b7db6ef9ada52">NPC_CHAT_FORBID_ENGAGE</a>
, <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aabd4bc495593153c9a2b8e69667b795e">NPC_CHAT_CLEAR_OVERRIDES</a>
, <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a9bc08b523859b4b09ba05de0283f9dd5">NPC_CHAT_ANIMAL_VEHICLE_FOLLOW</a>
, <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ac8dd3340c4ebb6291e4d1c81c8d5b716">NPC_CHAT_ANIMAL_VEHICLE_STOP_FOLLOW</a>
, <br />
&#160;&#160;<a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aeb0c45f37c92e8b91ff83c71a4c4d6fa">NPC_CHAT_COMMAND_MAGIC_VEHICLE_FOLLOW</a>
, <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a4786f6e3f299adb4a50f6b8a3e9dacf9">NPC_CHAT_COMMAND_MAGIC_VEHICLE_STOP_FOLLOW</a>
<br />
 }</td></tr>
<tr class="separator:ad2ae1bb0e28baed485b629d6e87a58c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f95547ff1e189b2415a84baf46b4e3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3">consumption_result</a> { <a class="el" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a> = 0
, <a class="el" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3ab95146e41f7ce3bfe66e1b4a3fe6a0cc">CONSUMED_SOME</a>
, <a class="el" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a00e4f17208f1f75aed1e648cbe531c9d">CONSUMED_ALL</a>
 }</td></tr>
<tr class="separator:a68f95547ff1e189b2415a84baf46b4e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab279ae5583cda7dcb715aec4a4eb0d0b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#ab279ae5583cda7dcb715aec4a4eb0d0b">topic_category</a> (const <a class="el" href="structtalk__topic.html">talk_topic</a> &amp;the_topic)</td></tr>
<tr class="separator:ab279ae5583cda7dcb715aec4a4eb0d0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9569ca0395819dfdc2713c5f42a21b0a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structtalk__topic.html">talk_topic</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a9569ca0395819dfdc2713c5f42a21b0a">special_talk</a> (char ch)</td></tr>
<tr class="separator:a9569ca0395819dfdc2713c5f42a21b0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23161fc3c4b558ad94240f7abace322c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a23161fc3c4b558ad94240f7abace322c">give_item_to</a> (<a class="el" href="classnpc.html">npc</a> &amp;p, bool allow_use)</td></tr>
<tr class="separator:a23161fc3c4b558ad94240f7abace322c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44d76663c4cf964a010f6de6fa179039"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a44d76663c4cf964a010f6de6fa179039">calc_skill_training_time</a> (const <a class="el" href="classnpc.html">npc</a> &amp;p, const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;skill)</td></tr>
<tr class="memdesc:a44d76663c4cf964a010f6de6fa179039"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time (in turns) and cost (in cent) for training:  <a href="npctalk_8cpp.html#a44d76663c4cf964a010f6de6fa179039">More...</a><br /></td></tr>
<tr class="separator:a44d76663c4cf964a010f6de6fa179039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2966416eb6cf3b8160c5126d417e16c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a2966416eb6cf3b8160c5126d417e16c7">calc_skill_training_cost</a> (const <a class="el" href="classnpc.html">npc</a> &amp;p, const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;skill)</td></tr>
<tr class="separator:a2966416eb6cf3b8160c5126d417e16c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af853ebec769f910cd7ce1ede9c9d0767"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtime__duration.html">time_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#af853ebec769f910cd7ce1ede9c9d0767">calc_ma_style_training_time</a> (const <a class="el" href="classnpc.html">npc</a> &amp;, const <a class="el" href="type__id_8h.html#ad6390cfa5598a169e10ca7ae1a3f6aaf">matype_id</a> &amp;)</td></tr>
<tr class="separator:af853ebec769f910cd7ce1ede9c9d0767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a253eef43f5a0e533f2c549099ab011b2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a253eef43f5a0e533f2c549099ab011b2">calc_ma_style_training_cost</a> (const <a class="el" href="classnpc.html">npc</a> &amp;p, const <a class="el" href="type__id_8h.html#ad6390cfa5598a169e10ca7ae1a3f6aaf">matype_id</a> &amp;)</td></tr>
<tr class="separator:a253eef43f5a0e533f2c549099ab011b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e165262e06e1a05da08251a1a9eb815"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a5e165262e06e1a05da08251a1a9eb815">npc_select_menu</a> (const std::vector&lt; <a class="el" href="classnpc.html">npc</a> * &gt; &amp;npc_list, const std::string &amp;prompt, const bool everyone=true)</td></tr>
<tr class="separator:a5e165262e06e1a05da08251a1a9eb815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97aaebc670a798e23153fc4b83e65554"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a97aaebc670a798e23153fc4b83e65554">npc_batch_override_toggle</a> (const std::vector&lt; <a class="el" href="classnpc.html">npc</a> * &gt; &amp;npc_list, <a class="el" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813">ally_rule</a> rule, bool state)</td></tr>
<tr class="separator:a97aaebc670a798e23153fc4b83e65554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ceccb34e46b6e91c53f09905db79c8c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a8ceccb34e46b6e91c53f09905db79c8c">npc_temp_orders_menu</a> (const std::vector&lt; <a class="el" href="classnpc.html">npc</a> * &gt; &amp;npc_list)</td></tr>
<tr class="separator:a8ceccb34e46b6e91c53f09905db79c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f1f6ddf3cda4ecddb58f07d3dce2269"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a7f1f6ddf3cda4ecddb58f07d3dce2269">tell_veh_stop_following</a> ()</td></tr>
<tr class="separator:a7f1f6ddf3cda4ecddb58f07d3dce2269"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82c148d890ee0e5c686f01da6bbdc1e0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a82c148d890ee0e5c686f01da6bbdc1e0">assign_veh_to_follow</a> ()</td></tr>
<tr class="separator:a82c148d890ee0e5c686f01da6bbdc1e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0b91d3950ef7dfa56a807f80a5fa488"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#af0b91d3950ef7dfa56a807f80a5fa488">tell_magic_veh_to_follow</a> ()</td></tr>
<tr class="separator:af0b91d3950ef7dfa56a807f80a5fa488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72ba8976292b14b295ec50d7b740bf86"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a72ba8976292b14b295ec50d7b740bf86">tell_magic_veh_stop_following</a> ()</td></tr>
<tr class="separator:a72ba8976292b14b295ec50d7b740bf86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05e853e2a3a944f51b0fcdb39df6f083"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a05e853e2a3a944f51b0fcdb39df6f083">parse_mod</a> (const <a class="el" href="structdialogue.html">dialogue</a> &amp;d, const std::string &amp;attribute, const int factor)</td></tr>
<tr class="separator:a05e853e2a3a944f51b0fcdb39df6f083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13dcf795383c76a06112b906efacac43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a13dcf795383c76a06112b906efacac43">parse_tags</a> (std::string &amp;phrase, const <a class="el" href="classCharacter.html">Character</a> &amp;u, const <a class="el" href="classCharacter.html">Character</a> &amp;me, const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;item_type)</td></tr>
<tr class="separator:a13dcf795383c76a06112b906efacac43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f704a0ced65b599b3766eee3131ea4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structtalk__topic.html">talk_topic</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a52f704a0ced65b599b3766eee3131ea4">load_inline_topic</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jo)</td></tr>
<tr class="separator:a52f704a0ced65b599b3766eee3131ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb7e8f127664bce2d1fbc244a979049b"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#acb7e8f127664bce2d1fbc244a979049b">translate_gendered_line</a> (const std::string &amp;<a class="el" href="mapgen_8h.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a>, const std::vector&lt; std::string &gt; &amp;relevant_genders, const <a class="el" href="structdialogue.html">dialogue</a> &amp;d)</td></tr>
<tr class="separator:acb7e8f127664bce2d1fbc244a979049b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae482c06259a0a624d6c85e7ba79e07c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#ae482c06259a0a624d6c85e7ba79e07c4">unload_talk_topics</a> ()</td></tr>
<tr class="separator:ae482c06259a0a624d6c85e7ba79e07c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80d02798bc4f6a4f04cc30e137798659"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a80d02798bc4f6a4f04cc30e137798659">load_talk_topic</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jo)</td></tr>
<tr class="separator:a80d02798bc4f6a4f04cc30e137798659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63b385e0852ca7e6a569bdfdc0739fbf"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3">consumption_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a63b385e0852ca7e6a569bdfdc0739fbf">try_consume</a> (<a class="el" href="classnpc.html">npc</a> &amp;p, <a class="el" href="classitem.html">item</a> &amp;it, std::string &amp;reason)</td></tr>
<tr class="separator:a63b385e0852ca7e6a569bdfdc0739fbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a174a89b209d072bbf97b9495c71feee6"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a174a89b209d072bbf97b9495c71feee6">ACT_AIM</a> (&quot;ACT_AIM&quot;)</td></tr>
<tr class="separator:a174a89b209d072bbf97b9495c71feee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63fb239549e1986b27063170a11aa57a"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a63fb239549e1986b27063170a11aa57a">ACT_SOCIALIZE</a> (&quot;ACT_SOCIALIZE&quot;)</td></tr>
<tr class="separator:a63fb239549e1986b27063170a11aa57a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adae7b5637b7de5925762730601b77ffd"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#adae7b5637b7de5925762730601b77ffd">ACT_TRAIN</a> (&quot;ACT_TRAIN&quot;)</td></tr>
<tr class="separator:adae7b5637b7de5925762730601b77ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd0caff20a5631b310aa595daf40ea3"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#adfd0caff20a5631b310aa595daf40ea3">ACT_WAIT_NPC</a> (&quot;ACT_WAIT_NPC&quot;)</td></tr>
<tr class="separator:adfd0caff20a5631b310aa595daf40ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac95fd54d69ea350ea463a719fa7f3550"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#ac95fd54d69ea350ea463a719fa7f3550">effect_lying_down</a> (&quot;lying_down&quot;)</td></tr>
<tr class="separator:ac95fd54d69ea350ea463a719fa7f3550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a6476e8888f0929f469fd9af2d629bc"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a1a6476e8888f0929f469fd9af2d629bc">effect_narcosis</a> (&quot;narcosis&quot;)</td></tr>
<tr class="separator:a1a6476e8888f0929f469fd9af2d629bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74abddcaf98d4f59d99c051a421bee67"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a74abddcaf98d4f59d99c051a421bee67">effect_npc_suspend</a> (&quot;npc_suspend&quot;)</td></tr>
<tr class="separator:a74abddcaf98d4f59d99c051a421bee67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79654cfc6f07462199ec3f5da9e49c83"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a79654cfc6f07462199ec3f5da9e49c83">effect_pacified</a> (&quot;pacified&quot;)</td></tr>
<tr class="separator:a79654cfc6f07462199ec3f5da9e49c83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02a4844a7fb68c13a34dc40b0a9e94d8"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a02a4844a7fb68c13a34dc40b0a9e94d8">effect_pet</a> (&quot;pet&quot;)</td></tr>
<tr class="separator:a02a4844a7fb68c13a34dc40b0a9e94d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a50e3fbf57e70bfac50331092ff8ad1"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a0a50e3fbf57e70bfac50331092ff8ad1">effect_riding</a> (&quot;riding&quot;)</td></tr>
<tr class="separator:a0a50e3fbf57e70bfac50331092ff8ad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab16f8be4be2050986e76d2cb0cff7609"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a> (&quot;sleep&quot;)</td></tr>
<tr class="separator:ab16f8be4be2050986e76d2cb0cff7609"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02ed1ef06d6f12fde82b64232c55a749"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a02ed1ef06d6f12fde82b64232c55a749">effect_under_op</a> (&quot;under_operation&quot;)</td></tr>
<tr class="separator:a02ed1ef06d6f12fde82b64232c55a749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a944ba9be1d911a61e9ca62af989355fd"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a944ba9be1d911a61e9ca62af989355fd">fuel_type_animal</a> (&quot;animal&quot;)</td></tr>
<tr class="separator:a944ba9be1d911a61e9ca62af989355fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a876c053c897d3594c41f3c09babc964e"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4ec2337d992ab8b0115c2bd7ff30902a">zone_type_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a876c053c897d3594c41f3c09babc964e">zone_type_npc_investigate_only</a> (&quot;NPC_INVESTIGATE_ONLY&quot;)</td></tr>
<tr class="separator:a876c053c897d3594c41f3c09babc964e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c3800203c21654742cdb755677176b0"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a4ec2337d992ab8b0115c2bd7ff30902a">zone_type_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a0c3800203c21654742cdb755677176b0">zone_type_npc_no_investigate</a> (&quot;NPC_NO_INVESTIGATE&quot;)</td></tr>
<tr class="separator:a0c3800203c21654742cdb755677176b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add6bff65f422cff2a7ede6c7b904d982"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#add6bff65f422cff2a7ede6c7b904d982">skill_speech</a> (&quot;speech&quot;)</td></tr>
<tr class="separator:add6bff65f422cff2a7ede6c7b904d982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60156c3be7e9ad975f66d84becc7a6e1"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a60156c3be7e9ad975f66d84becc7a6e1">bio_armor_eyes</a> (&quot;bio_armor_eyes&quot;)</td></tr>
<tr class="separator:a60156c3be7e9ad975f66d84becc7a6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ce5c55101a5bf44ac5ad0a4606bc787"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a9ce5c55101a5bf44ac5ad0a4606bc787">bio_deformity</a> (&quot;bio_deformity&quot;)</td></tr>
<tr class="separator:a9ce5c55101a5bf44ac5ad0a4606bc787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87d40dfaf83b2333d9b4bb5519b47290"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a87d40dfaf83b2333d9b4bb5519b47290">bio_face_mask</a> (&quot;bio_face_mask&quot;)</td></tr>
<tr class="separator:a87d40dfaf83b2333d9b4bb5519b47290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ba574c2d134f64bc7118bcd7634c931"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a1ba574c2d134f64bc7118bcd7634c931">bio_voice</a> (&quot;bio_voice&quot;)</td></tr>
<tr class="separator:a1ba574c2d134f64bc7118bcd7634c931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37a1fab8c4f17e009841e255f68b5733"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a37a1fab8c4f17e009841e255f68b5733">trait_DEBUG_MIND_CONTROL</a> (&quot;DEBUG_MIND_CONTROL&quot;)</td></tr>
<tr class="separator:a37a1fab8c4f17e009841e255f68b5733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eb0d980d9e60655982ce0b931f4fb57"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a1eb0d980d9e60655982ce0b931f4fb57">trait_PROF_FOODP</a> (&quot;PROF_FOODP&quot;)</td></tr>
<tr class="separator:a1eb0d980d9e60655982ce0b931f4fb57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d58f009a148e9132fad232a12f96306"><td class="memItemLeft" align="right" valign="top">static std::map&lt; std::string, <a class="el" href="classjson__talk__topic.html">json_talk_topic</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="npctalk_8cpp.html#a9d58f009a148e9132fad232a12f96306">json_talk_topics</a></td></tr>
<tr class="separator:a9d58f009a148e9132fad232a12f96306"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a3bfe374d17a62d8610a3eb51152de432" name="a3bfe374d17a62d8610a3eb51152de432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bfe374d17a62d8610a3eb51152de432">&#9670;&nbsp;</a></span>OWED_VAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OWED_VAL&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l00116">116</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>

</div>
</div>
<a id="a216ef356549a9f10fed4f2df4d4d5a8a" name="a216ef356549a9f10fed4f2df4d4d5a8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a216ef356549a9f10fed4f2df4d4d5a8a">&#9670;&nbsp;</a></span>WRAP <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRAP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">function</td><td>)</td>
          <td>&#160;&#160;&#160;{ #function, &amp;talk_function::function }</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0aade5ead77b80032af2a15aaa43c7ab" name="a0aade5ead77b80032af2a15aaa43c7ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aade5ead77b80032af2a15aaa43c7ab">&#9670;&nbsp;</a></span>WRAP <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRAP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">value</td><td>)</td>
          <td>&#160;&#160;&#160;{ #value, TALK_TRIAL_##value }</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a68f95547ff1e189b2415a84baf46b4e3" name="a68f95547ff1e189b2415a84baf46b4e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f95547ff1e189b2415a84baf46b4e3">&#9670;&nbsp;</a></span>consumption_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3">consumption_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724" name="a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724"></a>REFUSED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a68f95547ff1e189b2415a84baf46b4e3ab95146e41f7ce3bfe66e1b4a3fe6a0cc" name="a68f95547ff1e189b2415a84baf46b4e3ab95146e41f7ce3bfe66e1b4a3fe6a0cc"></a>CONSUMED_SOME&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a68f95547ff1e189b2415a84baf46b4e3a00e4f17208f1f75aed1e648cbe531c9d" name="a68f95547ff1e189b2415a84baf46b4e3a00e4f17208f1f75aed1e648cbe531c9d"></a>CONSUMED_ALL&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l03259">3259</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03259" name="l03259"></a><span class="lineno"> 3259</span>                        {</div>
<div class="line"><a id="l03260" name="l03260"></a><span class="lineno"> 3260</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a> = 0,</div>
<div class="line"><a id="l03261" name="l03261"></a><span class="lineno"> 3261</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3ab95146e41f7ce3bfe66e1b4a3fe6a0cc">CONSUMED_SOME</a>, <span class="comment">// Consumption didn&#39;t fail, but don&#39;t delete the item</span></div>
<div class="line"><a id="l03262" name="l03262"></a><span class="lineno"> 3262</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a00e4f17208f1f75aed1e648cbe531c9d">CONSUMED_ALL</a>   <span class="comment">// Consumption succeeded, delete the item</span></div>
<div class="line"><a id="l03263" name="l03263"></a><span class="lineno"> 3263</span>};</div>
<div class="ttc" id="anpctalk_8cpp_html_a68f95547ff1e189b2415a84baf46b4e3a00e4f17208f1f75aed1e648cbe531c9d"><div class="ttname"><a href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a00e4f17208f1f75aed1e648cbe531c9d">CONSUMED_ALL</a></div><div class="ttdeci">@ CONSUMED_ALL</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l03263">npctalk.cpp:3262</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724"><div class="ttname"><a href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a></div><div class="ttdeci">@ REFUSED</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l03260">npctalk.cpp:3260</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a68f95547ff1e189b2415a84baf46b4e3ab95146e41f7ce3bfe66e1b4a3fe6a0cc"><div class="ttname"><a href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3ab95146e41f7ce3bfe66e1b4a3fe6a0cc">CONSUMED_SOME</a></div><div class="ttdeci">@ CONSUMED_SOME</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l03261">npctalk.cpp:3261</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2ae1bb0e28baed485b629d6e87a58c5" name="ad2ae1bb0e28baed485b629d6e87a58c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2ae1bb0e28baed485b629d6e87a58c5">&#9670;&nbsp;</a></span>npc_chat_menu</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5">npc_chat_menu</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5a3321383180f1c10d13b3f669ea745911" name="ad2ae1bb0e28baed485b629d6e87a58c5a3321383180f1c10d13b3f669ea745911"></a>NPC_CHAT_DONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5acbdd5775d8a25e3b1b04b46617981164" name="ad2ae1bb0e28baed485b629d6e87a58c5acbdd5775d8a25e3b1b04b46617981164"></a>NPC_CHAT_TALK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5a5b57d66fb23519dbb0fe09bb16af8d71" name="ad2ae1bb0e28baed485b629d6e87a58c5a5b57d66fb23519dbb0fe09bb16af8d71"></a>NPC_CHAT_YELL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5aa41dbe6194e35f0c7b8f3d71b5befb2a" name="ad2ae1bb0e28baed485b629d6e87a58c5aa41dbe6194e35f0c7b8f3d71b5befb2a"></a>NPC_CHAT_SENTENCE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5a90dfeb2fc4f4656f62fdd00cd7ea5b31" name="ad2ae1bb0e28baed485b629d6e87a58c5a90dfeb2fc4f4656f62fdd00cd7ea5b31"></a>NPC_CHAT_GUARD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5a8aac81bf281fbaa1af2f9ae5cbcf7f54" name="ad2ae1bb0e28baed485b629d6e87a58c5a8aac81bf281fbaa1af2f9ae5cbcf7f54"></a>NPC_CHAT_FOLLOW&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5ac4d58a9f084ab657cb4817f4f494e56f" name="ad2ae1bb0e28baed485b629d6e87a58c5ac4d58a9f084ab657cb4817f4f494e56f"></a>NPC_CHAT_AWAKE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5a224cd4a12b403f0e3d141cb5c5f8ce5b" name="ad2ae1bb0e28baed485b629d6e87a58c5a224cd4a12b403f0e3d141cb5c5f8ce5b"></a>NPC_CHAT_MOUNT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5a9b51877bb0185865f5643ae8b4859c62" name="ad2ae1bb0e28baed485b629d6e87a58c5a9b51877bb0185865f5643ae8b4859c62"></a>NPC_CHAT_DISMOUNT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5aac45ddc984e888925fd24e64fddd1fef" name="ad2ae1bb0e28baed485b629d6e87a58c5aac45ddc984e888925fd24e64fddd1fef"></a>NPC_CHAT_DANGER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5aa3fdf4ff55c1b3a479ce38717c338be7" name="ad2ae1bb0e28baed485b629d6e87a58c5aa3fdf4ff55c1b3a479ce38717c338be7"></a>NPC_CHAT_ORDERS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5ab0f976be572157292fe31c13fd05b18d" name="ad2ae1bb0e28baed485b629d6e87a58c5ab0f976be572157292fe31c13fd05b18d"></a>NPC_CHAT_NO_GUNS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5a80d3f005dba6e3ea44d1a112fb8d4391" name="ad2ae1bb0e28baed485b629d6e87a58c5a80d3f005dba6e3ea44d1a112fb8d4391"></a>NPC_CHAT_PULP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5ac5178e864a93db225cf597d24de8bee4" name="ad2ae1bb0e28baed485b629d6e87a58c5ac5178e864a93db225cf597d24de8bee4"></a>NPC_CHAT_FOLLOW_CLOSE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5a6e4a56e42c108e817727787465a86bdf" name="ad2ae1bb0e28baed485b629d6e87a58c5a6e4a56e42c108e817727787465a86bdf"></a>NPC_CHAT_MOVE_FREELY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5a1fffea620308dbbea0a5cc2096331154" name="ad2ae1bb0e28baed485b629d6e87a58c5a1fffea620308dbbea0a5cc2096331154"></a>NPC_CHAT_SLEEP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5ad9fc6aa627f1db95b55b7db6ef9ada52" name="ad2ae1bb0e28baed485b629d6e87a58c5ad9fc6aa627f1db95b55b7db6ef9ada52"></a>NPC_CHAT_FORBID_ENGAGE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5aabd4bc495593153c9a2b8e69667b795e" name="ad2ae1bb0e28baed485b629d6e87a58c5aabd4bc495593153c9a2b8e69667b795e"></a>NPC_CHAT_CLEAR_OVERRIDES&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5a9bc08b523859b4b09ba05de0283f9dd5" name="ad2ae1bb0e28baed485b629d6e87a58c5a9bc08b523859b4b09ba05de0283f9dd5"></a>NPC_CHAT_ANIMAL_VEHICLE_FOLLOW&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5ac8dd3340c4ebb6291e4d1c81c8d5b716" name="ad2ae1bb0e28baed485b629d6e87a58c5ac8dd3340c4ebb6291e4d1c81c8d5b716"></a>NPC_CHAT_ANIMAL_VEHICLE_STOP_FOLLOW&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5aeb0c45f37c92e8b91ff83c71a4c4d6fa" name="ad2ae1bb0e28baed485b629d6e87a58c5aeb0c45f37c92e8b91ff83c71a4c4d6fa"></a>NPC_CHAT_COMMAND_MAGIC_VEHICLE_FOLLOW&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ad2ae1bb0e28baed485b629d6e87a58c5a4786f6e3f299adb4a50f6b8a3e9dacf9" name="ad2ae1bb0e28baed485b629d6e87a58c5a4786f6e3f299adb4a50f6b8a3e9dacf9"></a>NPC_CHAT_COMMAND_MAGIC_VEHICLE_STOP_FOLLOW&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l00192">192</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>                   {</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a3321383180f1c10d13b3f669ea745911">NPC_CHAT_DONE</a>,</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5acbdd5775d8a25e3b1b04b46617981164">NPC_CHAT_TALK</a>,</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a5b57d66fb23519dbb0fe09bb16af8d71">NPC_CHAT_YELL</a>,</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aa41dbe6194e35f0c7b8f3d71b5befb2a">NPC_CHAT_SENTENCE</a>,</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a90dfeb2fc4f4656f62fdd00cd7ea5b31">NPC_CHAT_GUARD</a>,</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a8aac81bf281fbaa1af2f9ae5cbcf7f54">NPC_CHAT_FOLLOW</a>,</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ac4d58a9f084ab657cb4817f4f494e56f">NPC_CHAT_AWAKE</a>,</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a224cd4a12b403f0e3d141cb5c5f8ce5b">NPC_CHAT_MOUNT</a>,</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a9b51877bb0185865f5643ae8b4859c62">NPC_CHAT_DISMOUNT</a>,</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aac45ddc984e888925fd24e64fddd1fef">NPC_CHAT_DANGER</a>,</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aa3fdf4ff55c1b3a479ce38717c338be7">NPC_CHAT_ORDERS</a>,</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ab0f976be572157292fe31c13fd05b18d">NPC_CHAT_NO_GUNS</a>,</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a80d3f005dba6e3ea44d1a112fb8d4391">NPC_CHAT_PULP</a>,</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ac5178e864a93db225cf597d24de8bee4">NPC_CHAT_FOLLOW_CLOSE</a>,</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a6e4a56e42c108e817727787465a86bdf">NPC_CHAT_MOVE_FREELY</a>,</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a1fffea620308dbbea0a5cc2096331154">NPC_CHAT_SLEEP</a>,</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ad9fc6aa627f1db95b55b7db6ef9ada52">NPC_CHAT_FORBID_ENGAGE</a>,</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aabd4bc495593153c9a2b8e69667b795e">NPC_CHAT_CLEAR_OVERRIDES</a>,</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a9bc08b523859b4b09ba05de0283f9dd5">NPC_CHAT_ANIMAL_VEHICLE_FOLLOW</a>,</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ac8dd3340c4ebb6291e4d1c81c8d5b716">NPC_CHAT_ANIMAL_VEHICLE_STOP_FOLLOW</a>,</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aeb0c45f37c92e8b91ff83c71a4c4d6fa">NPC_CHAT_COMMAND_MAGIC_VEHICLE_FOLLOW</a>,</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a4786f6e3f299adb4a50f6b8a3e9dacf9">NPC_CHAT_COMMAND_MAGIC_VEHICLE_STOP_FOLLOW</a></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>};</div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5a1fffea620308dbbea0a5cc2096331154"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a1fffea620308dbbea0a5cc2096331154">NPC_CHAT_SLEEP</a></div><div class="ttdeci">@ NPC_CHAT_SLEEP</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00208">npctalk.cpp:208</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5a224cd4a12b403f0e3d141cb5c5f8ce5b"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a224cd4a12b403f0e3d141cb5c5f8ce5b">NPC_CHAT_MOUNT</a></div><div class="ttdeci">@ NPC_CHAT_MOUNT</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00200">npctalk.cpp:200</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5a3321383180f1c10d13b3f669ea745911"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a3321383180f1c10d13b3f669ea745911">NPC_CHAT_DONE</a></div><div class="ttdeci">@ NPC_CHAT_DONE</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00193">npctalk.cpp:193</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5a4786f6e3f299adb4a50f6b8a3e9dacf9"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a4786f6e3f299adb4a50f6b8a3e9dacf9">NPC_CHAT_COMMAND_MAGIC_VEHICLE_STOP_FOLLOW</a></div><div class="ttdeci">@ NPC_CHAT_COMMAND_MAGIC_VEHICLE_STOP_FOLLOW</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00215">npctalk.cpp:214</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5a5b57d66fb23519dbb0fe09bb16af8d71"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a5b57d66fb23519dbb0fe09bb16af8d71">NPC_CHAT_YELL</a></div><div class="ttdeci">@ NPC_CHAT_YELL</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00195">npctalk.cpp:195</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5a6e4a56e42c108e817727787465a86bdf"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a6e4a56e42c108e817727787465a86bdf">NPC_CHAT_MOVE_FREELY</a></div><div class="ttdeci">@ NPC_CHAT_MOVE_FREELY</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00207">npctalk.cpp:207</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5a80d3f005dba6e3ea44d1a112fb8d4391"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a80d3f005dba6e3ea44d1a112fb8d4391">NPC_CHAT_PULP</a></div><div class="ttdeci">@ NPC_CHAT_PULP</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00205">npctalk.cpp:205</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5a8aac81bf281fbaa1af2f9ae5cbcf7f54"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a8aac81bf281fbaa1af2f9ae5cbcf7f54">NPC_CHAT_FOLLOW</a></div><div class="ttdeci">@ NPC_CHAT_FOLLOW</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00198">npctalk.cpp:198</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5a90dfeb2fc4f4656f62fdd00cd7ea5b31"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a90dfeb2fc4f4656f62fdd00cd7ea5b31">NPC_CHAT_GUARD</a></div><div class="ttdeci">@ NPC_CHAT_GUARD</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00197">npctalk.cpp:197</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5a9b51877bb0185865f5643ae8b4859c62"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a9b51877bb0185865f5643ae8b4859c62">NPC_CHAT_DISMOUNT</a></div><div class="ttdeci">@ NPC_CHAT_DISMOUNT</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00201">npctalk.cpp:201</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5a9bc08b523859b4b09ba05de0283f9dd5"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a9bc08b523859b4b09ba05de0283f9dd5">NPC_CHAT_ANIMAL_VEHICLE_FOLLOW</a></div><div class="ttdeci">@ NPC_CHAT_ANIMAL_VEHICLE_FOLLOW</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00211">npctalk.cpp:211</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5aa3fdf4ff55c1b3a479ce38717c338be7"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aa3fdf4ff55c1b3a479ce38717c338be7">NPC_CHAT_ORDERS</a></div><div class="ttdeci">@ NPC_CHAT_ORDERS</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00203">npctalk.cpp:203</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5aa41dbe6194e35f0c7b8f3d71b5befb2a"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aa41dbe6194e35f0c7b8f3d71b5befb2a">NPC_CHAT_SENTENCE</a></div><div class="ttdeci">@ NPC_CHAT_SENTENCE</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00196">npctalk.cpp:196</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5aabd4bc495593153c9a2b8e69667b795e"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aabd4bc495593153c9a2b8e69667b795e">NPC_CHAT_CLEAR_OVERRIDES</a></div><div class="ttdeci">@ NPC_CHAT_CLEAR_OVERRIDES</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00210">npctalk.cpp:210</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5aac45ddc984e888925fd24e64fddd1fef"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aac45ddc984e888925fd24e64fddd1fef">NPC_CHAT_DANGER</a></div><div class="ttdeci">@ NPC_CHAT_DANGER</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00202">npctalk.cpp:202</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5ab0f976be572157292fe31c13fd05b18d"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ab0f976be572157292fe31c13fd05b18d">NPC_CHAT_NO_GUNS</a></div><div class="ttdeci">@ NPC_CHAT_NO_GUNS</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00204">npctalk.cpp:204</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5ac4d58a9f084ab657cb4817f4f494e56f"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ac4d58a9f084ab657cb4817f4f494e56f">NPC_CHAT_AWAKE</a></div><div class="ttdeci">@ NPC_CHAT_AWAKE</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00199">npctalk.cpp:199</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5ac5178e864a93db225cf597d24de8bee4"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ac5178e864a93db225cf597d24de8bee4">NPC_CHAT_FOLLOW_CLOSE</a></div><div class="ttdeci">@ NPC_CHAT_FOLLOW_CLOSE</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00206">npctalk.cpp:206</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5ac8dd3340c4ebb6291e4d1c81c8d5b716"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ac8dd3340c4ebb6291e4d1c81c8d5b716">NPC_CHAT_ANIMAL_VEHICLE_STOP_FOLLOW</a></div><div class="ttdeci">@ NPC_CHAT_ANIMAL_VEHICLE_STOP_FOLLOW</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00212">npctalk.cpp:212</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5acbdd5775d8a25e3b1b04b46617981164"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5acbdd5775d8a25e3b1b04b46617981164">NPC_CHAT_TALK</a></div><div class="ttdeci">@ NPC_CHAT_TALK</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00194">npctalk.cpp:194</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5ad9fc6aa627f1db95b55b7db6ef9ada52"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ad9fc6aa627f1db95b55b7db6ef9ada52">NPC_CHAT_FORBID_ENGAGE</a></div><div class="ttdeci">@ NPC_CHAT_FORBID_ENGAGE</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00209">npctalk.cpp:209</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_ad2ae1bb0e28baed485b629d6e87a58c5aeb0c45f37c92e8b91ff83c71a4c4d6fa"><div class="ttname"><a href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aeb0c45f37c92e8b91ff83c71a4c4d6fa">NPC_CHAT_COMMAND_MAGIC_VEHICLE_FOLLOW</a></div><div class="ttdeci">@ NPC_CHAT_COMMAND_MAGIC_VEHICLE_FOLLOW</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00213">npctalk.cpp:213</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a82c148d890ee0e5c686f01da6bbdc1e0" name="a82c148d890ee0e5c686f01da6bbdc1e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82c148d890ee0e5c686f01da6bbdc1e0">&#9670;&nbsp;</a></span>assign_veh_to_follow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void assign_veh_to_follow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l00351">351</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>{</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    <span class="keywordflow">for</span>( <a class="code hl_struct" href="structwrapped__vehicle.html">wrapped_vehicle</a> &amp;veh : <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().get_vehicles() ) {</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>        <a class="code hl_class" href="classvehicle.html">vehicle</a> *v = veh.v;</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>        <span class="keywordflow">if</span>( v-&gt;<a class="code hl_function" href="classvehicle.html#a603b71f04b9fdb63f400ac93fb4bea88">has_engine_type</a>( <a class="code hl_variable" href="npctalk_8cpp.html#a944ba9be1d911a61e9ca62af989355fd">fuel_type_animal</a>, <span class="keyword">false</span> ) &amp;&amp; v-&gt;<a class="code hl_function" href="classvehicle.html#a0f2357d1540b058495b554c1b5593611">is_owned_by</a>( <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>() ) ) {</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>            v-&gt;<a class="code hl_function" href="classvehicle.html#af43257f1119ebd767a92ed574685cb60">activate_animal_follow</a>();</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        }</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    }</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>}</div>
<div class="ttc" id="aavatar_8cpp_html_a2eddae690431cd32ce7a091217d68a3a"><div class="ttname"><a href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a></div><div class="ttdeci">avatar &amp; get_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l00103">avatar.cpp:103</a></div></div>
<div class="ttc" id="aclassvehicle_html"><div class="ttname"><a href="classvehicle.html">vehicle</a></div><div class="ttdoc">A vehicle as a whole with all its components.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00674">vehicle.h:675</a></div></div>
<div class="ttc" id="aclassvehicle_html_a0f2357d1540b058495b554c1b5593611"><div class="ttname"><a href="classvehicle.html#a0f2357d1540b058495b554c1b5593611">vehicle::is_owned_by</a></div><div class="ttdeci">bool is_owned_by(const Character &amp;c, bool available_to_take=false) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l04335">vehicle.cpp:4335</a></div></div>
<div class="ttc" id="aclassvehicle_html_a603b71f04b9fdb63f400ac93fb4bea88"><div class="ttname"><a href="classvehicle.html#a603b71f04b9fdb63f400ac93fb4bea88">vehicle::has_engine_type</a></div><div class="ttdeci">bool has_engine_type(const itype_id &amp;ft, bool enabled) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l01031">vehicle.cpp:1031</a></div></div>
<div class="ttc" id="aclassvehicle_html_af43257f1119ebd767a92ed574685cb60"><div class="ttname"><a href="classvehicle.html#af43257f1119ebd767a92ed574685cb60">vehicle::activate_animal_follow</a></div><div class="ttdeci">void activate_animal_follow()</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l00683">vehicle.cpp:683</a></div></div>
<div class="ttc" id="amap_8cpp_html_acb0b34be6e497bdd2f9f40ae6929d562"><div class="ttname"><a href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00146">map.cpp:146</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a944ba9be1d911a61e9ca62af989355fd"><div class="ttname"><a href="npctalk_8cpp.html#a944ba9be1d911a61e9ca62af989355fd">fuel_type_animal</a></div><div class="ttdeci">static const itype_id fuel_type_animal(&quot;animal&quot;)</div></div>
<div class="ttc" id="astructwrapped__vehicle_html"><div class="ttname"><a href="structwrapped__vehicle.html">wrapped_vehicle</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00080">map.h:80</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vehicle_8cpp_source.html#l00683">vehicle::activate_animal_follow()</a>, <a class="el" href="npctalk_8cpp.html#a944ba9be1d911a61e9ca62af989355fd">fuel_type_animal</a>, <a class="el" href="avatar_8cpp_source.html#l00103">get_avatar()</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="vehicle_8cpp_source.html#l01031">vehicle::has_engine_type()</a>, and <a class="el" href="vehicle_8cpp_source.html#l04335">vehicle::is_owned_by()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00394">game::chat()</a>.</p>

</div>
</div>
<a id="a253eef43f5a0e533f2c549099ab011b2" name="a253eef43f5a0e533f2c549099ab011b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a253eef43f5a0e533f2c549099ab011b2">&#9670;&nbsp;</a></span>calc_ma_style_training_cost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int calc_ma_style_training_cost </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnpc.html">npc</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ad6390cfa5598a169e10ca7ae1a3f6aaf">matype_id</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l00161">161</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>{</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classnpc.html#ab762e1b5cc3053fb9b04df37714e14b7">is_player_ally</a>() ) {</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    }</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span> </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="keywordflow">return</span> 800;</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>}</div>
<div class="ttc" id="aclassnpc_html_ab762e1b5cc3053fb9b04df37714e14b7"><div class="ttname"><a href="classnpc.html#ab762e1b5cc3053fb9b04df37714e14b7">npc::is_player_ally</a></div><div class="ttdeci">bool is_player_ally() const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01987">npc.cpp:1987</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="npc_8cpp_source.html#l01987">npc::is_player_ally()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01240">dialogue::gen_responses()</a>, and <a class="el" href="npctalk__funcs_8cpp_source.html#l00902">talk_function::start_training()</a>.</p>

</div>
</div>
<a id="af853ebec769f910cd7ce1ede9c9d0767" name="af853ebec769f910cd7ce1ede9c9d0767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af853ebec769f910cd7ce1ede9c9d0767">&#9670;&nbsp;</a></span>calc_ma_style_training_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__duration.html">time_duration</a> calc_ma_style_training_time </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnpc.html">npc</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ad6390cfa5598a169e10ca7ae1a3f6aaf">matype_id</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l00156">156</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>{</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="keywordflow">return</span> 30_minutes;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="npctalk__funcs_8cpp_source.html#l00902">talk_function::start_training()</a>.</p>

</div>
</div>
<a id="a2966416eb6cf3b8160c5126d417e16c7" name="a2966416eb6cf3b8160c5126d417e16c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2966416eb6cf3b8160c5126d417e16c7">&#9670;&nbsp;</a></span>calc_skill_training_cost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int calc_skill_training_cost </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnpc.html">npc</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;&#160;</td>
          <td class="paramname"><em>skill</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l00144">144</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>{</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classnpc.html#ab762e1b5cc3053fb9b04df37714e14b7">is_player_ally</a>() ) {</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    }</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <a class="code hl_class" href="classavatar.html">avatar</a> &amp;you = <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>();</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="keywordflow">return</span> 1000 * ( 1 + you.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( skill ) ) * ( 1 + you.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( skill ) );</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>}</div>
<div class="ttc" id="aclassCharacter_html_afa95fe499ca6b55ab97f1b442a4c95c5"><div class="ttname"><a href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">Character::get_skill_level</a></div><div class="ttdeci">int get_skill_level(const skill_id &amp;ident) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03356">character.cpp:3356</a></div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00054">avatar.h:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="avatar_8cpp_source.html#l00103">get_avatar()</a>, <a class="el" href="character_8cpp_source.html#l03356">Character::get_skill_level()</a>, and <a class="el" href="npc_8cpp_source.html#l01987">npc::is_player_ally()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01240">dialogue::gen_responses()</a>, and <a class="el" href="npctalk__funcs_8cpp_source.html#l00902">talk_function::start_training()</a>.</p>

</div>
</div>
<a id="a44d76663c4cf964a010f6de6fa179039" name="a44d76663c4cf964a010f6de6fa179039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44d76663c4cf964a010f6de6fa179039">&#9670;&nbsp;</a></span>calc_skill_training_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtime__duration.html">time_duration</a> calc_skill_training_time </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classnpc.html">npc</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> &amp;&#160;</td>
          <td class="paramname"><em>skill</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Time (in turns) and cost (in cent) for training: </p>

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l00138">138</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>{</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="keywordflow">return</span> 1_minutes + 30_seconds * <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>().<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( skill ) -</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>           1_seconds * p.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( skill );</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="avatar_8cpp_source.html#l00103">get_avatar()</a>, and <a class="el" href="character_8cpp_source.html#l03356">Character::get_skill_level()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk__funcs_8cpp_source.html#l00902">talk_function::start_training()</a>.</p>

</div>
</div>
<a id="a23161fc3c4b558ad94240f7abace322c" name="a23161fc3c4b558ad94240f7abace322c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23161fc3c4b558ad94240f7abace322c">&#9670;&nbsp;</a></span>give_item_to()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string give_item_to </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnpc.html">npc</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allow_use</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l03334">3334</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03335" name="l03335"></a><span class="lineno"> 3335</span>{</div>
<div class="line"><a id="l03336" name="l03336"></a><span class="lineno"> 3336</span>    <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classnpc.html#a41b0a58a7ddf03b23766abcb760bcff0">is_hallucination</a>() ) {</div>
<div class="line"><a id="l03337" name="l03337"></a><span class="lineno"> 3337</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;No thanks, I&#39;m good.&quot;</span> );</div>
<div class="line"><a id="l03338" name="l03338"></a><span class="lineno"> 3338</span>    }</div>
<div class="line"><a id="l03339" name="l03339"></a><span class="lineno"> 3339</span>    <a class="code hl_class" href="classavatar.html">avatar</a> &amp;you = <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>();</div>
<div class="line"><a id="l03340" name="l03340"></a><span class="lineno"> 3340</span>    <a class="code hl_class" href="classitem__location.html">item_location</a> loc = <a class="code hl_function" href="namespacegame__menus_1_1inv.html#a444b5ce5e2f2fef0a2856bbb88d05162">game_menus::inv::titled_menu</a>( you, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Offer what?&quot;</span> ),</div>
<div class="line"><a id="l03341" name="l03341"></a><span class="lineno"> 3341</span>                        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You have no items to offer.&quot;</span> ) );</div>
<div class="line"><a id="l03342" name="l03342"></a><span class="lineno"> 3342</span>    <span class="keywordflow">if</span>( !loc ) {</div>
<div class="line"><a id="l03343" name="l03343"></a><span class="lineno"> 3343</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Changed your mind?&quot;</span> );</div>
<div class="line"><a id="l03344" name="l03344"></a><span class="lineno"> 3344</span>    }</div>
<div class="line"><a id="l03345" name="l03345"></a><span class="lineno"> 3345</span>    <a class="code hl_class" href="classitem.html">item</a> &amp;given = *loc;</div>
<div class="line"><a id="l03346" name="l03346"></a><span class="lineno"> 3346</span> </div>
<div class="line"><a id="l03347" name="l03347"></a><span class="lineno"> 3347</span>    <span class="keywordflow">if</span>( ( &amp;given == &amp;you.<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> &amp;&amp; given.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;NO_UNWIELD&quot;</span> ) ) || ( you.<a class="code hl_function" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a>( given ) &amp;&amp;</div>
<div class="line"><a id="l03348" name="l03348"></a><span class="lineno"> 3348</span>            given.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;NO_TAKEOFF&quot;</span> ) ) ) {</div>
<div class="line"><a id="l03349" name="l03349"></a><span class="lineno"> 3349</span>        <span class="comment">// Bionic weapon or shackles</span></div>
<div class="line"><a id="l03350" name="l03350"></a><span class="lineno"> 3350</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;How?&quot;</span> );</div>
<div class="line"><a id="l03351" name="l03351"></a><span class="lineno"> 3351</span>    }</div>
<div class="line"><a id="l03352" name="l03352"></a><span class="lineno"> 3352</span> </div>
<div class="line"><a id="l03353" name="l03353"></a><span class="lineno"> 3353</span>    <span class="keywordflow">if</span>( given.<a class="code hl_function" href="classitem.html#ad340c283789ac6bd8578a16e8343d893">is_dangerous</a>() &amp;&amp; !you.<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="npctalk_8cpp.html#a37a1fab8c4f17e009841e255f68b5733">trait_DEBUG_MIND_CONTROL</a> ) ) {</div>
<div class="line"><a id="l03354" name="l03354"></a><span class="lineno"> 3354</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Are you &lt;swear&gt; insane!?&quot;</span> );</div>
<div class="line"><a id="l03355" name="l03355"></a><span class="lineno"> 3355</span>    }</div>
<div class="line"><a id="l03356" name="l03356"></a><span class="lineno"> 3356</span> </div>
<div class="line"><a id="l03357" name="l03357"></a><span class="lineno"> 3357</span>    <span class="keywordtype">bool</span> taken = <span class="keyword">false</span>;</div>
<div class="line"><a id="l03358" name="l03358"></a><span class="lineno"> 3358</span>    std::string reason = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Nope.&quot;</span> );</div>
<div class="line"><a id="l03359" name="l03359"></a><span class="lineno"> 3359</span>    <span class="keywordtype">int</span> our_ammo = p.<a class="code hl_function" href="classCharacter.html#ab1b3b47cc1c1250e603bdbdf26936ba7">ammo_count_for</a>( p.<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> );</div>
<div class="line"><a id="l03360" name="l03360"></a><span class="lineno"> 3360</span>    <span class="keywordtype">int</span> new_ammo = p.<a class="code hl_function" href="classCharacter.html#ab1b3b47cc1c1250e603bdbdf26936ba7">ammo_count_for</a>( given );</div>
<div class="line"><a id="l03361" name="l03361"></a><span class="lineno"> 3361</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> new_weapon_value = p.<a class="code hl_function" href="classplayer.html#a8c7623c11f37f370c8675385ef15566c">weapon_value</a>( given, new_ammo );</div>
<div class="line"><a id="l03362" name="l03362"></a><span class="lineno"> 3362</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> cur_weapon_value = p.<a class="code hl_function" href="classplayer.html#a8c7623c11f37f370c8675385ef15566c">weapon_value</a>( p.<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>, our_ammo );</div>
<div class="line"><a id="l03363" name="l03363"></a><span class="lineno"> 3363</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a>, <span class="stringliteral">&quot;NPC evaluates own %s (%d ammo): %0.1f&quot;</span>,</div>
<div class="line"><a id="l03364" name="l03364"></a><span class="lineno"> 3364</span>             p.<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>(), our_ammo, cur_weapon_value );</div>
<div class="line"><a id="l03365" name="l03365"></a><span class="lineno"> 3365</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a>, <span class="stringliteral">&quot;NPC evaluates your %s (%d ammo): %0.1f&quot;</span>,</div>
<div class="line"><a id="l03366" name="l03366"></a><span class="lineno"> 3366</span>             given.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>(), new_ammo, new_weapon_value );</div>
<div class="line"><a id="l03367" name="l03367"></a><span class="lineno"> 3367</span>    <span class="keywordflow">if</span>( allow_use ) {</div>
<div class="line"><a id="l03368" name="l03368"></a><span class="lineno"> 3368</span>        <span class="comment">// Eating first, to avoid evaluating bread as a weapon</span></div>
<div class="line"><a id="l03369" name="l03369"></a><span class="lineno"> 3369</span>        <span class="keyword">const</span> <span class="keyword">auto</span> consume_res = <a class="code hl_function" href="npctalk_8cpp.html#a63b385e0852ca7e6a569bdfdc0739fbf">try_consume</a>( p, given, reason );</div>
<div class="line"><a id="l03370" name="l03370"></a><span class="lineno"> 3370</span>        <span class="keywordflow">if</span>( consume_res != <a class="code hl_enumvalue" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a> ) {</div>
<div class="line"><a id="l03371" name="l03371"></a><span class="lineno"> 3371</span>            <span class="keywordflow">if</span>( consume_res == <a class="code hl_enumvalue" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a00e4f17208f1f75aed1e648cbe531c9d">CONSUMED_ALL</a> ) {</div>
<div class="line"><a id="l03372" name="l03372"></a><span class="lineno"> 3372</span>                you.<a class="code hl_function" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a>( &amp;given );</div>
<div class="line"><a id="l03373" name="l03373"></a><span class="lineno"> 3373</span>            }</div>
<div class="line"><a id="l03374" name="l03374"></a><span class="lineno"> 3374</span>            you.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 100;</div>
<div class="line"><a id="l03375" name="l03375"></a><span class="lineno"> 3375</span>            <span class="keywordflow">if</span>( given.<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() ) {</div>
<div class="line"><a id="l03376" name="l03376"></a><span class="lineno"> 3376</span>                given.<a class="code hl_function" href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">on_contents_changed</a>();</div>
<div class="line"><a id="l03377" name="l03377"></a><span class="lineno"> 3377</span>            }</div>
<div class="line"><a id="l03378" name="l03378"></a><span class="lineno"> 3378</span>        }<span class="comment">// wield it if its a weapon</span></div>
<div class="line"><a id="l03379" name="l03379"></a><span class="lineno"> 3379</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>( new_weapon_value &gt; cur_weapon_value ) {</div>
<div class="line"><a id="l03380" name="l03380"></a><span class="lineno"> 3380</span>            p.<a class="code hl_function" href="classnpc.html#a251cafb769b1d8ec4585deb3b50aaafd">wield</a>( given );</div>
<div class="line"><a id="l03381" name="l03381"></a><span class="lineno"> 3381</span>            reason = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Thanks, I&#39;ll wield that now.&quot;</span> );</div>
<div class="line"><a id="l03382" name="l03382"></a><span class="lineno"> 3382</span>            taken = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03383" name="l03383"></a><span class="lineno"> 3383</span>        }<span class="comment">// HACK: is_gun here is a hack to prevent NPCs wearing guns if they don&#39;t want to use them</span></div>
<div class="line"><a id="l03384" name="l03384"></a><span class="lineno"> 3384</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !given.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() &amp;&amp; given.<a class="code hl_function" href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">is_armor</a>() ) {</div>
<div class="line"><a id="l03385" name="l03385"></a><span class="lineno"> 3385</span>            <span class="comment">//if it is impossible to wear return why</span></div>
<div class="line"><a id="l03386" name="l03386"></a><span class="lineno"> 3386</span>            <a class="code hl_class" href="classret__val.html">ret_val&lt;bool&gt;</a> can_wear = p.<a class="code hl_function" href="classCharacter.html#add7c18c1ff4186fa02862a1fef9cdbe1">can_wear</a>( given, <span class="keyword">true</span> );</div>
<div class="line"><a id="l03387" name="l03387"></a><span class="lineno"> 3387</span>            <span class="keywordflow">if</span>( !can_wear.<a class="code hl_function" href="classret__val.html#afe534a279647e88c4ab321d0c338d9d5">success</a>() ) {</div>
<div class="line"><a id="l03388" name="l03388"></a><span class="lineno"> 3388</span>                reason = can_wear.<a class="code hl_function" href="classret__val.html#a21a7086f33223dff3431b16c7abbd58c">str</a>();</div>
<div class="line"><a id="l03389" name="l03389"></a><span class="lineno"> 3389</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03390" name="l03390"></a><span class="lineno"> 3390</span>                <span class="comment">//if we can wear it with equip changes prompt first</span></div>
<div class="line"><a id="l03391" name="l03391"></a><span class="lineno"> 3391</span>                can_wear = p.<a class="code hl_function" href="classCharacter.html#add7c18c1ff4186fa02862a1fef9cdbe1">can_wear</a>( given );</div>
<div class="line"><a id="l03392" name="l03392"></a><span class="lineno"> 3392</span>                <span class="keywordflow">if</span>( ( can_wear.<a class="code hl_function" href="classret__val.html#afe534a279647e88c4ab321d0c338d9d5">success</a>() ||</div>
<div class="line"><a id="l03393" name="l03393"></a><span class="lineno"> 3393</span>                      <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( can_wear.<a class="code hl_function" href="classret__val.html#a21a7086f33223dff3431b16c7abbd58c">str</a>() + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot; Should I take something off?&quot;</span> ) ) )</div>
<div class="line"><a id="l03394" name="l03394"></a><span class="lineno"> 3394</span>                    &amp;&amp; p.<a class="code hl_function" href="classnpc.html#a631f833b1311bf7d5001929f4e71048f">wear_if_wanted</a>( given, reason ) ) {</div>
<div class="line"><a id="l03395" name="l03395"></a><span class="lineno"> 3395</span>                    taken = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03396" name="l03396"></a><span class="lineno"> 3396</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03397" name="l03397"></a><span class="lineno"> 3397</span>                    reason = can_wear.<a class="code hl_function" href="classret__val.html#a21a7086f33223dff3431b16c7abbd58c">str</a>();</div>
<div class="line"><a id="l03398" name="l03398"></a><span class="lineno"> 3398</span>                }</div>
<div class="line"><a id="l03399" name="l03399"></a><span class="lineno"> 3399</span>            }</div>
<div class="line"><a id="l03400" name="l03400"></a><span class="lineno"> 3400</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03401" name="l03401"></a><span class="lineno"> 3401</span>            reason += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>(</div>
<div class="line"><a id="l03402" name="l03402"></a><span class="lineno"> 3402</span>                          <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;My current weapon is better than this.\n(new weapon value: %.1f vs %.1f).&quot;</span> ), new_weapon_value,</div>
<div class="line"><a id="l03403" name="l03403"></a><span class="lineno"> 3403</span>                          cur_weapon_value );</div>
<div class="line"><a id="l03404" name="l03404"></a><span class="lineno"> 3404</span>        }</div>
<div class="line"><a id="l03405" name="l03405"></a><span class="lineno"> 3405</span>    } <span class="keywordflow">else</span> {<span class="comment">//allow_use is false so try to carry instead</span></div>
<div class="line"><a id="l03406" name="l03406"></a><span class="lineno"> 3406</span>        <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCharacter.html#a9194d4ec193c9a26488fb7ccde73437c">can_pick_volume</a>( given ) &amp;&amp; p.<a class="code hl_function" href="classCharacter.html#aef94559a8419824449833a59a1573aaf">can_pick_weight</a>( given ) ) {</div>
<div class="line"><a id="l03407" name="l03407"></a><span class="lineno"> 3407</span>            reason = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Thanks, I&#39;ll carry that now.&quot;</span> );</div>
<div class="line"><a id="l03408" name="l03408"></a><span class="lineno"> 3408</span>            taken = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03409" name="l03409"></a><span class="lineno"> 3409</span>            p.<a class="code hl_function" href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">i_add</a>( given );</div>
<div class="line"><a id="l03410" name="l03410"></a><span class="lineno"> 3410</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03411" name="l03411"></a><span class="lineno"> 3411</span>            <span class="keywordflow">if</span>( !p.<a class="code hl_function" href="classCharacter.html#a9194d4ec193c9a26488fb7ccde73437c">can_pick_volume</a>( given ) ) {</div>
<div class="line"><a id="l03412" name="l03412"></a><span class="lineno"> 3412</span>                <span class="keyword">const</span> <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> free_space = p.<a class="code hl_function" href="classCharacter.html#a4f0f412e4bec8d107de42bd34f1fa441">volume_capacity</a>() - p.<a class="code hl_function" href="classCharacter.html#ab3a5a1cd76002a3e9903b7e09b77bb3f">volume_carried</a>();</div>
<div class="line"><a id="l03413" name="l03413"></a><span class="lineno"> 3413</span>                reason += <span class="stringliteral">&quot;\n&quot;</span> + std::string( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;I have no space to store it.&quot;</span> ) ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l03414" name="l03414"></a><span class="lineno"> 3414</span>                <span class="keywordflow">if</span>( free_space &gt; 0_ml ) {</div>
<div class="line"><a id="l03415" name="l03415"></a><span class="lineno"> 3415</span>                    reason += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;I can only store %s %s more.&quot;</span> ),</div>
<div class="line"><a id="l03416" name="l03416"></a><span class="lineno"> 3416</span>                                             <a class="code hl_function" href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a>( free_space ), <a class="code hl_function" href="units__utility_8cpp.html#a258633120714b8c5306866b2df52a41b">volume_units_long</a>() );</div>
<div class="line"><a id="l03417" name="l03417"></a><span class="lineno"> 3417</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03418" name="l03418"></a><span class="lineno"> 3418</span>                    reason += <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;or to store anything else for that matter.&quot;</span> );</div>
<div class="line"><a id="l03419" name="l03419"></a><span class="lineno"> 3419</span>                }</div>
<div class="line"><a id="l03420" name="l03420"></a><span class="lineno"> 3420</span>            }</div>
<div class="line"><a id="l03421" name="l03421"></a><span class="lineno"> 3421</span>            <span class="keywordflow">if</span>( !p.<a class="code hl_function" href="classCharacter.html#aef94559a8419824449833a59a1573aaf">can_pick_weight</a>( given ) ) {</div>
<div class="line"><a id="l03422" name="l03422"></a><span class="lineno"> 3422</span>                reason += std::string( <span class="stringliteral">&quot;\n&quot;</span> ) + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It is too heavy for me to carry.&quot;</span> );</div>
<div class="line"><a id="l03423" name="l03423"></a><span class="lineno"> 3423</span>            }</div>
<div class="line"><a id="l03424" name="l03424"></a><span class="lineno"> 3424</span>        }</div>
<div class="line"><a id="l03425" name="l03425"></a><span class="lineno"> 3425</span>    }</div>
<div class="line"><a id="l03426" name="l03426"></a><span class="lineno"> 3426</span> </div>
<div class="line"><a id="l03427" name="l03427"></a><span class="lineno"> 3427</span>    <span class="keywordflow">if</span>( taken ) {</div>
<div class="line"><a id="l03428" name="l03428"></a><span class="lineno"> 3428</span>        you.<a class="code hl_function" href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">i_rem</a>( &amp;given );</div>
<div class="line"><a id="l03429" name="l03429"></a><span class="lineno"> 3429</span>        you.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 100;</div>
<div class="line"><a id="l03430" name="l03430"></a><span class="lineno"> 3430</span>        p.<a class="code hl_variable" href="classnpc.html#a9ca344b214e47beec525f78ebc83dc64">has_new_items</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l03431" name="l03431"></a><span class="lineno"> 3431</span>    }</div>
<div class="line"><a id="l03432" name="l03432"></a><span class="lineno"> 3432</span> </div>
<div class="line"><a id="l03433" name="l03433"></a><span class="lineno"> 3433</span>    <span class="keywordflow">return</span> reason;</div>
<div class="line"><a id="l03434" name="l03434"></a><span class="lineno"> 3434</span>}</div>
<div class="ttc" id="aclassCharacter_html_a35f89e2e6eb1144b623be5281f4f221b"><div class="ttname"><a href="classCharacter.html#a35f89e2e6eb1144b623be5281f4f221b">Character::i_rem</a></div><div class="ttdeci">item i_rem(int pos)</div><div class="ttdoc">Remove a specific item from player possession.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02424">character.cpp:2424</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4d8d747c469431f530acb05c5f7a7f45"><div class="ttname"><a href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">Character::is_worn</a></div><div class="ttdeci">bool is_worn(const item &amp;thing) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01082">character.h:1082</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4f0f412e4bec8d107de42bd34f1fa441"><div class="ttname"><a href="classCharacter.html#a4f0f412e4bec8d107de42bd34f1fa441">Character::volume_capacity</a></div><div class="ttdeci">units::volume volume_capacity() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02851">character.cpp:2851</a></div></div>
<div class="ttc" id="aclassCharacter_html_a611bd51d6d4fa9c119787f2fbc6bdd52"><div class="ttname"><a href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">Character::i_add</a></div><div class="ttdeci">item &amp; i_add(item it, bool should_stack=true)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02321">character.cpp:2321</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9194d4ec193c9a26488fb7ccde73437c"><div class="ttname"><a href="classCharacter.html#a9194d4ec193c9a26488fb7ccde73437c">Character::can_pick_volume</a></div><div class="ttdeci">bool can_pick_volume(const item &amp;it) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02887">character.cpp:2887</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab1b3b47cc1c1250e603bdbdf26936ba7"><div class="ttname"><a href="classCharacter.html#ab1b3b47cc1c1250e603bdbdf26936ba7">Character::ammo_count_for</a></div><div class="ttdeci">int ammo_count_for(const item &amp;gun)</div><div class="ttdoc">Counts ammo and UPS charges (lower of) for a given gun on the character.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06515">character.cpp:6515</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab3a5a1cd76002a3e9903b7e09b77bb3f"><div class="ttname"><a href="classCharacter.html#ab3a5a1cd76002a3e9903b7e09b77bb3f">Character::volume_carried</a></div><div class="ttdeci">units::volume volume_carried() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02724">character.cpp:2724</a></div></div>
<div class="ttc" id="aclassCharacter_html_add7c18c1ff4186fa02862a1fef9cdbe1"><div class="ttname"><a href="classCharacter.html#add7c18c1ff4186fa02862a1fef9cdbe1">Character::can_wear</a></div><div class="ttdeci">ret_val&lt; bool &gt; can_wear(const item &amp;it, bool with_equip_change=false) const</div><div class="ttdoc">Check character capable of wearing an item.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02942">character.cpp:2942</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae68b7a6565646ba662e448bded8b6599"><div class="ttname"><a href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">Character::weapon</a></div><div class="ttdeci">item weapon</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01521">character.h:1521</a></div></div>
<div class="ttc" id="aclassCharacter_html_aef94559a8419824449833a59a1573aaf"><div class="ttname"><a href="classCharacter.html#aef94559a8419824449833a59a1573aaf">Character::can_pick_weight</a></div><div class="ttdeci">bool can_pick_weight(const item &amp;it, bool safe=true) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02901">character.cpp:2901</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00103">mutation.cpp:103</a></div></div>
<div class="ttc" id="aclassCreature_html_a8c5a392caa213bee9581b47e9f0e2052"><div class="ttname"><a href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">Creature::moves</a></div><div class="ttdeci">int moves</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00569">creature.h:569</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00022">item_location.h:23</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00176">item.h:177</a></div></div>
<div class="ttc" id="aclassitem_html_a2912b2e15a4eec07a5070fffbbd152e8"><div class="ttname"><a href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">item::is_gun</a></div><div class="ttdeci">bool is_gun() const</div><div class="ttdoc">Can this item be used to perform a ranged attack?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06397">item.cpp:6397</a></div></div>
<div class="ttc" id="aclassitem_html_a6d1575c31b1dc0df51cbe3a1dfbfef16"><div class="ttname"><a href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">item::on_contents_changed</a></div><div class="ttdeci">void on_contents_changed()</div><div class="ttdoc">Callback when contents of the item are affected in any way other than just processing.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04457">item.cpp:4457</a></div></div>
<div class="ttc" id="aclassitem_html_a723753bab4cc789e3ec186846c9916a3"><div class="ttname"><a href="classitem.html#a723753bab4cc789e3ec186846c9916a3">item::is_container</a></div><div class="ttdeci">bool is_container() const</div><div class="ttdoc">Whether this is container.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06599">item.cpp:6599</a></div></div>
<div class="ttc" id="aclassitem_html_a9aab8660fb40eedb8d2da95e797ecd32"><div class="ttname"><a href="classitem.html#a9aab8660fb40eedb8d2da95e797ecd32">item::is_armor</a></div><div class="ttdeci">bool is_armor() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06584">item.cpp:6584</a></div></div>
<div class="ttc" id="aclassitem_html_aa79dad64e1ef6347219be2f8666e2752"><div class="ttname"><a href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">item::typeId</a></div><div class="ttdeci">const itype_id &amp; typeId() const</div><div class="ttdoc">return the unique identifier of the items underlying type</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08227">item.cpp:8227</a></div></div>
<div class="ttc" id="aclassitem_html_aaa5aeb6f838927babb10ede535cf2a73"><div class="ttname"><a href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">item::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05222">item.cpp:5222</a></div></div>
<div class="ttc" id="aclassitem_html_ad340c283789ac6bd8578a16e8343d893"><div class="ttname"><a href="classitem.html#ad340c283789ac6bd8578a16e8343d893">item::is_dangerous</a></div><div class="ttdeci">bool is_dangerous() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09668">item.cpp:9668</a></div></div>
<div class="ttc" id="aclassnpc_html_a251cafb769b1d8ec4585deb3b50aaafd"><div class="ttname"><a href="classnpc.html#a251cafb769b1d8ec4585deb3b50aaafd">npc::wield</a></div><div class="ttdeci">bool wield(item &amp;it) override</div><div class="ttdoc">Removes currently wielded item (if any) and replaces it with the target item.</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01151">npc.cpp:1151</a></div></div>
<div class="ttc" id="aclassnpc_html_a41b0a58a7ddf03b23766abcb760bcff0"><div class="ttname"><a href="classnpc.html#a41b0a58a7ddf03b23766abcb760bcff0">npc::is_hallucination</a></div><div class="ttdeci">bool is_hallucination() const override</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03260">npc.cpp:3260</a></div></div>
<div class="ttc" id="aclassnpc_html_a631f833b1311bf7d5001929f4e71048f"><div class="ttname"><a href="classnpc.html#a631f833b1311bf7d5001929f4e71048f">npc::wear_if_wanted</a></div><div class="ttdeci">bool wear_if_wanted(const item &amp;it, std::string &amp;reason)</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01048">npc.cpp:1048</a></div></div>
<div class="ttc" id="aclassnpc_html_a9ca344b214e47beec525f78ebc83dc64"><div class="ttname"><a href="classnpc.html#a9ca344b214e47beec525f78ebc83dc64">npc::has_new_items</a></div><div class="ttdeci">bool has_new_items</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01312">npc.h:1312</a></div></div>
<div class="ttc" id="aclassplayer_html_a8c7623c11f37f370c8675385ef15566c"><div class="ttname"><a href="classplayer.html#a8c7623c11f37f370c8675385ef15566c">player::weapon_value</a></div><div class="ttdeci">double weapon_value(const item &amp;weap, int ammo=10) const</div><div class="ttdoc">NPC-related item rating functions.</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l02256">melee.cpp:2256</a></div></div>
<div class="ttc" id="aclassret__val_html"><div class="ttname"><a href="classret__val.html">ret_val</a></div><div class="ttdoc">The class represents a composite return value of an arbitrary function (result).</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00020">ret_val.h:21</a></div></div>
<div class="ttc" id="aclassret__val_html_a21a7086f33223dff3431b16c7abbd58c"><div class="ttname"><a href="classret__val.html#a21a7086f33223dff3431b16c7abbd58c">ret_val::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00078">ret_val.h:78</a></div></div>
<div class="ttc" id="aclassret__val_html_afe534a279647e88c4ab321d0c338d9d5"><div class="ttname"><a href="classret__val.html#afe534a279647e88c4ab321d0c338d9d5">ret_val::success</a></div><div class="ttdeci">bool success() const</div><div class="ttdef"><b>Definition:</b> <a href="ret__val_8h_source.html#l00070">ret_val.h:70</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa7dabc565f0c067e1a237ea224b18f93"><div class="ttname"><a href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00255">string_id.h:255</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units__def_8h_source.html#l00014">units_def.h:15</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a></div><div class="ttdeci">@ m_debug</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00271">enums.h:271</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00884">messages.cpp:884</a></div></div>
<div class="ttc" id="anamespacegame__menus_1_1inv_html_a444b5ce5e2f2fef0a2856bbb88d05162"><div class="ttname"><a href="namespacegame__menus_1_1inv.html#a444b5ce5e2f2fef0a2856bbb88d05162">game_menus::inv::titled_menu</a></div><div class="ttdeci">item_location titled_menu(avatar &amp;you, const std::string &amp;title, const std::string &amp;none_message=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="game__inventory_8cpp_source.html#l00277">game_inventory.cpp:277</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a37a1fab8c4f17e009841e255f68b5733"><div class="ttname"><a href="npctalk_8cpp.html#a37a1fab8c4f17e009841e255f68b5733">trait_DEBUG_MIND_CONTROL</a></div><div class="ttdeci">static const trait_id trait_DEBUG_MIND_CONTROL(&quot;DEBUG_MIND_CONTROL&quot;)</div></div>
<div class="ttc" id="anpctalk_8cpp_html_a63b385e0852ca7e6a569bdfdc0739fbf"><div class="ttname"><a href="npctalk_8cpp.html#a63b385e0852ca7e6a569bdfdc0739fbf">try_consume</a></div><div class="ttdeci">static consumption_result try_consume(npc &amp;p, item &amp;it, std::string &amp;reason)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l03266">npctalk.cpp:3266</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a297635a05a44e1f896fb829a0474f586"><div class="ttname"><a href="output_8cpp.html#a297635a05a44e1f896fb829a0474f586">format_volume</a></div><div class="ttdeci">std::string format_volume(const units::volume &amp;volume)</div><div class="ttdoc">Convert, round up and format a volume.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01974">output.cpp:1974</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab62599a77867b8f416669b92f60f4900"><div class="ttname"><a href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a></div><div class="ttdeci">bool query_yn(const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00698">output.cpp:698</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a9b089d0b697443b096063219dab08ef5"><div class="ttname"><a href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a></div><div class="ttdeci">std::string string_format(std::string format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00418">string_formatter.h:418</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
<div class="ttc" id="aunits__utility_8cpp_html_a258633120714b8c5306866b2df52a41b"><div class="ttname"><a href="units__utility_8cpp.html#a258633120714b8c5306866b2df52a41b">volume_units_long</a></div><div class="ttdeci">const char * volume_units_long()</div><div class="ttdoc">Create a units label for a volume value.</div><div class="ttdef"><b>Definition:</b> <a href="units__utility_8cpp_source.html#l00049">units_utility.cpp:49</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="character_8cpp_source.html#l06515">Character::ammo_count_for()</a>, <a class="el" href="character_8cpp_source.html#l02887">Character::can_pick_volume()</a>, <a class="el" href="character_8cpp_source.html#l02901">Character::can_pick_weight()</a>, <a class="el" href="character_8cpp_source.html#l02942">Character::can_wear()</a>, <a class="el" href="npctalk_8cpp_source.html#l03262">CONSUMED_ALL</a>, <a class="el" href="output_8cpp_source.html#l01974">format_volume()</a>, <a class="el" href="avatar_8cpp_source.html#l00103">get_avatar()</a>, <a class="el" href="item_8cpp_source.html#l05222">item::has_flag()</a>, <a class="el" href="npc_8h_source.html#l01312">npc::has_new_items</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l02321">Character::i_add()</a>, <a class="el" href="character_8cpp_source.html#l02424">Character::i_rem()</a>, <a class="el" href="item_8cpp_source.html#l06584">item::is_armor()</a>, <a class="el" href="item_8cpp_source.html#l06599">item::is_container()</a>, <a class="el" href="item_8cpp_source.html#l09668">item::is_dangerous()</a>, <a class="el" href="item_8cpp_source.html#l06397">item::is_gun()</a>, <a class="el" href="npc_8cpp_source.html#l03260">npc::is_hallucination()</a>, <a class="el" href="character_8h_source.html#l01082">Character::is_worn()</a>, <a class="el" href="enums_8h_source.html#l00271">m_debug</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="item_8cpp_source.html#l04457">item::on_contents_changed()</a>, <a class="el" href="output_8cpp_source.html#l00698">query_yn()</a>, <a class="el" href="npctalk_8cpp_source.html#l03260">REFUSED</a>, <a class="el" href="ret__val_8h_source.html#l00078">ret_val&lt; T &gt;::str()</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="ret__val_8h_source.html#l00070">ret_val&lt; T &gt;::success()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00277">game_menus::inv::titled_menu()</a>, <a class="el" href="npctalk_8cpp.html#a37a1fab8c4f17e009841e255f68b5733">trait_DEBUG_MIND_CONTROL</a>, <a class="el" href="npctalk_8cpp_source.html#l03266">try_consume()</a>, <a class="el" href="item_8cpp_source.html#l08227">item::typeId()</a>, <a class="el" href="character_8cpp_source.html#l02851">Character::volume_capacity()</a>, <a class="el" href="character_8cpp_source.html#l02724">Character::volume_carried()</a>, <a class="el" href="units__utility_8cpp_source.html#l00049">volume_units_long()</a>, <a class="el" href="character_8h_source.html#l01521">Character::weapon</a>, <a class="el" href="melee_8cpp_source.html#l02256">player::weapon_value()</a>, <a class="el" href="npc_8cpp_source.html#l01048">npc::wear_if_wanted()</a>, and <a class="el" href="npc_8cpp_source.html#l01151">npc::wield()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l02362">talk_effect_fun_t::set_npc_gets_item()</a>.</p>

</div>
</div>
<a id="a52f704a0ced65b599b3766eee3131ea4" name="a52f704a0ced65b599b3766eee3131ea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52f704a0ced65b599b3766eee3131ea4">&#9670;&nbsp;</a></span>load_inline_topic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structtalk__topic.html">talk_topic</a> load_inline_topic </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01886">1886</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>{</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>    <span class="keyword">const</span> std::string <span class="keywordtype">id</span> = jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;id&quot;</span> );</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>    <a class="code hl_variable" href="npctalk_8cpp.html#a9d58f009a148e9132fad232a12f96306">json_talk_topics</a>[<a class="code hl_function" href="classint__id.html#a09d4f824b2540da7e682d10cdf324081">id</a>].load( jo );</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>    <span class="keywordflow">return</span> <a class="code hl_struct" href="structtalk__topic.html">talk_topic</a>( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>}</div>
<div class="ttc" id="aclassJsonObject_html_a96b6d1b9cf7bda4fc9cd177a99e0631c"><div class="ttname"><a href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">JsonObject::get_string</a></div><div class="ttdeci">std::string get_string(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00314">json.cpp:314</a></div></div>
<div class="ttc" id="aclassint__id_html_a09d4f824b2540da7e682d10cdf324081"><div class="ttname"><a href="classint__id.html#a09d4f824b2540da7e682d10cdf324081">int_id::id</a></div><div class="ttdeci">const string_id&lt; ammo_effect &gt; &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00033">ammo_effect.cpp:33</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a9d58f009a148e9132fad232a12f96306"><div class="ttname"><a href="npctalk_8cpp.html#a9d58f009a148e9132fad232a12f96306">json_talk_topics</a></div><div class="ttdeci">static std::map&lt; std::string, json_talk_topic &gt; json_talk_topics</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00113">npctalk.cpp:113</a></div></div>
<div class="ttc" id="astructtalk__topic_html"><div class="ttname"><a href="structtalk__topic.html">talk_topic</a></div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00073">dialogue.h:73</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l00314">JsonObject::get_string()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00033">int_id&lt; T &gt;::id()</a>, and <a class="el" href="npctalk_8cpp_source.html#l00113">json_talk_topics</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l02518">talk_effect_t::talk_effect_t()</a>, and <a class="el" href="npctalk_8cpp_source.html#l02821">talk_response::talk_response()</a>.</p>

</div>
</div>
<a id="a80d02798bc4f6a4f04cc30e137798659" name="a80d02798bc4f6a4f04cc30e137798659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80d02798bc4f6a4f04cc30e137798659">&#9670;&nbsp;</a></span>load_talk_topic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void load_talk_topic </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l03217">3217</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03218" name="l03218"></a><span class="lineno"> 3218</span>{</div>
<div class="line"><a id="l03219" name="l03219"></a><span class="lineno"> 3219</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;id&quot;</span> ) ) {</div>
<div class="line"><a id="l03220" name="l03220"></a><span class="lineno"> 3220</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;<span class="keywordtype">id</span> : jo.<a class="code hl_function" href="classJsonObject.html#a82c84e4f6eb744e24a0a60cb0ed88491">get_string_array</a>( <span class="stringliteral">&quot;id&quot;</span> ) ) {</div>
<div class="line"><a id="l03221" name="l03221"></a><span class="lineno"> 3221</span>            <a class="code hl_variable" href="npctalk_8cpp.html#a9d58f009a148e9132fad232a12f96306">json_talk_topics</a>[<a class="code hl_function" href="classint__id.html#a09d4f824b2540da7e682d10cdf324081">id</a>].load( jo );</div>
<div class="line"><a id="l03222" name="l03222"></a><span class="lineno"> 3222</span>        }</div>
<div class="line"><a id="l03223" name="l03223"></a><span class="lineno"> 3223</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03224" name="l03224"></a><span class="lineno"> 3224</span>        <span class="keyword">const</span> std::string <span class="keywordtype">id</span> = jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;id&quot;</span> );</div>
<div class="line"><a id="l03225" name="l03225"></a><span class="lineno"> 3225</span>        <a class="code hl_variable" href="npctalk_8cpp.html#a9d58f009a148e9132fad232a12f96306">json_talk_topics</a>[<a class="code hl_function" href="classint__id.html#a09d4f824b2540da7e682d10cdf324081">id</a>].load( jo );</div>
<div class="line"><a id="l03226" name="l03226"></a><span class="lineno"> 3226</span>    }</div>
<div class="line"><a id="l03227" name="l03227"></a><span class="lineno"> 3227</span>}</div>
<div class="ttc" id="aclassJsonObject_html_a82c84e4f6eb744e24a0a60cb0ed88491"><div class="ttname"><a href="classJsonObject.html#a82c84e4f6eb744e24a0a60cb0ed88491">JsonObject::get_string_array</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_string_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00352">json.cpp:352</a></div></div>
<div class="ttc" id="aclassJsonObject_html_aa92b5eb23f6b39645877d79fbef784a0"><div class="ttname"><a href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00415">json.cpp:415</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l00314">JsonObject::get_string()</a>, <a class="el" href="json_8cpp_source.html#l00352">JsonObject::get_string_array()</a>, <a class="el" href="json_8cpp_source.html#l00415">JsonObject::has_array()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00033">int_id&lt; T &gt;::id()</a>, and <a class="el" href="npctalk_8cpp_source.html#l00113">json_talk_topics</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8cpp_source.html#l00238">DynamicDataLoader::initialize()</a>.</p>

</div>
</div>
<a id="a97aaebc670a798e23153fc4b83e65554" name="a97aaebc670a798e23153fc4b83e65554"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97aaebc670a798e23153fc4b83e65554">&#9670;&nbsp;</a></span>npc_batch_override_toggle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void npc_batch_override_toggle </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classnpc.html">npc</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>npc_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813">ally_rule</a>&#160;</td>
          <td class="paramname"><em>rule</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l00244">244</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>{</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classnpc.html">npc</a> *p : npc_list ) {</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        p-&gt;rules.toggle_specific_override_state( rule, state );</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    }</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>}</div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00780">npc.h:781</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00252">npc_temp_orders_menu()</a>.</p>

</div>
</div>
<a id="a5e165262e06e1a05da08251a1a9eb815" name="a5e165262e06e1a05da08251a1a9eb815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e165262e06e1a05da08251a1a9eb815">&#9670;&nbsp;</a></span>npc_select_menu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int npc_select_menu </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classnpc.html">npc</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>npc_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prompt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>everyone</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l00220">220</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>{</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <span class="keywordflow">if</span>( npc_list.empty() ) {</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    }</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> npc_count = npc_list.size();</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <span class="keywordflow">if</span>( npc_count == 1 ) {</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        <a class="code hl_class" href="classuilist.html">uilist</a> nmenu;</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>        nmenu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_enumvalue" href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">prompt</a>;</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : npc_list ) {</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>            nmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( -1, <span class="keyword">true</span>, <a class="code hl_variable" href="ui_8h.html#a06d5f3667ed71fa40939c4e7367e30ce">MENU_AUTOASSIGN</a>, ( elem )-&gt;<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        }</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>        <span class="keywordflow">if</span>( npc_count &gt; 1 &amp;&amp; everyone ) {</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>            nmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( -1, <span class="keyword">true</span>, <a class="code hl_variable" href="ui_8h.html#a06d5f3667ed71fa40939c4e7367e30ce">MENU_AUTOASSIGN</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Everyone&quot;</span> ) );</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>        }</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>        nmenu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>        <span class="keywordflow">return</span> nmenu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>;</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    }</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span> </div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>}</div>
<div class="ttc" id="aclassuilist_html"><div class="ttname"><a href="classuilist.html">uilist</a></div><div class="ttdoc">uilist: scrolling vertical list menu</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00186">ui.h:187</a></div></div>
<div class="ttc" id="aclassuilist_html_a0baa34622db6972a59d47d478bfd21d6"><div class="ttname"><a href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">uilist::ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00412">ui.h:412</a></div></div>
<div class="ttc" id="aclassuilist_html_af59dd3fdde04746dbc5cb52b355577ce"><div class="ttname"><a href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">uilist::text</a></div><div class="ttdeci">std::string text</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00320">ui.h:320</a></div></div>
<div class="ttc" id="aclassuilist_html_af99f28334902af64487e2d0758df2ab9"><div class="ttname"><a href="classuilist.html#af99f28334902af64487e2d0758df2ab9">uilist::addentry</a></div><div class="ttdeci">void addentry(const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l00942">ui.cpp:942</a></div></div>
<div class="ttc" id="agroup__UI_html_ga7604af7545244003f0a52ac87ce37979"><div class="ttname"><a href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">uilist::query</a></div><div class="ttdeci">void query(bool loop=true, int timeout=-1)</div><div class="ttdoc">Handle input and update display.</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l00838">ui.cpp:838</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a8ba958ccfad28c0a5572a04dd1428f32"><div class="ttname"><a href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a></div><div class="ttdeci">std::string name(type dir)</div><div class="ttdoc">Get Human readable name of a direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l04126">overmap.cpp:4126</a></div></div>
<div class="ttc" id="anamespacepickup_html_a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c"><div class="ttname"><a href="namespacepickup.html#a03a2e6f98be01a67be0ad42cb7aa4c61a29ea7ce63137484da296feacfa4f021c">pickup::prompt</a></div><div class="ttdeci">@ prompt</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8h_source.html#l00031">pickup.h:30</a></div></div>
<div class="ttc" id="aui_8h_html_a06d5f3667ed71fa40939c4e7367e30ce"><div class="ttname"><a href="ui_8h.html#a06d5f3667ed71fa40939c4e7367e30ce">MENU_AUTOASSIGN</a></div><div class="ttdeci">const int MENU_AUTOASSIGN</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00031">ui.h:31</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="ui_8cpp_source.html#l00942">uilist::addentry()</a>, <a class="el" href="ui_8h_source.html#l00031">MENU_AUTOASSIGN</a>, <a class="el" href="overmap_8cpp_source.html#l04126">om_direction::name()</a>, <a class="el" href="pickup_8h_source.html#l00030">pickup::prompt</a>, <a class="el" href="ui_8cpp_source.html#l00838">uilist::query()</a>, <a class="el" href="ui_8h_source.html#l00412">uilist::ret</a>, and <a class="el" href="ui_8h_source.html#l00320">uilist::text</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00394">game::chat()</a>.</p>

</div>
</div>
<a id="a8ceccb34e46b6e91c53f09905db79c8c" name="a8ceccb34e46b6e91c53f09905db79c8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ceccb34e46b6e91c53f09905db79c8c">&#9670;&nbsp;</a></span>npc_temp_orders_menu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void npc_temp_orders_menu </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classnpc.html">npc</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>npc_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l00252">252</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>{</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    <span class="keywordflow">if</span>( npc_list.empty() ) {</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    }</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    <a class="code hl_class" href="classnpc.html">npc</a> *guy = npc_list.front();</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span> </div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <span class="keywordtype">bool</span> <a class="code hl_enumvalue" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aeac7878d891005c72a71703f35dbb2be15">done</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    <a class="code hl_class" href="classuilist.html">uilist</a> nmenu;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="keywordflow">while</span>( !<a class="code hl_enumvalue" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aeac7878d891005c72a71703f35dbb2be15">done</a> ) {</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        <span class="keywordtype">int</span> override_count = 0;</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>        std::string output_string = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s currently has these temporary orders:&quot;</span> ),</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>                                    guy-&gt;<a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a> );</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;rule : <a class="code hl_variable" href="npc_8h.html#aa27862ea88c73b61be0521ec94a4a3ac">ally_rule_strs</a> ) {</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>            <span class="keywordflow">if</span>( guy-&gt;<a class="code hl_variable" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code hl_function" href="structnpc__follower__rules.html#a82f5873612a10037b9e6e9d95be623d6">has_override_enable</a>( rule.second.rule ) ) {</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>                override_count++;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>                output_string += <span class="stringliteral">&quot;\n  &quot;</span>;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>                output_string += ( guy-&gt;<a class="code hl_variable" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code hl_function" href="structnpc__follower__rules.html#ad7640dd1f35a94964cb6bb5cc97a9f3b">has_override</a>( rule.second.rule ) ? rule.second.rule_true_text :</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>                                   rule.second.rule_false_text );</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>            }</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        }</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        <span class="keywordflow">if</span>( override_count == 0 ) {</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>            output_string += std::string( <span class="stringliteral">&quot;\n  &quot;</span> ) + <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;None.&quot;</span> ) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        }</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>        <span class="keywordflow">if</span>( npc_list.size() &gt; 1 ) {</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>            output_string += std::string( <span class="stringliteral">&quot;\n&quot;</span> ) +</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>                             <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Other followers might have different temporary orders.&quot;</span> );</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        }</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>        nmenu.<a class="code hl_function" href="classuilist.html#a7f3f2c8ae56dee0381b1ebc34019dcbf">reset</a>();</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        nmenu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Issue what temporary order?&quot;</span> );</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>        nmenu.<a class="code hl_variable" href="classuilist.html#a1a7ee6e719a4f1bba45fc94e29a19166">desc_enabled</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>        <a class="code hl_function" href="npctalk_8cpp.html#a13dcf795383c76a06112b906efacac43">parse_tags</a>( output_string, <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>(), *guy );</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>        nmenu.<a class="code hl_variable" href="classuilist.html#a7f0fab988e26d44a680a2c65cae454c7">footer_text</a> = output_string;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>        nmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a3321383180f1c10d13b3f669ea745911">NPC_CHAT_DONE</a>, <span class="keyword">true</span>, <span class="charliteral">&#39;d&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Done issuing orders&quot;</span> ) );</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>        nmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ad9fc6aa627f1db95b55b7db6ef9ada52">NPC_CHAT_FORBID_ENGAGE</a>, <span class="keyword">true</span>, <span class="charliteral">&#39;f&#39;</span>,</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>                        guy-&gt;<a class="code hl_variable" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code hl_function" href="structnpc__follower__rules.html#a82f5873612a10037b9e6e9d95be623d6">has_override_enable</a>( <a class="code hl_enumvalue" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813aa76dfd34a015e77b9101e83caf2babca">ally_rule::forbid_engage</a> ) ?</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>                        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Go back to your usual engagement habits&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Don&#39;t engage hostiles for the time being&quot;</span> ) );</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>        nmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ab0f976be572157292fe31c13fd05b18d">NPC_CHAT_NO_GUNS</a>, <span class="keyword">true</span>, <span class="charliteral">&#39;g&#39;</span>, guy-&gt;<a class="code hl_variable" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code hl_function" href="structnpc__follower__rules.html#a82f5873612a10037b9e6e9d95be623d6">has_override_enable</a>( <a class="code hl_enumvalue" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813a5be11a9176c3d5056b833343103f70f4">ally_rule::use_guns</a> ) ?</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>                        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Use whatever weapon you normally would&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Don&#39;t use ranged weapons for a while&quot;</span> ) );</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        nmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a80d3f005dba6e3ea44d1a112fb8d4391">NPC_CHAT_PULP</a>, <span class="keyword">true</span>, <span class="charliteral">&#39;p&#39;</span>, guy-&gt;<a class="code hl_variable" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code hl_function" href="structnpc__follower__rules.html#a82f5873612a10037b9e6e9d95be623d6">has_override_enable</a>( <a class="code hl_enumvalue" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813a4d86aa5b7cf26fbf7d1be4e398b2ce67">ally_rule::allow_pulp</a> ) ?</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>                        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Pulp zombies if you like&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Hold off on pulping zombies for a while&quot;</span> ) );</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        nmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ac5178e864a93db225cf597d24de8bee4">NPC_CHAT_FOLLOW_CLOSE</a>, <span class="keyword">true</span>, <span class="charliteral">&#39;c&#39;</span>,</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>                        guy-&gt;<a class="code hl_variable" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code hl_function" href="structnpc__follower__rules.html#a82f5873612a10037b9e6e9d95be623d6">has_override_enable</a>( <a class="code hl_enumvalue" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813a5c981fdb3be5e8bd1ef605268999b8de">ally_rule::follow_close</a> ) &amp;&amp;</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>                        guy-&gt;<a class="code hl_variable" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code hl_function" href="structnpc__follower__rules.html#ad7640dd1f35a94964cb6bb5cc97a9f3b">has_override</a>( <a class="code hl_enumvalue" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813a5c981fdb3be5e8bd1ef605268999b8de">ally_rule::follow_close</a> ) ?</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>                        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Go back to keeping your usual distance&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Stick close to me for now&quot;</span> ) );</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>        nmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a6e4a56e42c108e817727787465a86bdf">NPC_CHAT_MOVE_FREELY</a>, <span class="keyword">true</span>, <span class="charliteral">&#39;m&#39;</span>,</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>                        guy-&gt;<a class="code hl_variable" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code hl_function" href="structnpc__follower__rules.html#a82f5873612a10037b9e6e9d95be623d6">has_override_enable</a>( <a class="code hl_enumvalue" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813a5c981fdb3be5e8bd1ef605268999b8de">ally_rule::follow_close</a> ) &amp;&amp;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>                        !guy-&gt;<a class="code hl_variable" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code hl_function" href="structnpc__follower__rules.html#ad7640dd1f35a94964cb6bb5cc97a9f3b">has_override</a>( <a class="code hl_enumvalue" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813a5c981fdb3be5e8bd1ef605268999b8de">ally_rule::follow_close</a> ) ?</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>                        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Go back to keeping your usual distance&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Move farther from me if you need to&quot;</span> ) );</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>        nmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a1fffea620308dbbea0a5cc2096331154">NPC_CHAT_SLEEP</a>, <span class="keyword">true</span>, <span class="charliteral">&#39;s&#39;</span>,</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>                        guy-&gt;<a class="code hl_variable" href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">rules</a>.<a class="code hl_function" href="structnpc__follower__rules.html#a82f5873612a10037b9e6e9d95be623d6">has_override_enable</a>( <a class="code hl_enumvalue" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813acd5a026299ddf6f44abcae44c3c7838d">ally_rule::allow_sleep</a> ) ?</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>                        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Go back to your usual sleeping habits&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Take a nap if you need it&quot;</span> ) );</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>        nmenu.<a class="code hl_function" href="classuilist.html#af99f28334902af64487e2d0758df2ab9">addentry</a>( <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aabd4bc495593153c9a2b8e69667b795e">NPC_CHAT_CLEAR_OVERRIDES</a>, <span class="keyword">true</span>, <span class="charliteral">&#39;o&#39;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Let&#39;s go back to your usual behaviors&quot;</span> ) );</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        nmenu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span> </div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>        <span class="keywordflow">switch</span>( nmenu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a> ) {</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ad9fc6aa627f1db95b55b7db6ef9ada52">NPC_CHAT_FORBID_ENGAGE</a>:</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>                <a class="code hl_function" href="npctalk_8cpp.html#a97aaebc670a798e23153fc4b83e65554">npc_batch_override_toggle</a>( npc_list, <a class="code hl_enumvalue" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813aa76dfd34a015e77b9101e83caf2babca">ally_rule::forbid_engage</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ab0f976be572157292fe31c13fd05b18d">NPC_CHAT_NO_GUNS</a>:</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>                <a class="code hl_function" href="npctalk_8cpp.html#a97aaebc670a798e23153fc4b83e65554">npc_batch_override_toggle</a>( npc_list, <a class="code hl_enumvalue" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813a5be11a9176c3d5056b833343103f70f4">ally_rule::use_guns</a>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a80d3f005dba6e3ea44d1a112fb8d4391">NPC_CHAT_PULP</a>:</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>                <a class="code hl_function" href="npctalk_8cpp.html#a97aaebc670a798e23153fc4b83e65554">npc_batch_override_toggle</a>( npc_list, <a class="code hl_enumvalue" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813a4d86aa5b7cf26fbf7d1be4e398b2ce67">ally_rule::allow_pulp</a>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5ac5178e864a93db225cf597d24de8bee4">NPC_CHAT_FOLLOW_CLOSE</a>:</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>                <a class="code hl_function" href="npctalk_8cpp.html#a97aaebc670a798e23153fc4b83e65554">npc_batch_override_toggle</a>( npc_list, <a class="code hl_enumvalue" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813a5c981fdb3be5e8bd1ef605268999b8de">ally_rule::follow_close</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a6e4a56e42c108e817727787465a86bdf">NPC_CHAT_MOVE_FREELY</a>:</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>                <a class="code hl_function" href="npctalk_8cpp.html#a97aaebc670a798e23153fc4b83e65554">npc_batch_override_toggle</a>( npc_list, <a class="code hl_enumvalue" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813a5c981fdb3be5e8bd1ef605268999b8de">ally_rule::follow_close</a>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5a1fffea620308dbbea0a5cc2096331154">NPC_CHAT_SLEEP</a>:</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>                <a class="code hl_function" href="npctalk_8cpp.html#a97aaebc670a798e23153fc4b83e65554">npc_batch_override_toggle</a>( npc_list, <a class="code hl_enumvalue" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813acd5a026299ddf6f44abcae44c3c7838d">ally_rule::allow_sleep</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="npctalk_8cpp.html#ad2ae1bb0e28baed485b629d6e87a58c5aabd4bc495593153c9a2b8e69667b795e">NPC_CHAT_CLEAR_OVERRIDES</a>:</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>                <span class="keywordflow">for</span>( <a class="code hl_class" href="classnpc.html">npc</a> *p : npc_list ) {</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>                    p-&gt;rules.clear_overrides();</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>                }</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>                <a class="code hl_enumvalue" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aeac7878d891005c72a71703f35dbb2be15">done</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        }</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    }</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span> </div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>}</div>
<div class="ttc" id="aclassCharacter_html_a6592c35167738421f3e04ca8808d37db"><div class="ttname"><a href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">Character::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01504">character.h:1504</a></div></div>
<div class="ttc" id="aclassnpc_html_ad9af10fbaadd2404019460873fefbda4"><div class="ttname"><a href="classnpc.html#ad9af10fbaadd2404019460873fefbda4">npc::rules</a></div><div class="ttdeci">npc_follower_rules rules</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01331">npc.h:1331</a></div></div>
<div class="ttc" id="aclassuilist_html_a1a7ee6e719a4f1bba45fc94e29a19166"><div class="ttname"><a href="classuilist.html#a1a7ee6e719a4f1bba45fc94e29a19166">uilist::desc_enabled</a></div><div class="ttdeci">bool desc_enabled</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00352">ui.h:352</a></div></div>
<div class="ttc" id="aclassuilist_html_a7f0fab988e26d44a680a2c65cae454c7"><div class="ttname"><a href="classuilist.html#a7f0fab988e26d44a680a2c65cae454c7">uilist::footer_text</a></div><div class="ttdeci">std::string footer_text</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00322">ui.h:322</a></div></div>
<div class="ttc" id="aclassuilist_html_a7f3f2c8ae56dee0381b1ebc34019dcbf"><div class="ttname"><a href="classuilist.html#a7f3f2c8ae56dee0381b1ebc34019dcbf">uilist::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">cleanup</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l00936">ui.cpp:936</a></div></div>
<div class="ttc" id="anamespacedetail_1_1digits_html_aad69d2373aa047bdd9e81494bf3da5aeac7878d891005c72a71703f35dbb2be15"><div class="ttname"><a href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5aeac7878d891005c72a71703f35dbb2be15">detail::digits::done</a></div><div class="ttdeci">@ done</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format-inl_8h_source.html#l01628">fmtlib_format-inl.h:1628</a></div></div>
<div class="ttc" id="anpc_8h_html_a05a2c81a2657358f0255ca09071a6813a4d86aa5b7cf26fbf7d1be4e398b2ce67"><div class="ttname"><a href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813a4d86aa5b7cf26fbf7d1be4e398b2ce67">ally_rule::allow_pulp</a></div><div class="ttdeci">@ allow_pulp</div></div>
<div class="ttc" id="anpc_8h_html_a05a2c81a2657358f0255ca09071a6813a5be11a9176c3d5056b833343103f70f4"><div class="ttname"><a href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813a5be11a9176c3d5056b833343103f70f4">ally_rule::use_guns</a></div><div class="ttdeci">@ use_guns</div></div>
<div class="ttc" id="anpc_8h_html_a05a2c81a2657358f0255ca09071a6813a5c981fdb3be5e8bd1ef605268999b8de"><div class="ttname"><a href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813a5c981fdb3be5e8bd1ef605268999b8de">ally_rule::follow_close</a></div><div class="ttdeci">@ follow_close</div></div>
<div class="ttc" id="anpc_8h_html_a05a2c81a2657358f0255ca09071a6813aa76dfd34a015e77b9101e83caf2babca"><div class="ttname"><a href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813aa76dfd34a015e77b9101e83caf2babca">ally_rule::forbid_engage</a></div><div class="ttdeci">@ forbid_engage</div></div>
<div class="ttc" id="anpc_8h_html_a05a2c81a2657358f0255ca09071a6813acd5a026299ddf6f44abcae44c3c7838d"><div class="ttname"><a href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813acd5a026299ddf6f44abcae44c3c7838d">ally_rule::allow_sleep</a></div><div class="ttdeci">@ allow_sleep</div></div>
<div class="ttc" id="anpc_8h_html_aa27862ea88c73b61be0521ec94a4a3ac"><div class="ttname"><a href="npc_8h.html#aa27862ea88c73b61be0521ec94a4a3ac">ally_rule_strs</a></div><div class="ttdeci">const std::unordered_map&lt; std::string, ally_rule_data &gt; ally_rule_strs</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00367">npc.h:367</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a13dcf795383c76a06112b906efacac43"><div class="ttname"><a href="npctalk_8cpp.html#a13dcf795383c76a06112b906efacac43">parse_tags</a></div><div class="ttdeci">void parse_tags(std::string &amp;phrase, const Character &amp;u, const Character &amp;me, const itype_id &amp;item_type)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l01577">npctalk.cpp:1577</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a97aaebc670a798e23153fc4b83e65554"><div class="ttname"><a href="npctalk_8cpp.html#a97aaebc670a798e23153fc4b83e65554">npc_batch_override_toggle</a></div><div class="ttdeci">static void npc_batch_override_toggle(const std::vector&lt; npc * &gt; &amp;npc_list, ally_rule rule, bool state)</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00244">npctalk.cpp:244</a></div></div>
<div class="ttc" id="astructnpc__follower__rules_html_a82f5873612a10037b9e6e9d95be623d6"><div class="ttname"><a href="structnpc__follower__rules.html#a82f5873612a10037b9e6e9d95be623d6">npc_follower_rules::has_override_enable</a></div><div class="ttdeci">bool has_override_enable(ally_rule test) const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03265">npc.cpp:3265</a></div></div>
<div class="ttc" id="astructnpc__follower__rules_html_ad7640dd1f35a94964cb6bb5cc97a9f3b"><div class="ttname"><a href="structnpc__follower__rules.html#ad7640dd1f35a94964cb6bb5cc97a9f3b">npc_follower_rules::has_override</a></div><div class="ttdeci">bool has_override(ally_rule test) const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l03282">npc.cpp:3282</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="ui_8cpp_source.html#l00942">uilist::addentry()</a>, <a class="el" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813a4d86aa5b7cf26fbf7d1be4e398b2ce67">allow_pulp</a>, <a class="el" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813acd5a026299ddf6f44abcae44c3c7838d">allow_sleep</a>, <a class="el" href="npc_8h_source.html#l00367">ally_rule_strs</a>, <a class="el" href="ui_8h_source.html#l00352">uilist::desc_enabled</a>, <a class="el" href="fmtlib__format-inl_8h_source.html#l01628">detail::digits::done</a>, <a class="el" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813a5c981fdb3be5e8bd1ef605268999b8de">follow_close</a>, <a class="el" href="ui_8h_source.html#l00322">uilist::footer_text</a>, <a class="el" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813aa76dfd34a015e77b9101e83caf2babca">forbid_engage</a>, <a class="el" href="avatar_8cpp_source.html#l00103">get_avatar()</a>, <a class="el" href="npc_8cpp_source.html#l03282">npc_follower_rules::has_override()</a>, <a class="el" href="npc_8cpp_source.html#l03265">npc_follower_rules::has_override_enable()</a>, <a class="el" href="character_8h_source.html#l01504">Character::name</a>, <a class="el" href="npctalk_8cpp_source.html#l00244">npc_batch_override_toggle()</a>, <a class="el" href="npctalk_8cpp_source.html#l00210">NPC_CHAT_CLEAR_OVERRIDES</a>, <a class="el" href="npctalk_8cpp_source.html#l00193">NPC_CHAT_DONE</a>, <a class="el" href="npctalk_8cpp_source.html#l00206">NPC_CHAT_FOLLOW_CLOSE</a>, <a class="el" href="npctalk_8cpp_source.html#l00209">NPC_CHAT_FORBID_ENGAGE</a>, <a class="el" href="npctalk_8cpp_source.html#l00207">NPC_CHAT_MOVE_FREELY</a>, <a class="el" href="npctalk_8cpp_source.html#l00204">NPC_CHAT_NO_GUNS</a>, <a class="el" href="npctalk_8cpp_source.html#l00205">NPC_CHAT_PULP</a>, <a class="el" href="npctalk_8cpp_source.html#l00208">NPC_CHAT_SLEEP</a>, <a class="el" href="npctalk_8cpp_source.html#l01577">parse_tags()</a>, <a class="el" href="ui_8cpp_source.html#l00838">uilist::query()</a>, <a class="el" href="ui_8cpp_source.html#l00936">uilist::reset()</a>, <a class="el" href="ui_8h_source.html#l00412">uilist::ret</a>, <a class="el" href="npc_8h_source.html#l01331">npc::rules</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="ui_8h_source.html#l00320">uilist::text</a>, and <a class="el" href="npc_8h.html#a05a2c81a2657358f0255ca09071a6813a5be11a9176c3d5056b833343103f70f4">use_guns</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00394">game::chat()</a>.</p>

</div>
</div>
<a id="a05e853e2a3a944f51b0fcdb39df6f083" name="a05e853e2a3a944f51b0fcdb39df6f083"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05e853e2a3a944f51b0fcdb39df6f083">&#9670;&nbsp;</a></span>parse_mod()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int parse_mod </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdialogue.html">dialogue</a> &amp;&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>attribute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01371">1371</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>{</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>    <a class="code hl_class" href="classplayer.html">player</a> &amp;u = *d.<a class="code hl_variable" href="structdialogue.html#a42afe2cf929fea970dc6b74a8bec4bd7">alpha</a>;</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>    <a class="code hl_class" href="classnpc.html">npc</a> &amp;p = *d.<a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>;</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>    <span class="keywordtype">int</span> modifier = 0;</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>    <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;ANGER&quot;</span> ) {</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>        modifier = p.<a class="code hl_variable" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code hl_variable" href="structnpc__opinion.html#ae30f2e7ca0b4c62ba71c648c63921d67">anger</a>;</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;FEAR&quot;</span> ) {</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>        modifier = p.<a class="code hl_variable" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code hl_variable" href="structnpc__opinion.html#ac3e3687fbefeca03878ed52f641d4bf7">fear</a>;</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;TRUST&quot;</span> ) {</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>        modifier = p.<a class="code hl_variable" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code hl_variable" href="structnpc__opinion.html#a3dd84c1d61aba9d6486853542c43dd42">trust</a>;</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;VALUE&quot;</span> ) {</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>        modifier = p.<a class="code hl_variable" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code hl_variable" href="structnpc__opinion.html#a33fc4533430debe24fb3a9a38acfabbe">value</a>;</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;POS_FEAR&quot;</span> ) {</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>        modifier = std::max( 0, p.<a class="code hl_variable" href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">op_of_u</a>.<a class="code hl_variable" href="structnpc__opinion.html#ac3e3687fbefeca03878ed52f641d4bf7">fear</a> );</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;AGGRESSION&quot;</span> ) {</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>        modifier = p.<a class="code hl_variable" href="classnpc.html#a21a2c9d7a8bebc596239365fb6aff1c5">personality</a>.<a class="code hl_variable" href="structnpc__personality.html#a7e9e147a18545b4159dba520e6646bcd">aggression</a>;</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;ALTRUISM&quot;</span> ) {</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>        modifier = p.<a class="code hl_variable" href="classnpc.html#a21a2c9d7a8bebc596239365fb6aff1c5">personality</a>.<a class="code hl_variable" href="structnpc__personality.html#ad4dc031dbceccb58e8910b2f21b61e52">altruism</a>;</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;BRAVERY&quot;</span> ) {</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>        modifier = p.<a class="code hl_variable" href="classnpc.html#a21a2c9d7a8bebc596239365fb6aff1c5">personality</a>.<a class="code hl_variable" href="structnpc__personality.html#ac70a63afb254214ac7a82bd01972ec72">bravery</a>;</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;COLLECTOR&quot;</span> ) {</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>        modifier = p.<a class="code hl_variable" href="classnpc.html#a21a2c9d7a8bebc596239365fb6aff1c5">personality</a>.<a class="code hl_variable" href="structnpc__personality.html#a2ccfa35e0a49e2eb82b9b49bc3776d4b">collector</a>;</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;MISSIONS&quot;</span> ) {</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>        modifier = p.<a class="code hl_function" href="classnpc.html#a9b77cfe67ea0ea2151d191f494c8a094">assigned_missions_value</a>() / <a class="code hl_define" href="npctalk_8cpp.html#a3bfe374d17a62d8610a3eb51152de432">OWED_VAL</a>;</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;U_INTIMIDATE&quot;</span> ) {</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>        modifier = u.<a class="code hl_function" href="classplayer.html#a3eab8f8fdf3915abd37edddb25510530">intimidation</a>();</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( attribute == <span class="stringliteral">&quot;NPC_INTIMIDATE&quot;</span> ) {</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>        modifier = p.<a class="code hl_function" href="classplayer.html#a3eab8f8fdf3915abd37edddb25510530">intimidation</a>();</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>    }</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>    modifier *= factor;</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>    <span class="keywordflow">return</span> modifier;</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>}</div>
<div class="ttc" id="aclassnpc_html_a21a2c9d7a8bebc596239365fb6aff1c5"><div class="ttname"><a href="classnpc.html#a21a2c9d7a8bebc596239365fb6aff1c5">npc::personality</a></div><div class="ttdeci">npc_personality personality</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01327">npc.h:1327</a></div></div>
<div class="ttc" id="aclassnpc_html_a9b77cfe67ea0ea2151d191f494c8a094"><div class="ttname"><a href="classnpc.html#a9b77cfe67ea0ea2151d191f494c8a094">npc::assigned_missions_value</a></div><div class="ttdeci">int assigned_missions_value()</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01460">npc.cpp:1460</a></div></div>
<div class="ttc" id="aclassnpc_html_ae17fa770d3d2ecbb89371e334c21ea6b"><div class="ttname"><a href="classnpc.html#ae17fa770d3d2ecbb89371e334c21ea6b">npc::op_of_u</a></div><div class="ttdeci">npc_opinion op_of_u</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01328">npc.h:1328</a></div></div>
<div class="ttc" id="aclassplayer_html"><div class="ttname"><a href="classplayer.html">player</a></div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00090">player.h:91</a></div></div>
<div class="ttc" id="aclassplayer_html_a3eab8f8fdf3915abd37edddb25510530"><div class="ttname"><a href="classplayer.html#a3eab8f8fdf3915abd37edddb25510530">player::intimidation</a></div><div class="ttdeci">int intimidation() const</div><div class="ttdoc">Returns a value used when attempting to intimidate NPC's.</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00754">player.cpp:754</a></div></div>
<div class="ttc" id="anpctalk_8cpp_html_a3bfe374d17a62d8610a3eb51152de432"><div class="ttname"><a href="npctalk_8cpp.html#a3bfe374d17a62d8610a3eb51152de432">OWED_VAL</a></div><div class="ttdeci">#define OWED_VAL</div><div class="ttdef"><b>Definition:</b> <a href="npctalk_8cpp_source.html#l00116">npctalk.cpp:116</a></div></div>
<div class="ttc" id="astructdialogue_html_a2edd4e78d06b37dafd34284a48b82720"><div class="ttname"><a href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">dialogue::beta</a></div><div class="ttdeci">npc * beta</div><div class="ttdoc">The NPC we talk to.</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00231">dialogue.h:231</a></div></div>
<div class="ttc" id="astructdialogue_html_a42afe2cf929fea970dc6b74a8bec4bd7"><div class="ttname"><a href="structdialogue.html#a42afe2cf929fea970dc6b74a8bec4bd7">dialogue::alpha</a></div><div class="ttdeci">player * alpha</div><div class="ttdoc">The player character that speaks (always g-&gt;u).</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00226">dialogue.h:226</a></div></div>
<div class="ttc" id="astructnpc__opinion_html_a33fc4533430debe24fb3a9a38acfabbe"><div class="ttname"><a href="structnpc__opinion.html#a33fc4533430debe24fb3a9a38acfabbe">npc_opinion::value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00242">npc.h:242</a></div></div>
<div class="ttc" id="astructnpc__opinion_html_a3dd84c1d61aba9d6486853542c43dd42"><div class="ttname"><a href="structnpc__opinion.html#a3dd84c1d61aba9d6486853542c43dd42">npc_opinion::trust</a></div><div class="ttdeci">int trust</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00240">npc.h:240</a></div></div>
<div class="ttc" id="astructnpc__opinion_html_ac3e3687fbefeca03878ed52f641d4bf7"><div class="ttname"><a href="structnpc__opinion.html#ac3e3687fbefeca03878ed52f641d4bf7">npc_opinion::fear</a></div><div class="ttdeci">int fear</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00241">npc.h:241</a></div></div>
<div class="ttc" id="astructnpc__opinion_html_ae30f2e7ca0b4c62ba71c648c63921d67"><div class="ttname"><a href="structnpc__opinion.html#ae30f2e7ca0b4c62ba71c648c63921d67">npc_opinion::anger</a></div><div class="ttdeci">int anger</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00243">npc.h:243</a></div></div>
<div class="ttc" id="astructnpc__personality_html_a2ccfa35e0a49e2eb82b9b49bc3776d4b"><div class="ttname"><a href="structnpc__personality.html#a2ccfa35e0a49e2eb82b9b49bc3776d4b">npc_personality::collector</a></div><div class="ttdeci">signed char collector</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00226">npc.h:226</a></div></div>
<div class="ttc" id="astructnpc__personality_html_a7e9e147a18545b4159dba520e6646bcd"><div class="ttname"><a href="structnpc__personality.html#a7e9e147a18545b4159dba520e6646bcd">npc_personality::aggression</a></div><div class="ttdeci">signed char aggression</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00224">npc.h:224</a></div></div>
<div class="ttc" id="astructnpc__personality_html_ac70a63afb254214ac7a82bd01972ec72"><div class="ttname"><a href="structnpc__personality.html#ac70a63afb254214ac7a82bd01972ec72">npc_personality::bravery</a></div><div class="ttdeci">signed char bravery</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00225">npc.h:225</a></div></div>
<div class="ttc" id="astructnpc__personality_html_ad4dc031dbceccb58e8910b2f21b61e52"><div class="ttname"><a href="structnpc__personality.html#ad4dc031dbceccb58e8910b2f21b61e52">npc_personality::altruism</a></div><div class="ttdeci">signed char altruism</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00227">npc.h:227</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="npc_8h_source.html#l00224">npc_personality::aggression</a>, <a class="el" href="dialogue_8h_source.html#l00226">dialogue::alpha</a>, <a class="el" href="npc_8h_source.html#l00227">npc_personality::altruism</a>, <a class="el" href="npc_8h_source.html#l00243">npc_opinion::anger</a>, <a class="el" href="npc_8cpp_source.html#l01460">npc::assigned_missions_value()</a>, <a class="el" href="dialogue_8h_source.html#l00231">dialogue::beta</a>, <a class="el" href="npc_8h_source.html#l00225">npc_personality::bravery</a>, <a class="el" href="npc_8h_source.html#l00226">npc_personality::collector</a>, <a class="el" href="npc_8h_source.html#l00241">npc_opinion::fear</a>, <a class="el" href="player_8cpp_source.html#l00754">player::intimidation()</a>, <a class="el" href="npc_8h_source.html#l01328">npc::op_of_u</a>, <a class="el" href="npctalk_8cpp_source.html#l00116">OWED_VAL</a>, <a class="el" href="npc_8h_source.html#l01327">npc::personality</a>, <a class="el" href="npc_8h_source.html#l00240">npc_opinion::trust</a>, and <a class="el" href="npc_8h_source.html#l00242">npc_opinion::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01405">talk_trial::calc_chance()</a>, and <a class="el" href="npctalk_8cpp_source.html#l02199">talk_effect_fun_t::set_add_debt()</a>.</p>

</div>
</div>
<a id="a13dcf795383c76a06112b906efacac43" name="a13dcf795383c76a06112b906efacac43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13dcf795383c76a06112b906efacac43">&#9670;&nbsp;</a></span>parse_tags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void parse_tags </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>phrase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>item_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01577">1577</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>{</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>    phrase = <a class="code hl_variable" href="text__snippets_8cpp.html#ac3fc11c159cd056aa15ad7c0b37b070a">SNIPPET</a>.<a class="code hl_function" href="classsnippet__library.html#a2c546ab8c71efe861ce1400b8d3e1261">expand</a>( <a class="code hl_function" href="output_8cpp.html#a7dc5cafe61ba3c31bc3288767aa018f9">remove_color_tags</a>( phrase ) );</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span> </div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>    <span class="keywordtype">size_t</span> fa;</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>    <span class="keywordtype">size_t</span> fb;</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>    std::string tag;</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>        fa = phrase.find( <span class="charliteral">&#39;&lt;&#39;</span> );</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>        fb = phrase.find( <span class="charliteral">&#39;&gt;&#39;</span> );</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>        <span class="keywordtype">int</span> l = fb - fa + 1;</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>        <span class="keywordflow">if</span>( fa != std::string::npos &amp;&amp; fb != std::string::npos ) {</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>            tag = phrase.substr( fa, fb - fa + 1 );</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>        }</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span> </div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>        <span class="comment">// Special, dynamic tags go here</span></div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>        <span class="keywordflow">if</span>( tag == <span class="stringliteral">&quot;&lt;yrwp&gt;&quot;</span> ) {</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>            phrase.replace( fa, l, <a class="code hl_function" href="output_8cpp.html#a7dc5cafe61ba3c31bc3288767aa018f9">remove_color_tags</a>( u.<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ) );</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tag == <span class="stringliteral">&quot;&lt;mywp&gt;&quot;</span> ) {</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>            <span class="keywordflow">if</span>( !me.<a class="code hl_function" href="classCharacter.html#ad79464264cb8a2061f5888d092f5cd86">is_armed</a>() ) {</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>                phrase.replace( fa, l, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;fists&quot;</span> ) );</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>                phrase.replace( fa, l, <a class="code hl_function" href="output_8cpp.html#a7dc5cafe61ba3c31bc3288767aa018f9">remove_color_tags</a>( me.<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() ) );</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>            }</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tag == <span class="stringliteral">&quot;&lt;ammo&gt;&quot;</span> ) {</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>            <span class="keywordflow">if</span>( !me.<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a2912b2e15a4eec07a5070fffbbd152e8">is_gun</a>() ) {</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>                phrase.replace( fa, l, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;BADAMMO&quot;</span> ) );</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>                phrase.replace( fa, l, me.<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a>.<a class="code hl_function" href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">ammo_current</a>()-&gt;<a class="code hl_function" href="structitype.html#ad35fbe0013544c1c396944b20b264421">nname</a>( 1 ) );</div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>            }</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tag == <span class="stringliteral">&quot;&lt;current_activity&gt;&quot;</span> ) {</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>            std::string activity_name;</div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span>            <span class="keyword">const</span> <a class="code hl_class" href="classnpc.html">npc</a> *guy = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classnpc.html">npc</a> *<span class="keyword">&gt;</span>( &amp;me );</div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>            <span class="keywordflow">if</span>( guy-&gt;<a class="code hl_variable" href="classnpc.html#a965025669d8af18fe89adf0a2f477b9a">current_activity_id</a> ) {</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>                activity_name = guy-&gt;<a class="code hl_variable" href="classnpc.html#a965025669d8af18fe89adf0a2f477b9a">current_activity_id</a>.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_function" href="classactivity__type.html#a895de2408ed81a8aaa60df8e2e64265e">verb</a>().<a class="code hl_function" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>();</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>                activity_name = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;doing this and that&quot;</span> );</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>            }</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>            phrase.replace( fa, l, activity_name );</div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tag == <span class="stringliteral">&quot;&lt;punc&gt;&quot;</span> ) {</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>            <span class="keywordflow">switch</span>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 2 ) ) {</div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>                <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>                    phrase.replace( fa, l, <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;punctuation&quot;</span>, <span class="stringliteral">&quot;.&quot;</span> ) );</div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>                <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>                    phrase.replace( fa, l, <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;punctuation&quot;</span>, <span class="stringliteral">&quot;&quot;</span> ) );</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>                <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>                    phrase.replace( fa, l, <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;punctuation&quot;</span>, <span class="stringliteral">&quot;!&quot;</span> ) );</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>            }</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tag == <span class="stringliteral">&quot;&lt;mypronoun&gt;&quot;</span> ) {</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>            std::string npcstr = me.<a class="code hl_variable" href="classCharacter.html#a8e6a78e6c4497a9aa7b8cc127dcdd4e3">male</a> ? <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;npc&quot;</span>, <span class="stringliteral">&quot;He&quot;</span> ) : <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;npc&quot;</span>, <span class="stringliteral">&quot;She&quot;</span> );</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>            phrase.replace( fa, l, npcstr );</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tag == <span class="stringliteral">&quot;&lt;topic_item&gt;&quot;</span> ) {</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>            phrase.replace( fa, l, <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( item_type, 2 ) );</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tag == <span class="stringliteral">&quot;&lt;topic_item_price&gt;&quot;</span> ) {</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>            <a class="code hl_class" href="classitem.html">item</a> tmp( item_type );</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>            phrase.replace( fa, l, <a class="code hl_function" href="output_8h.html#afc5db1b09e0b37fa89eda5966c61b1f5">format_money</a>( tmp.price( <span class="keyword">true</span> ) ) );</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tag == <span class="stringliteral">&quot;&lt;topic_item_my_total_price&gt;&quot;</span> ) {</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>            <a class="code hl_class" href="classitem.html">item</a> tmp( item_type );</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>            tmp.charges = me.<a class="code hl_function" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a>( item_type );</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>            phrase.replace( fa, l, <a class="code hl_function" href="output_8h.html#afc5db1b09e0b37fa89eda5966c61b1f5">format_money</a>( tmp.price( <span class="keyword">true</span> ) ) );</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tag == <span class="stringliteral">&quot;&lt;topic_item_your_total_price&gt;&quot;</span> ) {</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>            <a class="code hl_class" href="classitem.html">item</a> tmp( item_type );</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>            tmp.charges = u.<a class="code hl_function" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a>( item_type );</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>            phrase.replace( fa, l, <a class="code hl_function" href="output_8h.html#afc5db1b09e0b37fa89eda5966c61b1f5">format_money</a>( tmp.price( <span class="keyword">true</span> ) ) );</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !tag.empty() ) {</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Bad tag.  &#39;%s&#39; (%d - %d)&quot;</span>, tag.c_str(), fa, fb );</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>            phrase.replace( fa, fb - fa + 1, <span class="stringliteral">&quot;????&quot;</span> );</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>        }</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>    } <span class="keywordflow">while</span>( fa != std::string::npos &amp;&amp; fb != std::string::npos );</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>}</div>
<div class="ttc" id="aartifact_8cpp_html_a70800e95389f34dd34186fafaea2a840"><div class="ttname"><a href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a></div><div class="ttdeci">units::quantity&lt; V, B &gt; rng(const units::quantity&lt; V, B &gt; &amp;min, const units::quantity&lt; V, B &gt; &amp;max)</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8cpp_source.html#l00032">artifact.cpp:32</a></div></div>
<div class="ttc" id="aclassCharacter_html_a8e6a78e6c4497a9aa7b8cc127dcdd4e3"><div class="ttname"><a href="classCharacter.html#a8e6a78e6c4497a9aa7b8cc127dcdd4e3">Character::male</a></div><div class="ttdeci">bool male</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01505">character.h:1505</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad79464264cb8a2061f5888d092f5cd86"><div class="ttname"><a href="classCharacter.html#ad79464264cb8a2061f5888d092f5cd86">Character::is_armed</a></div><div class="ttdeci">bool is_armed() const</div><div class="ttdoc">Returns true if the character is wielding something.</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l00145">melee.cpp:145</a></div></div>
<div class="ttc" id="aclassactivity__type_html_a895de2408ed81a8aaa60df8e2e64265e"><div class="ttname"><a href="classactivity__type.html#a895de2408ed81a8aaa60df8e2e64265e">activity_type::verb</a></div><div class="ttdeci">const translation &amp; verb() const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00052">activity_type.h:52</a></div></div>
<div class="ttc" id="aclassitem_html_a438855ffd52d33307e1dfba6d607535b"><div class="ttname"><a href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a></div><div class="ttdeci">static std::string nname(const itype_id &amp;id, unsigned int quantity=1)</div><div class="ttdoc">Returns the translated item name for the item with given id.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09789">item.cpp:9789</a></div></div>
<div class="ttc" id="aclassitem_html_a624c3b7ec10ae766a9e75718af71e647"><div class="ttname"><a href="classitem.html#a624c3b7ec10ae766a9e75718af71e647">item::ammo_current</a></div><div class="ttdeci">itype_id ammo_current() const</div><div class="ttdoc">Specific ammo type, returns &quot;null&quot; if item is neither ammo nor loaded with any.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l07433">item.cpp:7433</a></div></div>
<div class="ttc" id="aclassitem_html_a7e78e26dcf9b357cda769c3ca2938eda"><div class="ttname"><a href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">item::tname</a></div><div class="ttdeci">std::string tname(unsigned int quantity=1, bool with_prefix=true, unsigned int truncate=0) const</div><div class="ttdoc">Return the (translated) item name.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04473">item.cpp:4473</a></div></div>
<div class="ttc" id="aclassnpc_html_a965025669d8af18fe89adf0a2f477b9a"><div class="ttname"><a href="classnpc.html#a965025669d8af18fe89adf0a2f477b9a">npc::current_activity_id</a></div><div class="ttdeci">activity_id current_activity_id</div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l01249">npc.h:1249</a></div></div>
<div class="ttc" id="aclasssnippet__library_html_a2c546ab8c71efe861ce1400b8d3e1261"><div class="ttname"><a href="classsnippet__library.html#a2c546ab8c71efe861ce1400b8d3e1261">snippet_library::expand</a></div><div class="ttdeci">std::string expand(const std::string &amp;str) const</div><div class="ttdoc">Expand the string by recursively replacing tags in angle brackets (&lt;&gt;) with random snippets from the ...</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00108">text_snippets.cpp:108</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00058">achievement.cpp:58</a></div></div>
<div class="ttc" id="aclasstranslation_html_a30b5b9d586c786942c2321701a53e572"><div class="ttname"><a href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translation::translated</a></div><div class="ttdeci">std::string translated(int num=1) const</div><div class="ttdoc">Returns raw string if no translation is needed, otherwise returns the translated string.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00309">translations.cpp:309</a></div></div>
<div class="ttc" id="aclassvisitable_html_a517e20b6f6c13b8316d5cce8e310b871"><div class="ttname"><a href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">visitable::charges_of</a></div><div class="ttdeci">int charges_of(const itype_id &amp;what, int limit=INT_MAX, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;, std::function&lt; void(int)&gt; visitor=nullptr) const</div><div class="ttdoc">Count maximum available charges from this instance and any contained items.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00943">visitable.cpp:943</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a7dc5cafe61ba3c31bc3288767aa018f9"><div class="ttname"><a href="output_8cpp.html#a7dc5cafe61ba3c31bc3288767aa018f9">remove_color_tags</a></div><div class="ttdeci">std::string remove_color_tags(const std::string &amp;s)</div><div class="ttdoc">Removes the color tags from the input string.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00145">output.cpp:145</a></div></div>
<div class="ttc" id="aoutput_8h_html_afc5db1b09e0b37fa89eda5966c61b1f5"><div class="ttname"><a href="output_8h.html#afc5db1b09e0b37fa89eda5966c61b1f5">format_money</a></div><div class="ttdeci">std::string format_money(int cents)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00975">output.h:975</a></div></div>
<div class="ttc" id="astructitype_html_ad35fbe0013544c1c396944b20b264421"><div class="ttname"><a href="structitype.html#ad35fbe0013544c1c396944b20b264421">itype::nname</a></div><div class="ttdeci">std::string nname(unsigned int quantity) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00046">itype.cpp:46</a></div></div>
<div class="ttc" id="atext__snippets_8cpp_html_ac3fc11c159cd056aa15ad7c0b37b070a"><div class="ttname"><a href="text__snippets_8cpp.html#ac3fc11c159cd056aa15ad7c0b37b070a">SNIPPET</a></div><div class="ttdeci">snippet_library SNIPPET</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00012">text_snippets.cpp:12</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_af0c79b5c75a7cf2df78663485b03ed9a"><div class="ttname"><a href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a></div><div class="ttdeci">const char * pgettext(const char *context, const char *msgid)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00041">translations.cpp:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8cpp_source.html#l07433">item::ammo_current()</a>, <a class="el" href="item_8h_source.html#l02196">item::charges</a>, <a class="el" href="visitable_8cpp_source.html#l00943">visitable&lt; T &gt;::charges_of()</a>, <a class="el" href="npc_8h_source.html#l01249">npc::current_activity_id</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="text__snippets_8cpp_source.html#l00108">snippet_library::expand()</a>, <a class="el" href="output_8h_source.html#l00975">format_money()</a>, <a class="el" href="melee_8cpp_source.html#l00145">Character::is_armed()</a>, <a class="el" href="item_8cpp_source.html#l06397">item::is_gun()</a>, <a class="el" href="character_8h_source.html#l01505">Character::male</a>, <a class="el" href="item_8cpp_source.html#l09789">item::nname()</a>, <a class="el" href="itype_8cpp_source.html#l00046">itype::nname()</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, <a class="el" href="translations_8cpp_source.html#l00041">pgettext()</a>, <a class="el" href="item_8cpp_source.html#l04837">item::price()</a>, <a class="el" href="output_8cpp_source.html#l00145">remove_color_tags()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00012">SNIPPET</a>, <a class="el" href="item_8cpp_source.html#l04473">item::tname()</a>, <a class="el" href="translations_8cpp_source.html#l00309">translation::translated()</a>, <a class="el" href="activity__type_8h_source.html#l00052">activity_type::verb()</a>, and <a class="el" href="character_8h_source.html#l01521">Character::weapon</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01664">talk_response::create_option_line()</a>, <a class="el" href="npctalk_8cpp_source.html#l00252">npc_temp_orders_menu()</a>, <a class="el" href="npctalk_8cpp_source.html#l01734">dialogue::opt()</a>, <a class="el" href="npc_8cpp_source.html#l01545">npc::say()</a>, and <a class="el" href="suffer_8cpp_source.html#l00432">Character::suffer_from_schizophrenia()</a>.</p>

</div>
</div>
<a id="a9569ca0395819dfdc2713c5f42a21b0a" name="a9569ca0395819dfdc2713c5f42a21b0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9569ca0395819dfdc2713c5f42a21b0a">&#9670;&nbsp;</a></span>special_talk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structtalk__topic.html">talk_topic</a> &amp; special_talk </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01715">1715</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>{</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::map&lt;char, talk_topic&gt; key_map = {{</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>            { <span class="charliteral">&#39;L&#39;</span>, <a class="code hl_struct" href="structtalk__topic.html">talk_topic</a>( <span class="stringliteral">&quot;TALK_LOOK_AT&quot;</span> ) },</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>            { <span class="charliteral">&#39;S&#39;</span>, <a class="code hl_struct" href="structtalk__topic.html">talk_topic</a>( <span class="stringliteral">&quot;TALK_SIZE_UP&quot;</span> ) },</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>            { <span class="charliteral">&#39;O&#39;</span>, <a class="code hl_struct" href="structtalk__topic.html">talk_topic</a>( <span class="stringliteral">&quot;TALK_OPINION&quot;</span> ) },</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>            { <span class="charliteral">&#39;Y&#39;</span>, <a class="code hl_struct" href="structtalk__topic.html">talk_topic</a>( <span class="stringliteral">&quot;TALK_SHOUT&quot;</span> ) },</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span>        }</div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>    };</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span> </div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>    <span class="keyword">const</span> <span class="keyword">auto</span> iter = key_map.find( ch );</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>    <span class="keywordflow">if</span>( iter != key_map.end() ) {</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>        <span class="keywordflow">return</span> iter-&gt;second;</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>    }</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span> </div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_struct" href="structtalk__topic.html">talk_topic</a> no_topic = <a class="code hl_struct" href="structtalk__topic.html">talk_topic</a>( <span class="stringliteral">&quot;TALK_NONE&quot;</span> );</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>    <span class="keywordflow">return</span> no_topic;</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01734">dialogue::opt()</a>.</p>

</div>
</div>
<a id="a72ba8976292b14b295ec50d7b740bf86" name="a72ba8976292b14b295ec50d7b740bf86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72ba8976292b14b295ec50d7b740bf86">&#9670;&nbsp;</a></span>tell_magic_veh_stop_following()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tell_magic_veh_stop_following </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l00377">377</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>{</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    <span class="keywordflow">for</span>( <a class="code hl_struct" href="structwrapped__vehicle.html">wrapped_vehicle</a> &amp;veh : <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().get_vehicles() ) {</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>        <a class="code hl_class" href="classvehicle.html">vehicle</a> *v = veh.v;</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>        <span class="keywordflow">if</span>( v-&gt;<a class="code hl_variable" href="classvehicle.html#a506fb7b0a17c1578498599e14c173710">magic</a> ) {</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classvpart__reference.html">vpart_reference</a> &amp;vp : v-&gt;<a class="code hl_function" href="classvehicle.html#a397b40aa92dd1fd09ee592aa279bc656">get_all_parts</a>() ) {</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>                <span class="keyword">const</span> <a class="code hl_class" href="classvpart__info.html">vpart_info</a> &amp;vpi = vp.info();</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>                <span class="keywordflow">if</span>( vpi.<a class="code hl_function" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;MAGIC_FOLLOW&quot;</span> ) ) {</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>                    v-&gt;<a class="code hl_variable" href="classvehicle.html#a26f98c384048e03538bca10e4f26905d">is_following</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>                    v-&gt;<a class="code hl_variable" href="classvehicle.html#a0ccf22f114d5d8f239ebe58f5c8f70ad">engine_on</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>                }</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>            }</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>        }</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    }</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>}</div>
<div class="ttc" id="aclassvehicle_html_a0ccf22f114d5d8f239ebe58f5c8f70ad"><div class="ttname"><a href="classvehicle.html#a0ccf22f114d5d8f239ebe58f5c8f70ad">vehicle::engine_on</a></div><div class="ttdeci">bool engine_on</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l01989">vehicle.h:1989</a></div></div>
<div class="ttc" id="aclassvehicle_html_a26f98c384048e03538bca10e4f26905d"><div class="ttname"><a href="classvehicle.html#a26f98c384048e03538bca10e4f26905d">vehicle::is_following</a></div><div class="ttdeci">bool is_following</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l01983">vehicle.h:1983</a></div></div>
<div class="ttc" id="aclassvehicle_html_a397b40aa92dd1fd09ee592aa279bc656"><div class="ttname"><a href="classvehicle.html#a397b40aa92dd1fd09ee592aa279bc656">vehicle::get_all_parts</a></div><div class="ttdeci">vehicle_part_range get_all_parts() const</div><div class="ttdoc">Yields a range containing all parts (including broken ones) that can be iterated over.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l07070">vehicle.cpp:7070</a></div></div>
<div class="ttc" id="aclassvehicle_html_a506fb7b0a17c1578498599e14c173710"><div class="ttname"><a href="classvehicle.html#a506fb7b0a17c1578498599e14c173710">vehicle::magic</a></div><div class="ttdeci">bool magic</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l01866">vehicle.h:1866</a></div></div>
<div class="ttc" id="aclassvpart__info_html"><div class="ttname"><a href="classvpart__info.html">vpart_info</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00132">veh_type.h:133</a></div></div>
<div class="ttc" id="aclassvpart__info_html_aea0fdb1ef9041e28d7856afae97dcc87"><div class="ttname"><a href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">vpart_info::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00336">veh_type.h:336</a></div></div>
<div class="ttc" id="aclassvpart__reference_html"><div class="ttname"><a href="classvpart__reference.html">vpart_reference</a></div><div class="ttdoc">This is a wrapper over a vehicle pointer and a reference to a part of it.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00126">vpart_position.h:127</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vehicle_8h_source.html#l01989">vehicle::engine_on</a>, <a class="el" href="vehicle_8cpp_source.html#l07070">vehicle::get_all_parts()</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="veh__type_8h_source.html#l00336">vpart_info::has_flag()</a>, <a class="el" href="vehicle_8h_source.html#l01983">vehicle::is_following</a>, and <a class="el" href="vehicle_8h_source.html#l01866">vehicle::magic</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00394">game::chat()</a>.</p>

</div>
</div>
<a id="af0b91d3950ef7dfa56a807f80a5fa488" name="af0b91d3950ef7dfa56a807f80a5fa488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0b91d3950ef7dfa56a807f80a5fa488">&#9670;&nbsp;</a></span>tell_magic_veh_to_follow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tell_magic_veh_to_follow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l00361">361</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>{</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    <span class="keywordflow">for</span>( <a class="code hl_struct" href="structwrapped__vehicle.html">wrapped_vehicle</a> &amp;veh : <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().get_vehicles() ) {</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>        <a class="code hl_class" href="classvehicle.html">vehicle</a> *v = veh.v;</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>        <span class="keywordflow">if</span>( v-&gt;<a class="code hl_variable" href="classvehicle.html#a506fb7b0a17c1578498599e14c173710">magic</a> ) {</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classvpart__reference.html">vpart_reference</a> &amp;vp : v-&gt;<a class="code hl_function" href="classvehicle.html#a397b40aa92dd1fd09ee592aa279bc656">get_all_parts</a>() ) {</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>                <span class="keyword">const</span> <a class="code hl_class" href="classvpart__info.html">vpart_info</a> &amp;vpi = vp.info();</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>                <span class="keywordflow">if</span>( vpi.<a class="code hl_function" href="classvpart__info.html#aea0fdb1ef9041e28d7856afae97dcc87">has_flag</a>( <span class="stringliteral">&quot;MAGIC_FOLLOW&quot;</span> ) &amp;&amp; v-&gt;<a class="code hl_function" href="classvehicle.html#a0f2357d1540b058495b554c1b5593611">is_owned_by</a>( <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>() ) ) {</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>                    v-&gt;<a class="code hl_function" href="classvehicle.html#a3e5ef7a7ef85f65f6f159d29f5fc11c8">activate_magical_follow</a>();</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>                }</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>            }</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>        }</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    }</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>}</div>
<div class="ttc" id="aclassvehicle_html_a3e5ef7a7ef85f65f6f159d29f5fc11c8"><div class="ttname"><a href="classvehicle.html#a3e5ef7a7ef85f65f6f159d29f5fc11c8">vehicle::activate_magical_follow</a></div><div class="ttdeci">void activate_magical_follow()</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l00669">vehicle.cpp:669</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vehicle_8cpp_source.html#l00669">vehicle::activate_magical_follow()</a>, <a class="el" href="vehicle_8cpp_source.html#l07070">vehicle::get_all_parts()</a>, <a class="el" href="avatar_8cpp_source.html#l00103">get_avatar()</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="veh__type_8h_source.html#l00336">vpart_info::has_flag()</a>, <a class="el" href="vehicle_8cpp_source.html#l04335">vehicle::is_owned_by()</a>, and <a class="el" href="vehicle_8h_source.html#l01866">vehicle::magic</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00394">game::chat()</a>.</p>

</div>
</div>
<a id="a7f1f6ddf3cda4ecddb58f07d3dce2269" name="a7f1f6ddf3cda4ecddb58f07d3dce2269"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f1f6ddf3cda4ecddb58f07d3dce2269">&#9670;&nbsp;</a></span>tell_veh_stop_following()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tell_veh_stop_following </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l00340">340</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>{</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    <span class="keywordflow">for</span>( <a class="code hl_struct" href="structwrapped__vehicle.html">wrapped_vehicle</a> &amp;veh : <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().get_vehicles() ) {</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        <a class="code hl_class" href="classvehicle.html">vehicle</a> *v = veh.v;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>        <span class="keywordflow">if</span>( v-&gt;<a class="code hl_function" href="classvehicle.html#a603b71f04b9fdb63f400ac93fb4bea88">has_engine_type</a>( <a class="code hl_variable" href="npctalk_8cpp.html#a944ba9be1d911a61e9ca62af989355fd">fuel_type_animal</a>, <span class="keyword">false</span> ) &amp;&amp; v-&gt;<a class="code hl_function" href="classvehicle.html#a0f2357d1540b058495b554c1b5593611">is_owned_by</a>( <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>() ) ) {</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>            v-&gt;<a class="code hl_variable" href="classvehicle.html#a26f98c384048e03538bca10e4f26905d">is_following</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>            v-&gt;<a class="code hl_variable" href="classvehicle.html#a0ccf22f114d5d8f239ebe58f5c8f70ad">engine_on</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        }</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    }</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vehicle_8h_source.html#l01989">vehicle::engine_on</a>, <a class="el" href="npctalk_8cpp.html#a944ba9be1d911a61e9ca62af989355fd">fuel_type_animal</a>, <a class="el" href="avatar_8cpp_source.html#l00103">get_avatar()</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="vehicle_8cpp_source.html#l01031">vehicle::has_engine_type()</a>, <a class="el" href="vehicle_8h_source.html#l01983">vehicle::is_following</a>, and <a class="el" href="vehicle_8cpp_source.html#l04335">vehicle::is_owned_by()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00394">game::chat()</a>.</p>

</div>
</div>
<a id="ab279ae5583cda7dcb715aec4a4eb0d0b" name="ab279ae5583cda7dcb715aec4a4eb0d0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab279ae5583cda7dcb715aec4a4eb0d0b">&#9670;&nbsp;</a></span>topic_category()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int topic_category </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtalk__topic.html">talk_topic</a> &amp;&#160;</td>
          <td class="paramname"><em>the_topic</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l01494">1494</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>{</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;topic = the_topic.<a class="code hl_variable" href="structtalk__topic.html#ad8e4ad510315bdbd4d4183b2f4d5bf08">id</a>;</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>    <span class="comment">// TODO: ideally, this would be a property of the topic itself.</span></div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>    <span class="comment">// How this works: each category has a set of topics that belong to it, each set is checked</span></div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>    <span class="comment">// for the given topic and if a set contains, the category number is returned.</span></div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::unordered_set&lt;std::string&gt; topic_1 = { {</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>            <span class="stringliteral">&quot;TALK_MISSION_START&quot;</span>, <span class="stringliteral">&quot;TALK_MISSION_DESCRIBE&quot;</span>, <span class="stringliteral">&quot;TALK_MISSION_OFFER&quot;</span>,</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>            <span class="stringliteral">&quot;TALK_MISSION_ACCEPTED&quot;</span>, <span class="stringliteral">&quot;TALK_MISSION_REJECTED&quot;</span>, <span class="stringliteral">&quot;TALK_MISSION_ADVICE&quot;</span>,</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>            <span class="stringliteral">&quot;TALK_MISSION_INQUIRE&quot;</span>, <span class="stringliteral">&quot;TALK_MISSION_SUCCESS&quot;</span>, <span class="stringliteral">&quot;TALK_MISSION_SUCCESS_LIE&quot;</span>,</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>            <span class="stringliteral">&quot;TALK_MISSION_FAILURE&quot;</span>, <span class="stringliteral">&quot;TALK_MISSION_REWARD&quot;</span>, <span class="stringliteral">&quot;TALK_MISSION_END&quot;</span>,</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>            <span class="stringliteral">&quot;TALK_MISSION_DESCRIBE_URGENT&quot;</span></div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>        }</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>    };</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>    <span class="keywordflow">if</span>( topic_1.count( topic ) &gt; 0 ) {</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>    }</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::unordered_set&lt;std::string&gt; topic_2 = { {</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>            <span class="stringliteral">&quot;TALK_SHARE_EQUIPMENT&quot;</span>, <span class="stringliteral">&quot;TALK_GIVE_EQUIPMENT&quot;</span>, <span class="stringliteral">&quot;TALK_DENY_EQUIPMENT&quot;</span></div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>        }</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>    };</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>    <span class="keywordflow">if</span>( topic_2.count( topic ) &gt; 0 ) {</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>        <span class="keywordflow">return</span> 2;</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>    }</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::unordered_set&lt;std::string&gt; topic_3 = { {</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>            <span class="stringliteral">&quot;TALK_SUGGEST_FOLLOW&quot;</span>, <span class="stringliteral">&quot;TALK_AGREE_FOLLOW&quot;</span>, <span class="stringliteral">&quot;TALK_DENY_FOLLOW&quot;</span>,</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>        }</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>    };</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>    <span class="keywordflow">if</span>( topic_3.count( topic ) &gt; 0 ) {</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>        <span class="keywordflow">return</span> 3;</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>    }</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::unordered_set&lt;std::string&gt; topic_4 = { {</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>            <span class="stringliteral">&quot;TALK_COMBAT_ENGAGEMENT&quot;</span>,</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>        }</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>    };</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>    <span class="keywordflow">if</span>( topic_4.count( topic ) &gt; 0 ) {</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>        <span class="keywordflow">return</span> 4;</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>    }</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::unordered_set&lt;std::string&gt; topic_5 = { {</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>            <span class="stringliteral">&quot;TALK_COMBAT_COMMANDS&quot;</span>,</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>        }</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>    };</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>    <span class="keywordflow">if</span>( topic_5.count( topic ) &gt; 0 ) {</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>        <span class="keywordflow">return</span> 5;</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>    }</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::unordered_set&lt;std::string&gt; topic_6 = { {</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>            <span class="stringliteral">&quot;TALK_TRAIN&quot;</span>, <span class="stringliteral">&quot;TALK_TRAIN_START&quot;</span>, <span class="stringliteral">&quot;TALK_TRAIN_FORCE&quot;</span></div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>        }</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>    };</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>    <span class="keywordflow">if</span>( topic_6.count( topic ) &gt; 0 ) {</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>        <span class="keywordflow">return</span> 6;</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>    }</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::unordered_set&lt;std::string&gt; topic_7 = { {</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>            <span class="stringliteral">&quot;TALK_MISC_RULES&quot;</span>,</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>        }</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span>    };</div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>    <span class="keywordflow">if</span>( topic_7.count( topic ) &gt; 0 ) {</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>        <span class="keywordflow">return</span> 7;</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>    }</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::unordered_set&lt;std::string&gt; topic_8 = { {</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>            <span class="stringliteral">&quot;TALK_AIM_RULES&quot;</span>,</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>        }</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>    };</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>    <span class="keywordflow">if</span>( topic_8.count( topic ) &gt; 0 ) {</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>        <span class="keywordflow">return</span> 8;</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>    }</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::unordered_set&lt;std::string&gt; topic_9 = { {</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>            <span class="stringliteral">&quot;TALK_FRIEND&quot;</span>, <span class="stringliteral">&quot;TALK_GIVE_ITEM&quot;</span>, <span class="stringliteral">&quot;TALK_USE_ITEM&quot;</span>,</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>        }</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>    };</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>    <span class="keywordflow">if</span>( topic_9.count( topic ) &gt; 0 ) {</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>        <span class="keywordflow">return</span> 9;</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>    }</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::unordered_set&lt;std::string&gt; topic_99 = { {</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>            <span class="stringliteral">&quot;TALK_SIZE_UP&quot;</span>, <span class="stringliteral">&quot;TALK_LOOK_AT&quot;</span>, <span class="stringliteral">&quot;TALK_OPINION&quot;</span>, <span class="stringliteral">&quot;TALK_SHOUT&quot;</span></div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>        }</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>    };</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>    <span class="keywordflow">if</span>( topic_99.count( topic ) &gt; 0 ) {</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>        <span class="keywordflow">return</span> 99;</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>    }</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>    <span class="keywordflow">return</span> -1; <span class="comment">// Not grouped with other topics</span></div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>}</div>
<div class="ttc" id="astructtalk__topic_html_ad8e4ad510315bdbd4d4183b2f4d5bf08"><div class="ttname"><a href="structtalk__topic.html#ad8e4ad510315bdbd4d4183b2f4d5bf08">talk_topic::id</a></div><div class="ttdeci">std::string id</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00076">dialogue.h:76</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dialogue_8h_source.html#l00076">talk_topic::id</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00732">npc::talk_to_u()</a>.</p>

</div>
</div>
<a id="acb7e8f127664bce2d1fbc244a979049b" name="acb7e8f127664bce2d1fbc244a979049b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb7e8f127664bce2d1fbc244a979049b">&#9670;&nbsp;</a></span>translate_gendered_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::string translate_gendered_line </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>relevant_genders</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdialogue.html">dialogue</a> &amp;&#160;</td>
          <td class="paramname"><em>d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l02943">2943</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02948" name="l02948"></a><span class="lineno"> 2948</span>{</div>
<div class="line"><a id="l02949" name="l02949"></a><span class="lineno"> 2949</span>    <a class="code hl_typedef" href="translations_8h.html#a71c4682e6c8cf28e1e0977043216b5f3">GenderMap</a> gender_map;</div>
<div class="line"><a id="l02950" name="l02950"></a><span class="lineno"> 2950</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;subject : relevant_genders ) {</div>
<div class="line"><a id="l02951" name="l02951"></a><span class="lineno"> 2951</span>        <span class="keywordflow">if</span>( subject == <span class="stringliteral">&quot;npc&quot;</span> ) {</div>
<div class="line"><a id="l02952" name="l02952"></a><span class="lineno"> 2952</span>            gender_map[subject] = d.<a class="code hl_variable" href="structdialogue.html#a2edd4e78d06b37dafd34284a48b82720">beta</a>-&gt;<a class="code hl_function" href="classCharacter.html#a0a8f84d5dc2a79148c5f22cae8ef1dc2">get_grammatical_genders</a>();</div>
<div class="line"><a id="l02953" name="l02953"></a><span class="lineno"> 2953</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( subject == <span class="stringliteral">&quot;u&quot;</span> ) {</div>
<div class="line"><a id="l02954" name="l02954"></a><span class="lineno"> 2954</span>            gender_map[subject] = d.<a class="code hl_variable" href="structdialogue.html#a42afe2cf929fea970dc6b74a8bec4bd7">alpha</a>-&gt;<a class="code hl_function" href="classCharacter.html#a0a8f84d5dc2a79148c5f22cae8ef1dc2">get_grammatical_genders</a>();</div>
<div class="line"><a id="l02955" name="l02955"></a><span class="lineno"> 2955</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02956" name="l02956"></a><span class="lineno"> 2956</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Unsupported subject &#39;%s&#39; for grammatical gender in dialogue&quot;</span>, subject );</div>
<div class="line"><a id="l02957" name="l02957"></a><span class="lineno"> 2957</span>        }</div>
<div class="line"><a id="l02958" name="l02958"></a><span class="lineno"> 2958</span>    }</div>
<div class="line"><a id="l02959" name="l02959"></a><span class="lineno"> 2959</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="translations_8cpp.html#a516754710b957ec7001782b38ec753ed">gettext_gendered</a>( gender_map, <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> );</div>
<div class="line"><a id="l02960" name="l02960"></a><span class="lineno"> 2960</span>}</div>
<div class="ttc" id="aclassCharacter_html_a0a8f84d5dc2a79148c5f22cae8ef1dc2"><div class="ttname"><a href="classCharacter.html#a0a8f84d5dc2a79148c5f22cae8ef1dc2">Character::get_grammatical_genders</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_grammatical_genders() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06100">character.cpp:6100</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_a90f1f53dc044e93e7f7f9314cef1bd45"><div class="ttname"><a href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a></div><div class="ttdeci">void line(map *m, const ter_id &amp;type, const point &amp;p1, const point &amp;p2)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l06462">mapgen.cpp:6462</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_a516754710b957ec7001782b38ec753ed"><div class="ttname"><a href="translations_8cpp.html#a516754710b957ec7001782b38ec753ed">gettext_gendered</a></div><div class="ttdeci">std::string gettext_gendered(const GenderMap &amp;genders, const std::string &amp;msg)</div><div class="ttdoc">Translation with a gendered context.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00052">translations.cpp:52</a></div></div>
<div class="ttc" id="atranslations_8h_html_a71c4682e6c8cf28e1e0977043216b5f3"><div class="ttname"><a href="translations_8h.html#a71c4682e6c8cf28e1e0977043216b5f3">GenderMap</a></div><div class="ttdeci">std::map&lt; std::string, std::vector&lt; std::string &gt; &gt; GenderMap</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00132">translations.h:132</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dialogue_8h_source.html#l00226">dialogue::alpha</a>, <a class="el" href="dialogue_8h_source.html#l00231">dialogue::beta</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="character_8cpp_source.html#l06100">Character::get_grammatical_genders()</a>, <a class="el" href="translations_8cpp_source.html#l00052">gettext_gendered()</a>, and <a class="el" href="mapgen_8cpp_source.html#l06462">line()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l02982">dynamic_line_t::dynamic_line_t()</a>.</p>

</div>
</div>
<a id="a63b385e0852ca7e6a569bdfdc0739fbf" name="a63b385e0852ca7e6a569bdfdc0739fbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63b385e0852ca7e6a569bdfdc0739fbf">&#9670;&nbsp;</a></span>try_consume()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3">consumption_result</a> try_consume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnpc.html">npc</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l03266">3266</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03267" name="l03267"></a><span class="lineno"> 3267</span>{</div>
<div class="line"><a id="l03268" name="l03268"></a><span class="lineno"> 3268</span>    <span class="comment">// TODO: Unify this with &#39;player::consume_item()&#39;</span></div>
<div class="line"><a id="l03269" name="l03269"></a><span class="lineno"> 3269</span>    <span class="keywordtype">bool</span> consuming_contents = it.<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() &amp;&amp; !it.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>();</div>
<div class="line"><a id="l03270" name="l03270"></a><span class="lineno"> 3270</span>    <a class="code hl_class" href="classitem.html">item</a> &amp;to_eat = consuming_contents ? it.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>() : it;</div>
<div class="line"><a id="l03271" name="l03271"></a><span class="lineno"> 3271</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;comest = to_eat.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>();</div>
<div class="line"><a id="l03272" name="l03272"></a><span class="lineno"> 3272</span>    <span class="keywordflow">if</span>( !comest ) {</div>
<div class="line"><a id="l03273" name="l03273"></a><span class="lineno"> 3273</span>        <span class="comment">// Don&#39;t inform the player that we don&#39;t want to eat the lighter</span></div>
<div class="line"><a id="l03274" name="l03274"></a><span class="lineno"> 3274</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a>;</div>
<div class="line"><a id="l03275" name="l03275"></a><span class="lineno"> 3275</span>    }</div>
<div class="line"><a id="l03276" name="l03276"></a><span class="lineno"> 3276</span> </div>
<div class="line"><a id="l03277" name="l03277"></a><span class="lineno"> 3277</span>    <span class="keywordflow">if</span>( !p.<a class="code hl_function" href="classnpc.html#a58610dafa225d6bcd61ea0c5f56e65a4">will_accept_from_player</a>( it ) ) {</div>
<div class="line"><a id="l03278" name="l03278"></a><span class="lineno"> 3278</span>        reason = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;I don&#39;t &lt;swear&gt; trust you enough to eat THIS&quot;</span> );</div>
<div class="line"><a id="l03279" name="l03279"></a><span class="lineno"> 3279</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a>;</div>
<div class="line"><a id="l03280" name="l03280"></a><span class="lineno"> 3280</span>    }</div>
<div class="line"><a id="l03281" name="l03281"></a><span class="lineno"> 3281</span> </div>
<div class="line"><a id="l03282" name="l03282"></a><span class="lineno"> 3282</span>    <span class="comment">// TODO: Make it not a copy+paste from player::consume_item</span></div>
<div class="line"><a id="l03283" name="l03283"></a><span class="lineno"> 3283</span>    <span class="keywordtype">int</span> amount_used = 1;</div>
<div class="line"><a id="l03284" name="l03284"></a><span class="lineno"> 3284</span>    <span class="keywordflow">if</span>( to_eat.<a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() ) {</div>
<div class="line"><a id="l03285" name="l03285"></a><span class="lineno"> 3285</span>        <span class="keywordflow">if</span>( !p.<a class="code hl_function" href="classplayer.html#ade215471686460149590c160a167d9f4">eat</a>( to_eat ) ) {</div>
<div class="line"><a id="l03286" name="l03286"></a><span class="lineno"> 3286</span>            reason = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It doesn&#39;t look like a good idea to consume this&quot;</span> );</div>
<div class="line"><a id="l03287" name="l03287"></a><span class="lineno"> 3287</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a>;</div>
<div class="line"><a id="l03288" name="l03288"></a><span class="lineno"> 3288</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03289" name="l03289"></a><span class="lineno"> 3289</span>            reason = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Thanks, that hit the spot.&quot;</span> );</div>
<div class="line"><a id="l03290" name="l03290"></a><span class="lineno"> 3290</span>        }</div>
<div class="line"><a id="l03291" name="l03291"></a><span class="lineno"> 3291</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( to_eat.<a class="code hl_function" href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">is_medication</a>() || to_eat.<a class="code hl_function" href="classitem.html#aeb62f6d93e37bf01af71f795cc39f4f1">get_contained</a>().<a class="code hl_function" href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">is_medication</a>() ) {</div>
<div class="line"><a id="l03292" name="l03292"></a><span class="lineno"> 3292</span>        <span class="keywordflow">if</span>( comest-&gt;tool ) {</div>
<div class="line"><a id="l03293" name="l03293"></a><span class="lineno"> 3293</span>            <span class="keywordtype">bool</span> has = p.<a class="code hl_function" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a>( comest-&gt;tool, 1 );</div>
<div class="line"><a id="l03294" name="l03294"></a><span class="lineno"> 3294</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a>( comest-&gt;tool ) ) {</div>
<div class="line"><a id="l03295" name="l03295"></a><span class="lineno"> 3295</span>                has = p.<a class="code hl_function" href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">has_charges</a>( comest-&gt;tool, 1 );</div>
<div class="line"><a id="l03296" name="l03296"></a><span class="lineno"> 3296</span>            }</div>
<div class="line"><a id="l03297" name="l03297"></a><span class="lineno"> 3297</span>            <span class="keywordflow">if</span>( !has ) {</div>
<div class="line"><a id="l03298" name="l03298"></a><span class="lineno"> 3298</span>                reason = <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;I need a %s to consume that!&quot;</span> ),</div>
<div class="line"><a id="l03299" name="l03299"></a><span class="lineno"> 3299</span>                                        <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( comest-&gt;tool ) );</div>
<div class="line"><a id="l03300" name="l03300"></a><span class="lineno"> 3300</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a>;</div>
<div class="line"><a id="l03301" name="l03301"></a><span class="lineno"> 3301</span>            }</div>
<div class="line"><a id="l03302" name="l03302"></a><span class="lineno"> 3302</span>            p.<a class="code hl_function" href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">use_charges</a>( comest-&gt;tool, 1 );</div>
<div class="line"><a id="l03303" name="l03303"></a><span class="lineno"> 3303</span>            reason = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Thanks, I feel better already.&quot;</span> );</div>
<div class="line"><a id="l03304" name="l03304"></a><span class="lineno"> 3304</span>        }</div>
<div class="line"><a id="l03305" name="l03305"></a><span class="lineno"> 3305</span>        <span class="keywordflow">if</span>( to_eat.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a7ff45d94507fdbf7369ae269a0f1e52b">has_use</a>() ) {</div>
<div class="line"><a id="l03306" name="l03306"></a><span class="lineno"> 3306</span>            amount_used = to_eat.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a9df22ea5b5b6e19d18f730d4a8625cfa">invoke</a>( p, to_eat, p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l03307" name="l03307"></a><span class="lineno"> 3307</span>            <span class="keywordflow">if</span>( amount_used &lt;= 0 ) {</div>
<div class="line"><a id="l03308" name="l03308"></a><span class="lineno"> 3308</span>                reason = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It doesn&#39;t look like a good idea to consume this&quot;</span> );</div>
<div class="line"><a id="l03309" name="l03309"></a><span class="lineno"> 3309</span>                <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a4cc93652b776dfc22249c270bd7af724">REFUSED</a>;</div>
<div class="line"><a id="l03310" name="l03310"></a><span class="lineno"> 3310</span>            }</div>
<div class="line"><a id="l03311" name="l03311"></a><span class="lineno"> 3311</span>            reason = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Thanks, I used it.&quot;</span> );</div>
<div class="line"><a id="l03312" name="l03312"></a><span class="lineno"> 3312</span>        }</div>
<div class="line"><a id="l03313" name="l03313"></a><span class="lineno"> 3313</span> </div>
<div class="line"><a id="l03314" name="l03314"></a><span class="lineno"> 3314</span>        to_eat.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> -= amount_used;</div>
<div class="line"><a id="l03315" name="l03315"></a><span class="lineno"> 3315</span>        p.<a class="code hl_function" href="classCharacter.html#a54f90ca736510c41a6539c8d8ad833b6">consume_effects</a>( to_eat );</div>
<div class="line"><a id="l03316" name="l03316"></a><span class="lineno"> 3316</span>        p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= 250;</div>
<div class="line"><a id="l03317" name="l03317"></a><span class="lineno"> 3317</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03318" name="l03318"></a><span class="lineno"> 3318</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Unknown comestible type of item: %s\n&quot;</span>, to_eat.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03319" name="l03319"></a><span class="lineno"> 3319</span>    }</div>
<div class="line"><a id="l03320" name="l03320"></a><span class="lineno"> 3320</span> </div>
<div class="line"><a id="l03321" name="l03321"></a><span class="lineno"> 3321</span>    <span class="keywordflow">if</span>( to_eat.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; 0 ) {</div>
<div class="line"><a id="l03322" name="l03322"></a><span class="lineno"> 3322</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3ab95146e41f7ce3bfe66e1b4a3fe6a0cc">CONSUMED_SOME</a>;</div>
<div class="line"><a id="l03323" name="l03323"></a><span class="lineno"> 3323</span>    }</div>
<div class="line"><a id="l03324" name="l03324"></a><span class="lineno"> 3324</span> </div>
<div class="line"><a id="l03325" name="l03325"></a><span class="lineno"> 3325</span>    <span class="keywordflow">if</span>( consuming_contents ) {</div>
<div class="line"><a id="l03326" name="l03326"></a><span class="lineno"> 3326</span>        it.<a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( it.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">front</a>() );</div>
<div class="line"><a id="l03327" name="l03327"></a><span class="lineno"> 3327</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3ab95146e41f7ce3bfe66e1b4a3fe6a0cc">CONSUMED_SOME</a>;</div>
<div class="line"><a id="l03328" name="l03328"></a><span class="lineno"> 3328</span>    }</div>
<div class="line"><a id="l03329" name="l03329"></a><span class="lineno"> 3329</span> </div>
<div class="line"><a id="l03330" name="l03330"></a><span class="lineno"> 3330</span>    <span class="comment">// If not consuming contents and charge &lt;= 0, we just ate the last charge from the stack</span></div>
<div class="line"><a id="l03331" name="l03331"></a><span class="lineno"> 3331</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="npctalk_8cpp.html#a68f95547ff1e189b2415a84baf46b4e3a00e4f17208f1f75aed1e648cbe531c9d">CONSUMED_ALL</a>;</div>
<div class="line"><a id="l03332" name="l03332"></a><span class="lineno"> 3332</span>}</div>
<div class="ttc" id="aclassCharacter_html_a3d0ec2b4e80527bd2daad576c2bbb187"><div class="ttname"><a href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">Character::use_charges</a></div><div class="ttdeci">std::list&lt; item &gt; use_charges(const itype_id &amp;what, int qty, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09663">character.cpp:9663</a></div></div>
<div class="ttc" id="aclassCharacter_html_a54f90ca736510c41a6539c8d8ad833b6"><div class="ttname"><a href="classCharacter.html#a54f90ca736510c41a6539c8d8ad833b6">Character::consume_effects</a></div><div class="ttdeci">bool consume_effects(item &amp;food)</div><div class="ttdoc">Handles the effects of consuming an item.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01157">consumption.cpp:1157</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9bff3208a5e121c4e3a71b81b378e4e7"><div class="ttname"><a href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">Character::has_charges</a></div><div class="ttdeci">bool has_charges(const itype_id &amp;it, int quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09603">character.cpp:9603</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad24859164517ed6e392e21df69527199"><div class="ttname"><a href="classCharacter.html#ad24859164517ed6e392e21df69527199">Character::pos</a></div><div class="ttdeci">const tripoint &amp; pos() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00714">character.cpp:714</a></div></div>
<div class="ttc" id="aclassitem__contents_html_a14299e40ca1440af11623c86e0b84072"><div class="ttname"><a href="classitem__contents.html#a14299e40ca1440af11623c86e0b84072">item_contents::front</a></div><div class="ttdeci">item &amp; front()</div><div class="ttdoc">this is an artifact of the previous code using front() everywhere for contents.</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00190">item_contents.cpp:190</a></div></div>
<div class="ttc" id="aclassitem__contents_html_ad5b1250d9699aa489bbfcf3e5689581b"><div class="ttname"><a href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">item_contents::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00016">item_contents.cpp:16</a></div></div>
<div class="ttc" id="aclassitem_html_a40963a016376016eb408bdb9dbb94388"><div class="ttname"><a href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a></div><div class="ttdeci">bool count_by_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05885">item.cpp:5885</a></div></div>
<div class="ttc" id="aclassitem_html_a411163e892e27c57b802d0d015c05162"><div class="ttname"><a href="classitem.html#a411163e892e27c57b802d0d015c05162">item::get_comestible</a></div><div class="ttdeci">const cata::value_ptr&lt; islot_comestible &gt; &amp; get_comestible() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09991">item.cpp:9991</a></div></div>
<div class="ttc" id="aclassitem_html_a4afe851abb42cbff0857065860f96e0e"><div class="ttname"><a href="classitem.html#a4afe851abb42cbff0857065860f96e0e">item::contents</a></div><div class="ttdeci">item_contents contents</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02158">item.h:2158</a></div></div>
<div class="ttc" id="aclassitem_html_a6bfb92ab5d41e0eb3a1da160fac71b0e"><div class="ttname"><a href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">item::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02196">item.h:2196</a></div></div>
<div class="ttc" id="aclassitem_html_aa344ad5d3082d7a56b1c902fbafb6347"><div class="ttname"><a href="classitem.html#aa344ad5d3082d7a56b1c902fbafb6347">item::is_medication</a></div><div class="ttdeci">bool is_medication() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06478">item.cpp:6478</a></div></div>
<div class="ttc" id="aclassitem_html_aad45569fa1fdd99d602eabbbbca04f75"><div class="ttname"><a href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">item::is_food</a></div><div class="ttdeci">bool is_food() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06472">item.cpp:6472</a></div></div>
<div class="ttc" id="aclassitem_html_ac1d2c4c33b8a499812f3437cb2fad742"><div class="ttname"><a href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">item::type</a></div><div class="ttdeci">const itype * type</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02157">item.h:2157</a></div></div>
<div class="ttc" id="aclassitem_html_aeb62f6d93e37bf01af71f795cc39f4f1"><div class="ttname"><a href="classitem.html#aeb62f6d93e37bf01af71f795cc39f4f1">item::get_contained</a></div><div class="ttdeci">const item &amp; get_contained() const</div><div class="ttdoc">Return a contained item (if any and only one).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06920">item.cpp:6920</a></div></div>
<div class="ttc" id="aclassnpc_html_a58610dafa225d6bcd61ea0c5f56e65a4"><div class="ttname"><a href="classnpc.html#a58610dafa225d6bcd61ea0c5f56e65a4">npc::will_accept_from_player</a></div><div class="ttdeci">bool will_accept_from_player(const item &amp;it) const</div><div class="ttdoc">Is the item safe or does the NPC trust you enough?</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l02883">npc.cpp:2883</a></div></div>
<div class="ttc" id="aclassplayer_html_ade215471686460149590c160a167d9f4"><div class="ttname"><a href="classplayer.html#ade215471686460149590c160a167d9f4">player::eat</a></div><div class="ttdeci">bool eat(item &amp;food, bool force=false)</div><div class="ttdoc">Used for eating entered comestible, returns true if comestible is successfully eaten.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00821">consumption.cpp:821</a></div></div>
<div class="ttc" id="aclassvisitable_html_ac50bc4422d4636a70a97d41787f22d0d"><div class="ttname"><a href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">visitable::has_amount</a></div><div class="ttdeci">bool has_amount(const itype_id &amp;what, int qty, bool pseudo=true, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdoc">Check instance provides at least qty of an item (.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l01108">visitable.cpp:1108</a></div></div>
<div class="ttc" id="aclassvisitable_html_adeb03e3af46e1b106a5f88f112add296"><div class="ttname"><a href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">visitable::remove_item</a></div><div class="ttdeci">item remove_item(item &amp;it)</div><div class="ttdoc">Removes and returns the item which must be contained by this instance.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00563">visitable.cpp:563</a></div></div>
<div class="ttc" id="astructitype_html_a7ff45d94507fdbf7369ae269a0f1e52b"><div class="ttname"><a href="structitype.html#a7ff45d94507fdbf7369ae269a0f1e52b">itype::has_use</a></div><div class="ttdeci">bool has_use() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00066">itype.cpp:66</a></div></div>
<div class="ttc" id="astructitype_html_a9df22ea5b5b6e19d18f730d4a8625cfa"><div class="ttname"><a href="structitype.html#a9df22ea5b5b6e19d18f730d4a8625cfa">itype::invoke</a></div><div class="ttdeci">int invoke(player &amp;p, item &amp;it, const tripoint &amp;pos) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00105">itype.cpp:105</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item_8h_source.html#l02196">item::charges</a>, <a class="el" href="consumption_8cpp_source.html#l01157">Character::consume_effects()</a>, <a class="el" href="npctalk_8cpp_source.html#l03262">CONSUMED_ALL</a>, <a class="el" href="npctalk_8cpp_source.html#l03261">CONSUMED_SOME</a>, <a class="el" href="item_8h_source.html#l02158">item::contents</a>, <a class="el" href="item_8cpp_source.html#l05885">item::count_by_charges()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="consumption_8cpp_source.html#l00821">player::eat()</a>, <a class="el" href="item__contents_8cpp_source.html#l00016">item_contents::empty()</a>, <a class="el" href="item__contents_8cpp_source.html#l00190">item_contents::front()</a>, <a class="el" href="item_8cpp_source.html#l09991">item::get_comestible()</a>, <a class="el" href="item_8cpp_source.html#l06920">item::get_contained()</a>, <a class="el" href="visitable_8cpp_source.html#l01108">visitable&lt; T &gt;::has_amount()</a>, <a class="el" href="character_8cpp_source.html#l09603">Character::has_charges()</a>, <a class="el" href="itype_8cpp_source.html#l00066">itype::has_use()</a>, <a class="el" href="itype_8cpp_source.html#l00105">itype::invoke()</a>, <a class="el" href="item_8cpp_source.html#l06599">item::is_container()</a>, <a class="el" href="item_8cpp_source.html#l06472">item::is_food()</a>, <a class="el" href="item_8cpp_source.html#l06478">item::is_medication()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="item_8cpp_source.html#l09789">item::nname()</a>, <a class="el" href="character_8cpp_source.html#l00714">Character::pos()</a>, <a class="el" href="npctalk_8cpp_source.html#l03260">REFUSED</a>, <a class="el" href="visitable_8cpp_source.html#l00563">visitable&lt; T &gt;::remove_item()</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, <a class="el" href="item_8cpp_source.html#l04473">item::tname()</a>, <a class="el" href="item_8h_source.html#l02157">item::type</a>, <a class="el" href="character_8cpp_source.html#l09663">Character::use_charges()</a>, and <a class="el" href="npc_8cpp_source.html#l02883">npc::will_accept_from_player()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l03334">give_item_to()</a>.</p>

</div>
</div>
<a id="ae482c06259a0a624d6c85e7ba79e07c4" name="ae482c06259a0a624d6c85e7ba79e07c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae482c06259a0a624d6c85e7ba79e07c4">&#9670;&nbsp;</a></span>unload_talk_topics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unload_talk_topics </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l03212">3212</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03213" name="l03213"></a><span class="lineno"> 3213</span>{</div>
<div class="line"><a id="l03214" name="l03214"></a><span class="lineno"> 3214</span>    <a class="code hl_variable" href="npctalk_8cpp.html#a9d58f009a148e9132fad232a12f96306">json_talk_topics</a>.clear();</div>
<div class="line"><a id="l03215" name="l03215"></a><span class="lineno"> 3215</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="npctalk_8cpp_source.html#l00113">json_talk_topics</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8cpp_source.html#l00531">DynamicDataLoader::unload_data()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a174a89b209d072bbf97b9495c71feee6" name="a174a89b209d072bbf97b9495c71feee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a174a89b209d072bbf97b9495c71feee6">&#9670;&nbsp;</a></span>ACT_AIM</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a> ACT_AIM(&quot;ACT_AIM&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;ACT_AIM&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00732">npc::talk_to_u()</a>.</p>

</div>
</div>
<a id="a63fb239549e1986b27063170a11aa57a" name="a63fb239549e1986b27063170a11aa57a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63fb239549e1986b27063170a11aa57a">&#9670;&nbsp;</a></span>ACT_SOCIALIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a> ACT_SOCIALIZE(&quot;ACT_SOCIALIZE&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;ACT_SOCIALIZE&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00732">npc::talk_to_u()</a>.</p>

</div>
</div>
<a id="adae7b5637b7de5925762730601b77ffd" name="adae7b5637b7de5925762730601b77ffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adae7b5637b7de5925762730601b77ffd">&#9670;&nbsp;</a></span>ACT_TRAIN</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a> ACT_TRAIN(&quot;ACT_TRAIN&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;ACT_TRAIN&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00897">dialogue::dynamic_line()</a>, <a class="el" href="npctalk_8cpp_source.html#l01240">dialogue::gen_responses()</a>, and <a class="el" href="npctalk_8cpp_source.html#l00732">npc::talk_to_u()</a>.</p>

</div>
</div>
<a id="adfd0caff20a5631b310aa595daf40ea3" name="adfd0caff20a5631b310aa595daf40ea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfd0caff20a5631b310aa595daf40ea3">&#9670;&nbsp;</a></span>ACT_WAIT_NPC</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a> ACT_WAIT_NPC(&quot;ACT_WAIT_NPC&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;ACT_WAIT_NPC&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00732">npc::talk_to_u()</a>.</p>

</div>
</div>
<a id="a60156c3be7e9ad975f66d84becc7a6e1" name="a60156c3be7e9ad975f66d84becc7a6e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60156c3be7e9ad975f66d84becc7a6e1">&#9670;&nbsp;</a></span>bio_armor_eyes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> bio_armor_eyes(&quot;bio_armor_eyes&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;bio_armor_eyes&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01405">talk_trial::calc_chance()</a>.</p>

</div>
</div>
<a id="a9ce5c55101a5bf44ac5ad0a4606bc787" name="a9ce5c55101a5bf44ac5ad0a4606bc787"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ce5c55101a5bf44ac5ad0a4606bc787">&#9670;&nbsp;</a></span>bio_deformity</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> bio_deformity(&quot;bio_deformity&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;bio_deformity&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01405">talk_trial::calc_chance()</a>.</p>

</div>
</div>
<a id="a87d40dfaf83b2333d9b4bb5519b47290" name="a87d40dfaf83b2333d9b4bb5519b47290"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87d40dfaf83b2333d9b4bb5519b47290">&#9670;&nbsp;</a></span>bio_face_mask</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> bio_face_mask(&quot;bio_face_mask&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;bio_face_mask&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01405">talk_trial::calc_chance()</a>.</p>

</div>
</div>
<a id="a1ba574c2d134f64bc7118bcd7634c931" name="a1ba574c2d134f64bc7118bcd7634c931"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ba574c2d134f64bc7118bcd7634c931">&#9670;&nbsp;</a></span>bio_voice</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="npc_8h.html#a136007e1e0b77eaf7dc4be58f6f42f87">bionic_id</a> bio_voice(&quot;bio_voice&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;bio_voice&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01405">talk_trial::calc_chance()</a>.</p>

</div>
</div>
<a id="ac95fd54d69ea350ea463a719fa7f3550" name="ac95fd54d69ea350ea463a719fa7f3550"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac95fd54d69ea350ea463a719fa7f3550">&#9670;&nbsp;</a></span>effect_lying_down</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> effect_lying_down(&quot;lying_down&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;lying_down&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00732">npc::talk_to_u()</a>.</p>

</div>
</div>
<a id="a1a6476e8888f0929f469fd9af2d629bc" name="a1a6476e8888f0929f469fd9af2d629bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a6476e8888f0929f469fd9af2d629bc">&#9670;&nbsp;</a></span>effect_narcosis</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> effect_narcosis(&quot;narcosis&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;narcosis&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00897">dialogue::dynamic_line()</a>, and <a class="el" href="npctalk_8cpp_source.html#l00732">npc::talk_to_u()</a>.</p>

</div>
</div>
<a id="a74abddcaf98d4f59d99c051a421bee67" name="a74abddcaf98d4f59d99c051a421bee67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74abddcaf98d4f59d99c051a421bee67">&#9670;&nbsp;</a></span>effect_npc_suspend</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> effect_npc_suspend(&quot;npc_suspend&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;npc_suspend&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00732">npc::talk_to_u()</a>.</p>

</div>
</div>
<a id="a79654cfc6f07462199ec3f5da9e49c83" name="a79654cfc6f07462199ec3f5da9e49c83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79654cfc6f07462199ec3f5da9e49c83">&#9670;&nbsp;</a></span>effect_pacified</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> effect_pacified(&quot;pacified&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;pacified&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l02384">talk_effect_fun_t::set_u_buy_monster()</a>.</p>

</div>
</div>
<a id="a02a4844a7fb68c13a34dc40b0a9e94d8" name="a02a4844a7fb68c13a34dc40b0a9e94d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02a4844a7fb68c13a34dc40b0a9e94d8">&#9670;&nbsp;</a></span>effect_pet</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> effect_pet(&quot;pet&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;pet&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l02384">talk_effect_fun_t::set_u_buy_monster()</a>.</p>

</div>
</div>
<a id="a0a50e3fbf57e70bfac50331092ff8ad1" name="a0a50e3fbf57e70bfac50331092ff8ad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a50e3fbf57e70bfac50331092ff8ad1">&#9670;&nbsp;</a></span>effect_riding</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> effect_riding(&quot;riding&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;riding&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00394">game::chat()</a>.</p>

</div>
</div>
<a id="ab16f8be4be2050986e76d2cb0cff7609" name="ab16f8be4be2050986e76d2cb0cff7609"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab16f8be4be2050986e76d2cb0cff7609">&#9670;&nbsp;</a></span>effect_sleep</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> effect_sleep(&quot;sleep&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;sleep&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00732">npc::talk_to_u()</a>.</p>

</div>
</div>
<a id="a02ed1ef06d6f12fde82b64232c55a749" name="a02ed1ef06d6f12fde82b64232c55a749"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02ed1ef06d6f12fde82b64232c55a749">&#9670;&nbsp;</a></span>effect_under_op</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#acc8305d21e9a186d196c8ff88ba2cf19">efftype_id</a> effect_under_op(&quot;under_operation&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;under_operation&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00732">npc::talk_to_u()</a>.</p>

</div>
</div>
<a id="a944ba9be1d911a61e9ca62af989355fd" name="a944ba9be1d911a61e9ca62af989355fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a944ba9be1d911a61e9ca62af989355fd">&#9670;&nbsp;</a></span>fuel_type_animal</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> fuel_type_animal(&quot;animal&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;animal&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00351">assign_veh_to_follow()</a>, <a class="el" href="npctalk_8cpp_source.html#l00394">game::chat()</a>, <a class="el" href="game_8cpp_source.html#l05315">game::control_vehicle()</a>, <a class="el" href="handle__action_8cpp_source.html#l00443">pldrive()</a>, and <a class="el" href="npctalk_8cpp_source.html#l00340">tell_veh_stop_following()</a>.</p>

</div>
</div>
<a id="a9d58f009a148e9132fad232a12f96306" name="a9d58f009a148e9132fad232a12f96306"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d58f009a148e9132fad232a12f96306">&#9670;&nbsp;</a></span>json_talk_topics</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, <a class="el" href="classjson__talk__topic.html">json_talk_topic</a>&gt; json_talk_topics</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="npctalk_8cpp_source.html#l00113">113</a> of file <a class="el" href="npctalk_8cpp_source.html">npctalk.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01134">dialogue::apply_speaker_effects()</a>, <a class="el" href="npctalk_8cpp_source.html#l00897">dialogue::dynamic_line()</a>, <a class="el" href="npctalk_8cpp_source.html#l01240">dialogue::gen_responses()</a>, <a class="el" href="npctalk_8cpp_source.html#l01886">load_inline_topic()</a>, <a class="el" href="npctalk_8cpp_source.html#l03217">load_talk_topic()</a>, and <a class="el" href="npctalk_8cpp_source.html#l03212">unload_talk_topics()</a>.</p>

</div>
</div>
<a id="add6bff65f422cff2a7ede6c7b904d982" name="add6bff65f422cff2a7ede6c7b904d982"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add6bff65f422cff2a7ede6c7b904d982">&#9670;&nbsp;</a></span>skill_speech</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> skill_speech(&quot;speech&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;speech&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01478">talk_trial::roll()</a>.</p>

</div>
</div>
<a id="a37a1fab8c4f17e009841e255f68b5733" name="a37a1fab8c4f17e009841e255f68b5733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37a1fab8c4f17e009841e255f68b5733">&#9670;&nbsp;</a></span>trait_DEBUG_MIND_CONTROL</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> trait_DEBUG_MIND_CONTROL(&quot;DEBUG_MIND_CONTROL&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;DEBUG_MIND_CONTROL&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l01405">talk_trial::calc_chance()</a>, <a class="el" href="npctalk_8cpp_source.html#l01240">dialogue::gen_responses()</a>, <a class="el" href="npctalk_8cpp_source.html#l03334">give_item_to()</a>, <a class="el" href="npctalk_8cpp_source.html#l01478">talk_trial::roll()</a>, and <a class="el" href="npctalk_8cpp_source.html#l00732">npc::talk_to_u()</a>.</p>

</div>
</div>
<a id="a1eb0d980d9e60655982ce0b931f4fb57" name="a1eb0d980d9e60655982ce0b931f4fb57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eb0d980d9e60655982ce0b931f4fb57">&#9670;&nbsp;</a></span>trait_PROF_FOODP</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a44aa01c09faf1c1723400eb9075a1f4d">trait_id</a> trait_PROF_FOODP(&quot;PROF_FOODP&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;PROF_FOODP&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00394">game::chat()</a>, and <a class="el" href="npctalk_8cpp_source.html#l00732">npc::talk_to_u()</a>.</p>

</div>
</div>
<a id="a876c053c897d3594c41f3c09babc964e" name="a876c053c897d3594c41f3c09babc964e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a876c053c897d3594c41f3c09babc964e">&#9670;&nbsp;</a></span>zone_type_npc_investigate_only</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4ec2337d992ab8b0115c2bd7ff30902a">zone_type_id</a> zone_type_npc_investigate_only(&quot;NPC_INVESTIGATE_ONLY&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;NPC_INVESTIGATE_ONLY&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00626">npc::handle_sound()</a>.</p>

</div>
</div>
<a id="a0c3800203c21654742cdb755677176b0" name="a0c3800203c21654742cdb755677176b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c3800203c21654742cdb755677176b0">&#9670;&nbsp;</a></span>zone_type_npc_no_investigate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="type__id_8h.html#a4ec2337d992ab8b0115c2bd7ff30902a">zone_type_id</a> zone_type_npc_no_investigate(&quot;NPC_NO_INVESTIGATE&quot;) </td>
          <td>(</td>
          <td class="paramtype">&quot;NPC_NO_INVESTIGATE&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="npctalk_8cpp_source.html#l00626">npc::handle_sound()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="npctalk_8cpp.html">npctalk.cpp</a></li>
    <li class="footer">Generated on Sun Nov 27 2022 19:51:20 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
