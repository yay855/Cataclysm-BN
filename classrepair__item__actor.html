<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: repair_item_actor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classrepair__item__actor.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classrepair__item__actor-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">repair_item_actor Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Repair an item.  
 <a href="classrepair__item__actor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for repair_item_actor:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classrepair__item__actor.png" usemap="#repair_5Fitem_5Factor_map" alt=""/>
  <map id="repair_5Fitem_5Factor_map" name="repair_5Fitem_5Factor_map">
<area href="classiuse__actor.html" alt="iuse_actor" shape="rect" coords="0,0,111,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a9a0fbea23cd5e9494e6d57c98d7091ae"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091ae">attempt_hint</a> : int { <br />
&#160;&#160;<a class="el" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeac607bbddf7d4c4757d0df4fd5734fcfa">AS_SUCCESS</a> = 0
, <a class="el" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeabd597ce8f3aa6e05cf09043a66c339e7">AS_RETRY</a>
, <a class="el" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aea6cea63469ca1cac06f958926b4abd074">AS_FAILURE</a>
, <a class="el" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeaa8d66930d9f8a0f1e584adac16592639">AS_DESTROYED</a>
, <br />
&#160;&#160;<a class="el" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aea63bc23a49f179b4d001a4132a4f3099d">AS_CANT</a>
, <a class="el" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aea6f3fcbd00a5594c7a4fa4c31278744a9">AS_CANT_USE_TOOL</a>
, <a class="el" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeafc9cadc1c5707829ba56cb24a808075c">AS_CANT_YET</a>
<br />
 }</td></tr>
<tr class="separator:a9a0fbea23cd5e9494e6d57c98d7091ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a181063ab4b7e6de08c14f7e15b2563fe"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fe">repair_type</a> : int { <br />
&#160;&#160;<a class="el" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea80f4159b229c75535b5464e693f32e5b">RT_NOTHING</a> = 0
, <a class="el" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea1a2de14c779a7b09dc5eb4ec31341b29">RT_REPAIR</a>
, <a class="el" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea173e2c4d52ef82293d133bcf272ec6ce">RT_REFIT</a>
, <a class="el" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea2a377af0d7ba501ec13ff4453fc17db0">RT_DOWNSIZING</a>
, <br />
&#160;&#160;<a class="el" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea25dc2d78ed34354fba150a1a4e8cb1bf">RT_UPSIZING</a>
, <a class="el" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea2319dbf02ebb14171d8c553fccb6d7e6">RT_REINFORCE</a>
, <a class="el" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea63874384dd91d071fed451618879cac1">RT_PRACTICE</a>
, <a class="el" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea9ef819ffe70cdc4d96e821bcca6aeba9">NUM_REPAIR_TYPES</a>
<br />
 }</td></tr>
<tr class="separator:a181063ab4b7e6de08c14f7e15b2563fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad7a811e4fe051e3039a8a8c8e3641ef9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091ae">attempt_hint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#ad7a811e4fe051e3039a8a8c8e3641ef9">repair</a> (<a class="el" href="classplayer.html">player</a> &amp;pl, <a class="el" href="classitem.html">item</a> &amp;<a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>, <a class="el" href="classitem__location.html">item_location</a> &amp;fix) const</td></tr>
<tr class="memdesc:ad7a811e4fe051e3039a8a8c8e3641ef9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to repair target item with selected tool.  <a href="classrepair__item__actor.html#ad7a811e4fe051e3039a8a8c8e3641ef9">More...</a><br /></td></tr>
<tr class="separator:ad7a811e4fe051e3039a8a8c8e3641ef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e8a9a9c7b60648e271dfab31cade0ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#a1e8a9a9c7b60648e271dfab31cade0ac">can_repair_target</a> (<a class="el" href="classplayer.html">player</a> &amp;pl, const <a class="el" href="classitem.html">item</a> &amp;fix, bool print_msg) const</td></tr>
<tr class="memdesc:a1e8a9a9c7b60648e271dfab31cade0ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if repairs on target item are possible.  <a href="classrepair__item__actor.html#a1e8a9a9c7b60648e271dfab31cade0ac">More...</a><br /></td></tr>
<tr class="separator:a1e8a9a9c7b60648e271dfab31cade0ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42807130b4b60d92fffffea88fd08f0f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#a42807130b4b60d92fffffea88fd08f0f">can_use_tool</a> (const <a class="el" href="classplayer.html">player</a> &amp;p, const <a class="el" href="classitem.html">item</a> &amp;<a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>, bool print_msg) const</td></tr>
<tr class="memdesc:a42807130b4b60d92fffffea88fd08f0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if we are allowed to use the tool.  <a href="classrepair__item__actor.html#a42807130b4b60d92fffffea88fd08f0f">More...</a><br /></td></tr>
<tr class="separator:a42807130b4b60d92fffffea88fd08f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb17ab66c6f52744d13fa3b28389321d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#aeb17ab66c6f52744d13fa3b28389321d">handle_components</a> (<a class="el" href="classplayer.html">player</a> &amp;pl, const <a class="el" href="classitem.html">item</a> &amp;fix, bool print_msg, bool just_check) const</td></tr>
<tr class="memdesc:aeb17ab66c6f52744d13fa3b28389321d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns if components are available.  <a href="classrepair__item__actor.html#aeb17ab66c6f52744d13fa3b28389321d">More...</a><br /></td></tr>
<tr class="separator:aeb17ab66c6f52744d13fa3b28389321d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acec2db08135523eaf9e738c590dfa151"><td class="memItemLeft" align="right" valign="top">std::pair&lt; float, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#acec2db08135523eaf9e738c590dfa151">repair_chance</a> (const <a class="el" href="classplayer.html">player</a> &amp;pl, const <a class="el" href="classitem.html">item</a> &amp;fix, <a class="el" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fe">repair_type</a> action_type) const</td></tr>
<tr class="memdesc:acec2db08135523eaf9e738c590dfa151"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the chance to repair and to damage an item.  <a href="classrepair__item__actor.html#acec2db08135523eaf9e738c590dfa151">More...</a><br /></td></tr>
<tr class="separator:acec2db08135523eaf9e738c590dfa151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17ffc0c3f8468701dc0553b50ab72a40"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fe">repair_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#a17ffc0c3f8468701dc0553b50ab72a40">default_action</a> (const <a class="el" href="classitem.html">item</a> &amp;fix, int current_skill_level) const</td></tr>
<tr class="memdesc:a17ffc0c3f8468701dc0553b50ab72a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">What are we most likely trying to do with this item?  <a href="classrepair__item__actor.html#a17ffc0c3f8468701dc0553b50ab72a40">More...</a><br /></td></tr>
<tr class="separator:a17ffc0c3f8468701dc0553b50ab72a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55f9fc6689a22eb43b68bc8114bc825"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#ac55f9fc6689a22eb43b68bc8114bc825">repair_recipe_difficulty</a> (const <a class="el" href="classplayer.html">player</a> &amp;pl, const <a class="el" href="classitem.html">item</a> &amp;fix, bool training=false) const</td></tr>
<tr class="memdesc:ac55f9fc6689a22eb43b68bc8114bc825"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the difficulty to repair an item based on recipes to craft it and player's knowledge of them.  <a href="classrepair__item__actor.html#ac55f9fc6689a22eb43b68bc8114bc825">More...</a><br /></td></tr>
<tr class="separator:ac55f9fc6689a22eb43b68bc8114bc825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22a0b8234ce73a9f98b9b1a2f7085d01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#a22a0b8234ce73a9f98b9b1a2f7085d01">repair_item_actor</a> (const std::string &amp;<a class="el" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a>=&quot;repair_item&quot;)</td></tr>
<tr class="separator:a22a0b8234ce73a9f98b9b1a2f7085d01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af61cfe62b7aeaa9d2063d773344efc5a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#af61cfe62b7aeaa9d2063d773344efc5a">~repair_item_actor</a> () override=default</td></tr>
<tr class="separator:af61cfe62b7aeaa9d2063d773344efc5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e0557a8eb4d6e7ba3a5243e4bd4cb8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#a35e0557a8eb4d6e7ba3a5243e4bd4cb8">load</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;obj) override</td></tr>
<tr class="separator:a35e0557a8eb4d6e7ba3a5243e4bd4cb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f8ec58c2e39add49b85abb62689cd4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#a59f8ec58c2e39add49b85abb62689cd4">use</a> (<a class="el" href="classplayer.html">player</a> &amp;, <a class="el" href="classitem.html">item</a> &amp;, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;) const override</td></tr>
<tr class="separator:a59f8ec58c2e39add49b85abb62689cd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59cd64c17e3d9a977e444c21ff3899d5"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classiuse__actor.html">iuse_actor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#a59cd64c17e3d9a977e444c21ff3899d5">clone</a> () const override</td></tr>
<tr class="memdesc:a59cd64c17e3d9a977e444c21ff3899d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a deep copy of this object.  <a href="classrepair__item__actor.html#a59cd64c17e3d9a977e444c21ff3899d5">More...</a><br /></td></tr>
<tr class="separator:a59cd64c17e3d9a977e444c21ff3899d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ec853d6f27aa41fd3cd7fe1443a1f93"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#a2ec853d6f27aa41fd3cd7fe1443a1f93">get_name</a> () const override</td></tr>
<tr class="memdesc:a2ec853d6f27aa41fd3cd7fe1443a1f93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the translated name of the action.  <a href="classrepair__item__actor.html#a2ec853d6f27aa41fd3cd7fe1443a1f93">More...</a><br /></td></tr>
<tr class="separator:a2ec853d6f27aa41fd3cd7fe1443a1f93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classiuse__actor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classiuse__actor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classiuse__actor.html">iuse_actor</a></td></tr>
<tr class="memitem:a2dad7b4ac740759a1db73515af5f7f99 inherit pub_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a2dad7b4ac740759a1db73515af5f7f99">~iuse_actor</a> ()=default</td></tr>
<tr class="separator:a2dad7b4ac740759a1db73515af5f7f99 inherit pub_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46803e26f384386f9f8061044c7373ff inherit pub_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classret__val.html">ret_val</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a46803e26f384386f9f8061044c7373ff">can_use</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;, const <a class="el" href="classitem.html">item</a> &amp;, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;) const</td></tr>
<tr class="separator:a46803e26f384386f9f8061044c7373ff inherit pub_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0955326b251f45c76a7a16e84b6b9e6 inherit pub_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#aa0955326b251f45c76a7a16e84b6b9e6">info</a> (const <a class="el" href="classitem.html">item</a> &amp;, std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;) const</td></tr>
<tr class="separator:aa0955326b251f45c76a7a16e84b6b9e6 inherit pub_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a012da399f97dd64e29a78e477a202b8e inherit pub_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a012da399f97dd64e29a78e477a202b8e">is_valid</a> () const</td></tr>
<tr class="memdesc:a012da399f97dd64e29a78e477a202b8e inherit pub_methods_classiuse__actor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the actor is valid (exists in the generator).  <a href="classiuse__actor.html#a012da399f97dd64e29a78e477a202b8e">More...</a><br /></td></tr>
<tr class="separator:a012da399f97dd64e29a78e477a202b8e inherit pub_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7123b9e8ee6610ef1694f0451f05624 inherit pub_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#ae7123b9e8ee6610ef1694f0451f05624">finalize</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;)</td></tr>
<tr class="memdesc:ae7123b9e8ee6610ef1694f0451f05624 inherit pub_methods_classiuse__actor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalizes the actor.  <a href="classiuse__actor.html#ae7123b9e8ee6610ef1694f0451f05624">More...</a><br /></td></tr>
<tr class="separator:ae7123b9e8ee6610ef1694f0451f05624 inherit pub_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:acb6ed71ea38c7a55709a42145e05a139"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#acb6ed71ea38c7a55709a42145e05a139">action_description</a> (<a class="el" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fe">repair_type</a>)</td></tr>
<tr class="memdesc:acb6ed71ea38c7a55709a42145e05a139"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describes members of <code>repair_type</code> enum.  <a href="classrepair__item__actor.html#acb6ed71ea38c7a55709a42145e05a139">More...</a><br /></td></tr>
<tr class="separator:acb6ed71ea38c7a55709a42145e05a139"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a3637545676dcad064a40196dda0c841c"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#a3637545676dcad064a40196dda0c841c">materials</a></td></tr>
<tr class="memdesc:a3637545676dcad064a40196dda0c841c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Materials we are allowed to repair.  <a href="classrepair__item__actor.html#a3637545676dcad064a40196dda0c841c">More...</a><br /></td></tr>
<tr class="separator:a3637545676dcad064a40196dda0c841c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad31b7e5209e6e0c8439cbdd49ce6da8c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#ad31b7e5209e6e0c8439cbdd49ce6da8c">used_skill</a></td></tr>
<tr class="memdesc:ad31b7e5209e6e0c8439cbdd49ce6da8c"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classSkill.html">Skill</a> used.  <a href="classrepair__item__actor.html#ad31b7e5209e6e0c8439cbdd49ce6da8c">More...</a><br /></td></tr>
<tr class="separator:ad31b7e5209e6e0c8439cbdd49ce6da8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f79271d4dd3e2c7b53698bb0e582d53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#a2f79271d4dd3e2c7b53698bb0e582d53">trains_skill_to</a> = 0</td></tr>
<tr class="memdesc:a2f79271d4dd3e2c7b53698bb0e582d53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum skill level that can be gained by using this actor.  <a href="classrepair__item__actor.html#a2f79271d4dd3e2c7b53698bb0e582d53">More...</a><br /></td></tr>
<tr class="separator:a2f79271d4dd3e2c7b53698bb0e582d53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a686a5cfa2b736595ee5751cfa3d69d58"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#a686a5cfa2b736595ee5751cfa3d69d58">cost_scaling</a> = 1.0f</td></tr>
<tr class="memdesc:a686a5cfa2b736595ee5751cfa3d69d58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Volume of materials required (and used up) as percentage of repaired item's volume.  <a href="classrepair__item__actor.html#a686a5cfa2b736595ee5751cfa3d69d58">More...</a><br /></td></tr>
<tr class="separator:a686a5cfa2b736595ee5751cfa3d69d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a877a82dc874cae408ead7691ba9e1274"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#a877a82dc874cae408ead7691ba9e1274">tool_quality</a> = 0</td></tr>
<tr class="memdesc:a877a82dc874cae408ead7691ba9e1274"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extra value added to skill roll.  <a href="classrepair__item__actor.html#a877a82dc874cae408ead7691ba9e1274">More...</a><br /></td></tr>
<tr class="separator:a877a82dc874cae408ead7691ba9e1274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8db98a186012b12626b1ef7ce0f38036"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrepair__item__actor.html#a8db98a186012b12626b1ef7ce0f38036">move_cost</a> = 0</td></tr>
<tr class="memdesc:a8db98a186012b12626b1ef7ce0f38036"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move cost for every attempt.  <a href="classrepair__item__actor.html#a8db98a186012b12626b1ef7ce0f38036">More...</a><br /></td></tr>
<tr class="separator:a8db98a186012b12626b1ef7ce0f38036"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classiuse__actor"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classiuse__actor')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classiuse__actor.html">iuse_actor</a></td></tr>
<tr class="memitem:a5bfc0cc8ea9046eb540641ff464af80c inherit pub_attribs_classiuse__actor"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a></td></tr>
<tr class="memdesc:a5bfc0cc8ea9046eb540641ff464af80c inherit pub_attribs_classiuse__actor"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of the action.  <a href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">More...</a><br /></td></tr>
<tr class="separator:a5bfc0cc8ea9046eb540641ff464af80c inherit pub_attribs_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d48ce3563f6107d1ead2463560b523e inherit pub_attribs_classiuse__actor"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a6d48ce3563f6107d1ead2463560b523e">cost</a></td></tr>
<tr class="memdesc:a6d48ce3563f6107d1ead2463560b523e inherit pub_attribs_classiuse__actor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Units of ammo required per invocation (or use value from base item if negative)  <a href="classiuse__actor.html#a6d48ce3563f6107d1ead2463560b523e">More...</a><br /></td></tr>
<tr class="separator:a6d48ce3563f6107d1ead2463560b523e inherit pub_attribs_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classiuse__actor"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classiuse__actor')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classiuse__actor.html">iuse_actor</a></td></tr>
<tr class="memitem:a3e13735b7baa2c93610ccb78abda2d09 inherit pro_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a3e13735b7baa2c93610ccb78abda2d09">iuse_actor</a> (const std::string &amp;<a class="el" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a>, int <a class="el" href="classiuse__actor.html#a6d48ce3563f6107d1ead2463560b523e">cost</a>=-1)</td></tr>
<tr class="separator:a3e13735b7baa2c93610ccb78abda2d09 inherit pro_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Repair an item. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00933">933</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a9a0fbea23cd5e9494e6d57c98d7091ae" name="a9a0fbea23cd5e9494e6d57c98d7091ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a0fbea23cd5e9494e6d57c98d7091ae">&#9670;&nbsp;</a></span>attempt_hint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091ae">repair_item_actor::attempt_hint</a> : int</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9a0fbea23cd5e9494e6d57c98d7091aeac607bbddf7d4c4757d0df4fd5734fcfa" name="a9a0fbea23cd5e9494e6d57c98d7091aeac607bbddf7d4c4757d0df4fd5734fcfa"></a>AS_SUCCESS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9a0fbea23cd5e9494e6d57c98d7091aeabd597ce8f3aa6e05cf09043a66c339e7" name="a9a0fbea23cd5e9494e6d57c98d7091aeabd597ce8f3aa6e05cf09043a66c339e7"></a>AS_RETRY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9a0fbea23cd5e9494e6d57c98d7091aea6cea63469ca1cac06f958926b4abd074" name="a9a0fbea23cd5e9494e6d57c98d7091aea6cea63469ca1cac06f958926b4abd074"></a>AS_FAILURE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9a0fbea23cd5e9494e6d57c98d7091aeaa8d66930d9f8a0f1e584adac16592639" name="a9a0fbea23cd5e9494e6d57c98d7091aeaa8d66930d9f8a0f1e584adac16592639"></a>AS_DESTROYED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9a0fbea23cd5e9494e6d57c98d7091aea63bc23a49f179b4d001a4132a4f3099d" name="a9a0fbea23cd5e9494e6d57c98d7091aea63bc23a49f179b4d001a4132a4f3099d"></a>AS_CANT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9a0fbea23cd5e9494e6d57c98d7091aea6f3fcbd00a5594c7a4fa4c31278744a9" name="a9a0fbea23cd5e9494e6d57c98d7091aea6f3fcbd00a5594c7a4fa4c31278744a9"></a>AS_CANT_USE_TOOL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9a0fbea23cd5e9494e6d57c98d7091aeafc9cadc1c5707829ba56cb24a808075c" name="a9a0fbea23cd5e9494e6d57c98d7091aeafc9cadc1c5707829ba56cb24a808075c"></a>AS_CANT_YET&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00952">952</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>                          : <span class="keywordtype">int</span> {</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>            <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeac607bbddf7d4c4757d0df4fd5734fcfa">AS_SUCCESS</a> = 0,     <span class="comment">// Success, but can retry</span></div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>            <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeabd597ce8f3aa6e05cf09043a66c339e7">AS_RETRY</a>,           <span class="comment">// Failed, but can retry</span></div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>            <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aea6cea63469ca1cac06f958926b4abd074">AS_FAILURE</a>,         <span class="comment">// Failed hard, don&#39;t retry</span></div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>            <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeaa8d66930d9f8a0f1e584adac16592639">AS_DESTROYED</a>,       <span class="comment">// Failed and destroyed item</span></div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>            <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aea63bc23a49f179b4d001a4132a4f3099d">AS_CANT</a>,            <span class="comment">// Couldn&#39;t attempt</span></div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>            <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aea6f3fcbd00a5594c7a4fa4c31278744a9">AS_CANT_USE_TOOL</a>,   <span class="comment">// Cannot use tool</span></div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>            <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeafc9cadc1c5707829ba56cb24a808075c">AS_CANT_YET</a>         <span class="comment">// Skill too low</span></div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>        };</div>
<div class="ttc" id="aclassrepair__item__actor_html_a9a0fbea23cd5e9494e6d57c98d7091aea63bc23a49f179b4d001a4132a4f3099d"><div class="ttname"><a href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aea63bc23a49f179b4d001a4132a4f3099d">repair_item_actor::AS_CANT</a></div><div class="ttdeci">@ AS_CANT</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00957">iuse_actor.h:957</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a9a0fbea23cd5e9494e6d57c98d7091aea6cea63469ca1cac06f958926b4abd074"><div class="ttname"><a href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aea6cea63469ca1cac06f958926b4abd074">repair_item_actor::AS_FAILURE</a></div><div class="ttdeci">@ AS_FAILURE</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00955">iuse_actor.h:955</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a9a0fbea23cd5e9494e6d57c98d7091aea6f3fcbd00a5594c7a4fa4c31278744a9"><div class="ttname"><a href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aea6f3fcbd00a5594c7a4fa4c31278744a9">repair_item_actor::AS_CANT_USE_TOOL</a></div><div class="ttdeci">@ AS_CANT_USE_TOOL</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00958">iuse_actor.h:958</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a9a0fbea23cd5e9494e6d57c98d7091aeaa8d66930d9f8a0f1e584adac16592639"><div class="ttname"><a href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeaa8d66930d9f8a0f1e584adac16592639">repair_item_actor::AS_DESTROYED</a></div><div class="ttdeci">@ AS_DESTROYED</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00956">iuse_actor.h:956</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a9a0fbea23cd5e9494e6d57c98d7091aeabd597ce8f3aa6e05cf09043a66c339e7"><div class="ttname"><a href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeabd597ce8f3aa6e05cf09043a66c339e7">repair_item_actor::AS_RETRY</a></div><div class="ttdeci">@ AS_RETRY</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00954">iuse_actor.h:954</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a9a0fbea23cd5e9494e6d57c98d7091aeac607bbddf7d4c4757d0df4fd5734fcfa"><div class="ttname"><a href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeac607bbddf7d4c4757d0df4fd5734fcfa">repair_item_actor::AS_SUCCESS</a></div><div class="ttdeci">@ AS_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00953">iuse_actor.h:953</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a9a0fbea23cd5e9494e6d57c98d7091aeafc9cadc1c5707829ba56cb24a808075c"><div class="ttname"><a href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeafc9cadc1c5707829ba56cb24a808075c">repair_item_actor::AS_CANT_YET</a></div><div class="ttdeci">@ AS_CANT_YET</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00960">iuse_actor.h:959</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a181063ab4b7e6de08c14f7e15b2563fe" name="a181063ab4b7e6de08c14f7e15b2563fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a181063ab4b7e6de08c14f7e15b2563fe">&#9670;&nbsp;</a></span>repair_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fe">repair_item_actor::repair_type</a> : int</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a181063ab4b7e6de08c14f7e15b2563fea80f4159b229c75535b5464e693f32e5b" name="a181063ab4b7e6de08c14f7e15b2563fea80f4159b229c75535b5464e693f32e5b"></a>RT_NOTHING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a181063ab4b7e6de08c14f7e15b2563fea1a2de14c779a7b09dc5eb4ec31341b29" name="a181063ab4b7e6de08c14f7e15b2563fea1a2de14c779a7b09dc5eb4ec31341b29"></a>RT_REPAIR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a181063ab4b7e6de08c14f7e15b2563fea173e2c4d52ef82293d133bcf272ec6ce" name="a181063ab4b7e6de08c14f7e15b2563fea173e2c4d52ef82293d133bcf272ec6ce"></a>RT_REFIT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a181063ab4b7e6de08c14f7e15b2563fea2a377af0d7ba501ec13ff4453fc17db0" name="a181063ab4b7e6de08c14f7e15b2563fea2a377af0d7ba501ec13ff4453fc17db0"></a>RT_DOWNSIZING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a181063ab4b7e6de08c14f7e15b2563fea25dc2d78ed34354fba150a1a4e8cb1bf" name="a181063ab4b7e6de08c14f7e15b2563fea25dc2d78ed34354fba150a1a4e8cb1bf"></a>RT_UPSIZING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a181063ab4b7e6de08c14f7e15b2563fea2319dbf02ebb14171d8c553fccb6d7e6" name="a181063ab4b7e6de08c14f7e15b2563fea2319dbf02ebb14171d8c553fccb6d7e6"></a>RT_REINFORCE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a181063ab4b7e6de08c14f7e15b2563fea63874384dd91d071fed451618879cac1" name="a181063ab4b7e6de08c14f7e15b2563fea63874384dd91d071fed451618879cac1"></a>RT_PRACTICE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a181063ab4b7e6de08c14f7e15b2563fea9ef819ffe70cdc4d96e821bcca6aeba9" name="a181063ab4b7e6de08c14f7e15b2563fea9ef819ffe70cdc4d96e821bcca6aeba9"></a>NUM_REPAIR_TYPES&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00962">962</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>                         : <span class="keywordtype">int</span> {</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>            <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea80f4159b229c75535b5464e693f32e5b">RT_NOTHING</a> = 0,</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>            <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea1a2de14c779a7b09dc5eb4ec31341b29">RT_REPAIR</a>,          <span class="comment">// Just repairing damage</span></div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>            <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea173e2c4d52ef82293d133bcf272ec6ce">RT_REFIT</a>,           <span class="comment">// Refitting</span></div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>            <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea2a377af0d7ba501ec13ff4453fc17db0">RT_DOWNSIZING</a>,      <span class="comment">// When small, reduce clothing to small size</span></div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>            <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea25dc2d78ed34354fba150a1a4e8cb1bf">RT_UPSIZING</a>,        <span class="comment">// When normal, increase clothing to normal size</span></div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>            <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea2319dbf02ebb14171d8c553fccb6d7e6">RT_REINFORCE</a>,       <span class="comment">// Getting damage below 0</span></div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>            <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea63874384dd91d071fed451618879cac1">RT_PRACTICE</a>,        <span class="comment">// Wanted to reinforce, but can&#39;t</span></div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>            <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea9ef819ffe70cdc4d96e821bcca6aeba9">NUM_REPAIR_TYPES</a></div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>        };</div>
<div class="ttc" id="aclassrepair__item__actor_html_a181063ab4b7e6de08c14f7e15b2563fea173e2c4d52ef82293d133bcf272ec6ce"><div class="ttname"><a href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea173e2c4d52ef82293d133bcf272ec6ce">repair_item_actor::RT_REFIT</a></div><div class="ttdeci">@ RT_REFIT</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00965">iuse_actor.h:965</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a181063ab4b7e6de08c14f7e15b2563fea1a2de14c779a7b09dc5eb4ec31341b29"><div class="ttname"><a href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea1a2de14c779a7b09dc5eb4ec31341b29">repair_item_actor::RT_REPAIR</a></div><div class="ttdeci">@ RT_REPAIR</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00964">iuse_actor.h:964</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a181063ab4b7e6de08c14f7e15b2563fea2319dbf02ebb14171d8c553fccb6d7e6"><div class="ttname"><a href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea2319dbf02ebb14171d8c553fccb6d7e6">repair_item_actor::RT_REINFORCE</a></div><div class="ttdeci">@ RT_REINFORCE</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00968">iuse_actor.h:968</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a181063ab4b7e6de08c14f7e15b2563fea25dc2d78ed34354fba150a1a4e8cb1bf"><div class="ttname"><a href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea25dc2d78ed34354fba150a1a4e8cb1bf">repair_item_actor::RT_UPSIZING</a></div><div class="ttdeci">@ RT_UPSIZING</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00967">iuse_actor.h:967</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a181063ab4b7e6de08c14f7e15b2563fea2a377af0d7ba501ec13ff4453fc17db0"><div class="ttname"><a href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea2a377af0d7ba501ec13ff4453fc17db0">repair_item_actor::RT_DOWNSIZING</a></div><div class="ttdeci">@ RT_DOWNSIZING</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00966">iuse_actor.h:966</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a181063ab4b7e6de08c14f7e15b2563fea63874384dd91d071fed451618879cac1"><div class="ttname"><a href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea63874384dd91d071fed451618879cac1">repair_item_actor::RT_PRACTICE</a></div><div class="ttdeci">@ RT_PRACTICE</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00969">iuse_actor.h:969</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a181063ab4b7e6de08c14f7e15b2563fea80f4159b229c75535b5464e693f32e5b"><div class="ttname"><a href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea80f4159b229c75535b5464e693f32e5b">repair_item_actor::RT_NOTHING</a></div><div class="ttdeci">@ RT_NOTHING</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00963">iuse_actor.h:963</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a181063ab4b7e6de08c14f7e15b2563fea9ef819ffe70cdc4d96e821bcca6aeba9"><div class="ttname"><a href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea9ef819ffe70cdc4d96e821bcca6aeba9">repair_item_actor::NUM_REPAIR_TYPES</a></div><div class="ttdeci">@ NUM_REPAIR_TYPES</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00971">iuse_actor.h:970</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a22a0b8234ce73a9f98b9b1a2f7085d01" name="a22a0b8234ce73a9f98b9b1a2f7085d01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22a0b8234ce73a9f98b9b1a2f7085d01">&#9670;&nbsp;</a></span>repair_item_actor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">repair_item_actor::repair_item_actor </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>type</em> = <code>&quot;repair_item&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00997">997</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>: <a class="code hl_function" href="classiuse__actor.html#a3e13735b7baa2c93610ccb78abda2d09">iuse_actor</a>( <a class="code hl_variable" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a> ) {}</div>
<div class="ttc" id="aclassiuse__actor_html_a3e13735b7baa2c93610ccb78abda2d09"><div class="ttname"><a href="classiuse__actor.html#a3e13735b7baa2c93610ccb78abda2d09">iuse_actor::iuse_actor</a></div><div class="ttdeci">iuse_actor(const std::string &amp;type, int cost=-1)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8h_source.html#l00259">iuse.h:259</a></div></div>
<div class="ttc" id="aclassiuse__actor_html_a5bfc0cc8ea9046eb540641ff464af80c"><div class="ttname"><a href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">iuse_actor::type</a></div><div class="ttdeci">const std::string type</div><div class="ttdoc">The type of the action.</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8h_source.html#l00266">iuse.h:266</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af61cfe62b7aeaa9d2063d773344efc5a" name="af61cfe62b7aeaa9d2063d773344efc5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af61cfe62b7aeaa9d2063d773344efc5a">&#9670;&nbsp;</a></span>~repair_item_actor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">repair_item_actor::~repair_item_actor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acb6ed71ea38c7a55709a42145e05a139" name="acb6ed71ea38c7a55709a42145e05a139"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb6ed71ea38c7a55709a42145e05a139">&#9670;&nbsp;</a></span>action_description()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string repair_item_actor::action_description </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fe">repair_item_actor::repair_type</a>&#160;</td>
          <td class="paramname"><em>rt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Describes members of <code>repair_type</code> enum. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l03577">3577</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03578" name="l03578"></a><span class="lineno"> 3578</span>{</div>
<div class="line"><a id="l03579" name="l03579"></a><span class="lineno"> 3579</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;std::string, NUM_REPAIR_TYPES&gt; arr = {{</div>
<div class="line"><a id="l03580" name="l03580"></a><span class="lineno"> 3580</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Nothing&quot;</span> ),</div>
<div class="line"><a id="l03581" name="l03581"></a><span class="lineno"> 3581</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Repairing&quot;</span> ),</div>
<div class="line"><a id="l03582" name="l03582"></a><span class="lineno"> 3582</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Refitting&quot;</span> ),</div>
<div class="line"><a id="l03583" name="l03583"></a><span class="lineno"> 3583</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Downsizing&quot;</span> ),</div>
<div class="line"><a id="l03584" name="l03584"></a><span class="lineno"> 3584</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Upsizing&quot;</span> ),</div>
<div class="line"><a id="l03585" name="l03585"></a><span class="lineno"> 3585</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Reinforcing&quot;</span> ),</div>
<div class="line"><a id="l03586" name="l03586"></a><span class="lineno"> 3586</span>            <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Practicing&quot;</span> )</div>
<div class="line"><a id="l03587" name="l03587"></a><span class="lineno"> 3587</span>        }</div>
<div class="line"><a id="l03588" name="l03588"></a><span class="lineno"> 3588</span>    };</div>
<div class="line"><a id="l03589" name="l03589"></a><span class="lineno"> 3589</span> </div>
<div class="line"><a id="l03590" name="l03590"></a><span class="lineno"> 3590</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( arr[rt] );</div>
<div class="line"><a id="l03591" name="l03591"></a><span class="lineno"> 3591</span>}</div>
<div class="ttc" id="atranslations_8h_html_a0b3ab525ec6b450b2487e7644255fa7c"><div class="ttname"><a href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a></div><div class="ttdeci">#define translate_marker(x)</div><div class="ttdoc">Marks a string literal to be extracted for translation.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00030">translations.h:30</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, and <a class="el" href="translations_8h_source.html#l00030">translate_marker</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__handlers_8cpp_source.html#l02813">activity_handlers::repair_item_finish()</a>.</p>

</div>
</div>
<a id="a1e8a9a9c7b60648e271dfab31cade0ac" name="a1e8a9a9c7b60648e271dfab31cade0ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e8a9a9c7b60648e271dfab31cade0ac">&#9670;&nbsp;</a></span>can_repair_target()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool repair_item_actor::can_repair_target </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>pl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>fix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>print_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if repairs on target item are possible. </p>
<p >Excludes checks on tool. Doesn't just estimate - should not return true if repairs are not possible or false if they are. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l03265">3265</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03267" name="l03267"></a><span class="lineno"> 3267</span>{</div>
<div class="line"><a id="l03268" name="l03268"></a><span class="lineno"> 3268</span>    <span class="comment">// In some rare cases (indices getting scrambled after inventory overflow)</span></div>
<div class="line"><a id="l03269" name="l03269"></a><span class="lineno"> 3269</span>    <span class="comment">//  our `fix` can be a different item.</span></div>
<div class="line"><a id="l03270" name="l03270"></a><span class="lineno"> 3270</span>    <span class="keywordflow">if</span>( fix.<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l03271" name="l03271"></a><span class="lineno"> 3271</span>        <span class="keywordflow">if</span>( print_msg ) {</div>
<div class="line"><a id="l03272" name="l03272"></a><span class="lineno"> 3272</span>            pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You do not have that item!&quot;</span> ) );</div>
<div class="line"><a id="l03273" name="l03273"></a><span class="lineno"> 3273</span>        }</div>
<div class="line"><a id="l03274" name="l03274"></a><span class="lineno"> 3274</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03275" name="l03275"></a><span class="lineno"> 3275</span>    }</div>
<div class="line"><a id="l03276" name="l03276"></a><span class="lineno"> 3276</span>    <span class="keywordflow">if</span>( fix.<a class="code hl_function" href="classitem.html#ac690c252311f4c021cb82c9487d35242">is_firearm</a>() ) {</div>
<div class="line"><a id="l03277" name="l03277"></a><span class="lineno"> 3277</span>        <span class="keywordflow">if</span>( print_msg ) {</div>
<div class="line"><a id="l03278" name="l03278"></a><span class="lineno"> 3278</span>            pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That requires gunsmithing tools.&quot;</span> ) );</div>
<div class="line"><a id="l03279" name="l03279"></a><span class="lineno"> 3279</span>        }</div>
<div class="line"><a id="l03280" name="l03280"></a><span class="lineno"> 3280</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03281" name="l03281"></a><span class="lineno"> 3281</span>    }</div>
<div class="line"><a id="l03282" name="l03282"></a><span class="lineno"> 3282</span>    <span class="keywordflow">if</span>( fix.<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() || fix.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;NO_REPAIR&quot;</span> ) ) {</div>
<div class="line"><a id="l03283" name="l03283"></a><span class="lineno"> 3283</span>        <span class="keywordflow">if</span>( print_msg ) {</div>
<div class="line"><a id="l03284" name="l03284"></a><span class="lineno"> 3284</span>            pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot repair this type of item.&quot;</span> ) );</div>
<div class="line"><a id="l03285" name="l03285"></a><span class="lineno"> 3285</span>        }</div>
<div class="line"><a id="l03286" name="l03286"></a><span class="lineno"> 3286</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03287" name="l03287"></a><span class="lineno"> 3287</span>    }</div>
<div class="line"><a id="l03288" name="l03288"></a><span class="lineno"> 3288</span> </div>
<div class="line"><a id="l03289" name="l03289"></a><span class="lineno"> 3289</span>    <span class="keywordflow">if</span>( any_of( <a class="code hl_namespace" href="namespacematerials.html">materials</a>.begin(), <a class="code hl_namespace" href="namespacematerials.html">materials</a>.end(), [&amp;fix]( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">material_id</a> &amp; mat ) {</div>
<div class="line"><a id="l03290" name="l03290"></a><span class="lineno"> 3290</span>    return mat.obj()</div>
<div class="line"><a id="l03291" name="l03291"></a><span class="lineno"> 3291</span>               .repaired_with() == fix.typeId();</div>
<div class="line"><a id="l03292" name="l03292"></a><span class="lineno"> 3292</span>    } ) ) {</div>
<div class="line"><a id="l03293" name="l03293"></a><span class="lineno"> 3293</span>        <span class="keywordflow">if</span>( print_msg ) {</div>
<div class="line"><a id="l03294" name="l03294"></a><span class="lineno"> 3294</span>            pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This can be used to repair other items, not itself.&quot;</span> ) );</div>
<div class="line"><a id="l03295" name="l03295"></a><span class="lineno"> 3295</span>        }</div>
<div class="line"><a id="l03296" name="l03296"></a><span class="lineno"> 3296</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03297" name="l03297"></a><span class="lineno"> 3297</span>    }</div>
<div class="line"><a id="l03298" name="l03298"></a><span class="lineno"> 3298</span> </div>
<div class="line"><a id="l03299" name="l03299"></a><span class="lineno"> 3299</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classrepair__item__actor.html#aeb17ab66c6f52744d13fa3b28389321d">handle_components</a>( pl, fix, print_msg, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l03300" name="l03300"></a><span class="lineno"> 3300</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03301" name="l03301"></a><span class="lineno"> 3301</span>    }</div>
<div class="line"><a id="l03302" name="l03302"></a><span class="lineno"> 3302</span> </div>
<div class="line"><a id="l03303" name="l03303"></a><span class="lineno"> 3303</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_be_refitted = fix.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;VARSIZE&quot;</span> );</div>
<div class="line"><a id="l03304" name="l03304"></a><span class="lineno"> 3304</span>    <span class="keywordflow">if</span>( can_be_refitted &amp;&amp; !fix.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;FIT&quot;</span> ) ) {</div>
<div class="line"><a id="l03305" name="l03305"></a><span class="lineno"> 3305</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03306" name="l03306"></a><span class="lineno"> 3306</span>    }</div>
<div class="line"><a id="l03307" name="l03307"></a><span class="lineno"> 3307</span> </div>
<div class="line"><a id="l03308" name="l03308"></a><span class="lineno"> 3308</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> resizing_matters = fix.<a class="code hl_function" href="classitem.html#ac242b34e6ae35efdcdd956df3f320e84">get_encumber</a>( pl ) != 0;</div>
<div class="line"><a id="l03309" name="l03309"></a><span class="lineno"> 3309</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> small = pl.<a class="code hl_function" href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">get_size</a>() == <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614">MS_TINY</a>;</div>
<div class="line"><a id="l03310" name="l03310"></a><span class="lineno"> 3310</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_resize = small != fix.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;UNDERSIZE&quot;</span> );</div>
<div class="line"><a id="l03311" name="l03311"></a><span class="lineno"> 3311</span>    <span class="keywordflow">if</span>( can_be_refitted &amp;&amp; resizing_matters &amp;&amp; can_resize ) {</div>
<div class="line"><a id="l03312" name="l03312"></a><span class="lineno"> 3312</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03313" name="l03313"></a><span class="lineno"> 3313</span>    }</div>
<div class="line"><a id="l03314" name="l03314"></a><span class="lineno"> 3314</span> </div>
<div class="line"><a id="l03315" name="l03315"></a><span class="lineno"> 3315</span>    <span class="keywordflow">if</span>( fix.<a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &gt; 0 ) {</div>
<div class="line"><a id="l03316" name="l03316"></a><span class="lineno"> 3316</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03317" name="l03317"></a><span class="lineno"> 3317</span>    }</div>
<div class="line"><a id="l03318" name="l03318"></a><span class="lineno"> 3318</span> </div>
<div class="line"><a id="l03319" name="l03319"></a><span class="lineno"> 3319</span>    <span class="keywordflow">if</span>( fix.<a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &lt;= fix.<a class="code hl_function" href="classitem.html#a8f94ab0bb7b77ec4157ec5af2f8493b7">min_damage</a>() ) {</div>
<div class="line"><a id="l03320" name="l03320"></a><span class="lineno"> 3320</span>        <span class="keywordflow">if</span>( print_msg ) {</div>
<div class="line"><a id="l03321" name="l03321"></a><span class="lineno"> 3321</span>            pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s is already enhanced to its maximum potential.&quot;</span> ),</div>
<div class="line"><a id="l03322" name="l03322"></a><span class="lineno"> 3322</span>                                  fix.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03323" name="l03323"></a><span class="lineno"> 3323</span>        }</div>
<div class="line"><a id="l03324" name="l03324"></a><span class="lineno"> 3324</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03325" name="l03325"></a><span class="lineno"> 3325</span>    }</div>
<div class="line"><a id="l03326" name="l03326"></a><span class="lineno"> 3326</span> </div>
<div class="line"><a id="l03327" name="l03327"></a><span class="lineno"> 3327</span>    <span class="keywordflow">if</span>( fix.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;PRIMITIVE_RANGED_WEAPON&quot;</span> ) || !fix.<a class="code hl_function" href="classitem.html#adb672a9fba1f03f346c1c0ada6e88ac5">reinforceable</a>() ) {</div>
<div class="line"><a id="l03328" name="l03328"></a><span class="lineno"> 3328</span>        <span class="keywordflow">if</span>( print_msg ) {</div>
<div class="line"><a id="l03329" name="l03329"></a><span class="lineno"> 3329</span>            pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot improve your %s any more this way.&quot;</span> ),</div>
<div class="line"><a id="l03330" name="l03330"></a><span class="lineno"> 3330</span>                                  fix.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03331" name="l03331"></a><span class="lineno"> 3331</span>        }</div>
<div class="line"><a id="l03332" name="l03332"></a><span class="lineno"> 3332</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03333" name="l03333"></a><span class="lineno"> 3333</span>    }</div>
<div class="line"><a id="l03334" name="l03334"></a><span class="lineno"> 3334</span> </div>
<div class="line"><a id="l03335" name="l03335"></a><span class="lineno"> 3335</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03336" name="l03336"></a><span class="lineno"> 3336</span>}</div>
<div class="ttc" id="aclassCharacter_html_aa5ca0f6c4fb1c08bb93ece1c9746c368"><div class="ttname"><a href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">Character::get_size</a></div><div class="ttdeci">m_size get_size() const override</div><div class="ttdoc">Get size class of character.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00561">character.cpp:561</a></div></div>
<div class="ttc" id="aclassitem_html_a40963a016376016eb408bdb9dbb94388"><div class="ttname"><a href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a></div><div class="ttdeci">bool count_by_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06010">item.cpp:6010</a></div></div>
<div class="ttc" id="aclassitem_html_a4d5555082454b3cb192f59a70838c891"><div class="ttname"><a href="classitem.html#a4d5555082454b3cb192f59a70838c891">item::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00732">item.cpp:732</a></div></div>
<div class="ttc" id="aclassitem_html_a7e78e26dcf9b357cda769c3ca2938eda"><div class="ttname"><a href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">item::tname</a></div><div class="ttdeci">std::string tname(unsigned int quantity=1, bool with_prefix=true, unsigned int truncate=0) const</div><div class="ttdoc">Return the (translated) item name.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04546">item.cpp:4546</a></div></div>
<div class="ttc" id="aclassitem_html_a8f94ab0bb7b77ec4157ec5af2f8493b7"><div class="ttname"><a href="classitem.html#a8f94ab0bb7b77ec4157ec5af2f8493b7">item::min_damage</a></div><div class="ttdeci">int min_damage() const</div><div class="ttdoc">Minimum amount of damage to an item (state of maximum repair)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06216">item.cpp:6216</a></div></div>
<div class="ttc" id="aclassitem_html_aaa5aeb6f838927babb10ede535cf2a73"><div class="ttname"><a href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">item::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05308">item.cpp:5308</a></div></div>
<div class="ttc" id="aclassitem_html_ac242b34e6ae35efdcdd956df3f320e84"><div class="ttname"><a href="classitem.html#ac242b34e6ae35efdcdd956df3f320e84">item::get_encumber</a></div><div class="ttdeci">int get_encumber(const Character &amp;) const</div><div class="ttdoc">Returns the encumbrance value that this item has when worn by given player.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05797">item.cpp:5797</a></div></div>
<div class="ttc" id="aclassitem_html_ac690c252311f4c021cb82c9487d35242"><div class="ttname"><a href="classitem.html#ac690c252311f4c021cb82c9487d35242">item::is_firearm</a></div><div class="ttdeci">bool is_firearm() const</div><div class="ttdoc">Does it require gunsmithing tools to repair.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06527">item.cpp:6527</a></div></div>
<div class="ttc" id="aclassitem_html_adb672a9fba1f03f346c1c0ada6e88ac5"><div class="ttname"><a href="classitem.html#adb672a9fba1f03f346c1c0ada6e88ac5">item::reinforceable</a></div><div class="ttdeci">bool reinforceable() const</div><div class="ttdoc">Whether the item can be repaired beyond normal health.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06504">item.cpp:6504</a></div></div>
<div class="ttc" id="aclassitem_html_ae8a58c6fe3c80cded11d6f3ccfa548a3"><div class="ttname"><a href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">item::damage</a></div><div class="ttdeci">int damage() const</div><div class="ttdoc">How much damage has the item sustained?</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00696">item.cpp:696</a></div></div>
<div class="ttc" id="aclassplayer_html_ae7009d849f19a4f5ebe877cbe463c459"><div class="ttname"><a href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">player::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00380">player.cpp:380</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_aeb17ab66c6f52744d13fa3b28389321d"><div class="ttname"><a href="classrepair__item__actor.html#aeb17ab66c6f52744d13fa3b28389321d">repair_item_actor::handle_components</a></div><div class="ttdeci">bool handle_components(player &amp;pl, const item &amp;fix, bool print_msg, bool just_check) const</div><div class="ttdoc">Returns if components are available.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l03117">iuse_actor.cpp:3117</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; material_type &gt;</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614">MS_TINY</a></div><div class="ttdeci">@ MS_TINY</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00058">creature.h:58</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a></div><div class="ttdeci">@ m_info</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00265">enums.h:265</a></div></div>
<div class="ttc" id="anamespacematerials_html"><div class="ttname"><a href="namespacematerials.html">materials</a></div><div class="ttdef"><b>Definition:</b> <a href="material_8h_source.html#l00122">material.h:123</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l00380">player::add_msg_if_player()</a>, <a class="el" href="item_8cpp_source.html#l06010">item::count_by_charges()</a>, <a class="el" href="item_8cpp_source.html#l00696">item::damage()</a>, <a class="el" href="item_8cpp_source.html#l05797">item::get_encumber()</a>, <a class="el" href="character_8cpp_source.html#l00561">Character::get_size()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03117">handle_components()</a>, <a class="el" href="item_8cpp_source.html#l05308">item::has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06527">item::is_firearm()</a>, <a class="el" href="item_8cpp_source.html#l00732">item::is_null()</a>, <a class="el" href="enums_8h_source.html#l00265">m_info</a>, <a class="el" href="item_8cpp_source.html#l06216">item::min_damage()</a>, <a class="el" href="creature_8h_source.html#l00058">MS_TINY</a>, <a class="el" href="item_8cpp_source.html#l06504">item::reinforceable()</a>, and <a class="el" href="item_8cpp_source.html#l04546">item::tname()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l03450">repair()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l02813">activity_handlers::repair_item_finish()</a>.</p>

</div>
</div>
<a id="a42807130b4b60d92fffffea88fd08f0f" name="a42807130b4b60d92fffffea88fd08f0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42807130b4b60d92fffffea88fd08f0f">&#9670;&nbsp;</a></span>can_use_tool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool repair_item_actor::can_use_tool </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>tool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>print_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if we are allowed to use the tool. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l03039">3039</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03040" name="l03040"></a><span class="lineno"> 3040</span>{</div>
<div class="line"><a id="l03041" name="l03041"></a><span class="lineno"> 3041</span>    <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() ) {</div>
<div class="line"><a id="l03042" name="l03042"></a><span class="lineno"> 3042</span>        <span class="keywordflow">if</span>( print_msg ) {</div>
<div class="line"><a id="l03043" name="l03043"></a><span class="lineno"> 3043</span>            p.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while underwater.&quot;</span> ) );</div>
<div class="line"><a id="l03044" name="l03044"></a><span class="lineno"> 3044</span>        }</div>
<div class="line"><a id="l03045" name="l03045"></a><span class="lineno"> 3045</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03046" name="l03046"></a><span class="lineno"> 3046</span>    }</div>
<div class="line"><a id="l03047" name="l03047"></a><span class="lineno"> 3047</span>    <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">is_mounted</a>() ) {</div>
<div class="line"><a id="l03048" name="l03048"></a><span class="lineno"> 3048</span>        <span class="keywordflow">if</span>( print_msg ) {</div>
<div class="line"><a id="l03049" name="l03049"></a><span class="lineno"> 3049</span>            p.<a class="code hl_function" href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">add_msg_player_or_npc</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t do that while mounted.&quot;</span> ),</div>
<div class="line"><a id="l03050" name="l03050"></a><span class="lineno"> 3050</span>                                     <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; can&#39;t do that while mounted.&quot;</span> ) );</div>
<div class="line"><a id="l03051" name="l03051"></a><span class="lineno"> 3051</span>        }</div>
<div class="line"><a id="l03052" name="l03052"></a><span class="lineno"> 3052</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03053" name="l03053"></a><span class="lineno"> 3053</span>    }</div>
<div class="line"><a id="l03054" name="l03054"></a><span class="lineno"> 3054</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="namespacecharacter__funcs.html#a813a9decd34980fe53f38ba18ffd6374">character_funcs::can_see_fine_details</a>( p ) ) {</div>
<div class="line"><a id="l03055" name="l03055"></a><span class="lineno"> 3055</span>        <span class="keywordflow">if</span>( print_msg ) {</div>
<div class="line"><a id="l03056" name="l03056"></a><span class="lineno"> 3056</span>            p.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You can&#39;t see to do that!&quot;</span> ) );</div>
<div class="line"><a id="l03057" name="l03057"></a><span class="lineno"> 3057</span>        }</div>
<div class="line"><a id="l03058" name="l03058"></a><span class="lineno"> 3058</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03059" name="l03059"></a><span class="lineno"> 3059</span>    }</div>
<div class="line"><a id="l03060" name="l03060"></a><span class="lineno"> 3060</span>    <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>.units_sufficient( p ) ) {</div>
<div class="line"><a id="l03061" name="l03061"></a><span class="lineno"> 3061</span>        <span class="keywordflow">if</span>( print_msg ) {</div>
<div class="line"><a id="l03062" name="l03062"></a><span class="lineno"> 3062</span>            p.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your tool does not have enough charges to do that.&quot;</span> ) );</div>
<div class="line"><a id="l03063" name="l03063"></a><span class="lineno"> 3063</span>        }</div>
<div class="line"><a id="l03064" name="l03064"></a><span class="lineno"> 3064</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03065" name="l03065"></a><span class="lineno"> 3065</span>    }</div>
<div class="line"><a id="l03066" name="l03066"></a><span class="lineno"> 3066</span> </div>
<div class="line"><a id="l03067" name="l03067"></a><span class="lineno"> 3067</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03068" name="l03068"></a><span class="lineno"> 3068</span>}</div>
<div class="ttc" id="aclassCharacter_html_a67b51491c2529df09755e07bc633cc55"><div class="ttname"><a href="classCharacter.html#a67b51491c2529df09755e07bc633cc55">Character::is_mounted</a></div><div class="ttdeci">bool is_mounted() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01064">character.cpp:1064</a></div></div>
<div class="ttc" id="aclassCreature_html_a5a2346f549de9c87e8f2afeec1e71366"><div class="ttname"><a href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">Creature::is_underwater</a></div><div class="ttdeci">virtual bool is_underwater() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00170">creature.cpp:170</a></div></div>
<div class="ttc" id="aclassplayer_html_a07108565639fa6fe5b6776b4e8674fb6"><div class="ttname"><a href="classplayer.html#a07108565639fa6fe5b6776b4e8674fb6">player::add_msg_player_or_npc</a></div><div class="ttdeci">void add_msg_player_or_npc(const std::string &amp;player_msg, const std::string &amp;npc_str) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00385">player.cpp:385</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023"><div class="ttname"><a href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">item_consumption_t::tool</a></div><div class="ttdeci">@ tool</div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a></div><div class="ttdeci">@ m_bad</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00261">enums.h:261</a></div></div>
<div class="ttc" id="anamespacecharacter__funcs_html_a813a9decd34980fe53f38ba18ffd6374"><div class="ttname"><a href="namespacecharacter__funcs.html#a813a9decd34980fe53f38ba18ffd6374">character_funcs::can_see_fine_details</a></div><div class="ttdeci">bool can_see_fine_details(const Character &amp;who)</div><div class="ttdoc">Checks whether character vision at given pos is good enough to see fine details.</div><div class="ttdef"><b>Definition:</b> <a href="character__functions_8cpp_source.html#l00172">character_functions.cpp:172</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l00380">player::add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l00385">player::add_msg_player_or_npc()</a>, <a class="el" href="character__functions_8cpp_source.html#l00172">character_funcs::can_see_fine_details()</a>, <a class="el" href="character_8cpp_source.html#l01064">Character::is_mounted()</a>, <a class="el" href="creature_8cpp_source.html#l00170">Creature::is_underwater()</a>, <a class="el" href="enums_8h_source.html#l00261">m_bad</a>, <a class="el" href="enums_8h_source.html#l00265">m_info</a>, and <a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l03450">repair()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l02813">activity_handlers::repair_item_finish()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l03097">use()</a>.</p>

</div>
</div>
<a id="a59cd64c17e3d9a977e444c21ff3899d5" name="a59cd64c17e3d9a977e444c21ff3899d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59cd64c17e3d9a977e444c21ff3899d5">&#9670;&nbsp;</a></span>clone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classiuse__actor.html">iuse_actor</a> &gt; repair_item_actor::clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a deep copy of this object. </p>
<p >Example implementation: </p><div class="fragment"><div class="line"><span class="keyword">class </span>my_iuse_actor {</div>
<div class="line">    std::unique_ptr&lt;iuse_actor&gt; <a class="code hl_function" href="classrepair__item__actor.html#a59cd64c17e3d9a977e444c21ff3899d5">clone</a>()<span class="keyword"> const override </span>{</div>
<div class="line">        <span class="keywordflow">return</span> std::make_unique&lt;my_iuse_actor&gt;( *<span class="keyword">this</span> );</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="ttc" id="aclassrepair__item__actor_html_a59cd64c17e3d9a977e444c21ff3899d5"><div class="ttname"><a href="classrepair__item__actor.html#a59cd64c17e3d9a977e444c21ff3899d5">repair_item_actor::clone</a></div><div class="ttdeci">std::unique_ptr&lt; iuse_actor &gt; clone() const override</div><div class="ttdoc">Returns a deep copy of this object.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l03112">iuse_actor.cpp:3112</a></div></div>
</div><!-- fragment --><p> The returned value should behave like the original item and must have the same type. </p>

<p>Implements <a class="el" href="classiuse__actor.html#a79a3e229ab9a4f5433d061cc1faec42d">iuse_actor</a>.</p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l03112">3112</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03113" name="l03113"></a><span class="lineno"> 3113</span>{</div>
<div class="line"><a id="l03114" name="l03114"></a><span class="lineno"> 3114</span>    <span class="keywordflow">return</span> std::make_unique&lt;repair_item_actor&gt;( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l03115" name="l03115"></a><span class="lineno"> 3115</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a17ffc0c3f8468701dc0553b50ab72a40" name="a17ffc0c3f8468701dc0553b50ab72a40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17ffc0c3f8468701dc0553b50ab72a40">&#9670;&nbsp;</a></span>default_action()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fe">repair_item_actor::repair_type</a> repair_item_actor::default_action </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>fix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>current_skill_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>What are we most likely trying to do with this item? </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l03385">3385</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03387" name="l03387"></a><span class="lineno"> 3387</span>{</div>
<div class="line"><a id="l03388" name="l03388"></a><span class="lineno"> 3388</span>    <span class="keywordflow">if</span>( fix.<a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &gt; 0 ) {</div>
<div class="line"><a id="l03389" name="l03389"></a><span class="lineno"> 3389</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea1a2de14c779a7b09dc5eb4ec31341b29">RT_REPAIR</a>;</div>
<div class="line"><a id="l03390" name="l03390"></a><span class="lineno"> 3390</span>    }</div>
<div class="line"><a id="l03391" name="l03391"></a><span class="lineno"> 3391</span> </div>
<div class="line"><a id="l03392" name="l03392"></a><span class="lineno"> 3392</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_be_refitted = fix.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="iuse__actor_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE</a> );</div>
<div class="line"><a id="l03393" name="l03393"></a><span class="lineno"> 3393</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> doesnt_fit = !fix.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="iuse__actor_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a> );</div>
<div class="line"><a id="l03394" name="l03394"></a><span class="lineno"> 3394</span>    <span class="keywordflow">if</span>( doesnt_fit &amp;&amp; can_be_refitted ) {</div>
<div class="line"><a id="l03395" name="l03395"></a><span class="lineno"> 3395</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea173e2c4d52ef82293d133bcf272ec6ce">RT_REFIT</a>;</div>
<div class="line"><a id="l03396" name="l03396"></a><span class="lineno"> 3396</span>    }</div>
<div class="line"><a id="l03397" name="l03397"></a><span class="lineno"> 3397</span> </div>
<div class="line"><a id="l03398" name="l03398"></a><span class="lineno"> 3398</span>    <a class="code hl_class" href="classCharacter.html">Character</a> &amp;player_character = <a class="code hl_function" href="character_8cpp.html#a2fcb25d686f4a35fca374c6f71280311">get_player_character</a>();</div>
<div class="line"><a id="l03399" name="l03399"></a><span class="lineno"> 3399</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> smol = player_character.<a class="code hl_function" href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">get_size</a>() == <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614">MS_TINY</a>;</div>
<div class="line"><a id="l03400" name="l03400"></a><span class="lineno"> 3400</span> </div>
<div class="line"><a id="l03401" name="l03401"></a><span class="lineno"> 3401</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_undersized = fix.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="iuse__actor_8cpp.html#a2a1b60111a7bbffa1b9cffe54cbcf2da">flag_UNDERSIZE</a> );</div>
<div class="line"><a id="l03402" name="l03402"></a><span class="lineno"> 3402</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_oversized = fix.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="iuse__actor_8cpp.html#a973aaf088b7a39f7efefcceec9746a0f">flag_OVERSIZE</a> );</div>
<div class="line"><a id="l03403" name="l03403"></a><span class="lineno"> 3403</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> resizing_matters = fix.<a class="code hl_function" href="classitem.html#ac242b34e6ae35efdcdd956df3f320e84">get_encumber</a>( player_character ) != 0;</div>
<div class="line"><a id="l03404" name="l03404"></a><span class="lineno"> 3404</span> </div>
<div class="line"><a id="l03405" name="l03405"></a><span class="lineno"> 3405</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> too_big_while_smol = smol &amp;&amp; !is_undersized &amp;&amp; !is_oversized;</div>
<div class="line"><a id="l03406" name="l03406"></a><span class="lineno"> 3406</span>    <span class="keywordflow">if</span>( too_big_while_smol &amp;&amp; can_be_refitted &amp;&amp; resizing_matters ) {</div>
<div class="line"><a id="l03407" name="l03407"></a><span class="lineno"> 3407</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea2a377af0d7ba501ec13ff4453fc17db0">RT_DOWNSIZING</a>;</div>
<div class="line"><a id="l03408" name="l03408"></a><span class="lineno"> 3408</span>    }</div>
<div class="line"><a id="l03409" name="l03409"></a><span class="lineno"> 3409</span> </div>
<div class="line"><a id="l03410" name="l03410"></a><span class="lineno"> 3410</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> too_small_while_big = !smol &amp;&amp; is_undersized &amp;&amp; !is_oversized;</div>
<div class="line"><a id="l03411" name="l03411"></a><span class="lineno"> 3411</span>    <span class="keywordflow">if</span>( too_small_while_big &amp;&amp; can_be_refitted &amp;&amp; resizing_matters ) {</div>
<div class="line"><a id="l03412" name="l03412"></a><span class="lineno"> 3412</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea25dc2d78ed34354fba150a1a4e8cb1bf">RT_UPSIZING</a>;</div>
<div class="line"><a id="l03413" name="l03413"></a><span class="lineno"> 3413</span>    }</div>
<div class="line"><a id="l03414" name="l03414"></a><span class="lineno"> 3414</span> </div>
<div class="line"><a id="l03415" name="l03415"></a><span class="lineno"> 3415</span>    <span class="keywordflow">if</span>( fix.<a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>() &gt; fix.<a class="code hl_function" href="classitem.html#a8f94ab0bb7b77ec4157ec5af2f8493b7">min_damage</a>() ) {</div>
<div class="line"><a id="l03416" name="l03416"></a><span class="lineno"> 3416</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea2319dbf02ebb14171d8c553fccb6d7e6">RT_REINFORCE</a>;</div>
<div class="line"><a id="l03417" name="l03417"></a><span class="lineno"> 3417</span>    }</div>
<div class="line"><a id="l03418" name="l03418"></a><span class="lineno"> 3418</span> </div>
<div class="line"><a id="l03419" name="l03419"></a><span class="lineno"> 3419</span>    <span class="keywordflow">if</span>( current_skill_level &lt;= <a class="code hl_variable" href="classrepair__item__actor.html#a2f79271d4dd3e2c7b53698bb0e582d53">trains_skill_to</a> ) {</div>
<div class="line"><a id="l03420" name="l03420"></a><span class="lineno"> 3420</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea63874384dd91d071fed451618879cac1">RT_PRACTICE</a>;</div>
<div class="line"><a id="l03421" name="l03421"></a><span class="lineno"> 3421</span>    }</div>
<div class="line"><a id="l03422" name="l03422"></a><span class="lineno"> 3422</span> </div>
<div class="line"><a id="l03423" name="l03423"></a><span class="lineno"> 3423</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea80f4159b229c75535b5464e693f32e5b">RT_NOTHING</a>;</div>
<div class="line"><a id="l03424" name="l03424"></a><span class="lineno"> 3424</span>}</div>
<div class="ttc" id="acharacter_8cpp_html_a2fcb25d686f4a35fca374c6f71280311"><div class="ttname"><a href="character_8cpp.html#a2fcb25d686f4a35fca374c6f71280311">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00393">character.cpp:393</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00217">character.h:218</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a2f79271d4dd3e2c7b53698bb0e582d53"><div class="ttname"><a href="classrepair__item__actor.html#a2f79271d4dd3e2c7b53698bb0e582d53">repair_item_actor::trains_skill_to</a></div><div class="ttdeci">int trains_skill_to</div><div class="ttdoc">Maximum skill level that can be gained by using this actor.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00941">iuse_actor.h:941</a></div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_a2a1b60111a7bbffa1b9cffe54cbcf2da"><div class="ttname"><a href="iuse__actor_8cpp.html#a2a1b60111a7bbffa1b9cffe54cbcf2da">flag_UNDERSIZE</a></div><div class="ttdeci">static const std::string flag_UNDERSIZE(&quot;UNDERSIZE&quot;)</div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_a614c2056b7d8fcc6773e3441a3feacc3"><div class="ttname"><a href="iuse__actor_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT</a></div><div class="ttdeci">static const std::string flag_FIT(&quot;FIT&quot;)</div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_a973aaf088b7a39f7efefcceec9746a0f"><div class="ttname"><a href="iuse__actor_8cpp.html#a973aaf088b7a39f7efefcceec9746a0f">flag_OVERSIZE</a></div><div class="ttdeci">static const std::string flag_OVERSIZE(&quot;OVERSIZE&quot;)</div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_ad66d76d379c8d5dcdbb69ceac398607b"><div class="ttname"><a href="iuse__actor_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE</a></div><div class="ttdeci">static const std::string flag_VARSIZE(&quot;VARSIZE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l00696">item::damage()</a>, <a class="el" href="iuse__actor_8cpp.html#a614c2056b7d8fcc6773e3441a3feacc3">flag_FIT()</a>, <a class="el" href="iuse__actor_8cpp.html#a973aaf088b7a39f7efefcceec9746a0f">flag_OVERSIZE()</a>, <a class="el" href="iuse__actor_8cpp.html#a2a1b60111a7bbffa1b9cffe54cbcf2da">flag_UNDERSIZE()</a>, <a class="el" href="iuse__actor_8cpp.html#ad66d76d379c8d5dcdbb69ceac398607b">flag_VARSIZE()</a>, <a class="el" href="item_8cpp_source.html#l05797">item::get_encumber()</a>, <a class="el" href="character_8cpp_source.html#l00393">get_player_character()</a>, <a class="el" href="character_8cpp_source.html#l00561">Character::get_size()</a>, <a class="el" href="item_8cpp_source.html#l05308">item::has_flag()</a>, <a class="el" href="item_8cpp_source.html#l06216">item::min_damage()</a>, <a class="el" href="creature_8h_source.html#l00058">MS_TINY</a>, <a class="el" href="iuse__actor_8h_source.html#l00966">RT_DOWNSIZING</a>, <a class="el" href="iuse__actor_8h_source.html#l00963">RT_NOTHING</a>, <a class="el" href="iuse__actor_8h_source.html#l00969">RT_PRACTICE</a>, <a class="el" href="iuse__actor_8h_source.html#l00965">RT_REFIT</a>, <a class="el" href="iuse__actor_8h_source.html#l00968">RT_REINFORCE</a>, <a class="el" href="iuse__actor_8h_source.html#l00964">RT_REPAIR</a>, <a class="el" href="iuse__actor_8h_source.html#l00967">RT_UPSIZING</a>, and <a class="el" href="iuse__actor_8h_source.html#l00941">trains_skill_to</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l03450">repair()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l02813">activity_handlers::repair_item_finish()</a>.</p>

</div>
</div>
<a id="a2ec853d6f27aa41fd3cd7fe1443a1f93" name="a2ec853d6f27aa41fd3cd7fe1443a1f93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ec853d6f27aa41fd3cd7fe1443a1f93">&#9670;&nbsp;</a></span>get_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string repair_item_actor::get_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the translated name of the action. </p>
<p >It is used for the item action menu. </p>

<p>Reimplemented from <a class="el" href="classiuse__actor.html#a4c0e5b1f19b2f17d2a40220bc8ac28dc">iuse_actor</a>.</p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l03593">3593</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03594" name="l03594"></a><span class="lineno"> 3594</span>{</div>
<div class="line"><a id="l03595" name="l03595"></a><span class="lineno"> 3595</span>    <span class="keyword">const</span> std::string mats = <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( <a class="code hl_namespace" href="namespacematerials.html">materials</a>.begin(), <a class="code hl_namespace" href="namespacematerials.html">materials</a>.end(),</div>
<div class="line"><a id="l03596" name="l03596"></a><span class="lineno"> 3596</span>    []( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">material_id</a> &amp; mid ) {</div>
<div class="line"><a id="l03597" name="l03597"></a><span class="lineno"> 3597</span>        return _( mid-&gt;name() );</div>
<div class="line"><a id="l03598" name="l03598"></a><span class="lineno"> 3598</span>    } );</div>
<div class="line"><a id="l03599" name="l03599"></a><span class="lineno"> 3599</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Repair %s&quot;</span> ), mats );</div>
<div class="line"><a id="l03600" name="l03600"></a><span class="lineno"> 3600</span>}</div>
<div class="ttc" id="aoutput_8h_html_abc4022ff920f936d2ee400cedc458733"><div class="ttname"><a href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a></div><div class="ttdeci">std::string enumerate_as_string(const _Container &amp;values, enumeration_conjunction conj=enumeration_conjunction::and_)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00637">output.h:637</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00431">string_formatter.h:431</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="output_8h_source.html#l00637">enumerate_as_string()</a>, and <a class="el" href="string__formatter_8h_source.html#l00431">string_format()</a>.</p>

</div>
</div>
<a id="aeb17ab66c6f52744d13fa3b28389321d" name="aeb17ab66c6f52744d13fa3b28389321d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb17ab66c6f52744d13fa3b28389321d">&#9670;&nbsp;</a></span>handle_components()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool repair_item_actor::handle_components </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>pl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>fix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>print_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>just_check</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns if components are available. </p>
<p >Consumes them if <code>just_check</code> is false. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l03117">3117</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03119" name="l03119"></a><span class="lineno"> 3119</span>{</div>
<div class="line"><a id="l03120" name="l03120"></a><span class="lineno"> 3120</span>    <span class="comment">// Entries valid for repaired items</span></div>
<div class="line"><a id="l03121" name="l03121"></a><span class="lineno"> 3121</span>    std::set&lt;material_id&gt; valid_entries;</div>
<div class="line"><a id="l03122" name="l03122"></a><span class="lineno"> 3122</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;mat : <a class="code hl_namespace" href="namespacematerials.html">materials</a> ) {</div>
<div class="line"><a id="l03123" name="l03123"></a><span class="lineno"> 3123</span>        <span class="keywordflow">if</span>( fix.<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( mat ) ) {</div>
<div class="line"><a id="l03124" name="l03124"></a><span class="lineno"> 3124</span>            valid_entries.insert( mat );</div>
<div class="line"><a id="l03125" name="l03125"></a><span class="lineno"> 3125</span>        }</div>
<div class="line"><a id="l03126" name="l03126"></a><span class="lineno"> 3126</span>    }</div>
<div class="line"><a id="l03127" name="l03127"></a><span class="lineno"> 3127</span> </div>
<div class="line"><a id="l03128" name="l03128"></a><span class="lineno"> 3128</span>    <span class="keywordflow">if</span>( valid_entries.empty() ) {</div>
<div class="line"><a id="l03129" name="l03129"></a><span class="lineno"> 3129</span>        <span class="keywordflow">if</span>( print_msg ) {</div>
<div class="line"><a id="l03130" name="l03130"></a><span class="lineno"> 3130</span>            pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s is not made of any of:&quot;</span> ),</div>
<div class="line"><a id="l03131" name="l03131"></a><span class="lineno"> 3131</span>                                  fix.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03132" name="l03132"></a><span class="lineno"> 3132</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;mat_name : <a class="code hl_namespace" href="namespacematerials.html">materials</a> ) {</div>
<div class="line"><a id="l03133" name="l03133"></a><span class="lineno"> 3133</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;mat = mat_name.obj();</div>
<div class="line"><a id="l03134" name="l03134"></a><span class="lineno"> 3134</span>                pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s (repaired using %s)&quot;</span> ), mat.name(),</div>
<div class="line"><a id="l03135" name="l03135"></a><span class="lineno"> 3135</span>                                      <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( mat.repaired_with(), 2 ) );</div>
<div class="line"><a id="l03136" name="l03136"></a><span class="lineno"> 3136</span>            }</div>
<div class="line"><a id="l03137" name="l03137"></a><span class="lineno"> 3137</span>        }</div>
<div class="line"><a id="l03138" name="l03138"></a><span class="lineno"> 3138</span> </div>
<div class="line"><a id="l03139" name="l03139"></a><span class="lineno"> 3139</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03140" name="l03140"></a><span class="lineno"> 3140</span>    }</div>
<div class="line"><a id="l03141" name="l03141"></a><span class="lineno"> 3141</span> </div>
<div class="line"><a id="l03142" name="l03142"></a><span class="lineno"> 3142</span>    <span class="keyword">const</span> <a class="code hl_class" href="classinventory.html">inventory</a> &amp;crafting_inv = pl.<a class="code hl_function" href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">crafting_inventory</a>();</div>
<div class="line"><a id="l03143" name="l03143"></a><span class="lineno"> 3143</span> </div>
<div class="line"><a id="l03144" name="l03144"></a><span class="lineno"> 3144</span>    <span class="comment">// Repairing or modifying items requires at least 1 repair item,</span></div>
<div class="line"><a id="l03145" name="l03145"></a><span class="lineno"> 3145</span>    <span class="comment">//  otherwise number is related to size of item</span></div>
<div class="line"><a id="l03146" name="l03146"></a><span class="lineno"> 3146</span>    <span class="comment">// Round up if checking, but roll if actually consuming</span></div>
<div class="line"><a id="l03147" name="l03147"></a><span class="lineno"> 3147</span>    <span class="comment">// TODO: should 250_ml be part of the cost_scaling?</span></div>
<div class="line"><a id="l03148" name="l03148"></a><span class="lineno"> 3148</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> items_needed = std::max&lt;int&gt;( 1, just_check ?</div>
<div class="line"><a id="l03149" name="l03149"></a><span class="lineno"> 3149</span>                                            std::ceil( fix.<a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() / 250_ml * <a class="code hl_variable" href="classrepair__item__actor.html#a686a5cfa2b736595ee5751cfa3d69d58">cost_scaling</a> ) :</div>
<div class="line"><a id="l03150" name="l03150"></a><span class="lineno"> 3150</span>                                            <a class="code hl_function" href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a>( fix.<a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() / 250_ml * <a class="code hl_variable" href="classrepair__item__actor.html#a686a5cfa2b736595ee5751cfa3d69d58">cost_scaling</a> ) );</div>
<div class="line"><a id="l03151" name="l03151"></a><span class="lineno"> 3151</span> </div>
<div class="line"><a id="l03152" name="l03152"></a><span class="lineno"> 3152</span>    std::function&lt;bool( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; )&gt; filter;</div>
<div class="line"><a id="l03153" name="l03153"></a><span class="lineno"> 3153</span>    <span class="keywordflow">if</span>( fix.<a class="code hl_function" href="classitem.html#a5093379156498b4d523b3ac1f733adc4">is_filthy</a>() ) {</div>
<div class="line"><a id="l03154" name="l03154"></a><span class="lineno"> 3154</span>        filter = []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a700c216fb376666eaeda0c892e8bdc09">component</a> ) {</div>
<div class="line"><a id="l03155" name="l03155"></a><span class="lineno"> 3155</span>            <span class="keywordflow">return</span> <a class="code hl_struct" href="structcomponent.html">component</a>.allow_crafting_component();</div>
<div class="line"><a id="l03156" name="l03156"></a><span class="lineno"> 3156</span>        };</div>
<div class="line"><a id="l03157" name="l03157"></a><span class="lineno"> 3157</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03158" name="l03158"></a><span class="lineno"> 3158</span>        filter = <a class="code hl_function" href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a>;</div>
<div class="line"><a id="l03159" name="l03159"></a><span class="lineno"> 3159</span>    }</div>
<div class="line"><a id="l03160" name="l03160"></a><span class="lineno"> 3160</span> </div>
<div class="line"><a id="l03161" name="l03161"></a><span class="lineno"> 3161</span>    <span class="comment">// Go through all discovered repair items and see if we have any of them available</span></div>
<div class="line"><a id="l03162" name="l03162"></a><span class="lineno"> 3162</span>    std::vector&lt;item_comp&gt; comps;</div>
<div class="line"><a id="l03163" name="l03163"></a><span class="lineno"> 3163</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;entry : valid_entries ) {</div>
<div class="line"><a id="l03164" name="l03164"></a><span class="lineno"> 3164</span>        <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;component_id = entry.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().repaired_with();</div>
<div class="line"><a id="l03165" name="l03165"></a><span class="lineno"> 3165</span>        <span class="comment">// Certain (different!) materials are repaired with the same components (steel, iron, hard steel use scrap metal).</span></div>
<div class="line"><a id="l03166" name="l03166"></a><span class="lineno"> 3166</span>        <span class="comment">// This checks avoids adding the same component twice, which is annoying to the user.</span></div>
<div class="line"><a id="l03167" name="l03167"></a><span class="lineno"> 3167</span>        <span class="keywordflow">if</span>( std::find_if( comps.begin(), comps.end(), [&amp;]( <span class="keyword">const</span> <a class="code hl_struct" href="structitem__comp.html">item_comp</a> &amp; ic ) {</div>
<div class="line"><a id="l03168" name="l03168"></a><span class="lineno"> 3168</span>        return ic.type == component_id;</div>
<div class="line"><a id="l03169" name="l03169"></a><span class="lineno"> 3169</span>    } ) != comps.end() ) {</div>
<div class="line"><a id="l03170" name="l03170"></a><span class="lineno"> 3170</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03171" name="l03171"></a><span class="lineno"> 3171</span>        }</div>
<div class="line"><a id="l03172" name="l03172"></a><span class="lineno"> 3172</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a>( component_id ) ) {</div>
<div class="line"><a id="l03173" name="l03173"></a><span class="lineno"> 3173</span>            <span class="keywordflow">if</span>( crafting_inv.<a class="code hl_function" href="classinventory.html#a166c107e18ca4eea3ca2f37be350796c">has_charges</a>( component_id, items_needed ) ) {</div>
<div class="line"><a id="l03174" name="l03174"></a><span class="lineno"> 3174</span>                comps.emplace_back( component_id, items_needed );</div>
<div class="line"><a id="l03175" name="l03175"></a><span class="lineno"> 3175</span>            }</div>
<div class="line"><a id="l03176" name="l03176"></a><span class="lineno"> 3176</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( crafting_inv.<a class="code hl_function" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a>( component_id, items_needed, <span class="keyword">false</span>, filter ) ) {</div>
<div class="line"><a id="l03177" name="l03177"></a><span class="lineno"> 3177</span>            comps.emplace_back( component_id, items_needed );</div>
<div class="line"><a id="l03178" name="l03178"></a><span class="lineno"> 3178</span>        }</div>
<div class="line"><a id="l03179" name="l03179"></a><span class="lineno"> 3179</span>    }</div>
<div class="line"><a id="l03180" name="l03180"></a><span class="lineno"> 3180</span> </div>
<div class="line"><a id="l03181" name="l03181"></a><span class="lineno"> 3181</span>    <span class="keywordflow">if</span>( comps.empty() ) {</div>
<div class="line"><a id="l03182" name="l03182"></a><span class="lineno"> 3182</span>        <span class="keywordflow">if</span>( print_msg ) {</div>
<div class="line"><a id="l03183" name="l03183"></a><span class="lineno"> 3183</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;entry : valid_entries ) {</div>
<div class="line"><a id="l03184" name="l03184"></a><span class="lineno"> 3184</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;mat_comp = entry.obj().repaired_with();</div>
<div class="line"><a id="l03185" name="l03185"></a><span class="lineno"> 3185</span>                pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>,</div>
<div class="line"><a id="l03186" name="l03186"></a><span class="lineno"> 3186</span>                                      <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You don&#39;t have enough %s to do that.  Have: %d, need: %d&quot;</span> ),</div>
<div class="line"><a id="l03187" name="l03187"></a><span class="lineno"> 3187</span>                                      <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( mat_comp, 2 ),</div>
<div class="line"><a id="l03188" name="l03188"></a><span class="lineno"> 3188</span>                                      mat_comp-&gt;count_by_charges() ?</div>
<div class="line"><a id="l03189" name="l03189"></a><span class="lineno"> 3189</span>                                      crafting_inv.<a class="code hl_function" href="classvisitable.html#a0f314e4c2cf16dde306d92b73a60ff9f">amount_of</a>( mat_comp, <span class="keyword">false</span> ) :</div>
<div class="line"><a id="l03190" name="l03190"></a><span class="lineno"> 3190</span>                                      crafting_inv.<a class="code hl_function" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a>( mat_comp, items_needed ),</div>
<div class="line"><a id="l03191" name="l03191"></a><span class="lineno"> 3191</span>                                      items_needed );</div>
<div class="line"><a id="l03192" name="l03192"></a><span class="lineno"> 3192</span>            }</div>
<div class="line"><a id="l03193" name="l03193"></a><span class="lineno"> 3193</span>        }</div>
<div class="line"><a id="l03194" name="l03194"></a><span class="lineno"> 3194</span> </div>
<div class="line"><a id="l03195" name="l03195"></a><span class="lineno"> 3195</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03196" name="l03196"></a><span class="lineno"> 3196</span>    }</div>
<div class="line"><a id="l03197" name="l03197"></a><span class="lineno"> 3197</span> </div>
<div class="line"><a id="l03198" name="l03198"></a><span class="lineno"> 3198</span>    <span class="keywordflow">if</span>( !just_check ) {</div>
<div class="line"><a id="l03199" name="l03199"></a><span class="lineno"> 3199</span>        <span class="keywordflow">if</span>( comps.empty() ) {</div>
<div class="line"><a id="l03200" name="l03200"></a><span class="lineno"> 3200</span>            <span class="comment">// This shouldn&#39;t happen - the check in can_repair_target should prevent it</span></div>
<div class="line"><a id="l03201" name="l03201"></a><span class="lineno"> 3201</span>            <span class="comment">// But report it, just in case</span></div>
<div class="line"><a id="l03202" name="l03202"></a><span class="lineno"> 3202</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Attempted repair with no components&quot;</span> );</div>
<div class="line"><a id="l03203" name="l03203"></a><span class="lineno"> 3203</span>        }</div>
<div class="line"><a id="l03204" name="l03204"></a><span class="lineno"> 3204</span> </div>
<div class="line"><a id="l03205" name="l03205"></a><span class="lineno"> 3205</span>        pl.<a class="code hl_function" href="classplayer.html#ad1f5e6d21b83313ab148302140083b99">consume_items</a>( comps, 1, filter );</div>
<div class="line"><a id="l03206" name="l03206"></a><span class="lineno"> 3206</span>    }</div>
<div class="line"><a id="l03207" name="l03207"></a><span class="lineno"> 3207</span> </div>
<div class="line"><a id="l03208" name="l03208"></a><span class="lineno"> 3208</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03209" name="l03209"></a><span class="lineno"> 3209</span>}</div>
<div class="ttc" id="aclassCharacter_html_abd358c7a7757575b70b1613dbcce40a7"><div class="ttname"><a href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">Character::crafting_inventory</a></div><div class="ttdeci">const inventory &amp; crafting_inventory(bool clear_path)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00554">crafting.cpp:554</a></div></div>
<div class="ttc" id="aclassinventory_html"><div class="ttname"><a href="classinventory.html">inventory</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00089">inventory.h:90</a></div></div>
<div class="ttc" id="aclassinventory_html_a166c107e18ca4eea3ca2f37be350796c"><div class="ttname"><a href="classinventory.html#a166c107e18ca4eea3ca2f37be350796c">inventory::has_charges</a></div><div class="ttdeci">bool has_charges(const itype_id &amp;it, int quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00893">inventory.cpp:893</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00210">item.h:211</a></div></div>
<div class="ttc" id="aclassitem_html_a4326944ae95f4d265c8ca1c76ed89a03"><div class="ttname"><a href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">item::made_of</a></div><div class="ttdeci">const std::vector&lt; material_id &gt; &amp; made_of() const</div><div class="ttdoc">The ids of all the materials this is made of.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06418">item.cpp:6418</a></div></div>
<div class="ttc" id="aclassitem_html_a438855ffd52d33307e1dfba6d607535b"><div class="ttname"><a href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a></div><div class="ttdeci">static std::string nname(const itype_id &amp;id, unsigned int quantity=1)</div><div class="ttdoc">Returns the translated item name for the item with given id.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09922">item.cpp:9922</a></div></div>
<div class="ttc" id="aclassitem_html_a5093379156498b4d523b3ac1f733adc4"><div class="ttname"><a href="classitem.html#a5093379156498b4d523b3ac1f733adc4">item::is_filthy</a></div><div class="ttdeci">bool is_filthy() const</div><div class="ttdoc">Marks the item as filthy, so characters with squeamish trait can't wear it.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09981">item.cpp:9981</a></div></div>
<div class="ttc" id="aclassitem_html_a51eafbdf8b331d88b741c0c527f98eb9"><div class="ttname"><a href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">item::volume</a></div><div class="ttdeci">units::volume volume(bool integral=false) const</div><div class="ttdoc">Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to n...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05093">item.cpp:5093</a></div></div>
<div class="ttc" id="aclassplayer_html_ad1f5e6d21b83313ab148302140083b99"><div class="ttname"><a href="classplayer.html#ad1f5e6d21b83313ab148302140083b99">player::consume_items</a></div><div class="ttdeci">std::list&lt; item &gt; consume_items(const comp_selection&lt; item_comp &gt; &amp;is, int batch, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l01509">crafting.cpp:1509</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a686a5cfa2b736595ee5751cfa3d69d58"><div class="ttname"><a href="classrepair__item__actor.html#a686a5cfa2b736595ee5751cfa3d69d58">repair_item_actor::cost_scaling</a></div><div class="ttdeci">float cost_scaling</div><div class="ttdoc">Volume of materials required (and used up) as percentage of repaired item's volume.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00946">iuse_actor.h:946</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00058">achievement.cpp:58</a></div></div>
<div class="ttc" id="aclassvisitable_html_a0f314e4c2cf16dde306d92b73a60ff9f"><div class="ttname"><a href="classvisitable.html#a0f314e4c2cf16dde306d92b73a60ff9f">visitable::amount_of</a></div><div class="ttdeci">int amount_of(const itype_id &amp;what, bool pseudo=true, int limit=INT_MAX, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdoc">Count items matching id including both this instance and any contained items.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l01048">visitable.cpp:1048</a></div></div>
<div class="ttc" id="aclassvisitable_html_a517e20b6f6c13b8316d5cce8e310b871"><div class="ttname"><a href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">visitable::charges_of</a></div><div class="ttdeci">int charges_of(const itype_id &amp;what, int limit=INT_MAX, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;, std::function&lt; void(int)&gt; visitor=nullptr) const</div><div class="ttdoc">Count maximum available charges from this instance and any contained items.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00943">visitable.cpp:943</a></div></div>
<div class="ttc" id="aclassvisitable_html_ac50bc4422d4636a70a97d41787f22d0d"><div class="ttname"><a href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">visitable::has_amount</a></div><div class="ttdeci">bool has_amount(const itype_id &amp;what, int qty, bool pseudo=true, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdoc">Check instance provides at least qty of an item (.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l01108">visitable.cpp:1108</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab52b3b592a42745385edcf8d90c690a1a700c216fb376666eaeda0c892e8bdc09"><div class="ttname"><a href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a700c216fb376666eaeda0c892e8bdc09">item_consumption_t::component</a></div><div class="ttdeci">@ component</div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="aitem_8h_html_a64c6001518eb0b959300f427a0086eb0"><div class="ttname"><a href="item_8h.html#a64c6001518eb0b959300f427a0086eb0">is_crafting_component</a></div><div class="ttdeci">bool is_crafting_component(const item &amp;component)</div><div class="ttdoc">Default filter for crafting component searches.</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02262">item.h:2262</a></div></div>
<div class="ttc" id="arng_8cpp_html_acd19ae79e3590a99c9eaf0389318b686"><div class="ttname"><a href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a></div><div class="ttdeci">int roll_remainder(double value)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00096">rng.cpp:96</a></div></div>
<div class="ttc" id="astructcomponent_html"><div class="ttname"><a href="structcomponent.html">component</a></div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00057">requirements.h:57</a></div></div>
<div class="ttc" id="astructitem__comp_html"><div class="ttname"><a href="structitem__comp.html">item_comp</a></div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00116">requirements.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="player_8cpp_source.html#l00380">player::add_msg_if_player()</a>, <a class="el" href="visitable_8cpp_source.html#l01048">visitable&lt; T &gt;::amount_of()</a>, <a class="el" href="visitable_8cpp_source.html#l00943">visitable&lt; T &gt;::charges_of()</a>, <a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a700c216fb376666eaeda0c892e8bdc09">component</a>, <a class="el" href="crafting_8cpp_source.html#l01509">player::consume_items()</a>, <a class="el" href="iuse__actor_8h_source.html#l00946">cost_scaling</a>, <a class="el" href="item_8cpp_source.html#l06010">item::count_by_charges()</a>, <a class="el" href="crafting_8cpp_source.html#l00554">Character::crafting_inventory()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="visitable_8cpp_source.html#l01108">visitable&lt; T &gt;::has_amount()</a>, <a class="el" href="inventory_8cpp_source.html#l00893">inventory::has_charges()</a>, <a class="el" href="item_8h_source.html#l02262">is_crafting_component()</a>, <a class="el" href="item_8cpp_source.html#l09981">item::is_filthy()</a>, <a class="el" href="enums_8h_source.html#l00265">m_info</a>, <a class="el" href="item_8cpp_source.html#l06418">item::made_of()</a>, <a class="el" href="item_8cpp_source.html#l09922">item::nname()</a>, <a class="el" href="achievement_8cpp_source.html#l00058">string_id&lt; T &gt;::obj()</a>, <a class="el" href="rng_8cpp_source.html#l00096">roll_remainder()</a>, <a class="el" href="item_8cpp_source.html#l04546">item::tname()</a>, and <a class="el" href="item_8cpp_source.html#l05093">item::volume()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l03265">can_repair_target()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l03450">repair()</a>.</p>

</div>
</div>
<a id="a35e0557a8eb4d6e7ba3a5243e4bd4cb8" name="a35e0557a8eb4d6e7ba3a5243e4bd4cb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35e0557a8eb4d6e7ba3a5243e4bd4cb8">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void repair_item_actor::load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classiuse__actor.html#aa93b616e6f6e450b098209ad19ae78c4">iuse_actor</a>.</p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l03017">3017</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03018" name="l03018"></a><span class="lineno"> 3018</span>{</div>
<div class="line"><a id="l03019" name="l03019"></a><span class="lineno"> 3019</span>    <span class="comment">// Mandatory:</span></div>
<div class="line"><a id="l03020" name="l03020"></a><span class="lineno"> 3020</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> : obj.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;materials&quot;</span> ) ) {</div>
<div class="line"><a id="l03021" name="l03021"></a><span class="lineno"> 3021</span>        <a class="code hl_namespace" href="namespacematerials.html">materials</a>.emplace( <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> );</div>
<div class="line"><a id="l03022" name="l03022"></a><span class="lineno"> 3022</span>    }</div>
<div class="line"><a id="l03023" name="l03023"></a><span class="lineno"> 3023</span> </div>
<div class="line"><a id="l03024" name="l03024"></a><span class="lineno"> 3024</span>    <span class="comment">// TODO: Make skill non-mandatory while still erroring on invalid skill</span></div>
<div class="line"><a id="l03025" name="l03025"></a><span class="lineno"> 3025</span>    <span class="keyword">const</span> std::string skill_string = obj.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;skill&quot;</span> );</div>
<div class="line"><a id="l03026" name="l03026"></a><span class="lineno"> 3026</span>    <a class="code hl_variable" href="classrepair__item__actor.html#ad31b7e5209e6e0c8439cbdd49ce6da8c">used_skill</a> = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">skill_id</a>( skill_string );</div>
<div class="line"><a id="l03027" name="l03027"></a><span class="lineno"> 3027</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classrepair__item__actor.html#ad31b7e5209e6e0c8439cbdd49ce6da8c">used_skill</a>.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a id="l03028" name="l03028"></a><span class="lineno"> 3028</span>        obj.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;Invalid skill&quot;</span>, <span class="stringliteral">&quot;skill&quot;</span> );</div>
<div class="line"><a id="l03029" name="l03029"></a><span class="lineno"> 3029</span>    }</div>
<div class="line"><a id="l03030" name="l03030"></a><span class="lineno"> 3030</span> </div>
<div class="line"><a id="l03031" name="l03031"></a><span class="lineno"> 3031</span>    <a class="code hl_variable" href="classrepair__item__actor.html#a686a5cfa2b736595ee5751cfa3d69d58">cost_scaling</a> = obj.<a class="code hl_function" href="classJsonObject.html#a20e3b6cc495cde67e4a178ae6f6e17d7">get_float</a>( <span class="stringliteral">&quot;cost_scaling&quot;</span> );</div>
<div class="line"><a id="l03032" name="l03032"></a><span class="lineno"> 3032</span> </div>
<div class="line"><a id="l03033" name="l03033"></a><span class="lineno"> 3033</span>    <span class="comment">// Optional</span></div>
<div class="line"><a id="l03034" name="l03034"></a><span class="lineno"> 3034</span>    <a class="code hl_variable" href="classrepair__item__actor.html#a877a82dc874cae408ead7691ba9e1274">tool_quality</a> = obj.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;tool_quality&quot;</span>, 0 );</div>
<div class="line"><a id="l03035" name="l03035"></a><span class="lineno"> 3035</span>    <a class="code hl_variable" href="classrepair__item__actor.html#a8db98a186012b12626b1ef7ce0f38036">move_cost</a>    = obj.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;move_cost&quot;</span>, 500 );</div>
<div class="line"><a id="l03036" name="l03036"></a><span class="lineno"> 3036</span>    <a class="code hl_variable" href="classrepair__item__actor.html#a2f79271d4dd3e2c7b53698bb0e582d53">trains_skill_to</a> = obj.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;trains_skill_to&quot;</span>, 5 ) - 1;</div>
<div class="line"><a id="l03037" name="l03037"></a><span class="lineno"> 3037</span>}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">cata_variant_type::skill_id</a></div><div class="ttdeci">@ skill_id</div></div>
<div class="ttc" id="aclassJsonObject_html_a20e3b6cc495cde67e4a178ae6f6e17d7"><div class="ttname"><a href="classJsonObject.html#a20e3b6cc495cde67e4a178ae6f6e17d7">JsonObject::get_float</a></div><div class="ttdeci">double get_float(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00365">json.cpp:365</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a69f62f59b5e39da6059b7c3cf8b12421"><div class="ttname"><a href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00399">json.cpp:399</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a96b6d1b9cf7bda4fc9cd177a99e0631c"><div class="ttname"><a href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">JsonObject::get_string</a></div><div class="ttdeci">std::string get_string(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00381">json.cpp:381</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a99e64f59bc5e72e7572125064b68da29"><div class="ttname"><a href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">JsonObject::get_int</a></div><div class="ttdeci">int get_int(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00349">json.cpp:349</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae7bcdb4ec8ab2c64e607b411cb98d00c"><div class="ttname"><a href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">JsonObject::throw_error</a></div><div class="ttdeci">void throw_error(std::string err) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00233">json.cpp:233</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a877a82dc874cae408ead7691ba9e1274"><div class="ttname"><a href="classrepair__item__actor.html#a877a82dc874cae408ead7691ba9e1274">repair_item_actor::tool_quality</a></div><div class="ttdeci">int tool_quality</div><div class="ttdoc">Extra value added to skill roll.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00948">iuse_actor.h:948</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a8db98a186012b12626b1ef7ce0f38036"><div class="ttname"><a href="classrepair__item__actor.html#a8db98a186012b12626b1ef7ce0f38036">repair_item_actor::move_cost</a></div><div class="ttdeci">int move_cost</div><div class="ttdoc">Move cost for every attempt.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00950">iuse_actor.h:950</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_ad31b7e5209e6e0c8439cbdd49ce6da8c"><div class="ttname"><a href="classrepair__item__actor.html#ad31b7e5209e6e0c8439cbdd49ce6da8c">repair_item_actor::used_skill</a></div><div class="ttdeci">skill_id used_skill</div><div class="ttdoc">Skill used.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00939">iuse_actor.h:939</a></div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00065">achievement.cpp:65</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_a90f1f53dc044e93e7f7f9314cef1bd45"><div class="ttname"><a href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a></div><div class="ttdeci">void line(map *m, const ter_id &amp;type, const point &amp;p1, const point &amp;p2)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l06485">mapgen.cpp:6485</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse__actor_8h_source.html#l00946">cost_scaling</a>, <a class="el" href="json_8cpp_source.html#l00399">JsonObject::get_array()</a>, <a class="el" href="json_8cpp_source.html#l00365">JsonObject::get_float()</a>, <a class="el" href="json_8cpp_source.html#l00349">JsonObject::get_int()</a>, <a class="el" href="json_8cpp_source.html#l00381">JsonObject::get_string()</a>, <a class="el" href="achievement_8cpp_source.html#l00065">string_id&lt; T &gt;::is_valid()</a>, <a class="el" href="mapgen_8cpp_source.html#l06485">line()</a>, <a class="el" href="iuse__actor_8h_source.html#l00950">move_cost</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">skill_id</a>, <a class="el" href="json_8cpp_source.html#l00233">JsonObject::throw_error()</a>, <a class="el" href="iuse__actor_8h_source.html#l00948">tool_quality</a>, <a class="el" href="iuse__actor_8h_source.html#l00941">trains_skill_to</a>, and <a class="el" href="iuse__actor_8h_source.html#l00939">used_skill</a>.</p>

</div>
</div>
<a id="ad7a811e4fe051e3039a8a8c8e3641ef9" name="ad7a811e4fe051e3039a8a8c8e3641ef9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7a811e4fe051e3039a8a8c8e3641ef9">&#9670;&nbsp;</a></span>repair()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091ae">repair_item_actor::attempt_hint</a> repair_item_actor::repair </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>pl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>tool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem__location.html">item_location</a> &amp;&#160;</td>
          <td class="paramname"><em>fix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempts to repair target item with selected tool. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l03450">3450</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03452" name="l03452"></a><span class="lineno"> 3452</span>{</div>
<div class="line"><a id="l03453" name="l03453"></a><span class="lineno"> 3453</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classrepair__item__actor.html#a42807130b4b60d92fffffea88fd08f0f">can_use_tool</a>( pl, <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l03454" name="l03454"></a><span class="lineno"> 3454</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aea6f3fcbd00a5594c7a4fa4c31278744a9">AS_CANT_USE_TOOL</a>;</div>
<div class="line"><a id="l03455" name="l03455"></a><span class="lineno"> 3455</span>    }</div>
<div class="line"><a id="l03456" name="l03456"></a><span class="lineno"> 3456</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classrepair__item__actor.html#a1e8a9a9c7b60648e271dfab31cade0ac">can_repair_target</a>( pl, *fix, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l03457" name="l03457"></a><span class="lineno"> 3457</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aea63bc23a49f179b4d001a4132a4f3099d">AS_CANT</a>;</div>
<div class="line"><a id="l03458" name="l03458"></a><span class="lineno"> 3458</span>    }</div>
<div class="line"><a id="l03459" name="l03459"></a><span class="lineno"> 3459</span> </div>
<div class="line"><a id="l03460" name="l03460"></a><span class="lineno"> 3460</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> current_skill_level = pl.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="classrepair__item__actor.html#ad31b7e5209e6e0c8439cbdd49ce6da8c">used_skill</a> );</div>
<div class="line"><a id="l03461" name="l03461"></a><span class="lineno"> 3461</span>    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> = <a class="code hl_function" href="classrepair__item__actor.html#a17ffc0c3f8468701dc0553b50ab72a40">default_action</a>( *fix, current_skill_level );</div>
<div class="line"><a id="l03462" name="l03462"></a><span class="lineno"> 3462</span>    <span class="keyword">const</span> <span class="keyword">auto</span> chance = <a class="code hl_function" href="classrepair__item__actor.html#acec2db08135523eaf9e738c590dfa151">repair_chance</a>( pl, *fix, <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> );</div>
<div class="line"><a id="l03463" name="l03463"></a><span class="lineno"> 3463</span>    <span class="keywordtype">int</span> practice_amount = <a class="code hl_function" href="classrepair__item__actor.html#ac55f9fc6689a22eb43b68bc8114bc825">repair_recipe_difficulty</a>( pl, *fix, <span class="keyword">true</span> ) / 2 + 1;</div>
<div class="line"><a id="l03464" name="l03464"></a><span class="lineno"> 3464</span>    <span class="keywordtype">float</span> roll_value = <a class="code hl_function" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( 0.0, 1.0 );</div>
<div class="line"><a id="l03465" name="l03465"></a><span class="lineno"> 3465</span>    <span class="keyword">enum</span> roll_result {</div>
<div class="line"><a id="l03466" name="l03466"></a><span class="lineno"> 3466</span>        SUCCESS,</div>
<div class="line"><a id="l03467" name="l03467"></a><span class="lineno"> 3467</span>        FAILURE,</div>
<div class="line"><a id="l03468" name="l03468"></a><span class="lineno"> 3468</span>        NEUTRAL</div>
<div class="line"><a id="l03469" name="l03469"></a><span class="lineno"> 3469</span>    } roll;</div>
<div class="line"><a id="l03470" name="l03470"></a><span class="lineno"> 3470</span> </div>
<div class="line"><a id="l03471" name="l03471"></a><span class="lineno"> 3471</span>    <span class="keywordflow">if</span>( roll_value &gt; 1.0f - chance.second ) {</div>
<div class="line"><a id="l03472" name="l03472"></a><span class="lineno"> 3472</span>        roll = FAILURE;</div>
<div class="line"><a id="l03473" name="l03473"></a><span class="lineno"> 3473</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( roll_value &lt; chance.first ) {</div>
<div class="line"><a id="l03474" name="l03474"></a><span class="lineno"> 3474</span>        roll = SUCCESS;</div>
<div class="line"><a id="l03475" name="l03475"></a><span class="lineno"> 3475</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03476" name="l03476"></a><span class="lineno"> 3476</span>        roll = NEUTRAL;</div>
<div class="line"><a id="l03477" name="l03477"></a><span class="lineno"> 3477</span>    }</div>
<div class="line"><a id="l03478" name="l03478"></a><span class="lineno"> 3478</span> </div>
<div class="line"><a id="l03479" name="l03479"></a><span class="lineno"> 3479</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea80f4159b229c75535b5464e693f32e5b">RT_NOTHING</a> ) {</div>
<div class="line"><a id="l03480" name="l03480"></a><span class="lineno"> 3480</span>        pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You won&#39;t learn anything more by doing that.&quot;</span> ) );</div>
<div class="line"><a id="l03481" name="l03481"></a><span class="lineno"> 3481</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aea63bc23a49f179b4d001a4132a4f3099d">AS_CANT</a>;</div>
<div class="line"><a id="l03482" name="l03482"></a><span class="lineno"> 3482</span>    }</div>
<div class="line"><a id="l03483" name="l03483"></a><span class="lineno"> 3483</span> </div>
<div class="line"><a id="l03484" name="l03484"></a><span class="lineno"> 3484</span>    <span class="comment">// If not for this if, it would spam a lot</span></div>
<div class="line"><a id="l03485" name="l03485"></a><span class="lineno"> 3485</span>    <span class="keywordflow">if</span>( current_skill_level &gt; <a class="code hl_variable" href="classrepair__item__actor.html#a2f79271d4dd3e2c7b53698bb0e582d53">trains_skill_to</a> ) {</div>
<div class="line"><a id="l03486" name="l03486"></a><span class="lineno"> 3486</span>        practice_amount = 0;</div>
<div class="line"><a id="l03487" name="l03487"></a><span class="lineno"> 3487</span>    }</div>
<div class="line"><a id="l03488" name="l03488"></a><span class="lineno"> 3488</span>    pl.<a class="code hl_function" href="classCharacter.html#a3d70ebd707bada8879208e98f07f7223">practice</a>( <a class="code hl_variable" href="classrepair__item__actor.html#ad31b7e5209e6e0c8439cbdd49ce6da8c">used_skill</a>, practice_amount, <a class="code hl_variable" href="classrepair__item__actor.html#a2f79271d4dd3e2c7b53698bb0e582d53">trains_skill_to</a> );</div>
<div class="line"><a id="l03489" name="l03489"></a><span class="lineno"> 3489</span> </div>
<div class="line"><a id="l03490" name="l03490"></a><span class="lineno"> 3490</span>    <span class="keywordflow">if</span>( roll == FAILURE ) {</div>
<div class="line"><a id="l03491" name="l03491"></a><span class="lineno"> 3491</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="iuse__actor_8cpp.html#a9093ef03bab5bf00ae28078c51217f65">damage_item</a>( pl, fix ) ? <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeaa8d66930d9f8a0f1e584adac16592639">AS_DESTROYED</a> : <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aea6cea63469ca1cac06f958926b4abd074">AS_FAILURE</a>;</div>
<div class="line"><a id="l03492" name="l03492"></a><span class="lineno"> 3492</span>    }</div>
<div class="line"><a id="l03493" name="l03493"></a><span class="lineno"> 3493</span> </div>
<div class="line"><a id="l03494" name="l03494"></a><span class="lineno"> 3494</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea63874384dd91d071fed451618879cac1">RT_PRACTICE</a> ) {</div>
<div class="line"><a id="l03495" name="l03495"></a><span class="lineno"> 3495</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeabd597ce8f3aa6e05cf09043a66c339e7">AS_RETRY</a>;</div>
<div class="line"><a id="l03496" name="l03496"></a><span class="lineno"> 3496</span>    }</div>
<div class="line"><a id="l03497" name="l03497"></a><span class="lineno"> 3497</span> </div>
<div class="line"><a id="l03498" name="l03498"></a><span class="lineno"> 3498</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea1a2de14c779a7b09dc5eb4ec31341b29">RT_REPAIR</a> ) {</div>
<div class="line"><a id="l03499" name="l03499"></a><span class="lineno"> 3499</span>        <span class="keywordflow">if</span>( roll == SUCCESS ) {</div>
<div class="line"><a id="l03500" name="l03500"></a><span class="lineno"> 3500</span>            <span class="keyword">const</span> std::string startdurability = fix-&gt;<a class="code hl_function" href="classitem.html#a80ef6d13a5545c5d32af710fedf717eb">durability_indicator</a>( <span class="keyword">true</span> );</div>
<div class="line"><a id="l03501" name="l03501"></a><span class="lineno"> 3501</span>            <span class="keyword">const</span> <span class="keyword">auto</span> damage = fix-&gt;<a class="code hl_function" href="classitem.html#ae8a58c6fe3c80cded11d6f3ccfa548a3">damage</a>();</div>
<div class="line"><a id="l03502" name="l03502"></a><span class="lineno"> 3502</span>            <a class="code hl_function" href="classrepair__item__actor.html#aeb17ab66c6f52744d13fa3b28389321d">handle_components</a>( pl, *fix, <span class="keyword">false</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l03503" name="l03503"></a><span class="lineno"> 3503</span>            fix-&gt;<a class="code hl_function" href="classitem.html#a4095bf310206d3c22ce0bb15bc7dad03">set_damage</a>( std::max( damage - <a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a>, 0 ) );</div>
<div class="line"><a id="l03504" name="l03504"></a><span class="lineno"> 3504</span>            <span class="keyword">const</span> std::string resultdurability = fix-&gt;<a class="code hl_function" href="classitem.html#a80ef6d13a5545c5d32af710fedf717eb">durability_indicator</a>( <span class="keyword">true</span> );</div>
<div class="line"><a id="l03505" name="l03505"></a><span class="lineno"> 3505</span>            <span class="keywordflow">if</span>( damage &gt; <a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a> ) {</div>
<div class="line"><a id="l03506" name="l03506"></a><span class="lineno"> 3506</span>                pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You repair your %s!  ( %s-&gt; %s)&quot;</span> ), fix-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>( 1, <span class="keyword">false</span> ),</div>
<div class="line"><a id="l03507" name="l03507"></a><span class="lineno"> 3507</span>                                      startdurability, resultdurability );</div>
<div class="line"><a id="l03508" name="l03508"></a><span class="lineno"> 3508</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03509" name="l03509"></a><span class="lineno"> 3509</span>                pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You repair your %s completely!  ( %s-&gt; %s)&quot;</span> ), fix-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>( 1,</div>
<div class="line"><a id="l03510" name="l03510"></a><span class="lineno"> 3510</span>                                      <span class="keyword">false</span> ), startdurability, resultdurability );</div>
<div class="line"><a id="l03511" name="l03511"></a><span class="lineno"> 3511</span>            }</div>
<div class="line"><a id="l03512" name="l03512"></a><span class="lineno"> 3512</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeac607bbddf7d4c4757d0df4fd5734fcfa">AS_SUCCESS</a>;</div>
<div class="line"><a id="l03513" name="l03513"></a><span class="lineno"> 3513</span>        }</div>
<div class="line"><a id="l03514" name="l03514"></a><span class="lineno"> 3514</span> </div>
<div class="line"><a id="l03515" name="l03515"></a><span class="lineno"> 3515</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeabd597ce8f3aa6e05cf09043a66c339e7">AS_RETRY</a>;</div>
<div class="line"><a id="l03516" name="l03516"></a><span class="lineno"> 3516</span>    }</div>
<div class="line"><a id="l03517" name="l03517"></a><span class="lineno"> 3517</span> </div>
<div class="line"><a id="l03518" name="l03518"></a><span class="lineno"> 3518</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea173e2c4d52ef82293d133bcf272ec6ce">RT_REFIT</a> ) {</div>
<div class="line"><a id="l03519" name="l03519"></a><span class="lineno"> 3519</span>        <span class="keywordflow">if</span>( roll == SUCCESS ) {</div>
<div class="line"><a id="l03520" name="l03520"></a><span class="lineno"> 3520</span>            <span class="keywordflow">if</span>( !fix-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;FIT&quot;</span> ) ) {</div>
<div class="line"><a id="l03521" name="l03521"></a><span class="lineno"> 3521</span>                pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You take your %s in, improving the fit.&quot;</span> ),</div>
<div class="line"><a id="l03522" name="l03522"></a><span class="lineno"> 3522</span>                                      fix-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03523" name="l03523"></a><span class="lineno"> 3523</span>                fix-&gt;<a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( <span class="stringliteral">&quot;FIT&quot;</span> );</div>
<div class="line"><a id="l03524" name="l03524"></a><span class="lineno"> 3524</span>            }</div>
<div class="line"><a id="l03525" name="l03525"></a><span class="lineno"> 3525</span>            <a class="code hl_function" href="classrepair__item__actor.html#aeb17ab66c6f52744d13fa3b28389321d">handle_components</a>( pl, *fix, <span class="keyword">false</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l03526" name="l03526"></a><span class="lineno"> 3526</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeac607bbddf7d4c4757d0df4fd5734fcfa">AS_SUCCESS</a>;</div>
<div class="line"><a id="l03527" name="l03527"></a><span class="lineno"> 3527</span>        }</div>
<div class="line"><a id="l03528" name="l03528"></a><span class="lineno"> 3528</span> </div>
<div class="line"><a id="l03529" name="l03529"></a><span class="lineno"> 3529</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeabd597ce8f3aa6e05cf09043a66c339e7">AS_RETRY</a>;</div>
<div class="line"><a id="l03530" name="l03530"></a><span class="lineno"> 3530</span>    }</div>
<div class="line"><a id="l03531" name="l03531"></a><span class="lineno"> 3531</span> </div>
<div class="line"><a id="l03532" name="l03532"></a><span class="lineno"> 3532</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea2a377af0d7ba501ec13ff4453fc17db0">RT_DOWNSIZING</a> ) {</div>
<div class="line"><a id="l03533" name="l03533"></a><span class="lineno"> 3533</span>        <span class="comment">//We don&#39;t need to check for smallness or undersize because DOWNSIZING already guarantees that</span></div>
<div class="line"><a id="l03534" name="l03534"></a><span class="lineno"> 3534</span>        <span class="keywordflow">if</span>( roll == SUCCESS ) {</div>
<div class="line"><a id="l03535" name="l03535"></a><span class="lineno"> 3535</span>            pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You resize the %s to accommodate your tiny build.&quot;</span> ),</div>
<div class="line"><a id="l03536" name="l03536"></a><span class="lineno"> 3536</span>                                  fix-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>().c_str() );</div>
<div class="line"><a id="l03537" name="l03537"></a><span class="lineno"> 3537</span>            fix-&gt;<a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( <span class="stringliteral">&quot;UNDERSIZE&quot;</span> );</div>
<div class="line"><a id="l03538" name="l03538"></a><span class="lineno"> 3538</span>            <a class="code hl_function" href="classrepair__item__actor.html#aeb17ab66c6f52744d13fa3b28389321d">handle_components</a>( pl, *fix, <span class="keyword">false</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l03539" name="l03539"></a><span class="lineno"> 3539</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeac607bbddf7d4c4757d0df4fd5734fcfa">AS_SUCCESS</a>;</div>
<div class="line"><a id="l03540" name="l03540"></a><span class="lineno"> 3540</span>        }</div>
<div class="line"><a id="l03541" name="l03541"></a><span class="lineno"> 3541</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeabd597ce8f3aa6e05cf09043a66c339e7">AS_RETRY</a>;</div>
<div class="line"><a id="l03542" name="l03542"></a><span class="lineno"> 3542</span>    }</div>
<div class="line"><a id="l03543" name="l03543"></a><span class="lineno"> 3543</span> </div>
<div class="line"><a id="l03544" name="l03544"></a><span class="lineno"> 3544</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea25dc2d78ed34354fba150a1a4e8cb1bf">RT_UPSIZING</a> ) {</div>
<div class="line"><a id="l03545" name="l03545"></a><span class="lineno"> 3545</span>        <span class="comment">//We don&#39;t need to check for smallness or undersize because UPSIZING already guarantees that</span></div>
<div class="line"><a id="l03546" name="l03546"></a><span class="lineno"> 3546</span>        <span class="keywordflow">if</span>( roll == SUCCESS ) {</div>
<div class="line"><a id="l03547" name="l03547"></a><span class="lineno"> 3547</span>            pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You adjust the %s back to its normal size.&quot;</span> ),</div>
<div class="line"><a id="l03548" name="l03548"></a><span class="lineno"> 3548</span>                                  fix-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>().c_str() );</div>
<div class="line"><a id="l03549" name="l03549"></a><span class="lineno"> 3549</span>            fix-&gt;<a class="code hl_function" href="classitem.html#ab03f3d257e8d9c5789aca61a1fa8c741">unset_flag</a>( <span class="stringliteral">&quot;UNDERSIZE&quot;</span> );</div>
<div class="line"><a id="l03550" name="l03550"></a><span class="lineno"> 3550</span>            <a class="code hl_function" href="classrepair__item__actor.html#aeb17ab66c6f52744d13fa3b28389321d">handle_components</a>( pl, *fix, <span class="keyword">false</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l03551" name="l03551"></a><span class="lineno"> 3551</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeac607bbddf7d4c4757d0df4fd5734fcfa">AS_SUCCESS</a>;</div>
<div class="line"><a id="l03552" name="l03552"></a><span class="lineno"> 3552</span>        }</div>
<div class="line"><a id="l03553" name="l03553"></a><span class="lineno"> 3553</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeabd597ce8f3aa6e05cf09043a66c339e7">AS_RETRY</a>;</div>
<div class="line"><a id="l03554" name="l03554"></a><span class="lineno"> 3554</span>    }</div>
<div class="line"><a id="l03555" name="l03555"></a><span class="lineno"> 3555</span> </div>
<div class="line"><a id="l03556" name="l03556"></a><span class="lineno"> 3556</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea2319dbf02ebb14171d8c553fccb6d7e6">RT_REINFORCE</a> ) {</div>
<div class="line"><a id="l03557" name="l03557"></a><span class="lineno"> 3557</span>        <span class="keywordflow">if</span>( fix-&gt;<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;PRIMITIVE_RANGED_WEAPON&quot;</span> ) || !fix-&gt;<a class="code hl_function" href="classitem.html#adb672a9fba1f03f346c1c0ada6e88ac5">reinforceable</a>() ) {</div>
<div class="line"><a id="l03558" name="l03558"></a><span class="lineno"> 3558</span>            pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot improve your %s any more this way.&quot;</span> ),</div>
<div class="line"><a id="l03559" name="l03559"></a><span class="lineno"> 3559</span>                                  fix-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03560" name="l03560"></a><span class="lineno"> 3560</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aea63bc23a49f179b4d001a4132a4f3099d">AS_CANT</a>;</div>
<div class="line"><a id="l03561" name="l03561"></a><span class="lineno"> 3561</span>        }</div>
<div class="line"><a id="l03562" name="l03562"></a><span class="lineno"> 3562</span> </div>
<div class="line"><a id="l03563" name="l03563"></a><span class="lineno"> 3563</span>        <span class="keywordflow">if</span>( roll == SUCCESS ) {</div>
<div class="line"><a id="l03564" name="l03564"></a><span class="lineno"> 3564</span>            pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You make your %s extra sturdy.&quot;</span> ), fix-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03565" name="l03565"></a><span class="lineno"> 3565</span>            fix-&gt;<a class="code hl_function" href="classitem.html#a58837e07450321aa679d9f00140762bd">mod_damage</a>( -<a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a> );</div>
<div class="line"><a id="l03566" name="l03566"></a><span class="lineno"> 3566</span>            <a class="code hl_function" href="classrepair__item__actor.html#aeb17ab66c6f52744d13fa3b28389321d">handle_components</a>( pl, *fix, <span class="keyword">false</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l03567" name="l03567"></a><span class="lineno"> 3567</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeac607bbddf7d4c4757d0df4fd5734fcfa">AS_SUCCESS</a>;</div>
<div class="line"><a id="l03568" name="l03568"></a><span class="lineno"> 3568</span>        }</div>
<div class="line"><a id="l03569" name="l03569"></a><span class="lineno"> 3569</span> </div>
<div class="line"><a id="l03570" name="l03570"></a><span class="lineno"> 3570</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aeabd597ce8f3aa6e05cf09043a66c339e7">AS_RETRY</a>;</div>
<div class="line"><a id="l03571" name="l03571"></a><span class="lineno"> 3571</span>    }</div>
<div class="line"><a id="l03572" name="l03572"></a><span class="lineno"> 3572</span> </div>
<div class="line"><a id="l03573" name="l03573"></a><span class="lineno"> 3573</span>    pl.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s is already enhanced.&quot;</span> ), fix-&gt;<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l03574" name="l03574"></a><span class="lineno"> 3574</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a9a0fbea23cd5e9494e6d57c98d7091aea63bc23a49f179b4d001a4132a4f3099d">AS_CANT</a>;</div>
<div class="line"><a id="l03575" name="l03575"></a><span class="lineno"> 3575</span>}</div>
<div class="ttc" id="aclassCharacter_html_a3d70ebd707bada8879208e98f07f7223"><div class="ttname"><a href="classCharacter.html#a3d70ebd707bada8879208e98f07f7223">Character::practice</a></div><div class="ttdeci">void practice(const skill_id &amp;id, int amount, int cap=99, bool suppress_warning=false)</div><div class="ttdoc">This handles giving xp for a skill.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03383">character.cpp:3383</a></div></div>
<div class="ttc" id="aclassCharacter_html_afa95fe499ca6b55ab97f1b442a4c95c5"><div class="ttname"><a href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">Character::get_skill_level</a></div><div class="ttdeci">int get_skill_level(const skill_id &amp;ident) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03317">character.cpp:3317</a></div></div>
<div class="ttc" id="aclassitem_html_a4095bf310206d3c22ce0bb15bc7dad03"><div class="ttname"><a href="classitem.html#a4095bf310206d3c22ce0bb15bc7dad03">item::set_damage</a></div><div class="ttdeci">item &amp; set_damage(int qty)</div><div class="ttdoc">Filter setting damage constrained by min_damage and max_damage.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00714">item.cpp:714</a></div></div>
<div class="ttc" id="aclassitem_html_a58837e07450321aa679d9f00140762bd"><div class="ttname"><a href="classitem.html#a58837e07450321aa679d9f00140762bd">item::mod_damage</a></div><div class="ttdeci">bool mod_damage(int qty, damage_type dt)</div><div class="ttdoc">Apply damage to const itemrained by min_damage and max_damage.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06231">item.cpp:6231</a></div></div>
<div class="ttc" id="aclassitem_html_a80ef6d13a5545c5d32af710fedf717eb"><div class="ttname"><a href="classitem.html#a80ef6d13a5545c5d32af710fedf717eb">item::durability_indicator</a></div><div class="ttdeci">std::string durability_indicator(bool include_intact=false) const</div><div class="ttdoc">Provides a prefix for the durability state of the item.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06321">item.cpp:6321</a></div></div>
<div class="ttc" id="aclassitem_html_aaf0e79cb1bc190daa4804cfd62f279c4"><div class="ttname"><a href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">item::set_flag</a></div><div class="ttdeci">item &amp; set_flag(const std::string &amp;flag)</div><div class="ttdoc">Idempotent filter setting an item specific flag.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05337">item.cpp:5337</a></div></div>
<div class="ttc" id="aclassitem_html_ab03f3d257e8d9c5789aca61a1fa8c741"><div class="ttname"><a href="classitem.html#ab03f3d257e8d9c5789aca61a1fa8c741">item::unset_flag</a></div><div class="ttdeci">item &amp; unset_flag(const std::string &amp;flag)</div><div class="ttdoc">Idempotent filter removing an item specific flag.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05343">item.cpp:5343</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a17ffc0c3f8468701dc0553b50ab72a40"><div class="ttname"><a href="classrepair__item__actor.html#a17ffc0c3f8468701dc0553b50ab72a40">repair_item_actor::default_action</a></div><div class="ttdeci">repair_type default_action(const item &amp;fix, int current_skill_level) const</div><div class="ttdoc">What are we most likely trying to do with this item?</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l03385">iuse_actor.cpp:3385</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a1e8a9a9c7b60648e271dfab31cade0ac"><div class="ttname"><a href="classrepair__item__actor.html#a1e8a9a9c7b60648e271dfab31cade0ac">repair_item_actor::can_repair_target</a></div><div class="ttdeci">bool can_repair_target(player &amp;pl, const item &amp;fix, bool print_msg) const</div><div class="ttdoc">Checks if repairs on target item are possible.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l03265">iuse_actor.cpp:3265</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_a42807130b4b60d92fffffea88fd08f0f"><div class="ttname"><a href="classrepair__item__actor.html#a42807130b4b60d92fffffea88fd08f0f">repair_item_actor::can_use_tool</a></div><div class="ttdeci">bool can_use_tool(const player &amp;p, const item &amp;tool, bool print_msg) const</div><div class="ttdoc">Checks if we are allowed to use the tool.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l03039">iuse_actor.cpp:3039</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_ac55f9fc6689a22eb43b68bc8114bc825"><div class="ttname"><a href="classrepair__item__actor.html#ac55f9fc6689a22eb43b68bc8114bc825">repair_item_actor::repair_recipe_difficulty</a></div><div class="ttdeci">int repair_recipe_difficulty(const player &amp;pl, const item &amp;fix, bool training=false) const</div><div class="ttdoc">Calculates the difficulty to repair an item based on recipes to craft it and player's knowledge of th...</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l03247">iuse_actor.cpp:3247</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html_acec2db08135523eaf9e738c590dfa151"><div class="ttname"><a href="classrepair__item__actor.html#acec2db08135523eaf9e738c590dfa151">repair_item_actor::repair_chance</a></div><div class="ttdeci">std::pair&lt; float, float &gt; repair_chance(const player &amp;pl, const item &amp;fix, repair_type action_type) const</div><div class="ttdoc">Returns the chance to repair and to damage an item.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l03338">iuse_actor.cpp:3338</a></div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a></div><div class="ttdeci">@ action</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00037">dialogue.h:36</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a></div><div class="ttdeci">@ m_good</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00260">enums.h:260</a></div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_a9093ef03bab5bf00ae28078c51217f65"><div class="ttname"><a href="iuse__actor_8cpp.html#a9093ef03bab5bf00ae28078c51217f65">damage_item</a></div><div class="ttdeci">static bool damage_item(player &amp;pl, item_location &amp;fix)</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l03426">iuse_actor.cpp:3426</a></div></div>
<div class="ttc" id="arng_8cpp_html_a0c88381d6334a2fbaa726c53f5cf9bb9"><div class="ttname"><a href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a></div><div class="ttdeci">double rng_float(double lo, double hi)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00028">rng.cpp:28</a></div></div>
<div class="ttc" id="astructitype_html_acbc6974858332fd6933f71a304312d7f"><div class="ttname"><a href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a></div><div class="ttdeci">static constexpr int damage_scale</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01006">itype.h:1006</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="dialogue_8h_source.html#l00036">action</a>, <a class="el" href="player_8cpp_source.html#l00380">player::add_msg_if_player()</a>, <a class="el" href="iuse__actor_8h_source.html#l00957">AS_CANT</a>, <a class="el" href="iuse__actor_8h_source.html#l00958">AS_CANT_USE_TOOL</a>, <a class="el" href="iuse__actor_8h_source.html#l00956">AS_DESTROYED</a>, <a class="el" href="iuse__actor_8h_source.html#l00955">AS_FAILURE</a>, <a class="el" href="iuse__actor_8h_source.html#l00954">AS_RETRY</a>, <a class="el" href="iuse__actor_8h_source.html#l00953">AS_SUCCESS</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03265">can_repair_target()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03039">can_use_tool()</a>, <a class="el" href="item_8cpp_source.html#l00696">item::damage()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03426">damage_item()</a>, <a class="el" href="itype_8h_source.html#l01006">itype::damage_scale</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03385">default_action()</a>, <a class="el" href="item_8cpp_source.html#l06321">item::durability_indicator()</a>, <a class="el" href="character_8cpp_source.html#l03317">Character::get_skill_level()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03117">handle_components()</a>, <a class="el" href="item_8cpp_source.html#l05308">item::has_flag()</a>, <a class="el" href="enums_8h_source.html#l00261">m_bad</a>, <a class="el" href="enums_8h_source.html#l00260">m_good</a>, <a class="el" href="enums_8h_source.html#l00265">m_info</a>, <a class="el" href="item_8cpp_source.html#l06231">item::mod_damage()</a>, <a class="el" href="character_8cpp_source.html#l03383">Character::practice()</a>, <a class="el" href="item_8cpp_source.html#l06504">item::reinforceable()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03338">repair_chance()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03247">repair_recipe_difficulty()</a>, <a class="el" href="rng_8cpp_source.html#l00028">rng_float()</a>, <a class="el" href="iuse__actor_8h_source.html#l00966">RT_DOWNSIZING</a>, <a class="el" href="iuse__actor_8h_source.html#l00963">RT_NOTHING</a>, <a class="el" href="iuse__actor_8h_source.html#l00969">RT_PRACTICE</a>, <a class="el" href="iuse__actor_8h_source.html#l00965">RT_REFIT</a>, <a class="el" href="iuse__actor_8h_source.html#l00968">RT_REINFORCE</a>, <a class="el" href="iuse__actor_8h_source.html#l00964">RT_REPAIR</a>, <a class="el" href="iuse__actor_8h_source.html#l00967">RT_UPSIZING</a>, <a class="el" href="item_8cpp_source.html#l00714">item::set_damage()</a>, <a class="el" href="item_8cpp_source.html#l05337">item::set_flag()</a>, <a class="el" href="item_8cpp_source.html#l04546">item::tname()</a>, <a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>, <a class="el" href="iuse__actor_8h_source.html#l00941">trains_skill_to</a>, <a class="el" href="item_8cpp_source.html#l05343">item::unset_flag()</a>, and <a class="el" href="iuse__actor_8h_source.html#l00939">used_skill</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__handlers_8cpp_source.html#l02813">activity_handlers::repair_item_finish()</a>.</p>

</div>
</div>
<a id="acec2db08135523eaf9e738c590dfa151" name="acec2db08135523eaf9e738c590dfa151"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acec2db08135523eaf9e738c590dfa151">&#9670;&nbsp;</a></span>repair_chance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; float, float &gt; repair_item_actor::repair_chance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>pl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>fix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fe">repair_item_actor::repair_type</a>&#160;</td>
          <td class="paramname"><em>action_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the chance to repair and to damage an item. </p>
Tailor randomly improves clothing repair efforts Mechanics randomly improves metal repair efforts Dexterity reduces the chances of damaging an item when repairing 
<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l03338">3338</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03340" name="l03340"></a><span class="lineno"> 3340</span>{<span class="comment"></span></div>
<div class="line"><a id="l03341" name="l03341"></a><span class="lineno"> 3341</span><span class="comment">    /** @EFFECT_TAILOR randomly improves clothing repair efforts */</span><span class="comment"></span></div>
<div class="line"><a id="l03342" name="l03342"></a><span class="lineno"> 3342</span><span class="comment">    /** @EFFECT_MECHANICS randomly improves metal repair efforts */</span></div>
<div class="line"><a id="l03343" name="l03343"></a><span class="lineno"> 3343</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> skill = pl.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( <a class="code hl_variable" href="classrepair__item__actor.html#ad31b7e5209e6e0c8439cbdd49ce6da8c">used_skill</a> );</div>
<div class="line"><a id="l03344" name="l03344"></a><span class="lineno"> 3344</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> recipe_difficulty = <a class="code hl_function" href="classrepair__item__actor.html#ac55f9fc6689a22eb43b68bc8114bc825">repair_recipe_difficulty</a>( pl, fix );</div>
<div class="line"><a id="l03345" name="l03345"></a><span class="lineno"> 3345</span>    <span class="keywordtype">int</span> action_difficulty = 0;</div>
<div class="line"><a id="l03346" name="l03346"></a><span class="lineno"> 3346</span>    <span class="keywordflow">switch</span>( action_type ) {</div>
<div class="line"><a id="l03347" name="l03347"></a><span class="lineno"> 3347</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea1a2de14c779a7b09dc5eb4ec31341b29">RT_REPAIR</a>:</div>
<div class="line"><a id="l03348" name="l03348"></a><span class="lineno"> 3348</span>            action_difficulty = fix.<a class="code hl_function" href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">damage_level</a>( 4 );</div>
<div class="line"><a id="l03349" name="l03349"></a><span class="lineno"> 3349</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03350" name="l03350"></a><span class="lineno"> 3350</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea173e2c4d52ef82293d133bcf272ec6ce">RT_REFIT</a>:</div>
<div class="line"><a id="l03351" name="l03351"></a><span class="lineno"> 3351</span>            <span class="comment">// Let&#39;s make refitting as hard as recovering an almost-wrecked item</span></div>
<div class="line"><a id="l03352" name="l03352"></a><span class="lineno"> 3352</span>            action_difficulty = fix.<a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() / <a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a>;</div>
<div class="line"><a id="l03353" name="l03353"></a><span class="lineno"> 3353</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03354" name="l03354"></a><span class="lineno"> 3354</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea2319dbf02ebb14171d8c553fccb6d7e6">RT_REINFORCE</a>:</div>
<div class="line"><a id="l03355" name="l03355"></a><span class="lineno"> 3355</span>            <span class="comment">// Reinforcing is at least as hard as refitting</span></div>
<div class="line"><a id="l03356" name="l03356"></a><span class="lineno"> 3356</span>            action_difficulty = std::max( fix.<a class="code hl_function" href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">max_damage</a>() / <a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a>, recipe_difficulty );</div>
<div class="line"><a id="l03357" name="l03357"></a><span class="lineno"> 3357</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03358" name="l03358"></a><span class="lineno"> 3358</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classrepair__item__actor.html#a181063ab4b7e6de08c14f7e15b2563fea63874384dd91d071fed451618879cac1">RT_PRACTICE</a>:</div>
<div class="line"><a id="l03359" name="l03359"></a><span class="lineno"> 3359</span>            <span class="comment">// Skill gain scales with recipe difficulty, so practice difficulty should too</span></div>
<div class="line"><a id="l03360" name="l03360"></a><span class="lineno"> 3360</span>            action_difficulty = recipe_difficulty;</div>
<div class="line"><a id="l03361" name="l03361"></a><span class="lineno"> 3361</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l03362" name="l03362"></a><span class="lineno"> 3362</span>            ;</div>
<div class="line"><a id="l03363" name="l03363"></a><span class="lineno"> 3363</span>    }</div>
<div class="line"><a id="l03364" name="l03364"></a><span class="lineno"> 3364</span> </div>
<div class="line"><a id="l03365" name="l03365"></a><span class="lineno"> 3365</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> difficulty = recipe_difficulty + action_difficulty;</div>
<div class="line"><a id="l03366" name="l03366"></a><span class="lineno"> 3366</span>    <span class="comment">// Sample numbers:</span></div>
<div class="line"><a id="l03367" name="l03367"></a><span class="lineno"> 3367</span>    <span class="comment">// Item   | Damage | Skill | Dex | Success | Failure</span></div>
<div class="line"><a id="l03368" name="l03368"></a><span class="lineno"> 3368</span>    <span class="comment">// Hoodie |    2   |   3   |  10 |   6%    |   0%</span></div>
<div class="line"><a id="l03369" name="l03369"></a><span class="lineno"> 3369</span>    <span class="comment">// Hazmat |    1   |   10  |  10 |   8%    |   0%</span></div>
<div class="line"><a id="l03370" name="l03370"></a><span class="lineno"> 3370</span>    <span class="comment">// Hazmat |    1   |   5   |  20 |   0%    |   2%</span></div>
<div class="line"><a id="l03371" name="l03371"></a><span class="lineno"> 3371</span>    <span class="comment">// t-shirt|    4   |   1   |  5  |   2%    |   3%</span></div>
<div class="line"><a id="l03372" name="l03372"></a><span class="lineno"> 3372</span>    <span class="comment">// Duster |    2   |   5   |  5  |   10%   |   0%</span></div>
<div class="line"><a id="l03373" name="l03373"></a><span class="lineno"> 3373</span>    <span class="comment">// Duster |    2   |   2   |  10 |   4%    |   1%</span></div>
<div class="line"><a id="l03374" name="l03374"></a><span class="lineno"> 3374</span>    <span class="comment">// Duster | Refit  |   2   |  10 |   0%    |   N/A</span></div>
<div class="line"><a id="l03375" name="l03375"></a><span class="lineno"> 3375</span>    <span class="keywordtype">float</span> success_chance = ( 10 + 2 * skill - 2 * difficulty + <a class="code hl_variable" href="classrepair__item__actor.html#a877a82dc874cae408ead7691ba9e1274">tool_quality</a> / 5.0f ) / 100.0f;<span class="comment"></span></div>
<div class="line"><a id="l03376" name="l03376"></a><span class="lineno"> 3376</span><span class="comment">    /** @EFFECT_DEX reduces the chances of damaging an item when repairing */</span></div>
<div class="line"><a id="l03377" name="l03377"></a><span class="lineno"> 3377</span>    <span class="keywordtype">float</span> damage_chance = ( difficulty - skill - ( <a class="code hl_variable" href="classrepair__item__actor.html#a877a82dc874cae408ead7691ba9e1274">tool_quality</a> + pl.<a class="code hl_variable" href="classCharacter.html#a4065ac02745befad248425d307b71849">dex_cur</a> ) / 5.0f ) / 100.0f;</div>
<div class="line"><a id="l03378" name="l03378"></a><span class="lineno"> 3378</span> </div>
<div class="line"><a id="l03379" name="l03379"></a><span class="lineno"> 3379</span>    damage_chance = std::max( 0.0f, std::min( 1.0f, damage_chance ) );</div>
<div class="line"><a id="l03380" name="l03380"></a><span class="lineno"> 3380</span>    success_chance = std::max( 0.0f, std::min( 1.0f - damage_chance, success_chance ) );</div>
<div class="line"><a id="l03381" name="l03381"></a><span class="lineno"> 3381</span> </div>
<div class="line"><a id="l03382" name="l03382"></a><span class="lineno"> 3382</span>    <span class="keywordflow">return</span> std::make_pair( success_chance, damage_chance );</div>
<div class="line"><a id="l03383" name="l03383"></a><span class="lineno"> 3383</span>}</div>
<div class="ttc" id="aclassCharacter_html_a4065ac02745befad248425d307b71849"><div class="ttname"><a href="classCharacter.html#a4065ac02745befad248425d307b71849">Character::dex_cur</a></div><div class="ttdeci">int dex_cur</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00257">character.h:257</a></div></div>
<div class="ttc" id="aclassitem_html_a216affc51dde30087c21fa5689a5c5e9"><div class="ttname"><a href="classitem.html#a216affc51dde30087c21fa5689a5c5e9">item::max_damage</a></div><div class="ttdeci">int max_damage() const</div><div class="ttdoc">Maximum amount of damage to an item (state before destroyed)</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06221">item.cpp:6221</a></div></div>
<div class="ttc" id="aclassitem_html_a5be1c00110bff10a98ab02b8410c9af7"><div class="ttname"><a href="classitem.html#a5be1c00110bff10a98ab02b8410c9af7">item::damage_level</a></div><div class="ttdeci">int damage_level(int max) const</div><div class="ttdoc">Scale item damage to the given number of levels.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00701">item.cpp:701</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8cpp_source.html#l00701">item::damage_level()</a>, <a class="el" href="itype_8h_source.html#l01006">itype::damage_scale</a>, <a class="el" href="character_8h_source.html#l00257">Character::dex_cur</a>, <a class="el" href="character_8cpp_source.html#l03317">Character::get_skill_level()</a>, <a class="el" href="item_8cpp_source.html#l06221">item::max_damage()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03247">repair_recipe_difficulty()</a>, <a class="el" href="iuse__actor_8h_source.html#l00969">RT_PRACTICE</a>, <a class="el" href="iuse__actor_8h_source.html#l00965">RT_REFIT</a>, <a class="el" href="iuse__actor_8h_source.html#l00968">RT_REINFORCE</a>, <a class="el" href="iuse__actor_8h_source.html#l00964">RT_REPAIR</a>, <a class="el" href="iuse__actor_8h_source.html#l00948">tool_quality</a>, and <a class="el" href="iuse__actor_8h_source.html#l00939">used_skill</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l03450">repair()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l02813">activity_handlers::repair_item_finish()</a>.</p>

</div>
</div>
<a id="ac55f9fc6689a22eb43b68bc8114bc825" name="ac55f9fc6689a22eb43b68bc8114bc825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac55f9fc6689a22eb43b68bc8114bc825">&#9670;&nbsp;</a></span>repair_recipe_difficulty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int repair_item_actor::repair_recipe_difficulty </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>pl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>fix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>training</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the difficulty to repair an item based on recipes to craft it and player's knowledge of them. </p>
<p >If <code>training</code> is true, player's lacking knowledge and skills are not used to increase difficulty. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l03247">3247</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03249" name="l03249"></a><span class="lineno"> 3249</span>{</div>
<div class="line"><a id="l03250" name="l03250"></a><span class="lineno"> 3250</span>    <span class="keywordtype">int</span> diff = <a class="code hl_function" href="iuse__actor_8cpp.html#ad87d42c54800f0106f2fb52b3d20c2fb">find_repair_difficulty</a>( pl, fix.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>(), training );</div>
<div class="line"><a id="l03251" name="l03251"></a><span class="lineno"> 3251</span> </div>
<div class="line"><a id="l03252" name="l03252"></a><span class="lineno"> 3252</span>    <span class="comment">// If we don&#39;t find a recipe, see if there&#39;s a repairs_like that has a recipe</span></div>
<div class="line"><a id="l03253" name="l03253"></a><span class="lineno"> 3253</span>    <span class="keywordflow">if</span>( diff == -1 &amp;&amp; !fix.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a27af038e705697a2b9feff2a14e9cef5">repairs_like</a>.<a class="code hl_function" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a id="l03254" name="l03254"></a><span class="lineno"> 3254</span>        diff = <a class="code hl_function" href="iuse__actor_8cpp.html#ad87d42c54800f0106f2fb52b3d20c2fb">find_repair_difficulty</a>( pl, fix.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_variable" href="structitype.html#a27af038e705697a2b9feff2a14e9cef5">repairs_like</a>, training );</div>
<div class="line"><a id="l03255" name="l03255"></a><span class="lineno"> 3255</span>    }</div>
<div class="line"><a id="l03256" name="l03256"></a><span class="lineno"> 3256</span> </div>
<div class="line"><a id="l03257" name="l03257"></a><span class="lineno"> 3257</span>    <span class="comment">// If we still don&#39;t find a recipe, difficulty is 10</span></div>
<div class="line"><a id="l03258" name="l03258"></a><span class="lineno"> 3258</span>    <span class="keywordflow">if</span>( diff == -1 ) {</div>
<div class="line"><a id="l03259" name="l03259"></a><span class="lineno"> 3259</span>        diff = 10;</div>
<div class="line"><a id="l03260" name="l03260"></a><span class="lineno"> 3260</span>    }</div>
<div class="line"><a id="l03261" name="l03261"></a><span class="lineno"> 3261</span> </div>
<div class="line"><a id="l03262" name="l03262"></a><span class="lineno"> 3262</span>    <span class="keywordflow">return</span> diff;</div>
<div class="line"><a id="l03263" name="l03263"></a><span class="lineno"> 3263</span>}</div>
<div class="ttc" id="aclassitem_html_aa79dad64e1ef6347219be2f8666e2752"><div class="ttname"><a href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">item::typeId</a></div><div class="ttdeci">const itype_id &amp; typeId() const</div><div class="ttdoc">return the unique identifier of the items underlying type</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08358">item.cpp:8358</a></div></div>
<div class="ttc" id="aclassitem_html_ac1d2c4c33b8a499812f3437cb2fad742"><div class="ttname"><a href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">item::type</a></div><div class="ttdeci">const itype * type</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02157">item.h:2157</a></div></div>
<div class="ttc" id="aclassstring__id_html_ac180a60056901aaf79f5c4b728a257bd"><div class="ttname"><a href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">string_id::is_empty</a></div><div class="ttdeci">bool is_empty() const</div><div class="ttdoc">Returns whether this id is empty.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00298">string_id.h:298</a></div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_ad87d42c54800f0106f2fb52b3d20c2fb"><div class="ttname"><a href="iuse__actor_8cpp.html#ad87d42c54800f0106f2fb52b3d20c2fb">find_repair_difficulty</a></div><div class="ttdeci">static int find_repair_difficulty(const player &amp;pl, const itype_id &amp;id, bool training)</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l03215">iuse_actor.cpp:3215</a></div></div>
<div class="ttc" id="astructitype_html_a27af038e705697a2b9feff2a14e9cef5"><div class="ttname"><a href="structitype.html#a27af038e705697a2b9feff2a14e9cef5">itype::repairs_like</a></div><div class="ttdeci">itype_id repairs_like</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00903">itype.h:903</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse__actor_8cpp_source.html#l03215">find_repair_difficulty()</a>, <a class="el" href="string__id_8h_source.html#l00298">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="itype_8h_source.html#l00903">itype::repairs_like</a>, <a class="el" href="item_8h_source.html#l02157">item::type</a>, and <a class="el" href="item_8cpp_source.html#l08358">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l03450">repair()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l03338">repair_chance()</a>.</p>

</div>
</div>
<a id="a59f8ec58c2e39add49b85abb62689cd4" name="a59f8ec58c2e39add49b85abb62689cd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59f8ec58c2e39add49b85abb62689cd4">&#9670;&nbsp;</a></span>use()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int repair_item_actor::use </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>position</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classiuse__actor.html#aa7ab08413d05764e42ae4471799fd6b0">iuse_actor</a>.</p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l03097">3097</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03098" name="l03098"></a><span class="lineno"> 3098</span>{</div>
<div class="line"><a id="l03099" name="l03099"></a><span class="lineno"> 3099</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classrepair__item__actor.html#a42807130b4b60d92fffffea88fd08f0f">can_use_tool</a>( p, it, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l03100" name="l03100"></a><span class="lineno"> 3100</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03101" name="l03101"></a><span class="lineno"> 3101</span>    }</div>
<div class="line"><a id="l03102" name="l03102"></a><span class="lineno"> 3102</span> </div>
<div class="line"><a id="l03103" name="l03103"></a><span class="lineno"> 3103</span>    p.<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="iuse__actor_8cpp.html#a1c07be3a760c8f593258e8c0da77fbfe">ACT_REPAIR_ITEM</a>, 0, p.<a class="code hl_function" href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">get_item_position</a>( &amp;it ), INT_MIN );</div>
<div class="line"><a id="l03104" name="l03104"></a><span class="lineno"> 3104</span>    <span class="comment">// We also need to store the repair actor subtype in the activity</span></div>
<div class="line"><a id="l03105" name="l03105"></a><span class="lineno"> 3105</span>    p.<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a>.push_back( <a class="code hl_variable" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a> );</div>
<div class="line"><a id="l03106" name="l03106"></a><span class="lineno"> 3106</span>    <span class="comment">// storing of item_location to support repairs by tools on the ground</span></div>
<div class="line"><a id="l03107" name="l03107"></a><span class="lineno"> 3107</span>    p.<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.emplace_back( <a class="code hl_function" href="iuse__actor_8cpp.html#a60c08def16c09e8f7c035cf471e4c42f">get_item_location</a>( p, it, position ) );</div>
<div class="line"><a id="l03108" name="l03108"></a><span class="lineno"> 3108</span>    <span class="comment">// All repairs are done in the activity, including charge cost and target item selection</span></div>
<div class="line"><a id="l03109" name="l03109"></a><span class="lineno"> 3109</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l03110" name="l03110"></a><span class="lineno"> 3110</span>}</div>
<div class="ttc" id="aclassCharacter_html_a20839520f569c4f05876a55e89f67361"><div class="ttname"><a href="classCharacter.html#a20839520f569c4f05876a55e89f67361">Character::activity</a></div><div class="ttdeci">player_activity activity</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01541">character.h:1541</a></div></div>
<div class="ttc" id="aclassCharacter_html_a50ca774a69b5d6e12f7fba07434d9b35"><div class="ttname"><a href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">Character::get_item_position</a></div><div class="ttdeci">int get_item_position(const item *it) const</div><div class="ttdoc">Returns the item position (suitable for i_at or similar) of a specific item.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02325">character.cpp:2325</a></div></div>
<div class="ttc" id="aclassCharacter_html_af7d50915d362a56eeff40bc6b392326d"><div class="ttname"><a href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">Character::assign_activity</a></div><div class="ttdeci">void assign_activity(const activity_id &amp;type, int moves=calendar::INDEFINITELY_LONG, int index=-1, int pos=INT_MIN, const std::string &amp;name=&quot;&quot;)</div><div class="ttdoc">Legacy activity assignment, does not work for any activites using the new activity_actor class and ma...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09145">character.cpp:9145</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a1b2c5a44b184330e2384906fe0727210"><div class="ttname"><a href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">player_activity::str_values</a></div><div class="ttdeci">std::vector&lt; std::string &gt; str_values</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00058">player_activity.h:58</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a979cd5aca677ff30dcbb767d4a3980d2"><div class="ttname"><a href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">player_activity::targets</a></div><div class="ttdeci">std::vector&lt; item_location &gt; targets</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00056">player_activity.h:56</a></div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_a1c07be3a760c8f593258e8c0da77fbfe"><div class="ttname"><a href="iuse__actor_8cpp.html#a1c07be3a760c8f593258e8c0da77fbfe">ACT_REPAIR_ITEM</a></div><div class="ttdeci">static const activity_id ACT_REPAIR_ITEM(&quot;ACT_REPAIR_ITEM&quot;)</div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_a60c08def16c09e8f7c035cf471e4c42f"><div class="ttname"><a href="iuse__actor_8cpp.html#a60c08def16c09e8f7c035cf471e4c42f">get_item_location</a></div><div class="ttdeci">static item_location get_item_location(player &amp;p, item &amp;it, const tripoint &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l03070">iuse_actor.cpp:3070</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse__actor_8cpp.html#a1c07be3a760c8f593258e8c0da77fbfe">ACT_REPAIR_ITEM</a>, <a class="el" href="character_8h_source.html#l01541">Character::activity</a>, <a class="el" href="character_8cpp_source.html#l09145">Character::assign_activity()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03039">can_use_tool()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03070">get_item_location()</a>, <a class="el" href="character_8cpp_source.html#l02325">Character::get_item_position()</a>, <a class="el" href="character_8h_source.html#l02095">Character::position</a>, <a class="el" href="player__activity_8h_source.html#l00058">player_activity::str_values</a>, <a class="el" href="player__activity_8h_source.html#l00056">player_activity::targets</a>, and <a class="el" href="iuse_8h_source.html#l00266">iuse_actor::type</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a686a5cfa2b736595ee5751cfa3d69d58" name="a686a5cfa2b736595ee5751cfa3d69d58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a686a5cfa2b736595ee5751cfa3d69d58">&#9670;&nbsp;</a></span>cost_scaling</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float repair_item_actor::cost_scaling = 1.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Volume of materials required (and used up) as percentage of repaired item's volume. </p>
<p >Set to 0 to always use just 1 component. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00946">946</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l03117">handle_components()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l03017">load()</a>.</p>

</div>
</div>
<a id="a3637545676dcad064a40196dda0c841c" name="a3637545676dcad064a40196dda0c841c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3637545676dcad064a40196dda0c841c">&#9670;&nbsp;</a></span>materials</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>&gt; repair_item_actor::materials</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Materials we are allowed to repair. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00937">937</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="game__inventory_8cpp_source.html#l01443">repair_inventory_preset::is_shown()</a>.</p>

</div>
</div>
<a id="a8db98a186012b12626b1ef7ce0f38036" name="a8db98a186012b12626b1ef7ce0f38036"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8db98a186012b12626b1ef7ce0f38036">&#9670;&nbsp;</a></span>move_cost</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int repair_item_actor::move_cost = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move cost for every attempt. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00950">950</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l03017">load()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l02813">activity_handlers::repair_item_finish()</a>.</p>

</div>
</div>
<a id="a877a82dc874cae408ead7691ba9e1274" name="a877a82dc874cae408ead7691ba9e1274"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a877a82dc874cae408ead7691ba9e1274">&#9670;&nbsp;</a></span>tool_quality</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int repair_item_actor::tool_quality = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extra value added to skill roll. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00948">948</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l03017">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l03338">repair_chance()</a>.</p>

</div>
</div>
<a id="a2f79271d4dd3e2c7b53698bb0e582d53" name="a2f79271d4dd3e2c7b53698bb0e582d53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f79271d4dd3e2c7b53698bb0e582d53">&#9670;&nbsp;</a></span>trains_skill_to</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int repair_item_actor::trains_skill_to = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum skill level that can be gained by using this actor. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00941">941</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l03385">default_action()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03017">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l03450">repair()</a>.</p>

</div>
</div>
<a id="ad31b7e5209e6e0c8439cbdd49ce6da8c" name="ad31b7e5209e6e0c8439cbdd49ce6da8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad31b7e5209e6e0c8439cbdd49ce6da8c">&#9670;&nbsp;</a></span>used_skill</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a13f6e54f55e89d7c6cd86da6d0a7e785">skill_id</a> repair_item_actor::used_skill</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classSkill.html">Skill</a> used. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00939">939</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l03017">load()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03450">repair()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03338">repair_chance()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l02813">activity_handlers::repair_item_finish()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a></li>
<li>src/<a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classrepair__item__actor.html">repair_item_actor</a></li>
    <li class="footer">Generated on Thu Mar 23 2023 08:48:41 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
