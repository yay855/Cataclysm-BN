<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: item_location::impl::item_on_person Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classitem__location_1_1impl_1_1item__on__person.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classitem__location_1_1impl_1_1item__on__person-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">item_location::impl::item_on_person Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for item_location::impl::item_on_person:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classitem__location_1_1impl_1_1item__on__person.png" usemap="#item_5Flocation::impl::item_5Fon_5Fperson_map" alt=""/>
  <map id="item_5Flocation::impl::item_5Fon_5Fperson_map" name="item_5Flocation::impl::item_5Fon_5Fperson_map">
<area href="classitem__location_1_1impl.html" alt="item_location::impl" shape="rect" coords="0,0,208,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae2cb5824f566ab53fc75aa7e189e8f62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#ae2cb5824f566ab53fc75aa7e189e8f62">item_on_person</a> (<a class="el" href="classCharacter.html">Character</a> &amp;<a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>, <a class="el" href="classitem.html">item</a> *which)</td></tr>
<tr class="separator:ae2cb5824f566ab53fc75aa7e189e8f62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a490901d1b97f662a68c48e03b1e51ff1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#a490901d1b97f662a68c48e03b1e51ff1">item_on_person</a> (<a class="el" href="classcharacter__id.html">character_id</a> <a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#a7645512d4f9ef3b476cb69238a3a93cf">who_id</a>, int <a class="el" href="classitem__location_1_1impl.html#a89f9e225e25859b7353c88e7652ecc6d">idx</a>)</td></tr>
<tr class="separator:a490901d1b97f662a68c48e03b1e51ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00a863ec781e511e12da770b04776f03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#a00a863ec781e511e12da770b04776f03">serialize</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;js) const override</td></tr>
<tr class="separator:a00a863ec781e511e12da770b04776f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa16f6936feb39e293fbb1eaf5eef22e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#aa16f6936feb39e293fbb1eaf5eef22e8">unpack</a> (int <a class="el" href="classitem__location_1_1impl.html#a89f9e225e25859b7353c88e7652ecc6d">idx</a>) const override</td></tr>
<tr class="separator:aa16f6936feb39e293fbb1eaf5eef22e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627fb943712e7f9548db0c9b2237fde7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888d">type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#a627fb943712e7f9548db0c9b2237fde7">where</a> () const override</td></tr>
<tr class="separator:a627fb943712e7f9548db0c9b2237fde7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc04887cfb7aad9ba0e2f4811024d584"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtripoint.html">tripoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#acc04887cfb7aad9ba0e2f4811024d584">position</a> () const override</td></tr>
<tr class="separator:acc04887cfb7aad9ba0e2f4811024d584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b3c7dcaffc4cb92e387c9b61762d8d0"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#a7b3c7dcaffc4cb92e387c9b61762d8d0">describe</a> (const <a class="el" href="classCharacter.html">Character</a> *ch) const override</td></tr>
<tr class="separator:a7b3c7dcaffc4cb92e387c9b61762d8d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8c9e8688f84161c23eac83ede14f645"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem__location.html">item_location</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#aa8c9e8688f84161c23eac83ede14f645">obtain</a> (<a class="el" href="classCharacter.html">Character</a> &amp;ch, int qty) override</td></tr>
<tr class="separator:aa8c9e8688f84161c23eac83ede14f645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4ad7b09eb6ecea1396fd9d8d54fe3ae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#ae4ad7b09eb6ecea1396fd9d8d54fe3ae">obtain_cost</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;ch, int qty) const override</td></tr>
<tr class="separator:ae4ad7b09eb6ecea1396fd9d8d54fe3ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d15c1d0d24eb9cf6fbf4af4a72f0883"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#a8d15c1d0d24eb9cf6fbf4af4a72f0883">remove_item</a> () override</td></tr>
<tr class="separator:a8d15c1d0d24eb9cf6fbf4af4a72f0883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7502956b050cf9f5169b1221f0c105c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#ad7502956b050cf9f5169b1221f0c105c">valid</a> () const override</td></tr>
<tr class="separator:ad7502956b050cf9f5169b1221f0c105c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2ed7bbef3955db3c80fd7a544163cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#a3f2ed7bbef3955db3c80fd7a544163cd">make_dirty</a> () override</td></tr>
<tr class="separator:a3f2ed7bbef3955db3c80fd7a544163cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classitem__location_1_1impl"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classitem__location_1_1impl')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classitem__location_1_1impl.html">item_location::impl</a></td></tr>
<tr class="memitem:a5cd1f0257532190076eccce4be014ace inherit pub_methods_classitem__location_1_1impl"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl.html#a5cd1f0257532190076eccce4be014ace">impl</a> ()=default</td></tr>
<tr class="separator:a5cd1f0257532190076eccce4be014ace inherit pub_methods_classitem__location_1_1impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95c3f6aa171362f13ebdc01e9cc0f807 inherit pub_methods_classitem__location_1_1impl"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl.html#a95c3f6aa171362f13ebdc01e9cc0f807">impl</a> (<a class="el" href="classitem.html">item</a> *i)</td></tr>
<tr class="separator:a95c3f6aa171362f13ebdc01e9cc0f807 inherit pub_methods_classitem__location_1_1impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9940d5dc8e967c4db0da794e52920f69 inherit pub_methods_classitem__location_1_1impl"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl.html#a9940d5dc8e967c4db0da794e52920f69">impl</a> (int <a class="el" href="classitem__location_1_1impl.html#a89f9e225e25859b7353c88e7652ecc6d">idx</a>)</td></tr>
<tr class="separator:a9940d5dc8e967c4db0da794e52920f69 inherit pub_methods_classitem__location_1_1impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2733d8d15feaa8ce505c619a51d14205 inherit pub_methods_classitem__location_1_1impl"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl.html#a2733d8d15feaa8ce505c619a51d14205">~impl</a> ()=default</td></tr>
<tr class="separator:a2733d8d15feaa8ce505c619a51d14205 inherit pub_methods_classitem__location_1_1impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62b69ef927bd4d6f81e9e9002b4ec51d inherit pub_methods_classitem__location_1_1impl"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classitem__location.html">item_location</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl.html#a62b69ef927bd4d6f81e9e9002b4ec51d">parent_item</a> () const</td></tr>
<tr class="separator:a62b69ef927bd4d6f81e9e9002b4ec51d inherit pub_methods_classitem__location_1_1impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae22b11deba202089fd65448e09201aa0 inherit pub_methods_classitem__location_1_1impl"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl.html#ae22b11deba202089fd65448e09201aa0">target</a> () const</td></tr>
<tr class="separator:ae22b11deba202089fd65448e09201aa0 inherit pub_methods_classitem__location_1_1impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a7afbd5778ab5f4b933a28c4879f30b33"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#a7afbd5778ab5f4b933a28c4879f30b33">ensure_who_unpacked</a> () const</td></tr>
<tr class="separator:a7afbd5778ab5f4b933a28c4879f30b33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a7645512d4f9ef3b476cb69238a3a93cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcharacter__id.html">character_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#a7645512d4f9ef3b476cb69238a3a93cf">who_id</a></td></tr>
<tr class="separator:a7645512d4f9ef3b476cb69238a3a93cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f6570007e8fe0bb7a65b377aa85bdc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCharacter.html">Character</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a></td></tr>
<tr class="separator:a7f6570007e8fe0bb7a65b377aa85bdc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_classitem__location_1_1impl"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classitem__location_1_1impl')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classitem__location_1_1impl.html">item_location::impl</a></td></tr>
<tr class="memitem:a26d63e8292a06203ed9bbc517395e859 inherit pub_attribs_classitem__location_1_1impl"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classitem__location_1_1impl.html#a26d63e8292a06203ed9bbc517395e859">should_stack</a> = true</td></tr>
<tr class="separator:a26d63e8292a06203ed9bbc517395e859 inherit pub_attribs_classitem__location_1_1impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00246">246</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae2cb5824f566ab53fc75aa7e189e8f62" name="ae2cb5824f566ab53fc75aa7e189e8f62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2cb5824f566ab53fc75aa7e189e8f62">&#9670;&nbsp;</a></span>item_on_person() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html">item_location::impl::item_on_person::item_on_person</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>who</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>which</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00265">265</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>                                                      : <a class="code hl_function" href="classitem__location_1_1impl.html#a5cd1f0257532190076eccce4be014ace">impl</a>( which ) {</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>            <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7645512d4f9ef3b476cb69238a3a93cf">who_id</a> = <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>.<a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>();</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>            this-&gt;who = &amp;<a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>;</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>        }</div>
<div class="ttc" id="aclassCharacter_html_adb54bdcb284abb66b6be99c8ae225065"><div class="ttname"><a href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">Character::getID</a></div><div class="ttdeci">character_id getID() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00477">character.cpp:477</a></div></div>
<div class="ttc" id="aclassitem__location_1_1impl_1_1item__on__person_html_a7645512d4f9ef3b476cb69238a3a93cf"><div class="ttname"><a href="classitem__location_1_1impl_1_1item__on__person.html#a7645512d4f9ef3b476cb69238a3a93cf">item_location::impl::item_on_person::who_id</a></div><div class="ttdeci">character_id who_id</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00249">item_location.cpp:249</a></div></div>
<div class="ttc" id="aclassitem__location_1_1impl_1_1item__on__person_html_a7f6570007e8fe0bb7a65b377aa85bdc6"><div class="ttname"><a href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">item_location::impl::item_on_person::who</a></div><div class="ttdeci">Character * who</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00250">item_location.cpp:250</a></div></div>
<div class="ttc" id="aclassitem__location_1_1impl_html_a5cd1f0257532190076eccce4be014ace"><div class="ttname"><a href="classitem__location_1_1impl.html#a5cd1f0257532190076eccce4be014ace">item_location::impl::impl</a></div><div class="ttdeci">impl()=default</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l00477">Character::getID()</a>, <a class="el" href="item__location_8cpp_source.html#l00250">who</a>, and <a class="el" href="item__location_8cpp_source.html#l00249">who_id</a>.</p>

</div>
</div>
<a id="a490901d1b97f662a68c48e03b1e51ff1" name="a490901d1b97f662a68c48e03b1e51ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a490901d1b97f662a68c48e03b1e51ff1">&#9670;&nbsp;</a></span>item_on_person() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html">item_location::impl::item_on_person::item_on_person</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcharacter__id.html">character_id</a>&#160;</td>
          <td class="paramname"><em>who_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00270">270</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>: <a class="code hl_function" href="classitem__location_1_1impl.html#a5cd1f0257532190076eccce4be014ace">impl</a>( <a class="code hl_variable" href="classitem__location_1_1impl.html#a89f9e225e25859b7353c88e7652ecc6d">idx</a> ), <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7645512d4f9ef3b476cb69238a3a93cf">who_id</a>( <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7645512d4f9ef3b476cb69238a3a93cf">who_id</a> ), <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>( <span class="keyword">nullptr</span> ) {}</div>
<div class="ttc" id="aclassitem__location_1_1impl_html_a89f9e225e25859b7353c88e7652ecc6d"><div class="ttname"><a href="classitem__location_1_1impl.html#a89f9e225e25859b7353c88e7652ecc6d">item_location::impl::idx</a></div><div class="ttdeci">int idx</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00112">item_location.cpp:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7b3c7dcaffc4cb92e387c9b61762d8d0" name="a7b3c7dcaffc4cb92e387c9b61762d8d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b3c7dcaffc4cb92e387c9b61762d8d0">&#9670;&nbsp;</a></span>describe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string item_location::impl::item_on_person::describe </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classitem__location_1_1impl.html#a7535c9f7685bbd136dec99276c0a9875">item_location::impl</a>.</p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00305">305</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>                                                                 {</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem__location_1_1impl.html#ae22b11deba202089fd65448e09201aa0">target</a>() || !<a class="code hl_function" href="classitem__location_1_1impl_1_1item__on__person.html#a7afbd5778ab5f4b933a28c4879f30b33">ensure_who_unpacked</a>() ) {</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>                <span class="keywordflow">return</span> std::string();</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>            }</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span> </div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>            <span class="keywordflow">if</span>( ch == <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a> ) {</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>                <span class="keyword">auto</span> parents = <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>-&gt;<a class="code hl_function" href="classvisitable.html#a91f3c0f8e439b0ffda17e613fda94d04">parents</a>( *<a class="code hl_function" href="classitem__location_1_1impl.html#ae22b11deba202089fd65448e09201aa0">target</a>() );</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>                <span class="keywordflow">if</span>( !parents.empty() &amp;&amp; <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>-&gt;<a class="code hl_function" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a>( *parents.back() ) ) {</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>                    <span class="keywordflow">return</span> parents.back()-&gt;type_name();</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span> </div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>-&gt;<a class="code hl_function" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a>( *<a class="code hl_function" href="classitem__location_1_1impl.html#ae22b11deba202089fd65448e09201aa0">target</a>() ) ) {</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>                    <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;worn&quot;</span> );</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span> </div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>                    <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;inventory&quot;</span> );</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>                }</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span> </div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>-&gt;<a class="code hl_variable" href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">name</a>;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>            }</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>        }</div>
<div class="ttc" id="aclassCharacter_html_a4d8d747c469431f530acb05c5f7a7f45"><div class="ttname"><a href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">Character::is_worn</a></div><div class="ttdeci">bool is_worn(const item &amp;thing) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01082">character.h:1082</a></div></div>
<div class="ttc" id="aclassCharacter_html_a6592c35167738421f3e04ca8808d37db"><div class="ttname"><a href="classCharacter.html#a6592c35167738421f3e04ca8808d37db">Character::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01504">character.h:1504</a></div></div>
<div class="ttc" id="aclassitem__location_1_1impl_1_1item__on__person_html_a7afbd5778ab5f4b933a28c4879f30b33"><div class="ttname"><a href="classitem__location_1_1impl_1_1item__on__person.html#a7afbd5778ab5f4b933a28c4879f30b33">item_location::impl::item_on_person::ensure_who_unpacked</a></div><div class="ttdeci">bool ensure_who_unpacked() const</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00252">item_location.cpp:252</a></div></div>
<div class="ttc" id="aclassitem__location_1_1impl_html_ae22b11deba202089fd65448e09201aa0"><div class="ttname"><a href="classitem__location_1_1impl.html#ae22b11deba202089fd65448e09201aa0">item_location::impl::target</a></div><div class="ttdeci">item * target() const</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00091">item_location.cpp:91</a></div></div>
<div class="ttc" id="aclassvisitable_html_a91f3c0f8e439b0ffda17e613fda94d04"><div class="ttname"><a href="classvisitable.html#a91f3c0f8e439b0ffda17e613fda94d04">visitable::parents</a></div><div class="ttdeci">std::vector&lt; item * &gt; parents(const item &amp;it)</div><div class="ttdoc">Returns vector of parent containers (if any) starting with the innermost.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00073">visitable.cpp:73</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="item__location_8cpp_source.html#l00252">ensure_who_unpacked()</a>, <a class="el" href="character_8h_source.html#l01082">Character::is_worn()</a>, <a class="el" href="character_8h_source.html#l01504">Character::name</a>, <a class="el" href="visitable_8cpp_source.html#l00073">visitable&lt; T &gt;::parents()</a>, <a class="el" href="item__location_8cpp_source.html#l00091">item_location::impl::target()</a>, and <a class="el" href="item__location_8cpp_source.html#l00250">who</a>.</p>

</div>
</div>
<a id="a7afbd5778ab5f4b933a28c4879f30b33" name="a7afbd5778ab5f4b933a28c4879f30b33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7afbd5778ab5f4b933a28c4879f30b33">&#9670;&nbsp;</a></span>ensure_who_unpacked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item_location::impl::item_on_person::ensure_who_unpacked </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00252">252</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>                                         {</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>            <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a> ) {</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>                <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a> = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;critter_by_id&lt;<a class="code hl_class" href="classCharacter.html">Character</a>&gt;( <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7645512d4f9ef3b476cb69238a3a93cf">who_id</a> );</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>                <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a> ) {</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>                    <span class="comment">// If we failed to find it throw a debug message cause we&#39;re probably going to crash soon</span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>                    <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Failed to find item_location owner with character_id %d&quot;</span>, <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7645512d4f9ef3b476cb69238a3a93cf">who_id</a>.<a class="code hl_function" href="classcharacter__id.html#a57a3bebd5dc5168d0b278cfccdbdcd18">get_value</a>() );</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>                }</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>            }</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>        }</div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00202">character.h:203</a></div></div>
<div class="ttc" id="aclasscharacter__id_html_a57a3bebd5dc5168d0b278cfccdbdcd18"><div class="ttname"><a href="classcharacter__id.html#a57a3bebd5dc5168d0b278cfccdbdcd18">character_id::get_value</a></div><div class="ttdeci">int get_value() const</div><div class="ttdef"><b>Definition:</b> <a href="character__id_8h_source.html#l00023">character_id.h:23</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00276">game.cpp:276</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="game_8cpp_source.html#l00276">g</a>, <a class="el" href="character__id_8h_source.html#l00023">character_id::get_value()</a>, <a class="el" href="item__location_8cpp_source.html#l00250">who</a>, and <a class="el" href="item__location_8cpp_source.html#l00249">who_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__location_8cpp_source.html#l00305">describe()</a>, <a class="el" href="item__location_8cpp_source.html#l00409">make_dirty()</a>, <a class="el" href="item__location_8cpp_source.html#l00345">obtain_cost()</a>, <a class="el" href="item__location_8cpp_source.html#l00298">position()</a>, <a class="el" href="item__location_8cpp_source.html#l00396">remove_item()</a>, <a class="el" href="item__location_8cpp_source.html#l00272">serialize()</a>, <a class="el" href="item__location_8cpp_source.html#l00287">unpack()</a>, and <a class="el" href="item__location_8cpp_source.html#l00403">valid()</a>.</p>

</div>
</div>
<a id="a3f2ed7bbef3955db3c80fd7a544163cd" name="a3f2ed7bbef3955db3c80fd7a544163cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f2ed7bbef3955db3c80fd7a544163cd">&#9670;&nbsp;</a></span>make_dirty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void item_location::impl::item_on_person::make_dirty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classitem__location_1_1impl.html#a9d13f8c793359129f7fb5005151bfedf">item_location::impl</a>.</p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00409">409</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>                                   {</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classitem__location_1_1impl_1_1item__on__person.html#a7afbd5778ab5f4b933a28c4879f30b33">ensure_who_unpacked</a>() ) {</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>                <a class="code hl_variable" href="classitem__location_1_1impl.html#a89f9e225e25859b7353c88e7652ecc6d">idx</a> = <a class="code hl_function" href="item__location_8cpp.html#a165e347b5b79d2be22029ebdfb784e0a">find_index</a>( *<a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>, <a class="code hl_variable" href="classitem__location_1_1impl.html#a9f201860b717fc954b77af03966273c0">what</a>.get() );</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>            }</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>            <a class="code hl_variable" href="classitem__location_1_1impl.html#ab0705c21b83152aed8b84ea86635b2f8">needs_unpacking</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>        }</div>
<div class="ttc" id="aclassitem__location_1_1impl_html_a9f201860b717fc954b77af03966273c0"><div class="ttname"><a href="classitem__location_1_1impl.html#a9f201860b717fc954b77af03966273c0">item_location::impl::what</a></div><div class="ttdeci">safe_reference&lt; item &gt; what</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00111">item_location.cpp:111</a></div></div>
<div class="ttc" id="aclassitem__location_1_1impl_html_ab0705c21b83152aed8b84ea86635b2f8"><div class="ttname"><a href="classitem__location_1_1impl.html#ab0705c21b83152aed8b84ea86635b2f8">item_location::impl::needs_unpacking</a></div><div class="ttdeci">bool needs_unpacking</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00113">item_location.cpp:113</a></div></div>
<div class="ttc" id="aitem__location_8cpp_html_a165e347b5b79d2be22029ebdfb784e0a"><div class="ttname"><a href="item__location_8cpp.html#a165e347b5b79d2be22029ebdfb784e0a">find_index</a></div><div class="ttdeci">static int find_index(const T &amp;sel, const item *obj)</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00037">item_location.cpp:37</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8cpp_source.html#l00252">ensure_who_unpacked()</a>, <a class="el" href="item__location_8cpp_source.html#l00037">find_index()</a>, <a class="el" href="item__location_8cpp_source.html#l00112">item_location::impl::idx</a>, <a class="el" href="item__location_8cpp_source.html#l00113">item_location::impl::needs_unpacking</a>, <a class="el" href="item__location_8cpp_source.html#l00111">item_location::impl::what</a>, and <a class="el" href="item__location_8cpp_source.html#l00250">who</a>.</p>

</div>
</div>
<a id="aa8c9e8688f84161c23eac83ede14f645" name="aa8c9e8688f84161c23eac83ede14f645"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8c9e8688f84161c23eac83ede14f645">&#9670;&nbsp;</a></span>obtain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem__location.html">item_location</a> item_location::impl::item_on_person::obtain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classitem__location_1_1impl.html#a860a60512e60399e6ce609ca0d21b161">item_location::impl</a>.</p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00327">327</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>                                                                {</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>            ch.<a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -<a class="code hl_function" href="classitem__location_1_1impl_1_1item__on__person.html#ae4ad7b09eb6ecea1396fd9d8d54fe3ae">obtain_cost</a>( ch, qty ) );</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span> </div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>            <span class="keywordflow">if</span>( &amp;ch.<a class="code hl_function" href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">i_at</a>( ch.<a class="code hl_function" href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">get_item_position</a>( <a class="code hl_function" href="classitem__location_1_1impl.html#ae22b11deba202089fd65448e09201aa0">target</a>() ) ) == <a class="code hl_function" href="classitem__location_1_1impl.html#ae22b11deba202089fd65448e09201aa0">target</a>() ) {</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>                <span class="comment">// item already in target characters inventory at base of stack</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="classitem__location.html#a4d1a7b5bc343f8771751142b294ef84e">item_location</a>( ch, <a class="code hl_function" href="classitem__location_1_1impl.html#ae22b11deba202089fd65448e09201aa0">target</a>() );</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>            }</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span> </div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>            <a class="code hl_class" href="classitem.html">item</a> obj = <a class="code hl_function" href="classitem__location_1_1impl.html#ae22b11deba202089fd65448e09201aa0">target</a>()-&gt;<a class="code hl_function" href="classitem.html#a3c47a272ada88bc7d3d31a6a4b8a672c">split</a>( qty );</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>            <span class="keywordflow">if</span>( !obj.<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="classitem__location.html#a4d1a7b5bc343f8771751142b294ef84e">item_location</a>( ch, &amp;ch.<a class="code hl_function" href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">i_add</a>( obj, <a class="code hl_variable" href="classitem__location_1_1impl.html#a26d63e8292a06203ed9bbc517395e859">should_stack</a> ) );</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>                <a class="code hl_class" href="classitem.html">item</a> *inv = &amp;ch.<a class="code hl_function" href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">i_add</a>( *<a class="code hl_function" href="classitem__location_1_1impl.html#ae22b11deba202089fd65448e09201aa0">target</a>(), <a class="code hl_variable" href="classitem__location_1_1impl.html#a26d63e8292a06203ed9bbc517395e859">should_stack</a> );</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>                <a class="code hl_function" href="classitem__location_1_1impl_1_1item__on__person.html#a8d15c1d0d24eb9cf6fbf4af4a72f0883">remove_item</a>();  <span class="comment">// This also takes off the item from whoever wears it.</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="classitem__location.html#a4d1a7b5bc343f8771751142b294ef84e">item_location</a>( ch, inv );</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>            }</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        }</div>
<div class="ttc" id="aclassCharacter_html_a50ca774a69b5d6e12f7fba07434d9b35"><div class="ttname"><a href="classCharacter.html#a50ca774a69b5d6e12f7fba07434d9b35">Character::get_item_position</a></div><div class="ttdeci">int get_item_position(const item *it) const</div><div class="ttdoc">Returns the item position (suitable for i_at or similar) of a specific item.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02407">character.cpp:2407</a></div></div>
<div class="ttc" id="aclassCharacter_html_a611bd51d6d4fa9c119787f2fbc6bdd52"><div class="ttname"><a href="classCharacter.html#a611bd51d6d4fa9c119787f2fbc6bdd52">Character::i_add</a></div><div class="ttdeci">item &amp; i_add(item it, bool should_stack=true)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02321">character.cpp:2321</a></div></div>
<div class="ttc" id="aclassCharacter_html_a654ed96afe759517e0bf1a31c7a3ea11"><div class="ttname"><a href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">Character::i_at</a></div><div class="ttdeci">item &amp; i_at(int position)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02402">character.cpp:2402</a></div></div>
<div class="ttc" id="aclassCreature_html_a891bc2d0c564449cb462178317819254"><div class="ttname"><a href="classCreature.html#a891bc2d0c564449cb462178317819254">Creature::mod_moves</a></div><div class="ttdeci">void mod_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01408">creature.cpp:1408</a></div></div>
<div class="ttc" id="aclassitem__location_1_1impl_1_1item__on__person_html_a8d15c1d0d24eb9cf6fbf4af4a72f0883"><div class="ttname"><a href="classitem__location_1_1impl_1_1item__on__person.html#a8d15c1d0d24eb9cf6fbf4af4a72f0883">item_location::impl::item_on_person::remove_item</a></div><div class="ttdeci">void remove_item() override</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00396">item_location.cpp:396</a></div></div>
<div class="ttc" id="aclassitem__location_1_1impl_1_1item__on__person_html_ae4ad7b09eb6ecea1396fd9d8d54fe3ae"><div class="ttname"><a href="classitem__location_1_1impl_1_1item__on__person.html#ae4ad7b09eb6ecea1396fd9d8d54fe3ae">item_location::impl::item_on_person::obtain_cost</a></div><div class="ttdeci">int obtain_cost(const Character &amp;ch, int qty) const override</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00345">item_location.cpp:345</a></div></div>
<div class="ttc" id="aclassitem__location_1_1impl_html_a26d63e8292a06203ed9bbc517395e859"><div class="ttname"><a href="classitem__location_1_1impl.html#a26d63e8292a06203ed9bbc517395e859">item_location::impl::should_stack</a></div><div class="ttdeci">bool should_stack</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00118">item_location.cpp:118</a></div></div>
<div class="ttc" id="aclassitem__location_html_a4d1a7b5bc343f8771751142b294ef84e"><div class="ttname"><a href="classitem__location.html#a4d1a7b5bc343f8771751142b294ef84e">item_location::item_location</a></div><div class="ttdeci">item_location()</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00624">item_location.cpp:624</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00176">item.h:177</a></div></div>
<div class="ttc" id="aclassitem_html_a3c47a272ada88bc7d3d31a6a4b8a672c"><div class="ttname"><a href="classitem.html#a3c47a272ada88bc7d3d31a6a4b8a672c">item::split</a></div><div class="ttdeci">item split(int qty)</div><div class="ttdoc">Splits a count-by-charges item always leaving source item with minimum of 1 charge.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00721">item.cpp:721</a></div></div>
<div class="ttc" id="aclassitem_html_a4d5555082454b3cb192f59a70838c891"><div class="ttname"><a href="classitem.html#a4d5555082454b3cb192f59a70838c891">item::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00732">item.cpp:732</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="character_8cpp_source.html#l02407">Character::get_item_position()</a>, <a class="el" href="character_8cpp_source.html#l02321">Character::i_add()</a>, <a class="el" href="character_8cpp_source.html#l02402">Character::i_at()</a>, <a class="el" href="item_8cpp_source.html#l00732">item::is_null()</a>, <a class="el" href="item__location_8cpp_source.html#l00624">item_location::item_location()</a>, <a class="el" href="creature_8cpp_source.html#l01408">Creature::mod_moves()</a>, <a class="el" href="item__location_8cpp_source.html#l00345">obtain_cost()</a>, <a class="el" href="item__location_8cpp_source.html#l00396">remove_item()</a>, <a class="el" href="item__location_8cpp_source.html#l00118">item_location::impl::should_stack</a>, <a class="el" href="item_8cpp_source.html#l00721">item::split()</a>, and <a class="el" href="item__location_8cpp_source.html#l00091">item_location::impl::target()</a>.</p>

</div>
</div>
<a id="ae4ad7b09eb6ecea1396fd9d8d54fe3ae" name="ae4ad7b09eb6ecea1396fd9d8d54fe3ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4ad7b09eb6ecea1396fd9d8d54fe3ae">&#9670;&nbsp;</a></span>obtain_cost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int item_location::impl::item_on_person::obtain_cost </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classitem__location_1_1impl.html#adbd52f96eac50626b09f7789d4107d59">item_location::impl</a>.</p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00345">345</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>                                                                       {</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem__location_1_1impl.html#ae22b11deba202089fd65448e09201aa0">target</a>() || !<a class="code hl_function" href="classitem__location_1_1impl_1_1item__on__person.html#a7afbd5778ab5f4b933a28c4879f30b33">ensure_who_unpacked</a>() ) {</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>            }</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span> </div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>            <span class="keywordtype">int</span> mv = 0;</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span> </div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>            <a class="code hl_class" href="classitem.html">item</a> obj = *<a class="code hl_function" href="classitem__location_1_1impl.html#ae22b11deba202089fd65448e09201aa0">target</a>();</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>            obj = obj.<a class="code hl_function" href="classitem.html#a3c47a272ada88bc7d3d31a6a4b8a672c">split</a>( qty );</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>            <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>                obj = *<a class="code hl_function" href="classitem__location_1_1impl.html#ae22b11deba202089fd65448e09201aa0">target</a>();</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>            }</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span> </div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>-&gt;<a class="code hl_function" href="classCharacter.html#ad79464264cb8a2061f5888d092f5cd86">is_armed</a>() &amp;&amp; &amp;<a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>-&gt;<a class="code hl_variable" href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">weapon</a> == <a class="code hl_function" href="classitem__location_1_1impl.html#ae22b11deba202089fd65448e09201aa0">target</a>() ) {</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>                <span class="comment">// no penalties because we already have this item in our hands</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>                mv += <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classplayer.html">player</a> *<span class="keyword">&gt;</span>( <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a> )-&gt;item_handling_cost( obj, <span class="keyword">false</span>, 0 );</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>                <span class="keyword">auto</span> parents = <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>-&gt;<a class="code hl_function" href="classvisitable.html#a91f3c0f8e439b0ffda17e613fda94d04">parents</a>( *<a class="code hl_function" href="classitem__location_1_1impl.html#ae22b11deba202089fd65448e09201aa0">target</a>() );</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>                <span class="keywordflow">if</span>( !parents.empty() &amp;&amp; <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>-&gt;<a class="code hl_function" href="classCharacter.html#a4d8d747c469431f530acb05c5f7a7f45">is_worn</a>( *parents.back() ) ) {</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>                    <span class="comment">// if outermost parent item is worn status effects (e.g. GRABBED) are not applied</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>                    <span class="comment">// holsters may also adjust the volume cost factor</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span> </div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>                    <span class="keywordflow">if</span>( parents.back()-&gt;can_holster( obj, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>                        <span class="keyword">auto</span> <a class="code hl_variable" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a> = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classholster__actor.html">holster_actor</a> *<span class="keyword">&gt;</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>                                   ( parents.back()-&gt;type-&gt;get_use( <span class="stringliteral">&quot;holster&quot;</span> )-&gt;get_actor_ptr() );</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>                        mv += <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classplayer.html">player</a> *<span class="keyword">&gt;</span>( <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a> )-&gt;item_handling_cost( obj, <span class="keyword">false</span>, <a class="code hl_variable" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;draw_cost );</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span> </div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( parents.back()-&gt;is_bandolier() ) {</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>                        <span class="keyword">auto</span> <a class="code hl_variable" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a> = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classbandolier__actor.html">bandolier_actor</a> *<span class="keyword">&gt;</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>                                   ( parents.back()-&gt;type-&gt;get_use( <span class="stringliteral">&quot;bandolier&quot;</span> )-&gt;get_actor_ptr() );</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>                        mv += <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classplayer.html">player</a> *<span class="keyword">&gt;</span>( <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a> )-&gt;item_handling_cost( obj, <span class="keyword">false</span>, <a class="code hl_variable" href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">ptr</a>-&gt;draw_cost );</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span> </div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>                        mv += <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classplayer.html">player</a> *<span class="keyword">&gt;</span>( <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a> )-&gt;item_handling_cost( obj, <span class="keyword">false</span>,</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>                                <a class="code hl_variable" href="game__constants_8h.html#aa5931cb2f162c829bae20f0df39ae014">INVENTORY_HANDLING_PENALTY</a> / 2 );</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>                    }</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span> </div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>                    <span class="comment">// it is more expensive to obtain items from the inventory</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>                    <span class="comment">// TODO: calculate cost for searching in inventory proportional to item volume</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>                    mv += <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classplayer.html">player</a> *<span class="keyword">&gt;</span>( <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a> )-&gt;item_handling_cost( obj, <span class="keyword">true</span>, <a class="code hl_variable" href="game__constants_8h.html#aa5931cb2f162c829bae20f0df39ae014">INVENTORY_HANDLING_PENALTY</a> );</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>                }</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>            }</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>            <span class="keywordflow">if</span>( &amp;ch != <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a> ) {</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>                <span class="comment">// TODO: implement movement cost for transferring item between characters</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>            }</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span> </div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>            <span class="keywordflow">return</span> mv;</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>        }</div>
<div class="ttc" id="aclassCharacter_html_ad79464264cb8a2061f5888d092f5cd86"><div class="ttname"><a href="classCharacter.html#ad79464264cb8a2061f5888d092f5cd86">Character::is_armed</a></div><div class="ttdeci">bool is_armed() const</div><div class="ttdoc">Returns true if the character is wielding something.</div><div class="ttdef"><b>Definition:</b> <a href="melee_8cpp_source.html#l00145">melee.cpp:145</a></div></div>
<div class="ttc" id="aclassCharacter_html_ae68b7a6565646ba662e448bded8b6599"><div class="ttname"><a href="classCharacter.html#ae68b7a6565646ba662e448bded8b6599">Character::weapon</a></div><div class="ttdeci">item weapon</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01521">character.h:1521</a></div></div>
<div class="ttc" id="aclassbandolier__actor_html"><div class="ttname"><a href="classbandolier__actor.html">bandolier_actor</a></div><div class="ttdoc">Store ammo and later reload using it.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00884">iuse_actor.h:885</a></div></div>
<div class="ttc" id="aclassholster__actor_html"><div class="ttname"><a href="classholster__actor.html">holster_actor</a></div><div class="ttdoc">Holster a weapon.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00842">iuse_actor.h:843</a></div></div>
<div class="ttc" id="aclassitem__location_html_a62b2b94aee35409e682f16e43952b257"><div class="ttname"><a href="classitem__location.html#a62b2b94aee35409e682f16e43952b257">item_location::ptr</a></div><div class="ttdeci">std::shared_ptr&lt; impl &gt; ptr</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00098">item_location.h:96</a></div></div>
<div class="ttc" id="aclassplayer_html"><div class="ttname"><a href="classplayer.html">player</a></div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00090">player.h:91</a></div></div>
<div class="ttc" id="agame__constants_8h_html_aa5931cb2f162c829bae20f0df39ae014"><div class="ttname"><a href="game__constants_8h.html#aa5931cb2f162c829bae20f0df39ae014">INVENTORY_HANDLING_PENALTY</a></div><div class="ttdeci">static constexpr int INVENTORY_HANDLING_PENALTY</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00070">game_constants.h:70</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8cpp_source.html#l00252">ensure_who_unpacked()</a>, <a class="el" href="game__constants_8h_source.html#l00070">INVENTORY_HANDLING_PENALTY</a>, <a class="el" href="melee_8cpp_source.html#l00145">Character::is_armed()</a>, <a class="el" href="item_8cpp_source.html#l00732">item::is_null()</a>, <a class="el" href="character_8h_source.html#l01082">Character::is_worn()</a>, <a class="el" href="visitable_8cpp_source.html#l00073">visitable&lt; T &gt;::parents()</a>, <a class="el" href="item__location_8h_source.html#l00096">item_location::ptr</a>, <a class="el" href="item_8cpp_source.html#l00721">item::split()</a>, <a class="el" href="item__location_8cpp_source.html#l00091">item_location::impl::target()</a>, <a class="el" href="character_8h_source.html#l01521">Character::weapon</a>, and <a class="el" href="item__location_8cpp_source.html#l00250">who</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__location_8cpp_source.html#l00327">obtain()</a>.</p>

</div>
</div>
<a id="acc04887cfb7aad9ba0e2f4811024d584" name="acc04887cfb7aad9ba0e2f4811024d584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc04887cfb7aad9ba0e2f4811024d584">&#9670;&nbsp;</a></span>position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtripoint.html">tripoint</a> item_location::impl::item_on_person::position </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classitem__location_1_1impl.html#a2811412654baaf3a2933bbaaee305b5d">item_location::impl</a>.</p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00298">298</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>                                           {</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem__location_1_1impl_1_1item__on__person.html#a7afbd5778ab5f4b933a28c4879f30b33">ensure_who_unpacked</a>() ) {</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a>;</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>            }</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>-&gt;<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>();</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>        }</div>
<div class="ttc" id="aclassCharacter_html_ad24859164517ed6e392e21df69527199"><div class="ttname"><a href="classCharacter.html#ad24859164517ed6e392e21df69527199">Character::pos</a></div><div class="ttdeci">const tripoint &amp; pos() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00714">character.cpp:714</a></div></div>
<div class="ttc" id="apoint_8h_html_a4b1a6bcaa42d2c06ecc3afc63305bfdf"><div class="ttname"><a href="point_8h.html#a4b1a6bcaa42d2c06ecc3afc63305bfdf">tripoint_zero</a></div><div class="ttdeci">static constexpr tripoint tripoint_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00273">point.h:273</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8cpp_source.html#l00252">ensure_who_unpacked()</a>, <a class="el" href="character_8cpp_source.html#l00714">Character::pos()</a>, <a class="el" href="point_8h_source.html#l00273">tripoint_zero</a>, and <a class="el" href="item__location_8cpp_source.html#l00250">who</a>.</p>

</div>
</div>
<a id="a8d15c1d0d24eb9cf6fbf4af4a72f0883" name="a8d15c1d0d24eb9cf6fbf4af4a72f0883"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d15c1d0d24eb9cf6fbf4af4a72f0883">&#9670;&nbsp;</a></span>remove_item()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void item_location::impl::item_on_person::remove_item </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classitem__location_1_1impl.html#a7e2f06476a632c8999f057e9846ed375">item_location::impl</a>.</p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00396">396</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>                                    {</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem__location_1_1impl_1_1item__on__person.html#a7afbd5778ab5f4b933a28c4879f30b33">ensure_who_unpacked</a>() ) {</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>            }</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>            <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>-&gt;<a class="code hl_function" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a>( *<a class="code hl_variable" href="classitem__location_1_1impl.html#a9f201860b717fc954b77af03966273c0">what</a> );</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>        }</div>
<div class="ttc" id="aclassvisitable_html_adeb03e3af46e1b106a5f88f112add296"><div class="ttname"><a href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">visitable::remove_item</a></div><div class="ttdeci">item remove_item(item &amp;it)</div><div class="ttdoc">Removes and returns the item which must be contained by this instance.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00563">visitable.cpp:563</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8cpp_source.html#l00252">ensure_who_unpacked()</a>, <a class="el" href="visitable_8cpp_source.html#l00563">visitable&lt; T &gt;::remove_item()</a>, <a class="el" href="item__location_8cpp_source.html#l00111">item_location::impl::what</a>, and <a class="el" href="item__location_8cpp_source.html#l00250">who</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__location_8cpp_source.html#l00327">obtain()</a>.</p>

</div>
</div>
<a id="a00a863ec781e511e12da770b04776f03" name="a00a863ec781e511e12da770b04776f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00a863ec781e511e12da770b04776f03">&#9670;&nbsp;</a></span>serialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void item_location::impl::item_on_person::serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>js</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classitem__location_1_1impl.html#a5426b37af28c5b77417190f81a1e7a04">item_location::impl</a>.</p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00272">272</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>                                                     {</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem__location_1_1impl_1_1item__on__person.html#a7afbd5778ab5f4b933a28c4879f30b33">ensure_who_unpacked</a>() ) {</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>                <span class="comment">// Write an invalid item_location to avoid invalid json</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>                js.<a class="code hl_function" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>                js.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;null&quot;</span> );</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>                js.<a class="code hl_function" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>            }</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>            js.<a class="code hl_function" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>            js.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;type&quot;</span>, <span class="stringliteral">&quot;character&quot;</span> );</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>            js.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;character&quot;</span>, <a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7645512d4f9ef3b476cb69238a3a93cf">who_id</a> );</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>            js.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( <span class="stringliteral">&quot;idx&quot;</span>, <a class="code hl_function" href="item__location_8cpp.html#a165e347b5b79d2be22029ebdfb784e0a">find_index</a>( *<a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>, <a class="code hl_function" href="classitem__location_1_1impl.html#ae22b11deba202089fd65448e09201aa0">target</a>() ) );</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>            js.<a class="code hl_function" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>        }</div>
<div class="ttc" id="aclassJsonOut_html_a4756f9a569adbfc60de127f7c335d82f"><div class="ttname"><a href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">JsonOut::start_object</a></div><div class="ttdeci">void start_object(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01931">json.cpp:1931</a></div></div>
<div class="ttc" id="aclassJsonOut_html_aa38d37840ed6ba168b78a43570e98681"><div class="ttname"><a href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">JsonOut::end_object</a></div><div class="ttdeci">void end_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01942">json.cpp:1942</a></div></div>
<div class="ttc" id="aclassJsonOut_html_adb3c899f0ad7fc4f25cd3357c51a2c42"><div class="ttname"><a href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">JsonOut::member</a></div><div class="ttdeci">void member(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02046">json.cpp:2046</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l01942">JsonOut::end_object()</a>, <a class="el" href="item__location_8cpp_source.html#l00252">ensure_who_unpacked()</a>, <a class="el" href="item__location_8cpp_source.html#l00037">find_index()</a>, <a class="el" href="json_8cpp_source.html#l02046">JsonOut::member()</a>, <a class="el" href="json_8cpp_source.html#l01931">JsonOut::start_object()</a>, <a class="el" href="item__location_8cpp_source.html#l00091">item_location::impl::target()</a>, <a class="el" href="item__location_8cpp_source.html#l00250">who</a>, and <a class="el" href="item__location_8cpp_source.html#l00249">who_id</a>.</p>

</div>
</div>
<a id="aa16f6936feb39e293fbb1eaf5eef22e8" name="aa16f6936feb39e293fbb1eaf5eef22e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa16f6936feb39e293fbb1eaf5eef22e8">&#9670;&nbsp;</a></span>unpack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> * item_location::impl::item_on_person::unpack </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classitem__location_1_1impl.html#a7b366553442120edd8dd54c32a97fa44">item_location::impl</a>.</p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00287">287</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>                                               {</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classitem__location_1_1impl_1_1item__on__person.html#a7afbd5778ab5f4b933a28c4879f30b33">ensure_who_unpacked</a>() ) {</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>                <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>            }</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="item__location_8cpp.html#a2b03b4067e167698e260ef0ddcfaad53">retrieve_index</a>( *<a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>, <a class="code hl_variable" href="classitem__location_1_1impl.html#a89f9e225e25859b7353c88e7652ecc6d">idx</a> );</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        }</div>
<div class="ttc" id="aitem__location_8cpp_html_a2b03b4067e167698e260ef0ddcfaad53"><div class="ttname"><a href="item__location_8cpp.html#a2b03b4067e167698e260ef0ddcfaad53">retrieve_index</a></div><div class="ttdeci">static item * retrieve_index(const T &amp;sel, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00051">item_location.cpp:51</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8cpp_source.html#l00252">ensure_who_unpacked()</a>, <a class="el" href="item__location_8cpp_source.html#l00112">item_location::impl::idx</a>, <a class="el" href="item__location_8cpp_source.html#l00051">retrieve_index()</a>, and <a class="el" href="item__location_8cpp_source.html#l00250">who</a>.</p>

</div>
</div>
<a id="ad7502956b050cf9f5169b1221f0c105c" name="ad7502956b050cf9f5169b1221f0c105c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7502956b050cf9f5169b1221f0c105c">&#9670;&nbsp;</a></span>valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool item_location::impl::item_on_person::valid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classitem__location_1_1impl.html#a69076952d3b358195ef89f827f00a143">item_location::impl</a>.</p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00403">403</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>                                    {</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>            <a class="code hl_function" href="classitem__location_1_1impl_1_1item__on__person.html#a7afbd5778ab5f4b933a28c4879f30b33">ensure_who_unpacked</a>();</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>            <a class="code hl_function" href="classitem__location_1_1impl.html#a724aec56608c504a254ee43ac26c99e8">ensure_unpacked</a>();</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>            <span class="keywordflow">return</span> !!<a class="code hl_variable" href="classitem__location_1_1impl.html#a9f201860b717fc954b77af03966273c0">what</a> &amp;&amp; !!<a class="code hl_variable" href="classitem__location_1_1impl_1_1item__on__person.html#a7f6570007e8fe0bb7a65b377aa85bdc6">who</a>;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>        }</div>
<div class="ttc" id="aclassitem__location_1_1impl_html_a724aec56608c504a254ee43ac26c99e8"><div class="ttname"><a href="classitem__location_1_1impl.html#a724aec56608c504a254ee43ac26c99e8">item_location::impl::ensure_unpacked</a></div><div class="ttdeci">void ensure_unpacked() const</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00101">item_location.cpp:101</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__location_8cpp_source.html#l00101">item_location::impl::ensure_unpacked()</a>, <a class="el" href="item__location_8cpp_source.html#l00252">ensure_who_unpacked()</a>, <a class="el" href="item__location_8cpp_source.html#l00111">item_location::impl::what</a>, and <a class="el" href="item__location_8cpp_source.html#l00250">who</a>.</p>

</div>
</div>
<a id="a627fb943712e7f9548db0c9b2237fde7" name="a627fb943712e7f9548db0c9b2237fde7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a627fb943712e7f9548db0c9b2237fde7">&#9670;&nbsp;</a></span>where()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888d">type</a> item_location::impl::item_on_person::where </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classitem__location_1_1impl.html#a49278916fa16fb0fa7d063d40c4d19b2">item_location::impl</a>.</p>

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00294">294</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>                                    {</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888daa956161a69928cd130a889b88082fb6e">type::character</a>;</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        }</div>
<div class="ttc" id="aclassitem__location_html_a038e108475b9fb4f9833268f5fa2888daa956161a69928cd130a889b88082fb6e"><div class="ttname"><a href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888daa956161a69928cd130a889b88082fb6e">item_location::type::character</a></div><div class="ttdeci">@ character</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classitem__location.html#a038e108475b9fb4f9833268f5fa2888daa956161a69928cd130a889b88082fb6e">item_location::character</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7f6570007e8fe0bb7a65b377aa85bdc6" name="a7f6570007e8fe0bb7a65b377aa85bdc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f6570007e8fe0bb7a65b377aa85bdc6">&#9670;&nbsp;</a></span>who</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCharacter.html">Character</a>* item_location::impl::item_on_person::who</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00250">250</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__location_8cpp_source.html#l00305">describe()</a>, <a class="el" href="item__location_8cpp_source.html#l00252">ensure_who_unpacked()</a>, <a class="el" href="item__location_8cpp_source.html#l00265">item_on_person()</a>, <a class="el" href="item__location_8cpp_source.html#l00409">make_dirty()</a>, <a class="el" href="item__location_8cpp_source.html#l00345">obtain_cost()</a>, <a class="el" href="item__location_8cpp_source.html#l00298">position()</a>, <a class="el" href="item__location_8cpp_source.html#l00396">remove_item()</a>, <a class="el" href="item__location_8cpp_source.html#l00272">serialize()</a>, <a class="el" href="item__location_8cpp_source.html#l00287">unpack()</a>, and <a class="el" href="item__location_8cpp_source.html#l00403">valid()</a>.</p>

</div>
</div>
<a id="a7645512d4f9ef3b476cb69238a3a93cf" name="a7645512d4f9ef3b476cb69238a3a93cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7645512d4f9ef3b476cb69238a3a93cf">&#9670;&nbsp;</a></span>who_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcharacter__id.html">character_id</a> item_location::impl::item_on_person::who_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="item__location_8cpp_source.html#l00249">249</a> of file <a class="el" href="item__location_8cpp_source.html">item_location.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__location_8cpp_source.html#l00252">ensure_who_unpacked()</a>, <a class="el" href="item__location_8cpp_source.html#l00265">item_on_person()</a>, and <a class="el" href="item__location_8cpp_source.html#l00272">serialize()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="item__location_8cpp_source.html">item_location.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classitem__location.html">item_location</a></li><li class="navelem"><a class="el" href="classitem__location_1_1impl.html">impl</a></li><li class="navelem"><a class="el" href="classitem__location_1_1impl_1_1item__on__person.html">item_on_person</a></li>
    <li class="footer">Generated on Sat Nov 19 2022 16:34:15 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
