<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: construct Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespaceconstruct.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">construct Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac4566ee40eb51023fc15b0f21a120524"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#ac4566ee40eb51023fc15b0f21a120524">check_nothing</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ac4566ee40eb51023fc15b0f21a120524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7bfa81b1b783dbe606e8e1ae270cb2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a5c7bfa81b1b783dbe606e8e1ae270cb2">check_empty</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a5c7bfa81b1b783dbe606e8e1ae270cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf73ee06612e17a7462faf763b99340b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#adf73ee06612e17a7462faf763b99340b">check_support</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:adf73ee06612e17a7462faf763b99340b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab766b3ccf112cd42fc53c5fbf71c5562"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#ab766b3ccf112cd42fc53c5fbf71c5562">check_deconstruct</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ab766b3ccf112cd42fc53c5fbf71c5562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e2634d318be5dc50bdb38f4b30f726f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a8e2634d318be5dc50bdb38f4b30f726f">check_empty_up_OK</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a8e2634d318be5dc50bdb38f4b30f726f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a0e7836daca0326f3833f371a5ccb4b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a8a0e7836daca0326f3833f371a5ccb4b">check_up_OK</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a8a0e7836daca0326f3833f371a5ccb4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aa28fd1a374c1fe7e9d9b70d3b1deee"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a0aa28fd1a374c1fe7e9d9b70d3b1deee">check_down_OK</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a0aa28fd1a374c1fe7e9d9b70d3b1deee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a067fa17ebfe14fea8e561056651e010f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a067fa17ebfe14fea8e561056651e010f">check_no_trap</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a067fa17ebfe14fea8e561056651e010f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb00f0d89830aff9fd97f91ada1300b3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#aeb00f0d89830aff9fd97f91ada1300b3">check_ramp_low</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aeb00f0d89830aff9fd97f91ada1300b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b8cdaae5a7bd8bcae16e4670b729896"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a6b8cdaae5a7bd8bcae16e4670b729896">check_ramp_high</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a6b8cdaae5a7bd8bcae16e4670b729896"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d30fe69b443412099d62a4266c301cd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a7d30fe69b443412099d62a4266c301cd">done_nothing</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a7d30fe69b443412099d62a4266c301cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3dd03956437e4b63566edc5eabae764"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#ab3dd03956437e4b63566edc5eabae764">done_trunk_plank</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ab3dd03956437e4b63566edc5eabae764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5fd6118bb3c17952b4c627f874110e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#ae5fd6118bb3c17952b4c627f874110e7">done_grave</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ae5fd6118bb3c17952b4c627f874110e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11e9996c384118b3064e857cb92a07fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a11e9996c384118b3064e857cb92a07fc">done_vehicle</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a11e9996c384118b3064e857cb92a07fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe358a124d19d6d896a0847a0d144b8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#abe358a124d19d6d896a0847a0d144b8a">done_deconstruct</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:abe358a124d19d6d896a0847a0d144b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e80d6a986bb9615dffb53d314877c32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a5e80d6a986bb9615dffb53d314877c32">done_digormine_stair</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;, bool)</td></tr>
<tr class="separator:a5e80d6a986bb9615dffb53d314877c32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99e528edd32dbe81c6e1ee6020e999f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a99e528edd32dbe81c6e1ee6020e999f9">done_dig_stair</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a99e528edd32dbe81c6e1ee6020e999f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6344742dfa82e029339c042417543a08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a6344742dfa82e029339c042417543a08">done_mine_downstair</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a6344742dfa82e029339c042417543a08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a446333b88551276d93d829889ab68e56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a446333b88551276d93d829889ab68e56">done_mine_upstair</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a446333b88551276d93d829889ab68e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba920f8a721ecabf9bd8f686130f5cba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#aba920f8a721ecabf9bd8f686130f5cba">done_wood_stairs</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aba920f8a721ecabf9bd8f686130f5cba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa842c3279cf6e8002c7bcce3d25fba1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#aa842c3279cf6e8002c7bcce3d25fba1f">done_window_curtains</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:aa842c3279cf6e8002c7bcce3d25fba1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d5100ccb1ee1f1ed136152a443d4f5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a9d5100ccb1ee1f1ed136152a443d4f5c">done_extract_maybe_revert_to_dirt</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a9d5100ccb1ee1f1ed136152a443d4f5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a81ee10bb74d8b3ee300f0818c9ef25"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a2a81ee10bb74d8b3ee300f0818c9ef25">done_mark_firewood</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a2a81ee10bb74d8b3ee300f0818c9ef25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42ac155b3988c1f9720490081e9ce565"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a42ac155b3988c1f9720490081e9ce565">done_mark_practice_target</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a42ac155b3988c1f9720490081e9ce565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42d99887873ac43e3ca65cf5af11cef1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a42d99887873ac43e3ca65cf5af11cef1">done_ramp_low</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a42d99887873ac43e3ca65cf5af11cef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade5b31bf6336ce398b70ede09e5afb27"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#ade5b31bf6336ce398b70ede09e5afb27">done_ramp_high</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:ade5b31bf6336ce398b70ede09e5afb27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb480b49f58f61f644b83d16a57e2af4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#adb480b49f58f61f644b83d16a57e2af4">failure_standard</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:adb480b49f58f61f644b83d16a57e2af4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a473edc35bfa20fa0558660a1c50391"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceconstruct.html#a5a473edc35bfa20fa0558660a1c50391">failure_deconstruct</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;)</td></tr>
<tr class="separator:a5a473edc35bfa20fa0558660a1c50391"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab766b3ccf112cd42fc53c5fbf71c5562" name="ab766b3ccf112cd42fc53c5fbf71c5562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab766b3ccf112cd42fc53c5fbf71c5562">&#9670;&nbsp;</a></span>check_deconstruct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_deconstruct </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01221">1221</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>{</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>    <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#a00008f407a53edc2445622618d7ed071">has_furn</a>( p.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() ) ) {</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>        <span class="keywordflow">return</span> here.<a class="code hl_function" href="classmap.html#af55e014aab791bbe4c8630361c1311dd">furn</a>( p.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() ).<a class="code hl_function" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_variable" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code hl_variable" href="structmap__deconstruct__info.html#acc3374a5eef731288660e91285b5a920">can_do</a>;</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>    }</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>    <span class="comment">// terrain can only be deconstructed when there is no furniture in the way</span></div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>    <span class="keywordflow">return</span> here.<a class="code hl_function" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() ).<a class="code hl_function" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_variable" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code hl_variable" href="structmap__deconstruct__info.html#acc3374a5eef731288660e91285b5a920">can_do</a>;</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>}</div>
<div class="ttc" id="aclassint__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">int_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00026">ammo_effect.cpp:26</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00383">map.h:384</a></div></div>
<div class="ttc" id="aclassmap_html_a00008f407a53edc2445622618d7ed071"><div class="ttname"><a href="classmap.html#a00008f407a53edc2445622618d7ed071">map::has_furn</a></div><div class="ttdeci">bool has_furn(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01343">map.cpp:1343</a></div></div>
<div class="ttc" id="aclassmap_html_aba8f330c2cc25be0652489b42d8dd530"><div class="ttname"><a href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">map::ter</a></div><div class="ttdeci">ter_id ter(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01498">map.cpp:1498</a></div></div>
<div class="ttc" id="aclassmap_html_af55e014aab791bbe4c8630361c1311dd"><div class="ttname"><a href="classmap.html#af55e014aab791bbe4c8630361c1311dd">map::furn</a></div><div class="ttdeci">furn_id furn(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01348">map.cpp:1348</a></div></div>
<div class="ttc" id="amap_8cpp_html_acb0b34be6e497bdd2f9f40ae6929d562"><div class="ttname"><a href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00146">map.cpp:146</a></div></div>
<div class="ttc" id="astructmap__data__common__t_html_a01b48c24a4af4af4060c8e461b5df580"><div class="ttname"><a href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">map_data_common_t::deconstruct</a></div><div class="ttdeci">map_deconstruct_info deconstruct</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00347">mapdata.h:347</a></div></div>
<div class="ttc" id="astructmap__deconstruct__info_html_acc3374a5eef731288660e91285b5a920"><div class="ttname"><a href="structmap__deconstruct__info.html#acc3374a5eef731288660e91285b5a920">map_deconstruct_info::can_do</a></div><div class="ttdeci">bool can_do</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00117">mapdata.h:117</a></div></div>
<div class="ttc" id="astructtripoint_html_accc0725c936dbebb2486f969f39e2e5f"><div class="ttname"><a href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">tripoint::xy</a></div><div class="ttdeci">constexpr point xy() const</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00220">point.h:220</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="mapdata_8h_source.html#l00117">map_deconstruct_info::can_do</a>, <a class="el" href="mapdata_8h_source.html#l00347">map_data_common_t::deconstruct</a>, <a class="el" href="map_8cpp_source.html#l01348">map::furn()</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="map_8cpp_source.html#l01343">map::has_furn()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00026">int_id&lt; T &gt;::obj()</a>, <a class="el" href="map_8cpp_source.html#l01498">map::ter()</a>, and <a class="el" href="point_8h_source.html#l00220">tripoint::xy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="a0aa28fd1a374c1fe7e9d9b70d3b1deee" name="a0aa28fd1a374c1fe7e9d9b70d3b1deee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aa28fd1a374c1fe7e9d9b70d3b1deee">&#9670;&nbsp;</a></span>check_down_OK()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_down_OK </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01242">1242</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>{</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>    <span class="comment">// You&#39;re not going below -OVERMAP_DEPTH.</span></div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>    <span class="keywordflow">return</span> ( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_levz() &gt; -<a class="code hl_variable" href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a> );</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>}</div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00276">game.cpp:276</a></div></div>
<div class="ttc" id="agame__constants_8h_html_aad0eacfa516a8f7e005674027d7640fe"><div class="ttname"><a href="game__constants_8h.html#aad0eacfa516a8f7e005674027d7640fe">OVERMAP_DEPTH</a></div><div class="ttdeci">static constexpr int OVERMAP_DEPTH</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00060">game_constants.h:60</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00276">g</a>, and <a class="el" href="game__constants_8h_source.html#l00060">OVERMAP_DEPTH</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="a5c7bfa81b1b783dbe606e8e1ae270cb2" name="a5c7bfa81b1b783dbe606e8e1ae270cb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c7bfa81b1b783dbe606e8e1ae270cb2">&#9670;&nbsp;</a></span>check_empty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_empty </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01187">1187</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>{</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>    <span class="keywordflow">return</span> ( here.<a class="code hl_function" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code hl_function" href="construction_8cpp.html#a35073da0fb672bbbfd010ed8ac5fae50">flag_FLAT</a>, p ) &amp;&amp; !here.<a class="code hl_function" href="classmap.html#a00008f407a53edc2445622618d7ed071">has_furn</a>( p ) &amp;&amp;</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>             <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;is_empty( p ) &amp;&amp; here.<a class="code hl_function" href="classmap.html#a30ccb67ed3651d350f2caf214e0b5176">tr_at</a>( p ).<a class="code hl_function" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>() &amp;&amp;</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>             here.<a class="code hl_function" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( p ).<a class="code hl_function" href="classitem__stack.html#a83fd3bd296c75326b3709280804acef4">empty</a>() &amp;&amp; !here.<a class="code hl_function" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( p ) );</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>}</div>
<div class="ttc" id="aclassitem__stack_html_a83fd3bd296c75326b3709280804acef4"><div class="ttname"><a href="classitem__stack.html#a83fd3bd296c75326b3709280804acef4">item_stack::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00015">item_stack.cpp:15</a></div></div>
<div class="ttc" id="aclassmap_html_a27e22f0999ea03eff18babc48643c568"><div class="ttname"><a href="classmap.html#a27e22f0999ea03eff18babc48643c568">map::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02293">map.cpp:2293</a></div></div>
<div class="ttc" id="aclassmap_html_a30ccb67ed3651d350f2caf214e0b5176"><div class="ttname"><a href="classmap.html#a30ccb67ed3651d350f2caf214e0b5176">map::tr_at</a></div><div class="ttdeci">const trap &amp; tr_at(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05139">map.cpp:5139</a></div></div>
<div class="ttc" id="aclassmap_html_a5130a127601b67e569eaef37a1a88610"><div class="ttname"><a href="classmap.html#a5130a127601b67e569eaef37a1a88610">map::i_at</a></div><div class="ttdeci">map_stack i_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04090">map.cpp:4090</a></div></div>
<div class="ttc" id="aclassmap_html_aa487d96256c3d35db7a1bf273156b64a"><div class="ttname"><a href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">map::veh_at</a></div><div class="ttdeci">optional_vpart_position veh_at(const tripoint &amp;p) const</div><div class="ttdoc">Checks if tile is occupied by vehicle and by which part.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01009">map.cpp:1009</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_a35073da0fb672bbbfd010ed8ac5fae50"><div class="ttname"><a href="construction_8cpp.html#a35073da0fb672bbbfd010ed8ac5fae50">flag_FLAT</a></div><div class="ttdeci">static const std::string flag_FLAT(&quot;FLAT&quot;)</div></div>
<div class="ttc" id="astructtrap_html_a6a9ac96c5c81eb31093e049ffeac8b4f"><div class="ttname"><a href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">trap::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Whether this is the null-traps, aka no trap at all.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00245">trap.cpp:245</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item__stack_8cpp_source.html#l00015">item_stack::empty()</a>, <a class="el" href="construction_8cpp.html#a35073da0fb672bbbfd010ed8ac5fae50">flag_FLAT()</a>, <a class="el" href="game_8cpp_source.html#l00276">g</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="map_8cpp_source.html#l02293">map::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l01343">map::has_furn()</a>, <a class="el" href="map_8cpp_source.html#l04090">map::i_at()</a>, <a class="el" href="trap_8cpp_source.html#l00245">trap::is_null()</a>, <a class="el" href="map_8cpp_source.html#l05139">map::tr_at()</a>, and <a class="el" href="map_8cpp_source.html#l01009">map::veh_at()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01231">check_empty_up_OK()</a>, and <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="a8e2634d318be5dc50bdb38f4b30f726f" name="a8e2634d318be5dc50bdb38f4b30f726f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e2634d318be5dc50bdb38f4b30f726f">&#9670;&nbsp;</a></span>check_empty_up_OK()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_empty_up_OK </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01231">1231</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>{</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespaceconstruct.html#a5c7bfa81b1b783dbe606e8e1ae270cb2">check_empty</a>( p ) &amp;&amp; <a class="code hl_function" href="namespaceconstruct.html#a8a0e7836daca0326f3833f371a5ccb4b">check_up_OK</a>( p );</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>}</div>
<div class="ttc" id="anamespaceconstruct_html_a5c7bfa81b1b783dbe606e8e1ae270cb2"><div class="ttname"><a href="namespaceconstruct.html#a5c7bfa81b1b783dbe606e8e1ae270cb2">construct::check_empty</a></div><div class="ttdeci">bool check_empty(const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cpp_source.html#l01187">construction.cpp:1187</a></div></div>
<div class="ttc" id="anamespaceconstruct_html_a8a0e7836daca0326f3833f371a5ccb4b"><div class="ttname"><a href="namespaceconstruct.html#a8a0e7836daca0326f3833f371a5ccb4b">construct::check_up_OK</a></div><div class="ttdeci">bool check_up_OK(const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cpp_source.html#l01236">construction.cpp:1236</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="construction_8cpp_source.html#l01187">check_empty()</a>, and <a class="el" href="construction_8cpp_source.html#l01236">check_up_OK()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="a067fa17ebfe14fea8e561056651e010f" name="a067fa17ebfe14fea8e561056651e010f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a067fa17ebfe14fea8e561056651e010f">&#9670;&nbsp;</a></span>check_no_trap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_no_trap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01248">1248</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>{</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().<a class="code hl_function" href="classmap.html#a30ccb67ed3651d350f2caf214e0b5176">tr_at</a>( p ).<a class="code hl_function" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>();</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="trap_8cpp_source.html#l00245">trap::is_null()</a>, and <a class="el" href="map_8cpp_source.html#l05139">map::tr_at()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="ac4566ee40eb51023fc15b0f21a120524" name="ac4566ee40eb51023fc15b0f21a120524"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4566ee40eb51023fc15b0f21a120524">&#9670;&nbsp;</a></span>check_nothing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_nothing </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01182">1182</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>{</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="a6b8cdaae5a7bd8bcae16e4670b729896" name="a6b8cdaae5a7bd8bcae16e4670b729896"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b8cdaae5a7bd8bcae16e4670b729896">&#9670;&nbsp;</a></span>check_ramp_high()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_ramp_high </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01253">1253</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>{</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="namespaceconstruct.html#a8a0e7836daca0326f3833f371a5ccb4b">check_up_OK</a>( p ) &amp;&amp; <a class="code hl_function" href="namespaceconstruct.html#a8a0e7836daca0326f3833f371a5ccb4b">check_up_OK</a>( p + <a class="code hl_variable" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a> ) ) {</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;car_d : <a class="code hl_variable" href="point_8h.html#a7e55b593cf990cd4c6afb92cf74373cd">four_cardinal_directions</a> ) {</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>            <span class="comment">// check adjacent points on the z-level above for a completed down ramp</span></div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().has_flag( <a class="code hl_enumvalue" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258aea455dd59bde4d5560357c2f1de5bd8a">TFLAG_RAMP_DOWN</a>, p + car_d + <a class="code hl_variable" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a> ) ) {</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>            }</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>        }</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>    }</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>}</div>
<div class="ttc" id="amapdata_8h_html_aa04d037303ea30193f7cf0cd82304258aea455dd59bde4d5560357c2f1de5bd8a"><div class="ttname"><a href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258aea455dd59bde4d5560357c2f1de5bd8a">TFLAG_RAMP_DOWN</a></div><div class="ttdeci">@ TFLAG_RAMP_DOWN</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00312">mapdata.h:312</a></div></div>
<div class="ttc" id="apoint_8h_html_a7e55b593cf990cd4c6afb92cf74373cd"><div class="ttname"><a href="point_8h.html#a7e55b593cf990cd4c6afb92cf74373cd">four_cardinal_directions</a></div><div class="ttdeci">static constexpr std::array&lt; point, 4 &gt; four_cardinal_directions</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00380">point.h:380</a></div></div>
<div class="ttc" id="apoint_8h_html_aff85224e35f4fc5c8ac34e20a1007c4c"><div class="ttname"><a href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a></div><div class="ttdeci">static constexpr tripoint tripoint_above</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00294">point.h:294</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00035">point.h:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="construction_8cpp_source.html#l01236">check_up_OK()</a>, <a class="el" href="point_8h_source.html#l00380">four_cardinal_directions</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="mapdata_8h_source.html#l00312">TFLAG_RAMP_DOWN</a>, and <a class="el" href="point_8h_source.html#l00294">tripoint_above</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="aeb00f0d89830aff9fd97f91ada1300b3" name="aeb00f0d89830aff9fd97f91ada1300b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb00f0d89830aff9fd97f91ada1300b3">&#9670;&nbsp;</a></span>check_ramp_low()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_ramp_low </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01266">1266</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>{</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespaceconstruct.html#a8a0e7836daca0326f3833f371a5ccb4b">check_up_OK</a>( p ) &amp;&amp; <a class="code hl_function" href="namespaceconstruct.html#a8a0e7836daca0326f3833f371a5ccb4b">check_up_OK</a>( p + <a class="code hl_variable" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a> );</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="construction_8cpp_source.html#l01236">check_up_OK()</a>, and <a class="el" href="point_8h_source.html#l00294">tripoint_above</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="adf73ee06612e17a7462faf763b99340b" name="adf73ee06612e17a7462faf763b99340b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf73ee06612e17a7462faf763b99340b">&#9670;&nbsp;</a></span>check_support()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_support </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01205">1205</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>{</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>    <span class="comment">// need two or more orthogonally adjacent supports</span></div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>    <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">impassable</a>( p ) ) {</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>    }</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>    <span class="keywordtype">int</span> num_supports = 0;</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;nb : <a class="code hl_function" href="construction_8cpp.html#a40adc25fe6697b7d2c3f30e1c5ae2797">get_orthogonal_neighbors</a>( p ) ) {</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>        <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code hl_function" href="construction_8cpp.html#a12a041e8a1b530882a6108dbf96b3b55">flag_SUPPORTS_ROOF</a>, nb ) ) {</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>            num_supports++;</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>        }</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>    }</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>    <span class="keywordflow">return</span> num_supports &gt;= 2;</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>}</div>
<div class="ttc" id="aclassmap_html_a802cc11379d4be61f4e2b13a50f6390e"><div class="ttname"><a href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">map::impassable</a></div><div class="ttdeci">bool impassable(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01795">map.cpp:1795</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_a12a041e8a1b530882a6108dbf96b3b55"><div class="ttname"><a href="construction_8cpp.html#a12a041e8a1b530882a6108dbf96b3b55">flag_SUPPORTS_ROOF</a></div><div class="ttdeci">static const std::string flag_SUPPORTS_ROOF(&quot;SUPPORTS_ROOF&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a40adc25fe6697b7d2c3f30e1c5ae2797"><div class="ttname"><a href="construction_8cpp.html#a40adc25fe6697b7d2c3f30e1c5ae2797">get_orthogonal_neighbors</a></div><div class="ttdeci">std::array&lt; tripoint, 4 &gt; get_orthogonal_neighbors(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cpp_source.html#l01195">construction.cpp:1195</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00147">point.h:147</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="construction_8cpp.html#a12a041e8a1b530882a6108dbf96b3b55">flag_SUPPORTS_ROOF()</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="construction_8cpp_source.html#l01195">get_orthogonal_neighbors()</a>, <a class="el" href="map_8cpp_source.html#l02293">map::has_flag()</a>, and <a class="el" href="map_8cpp_source.html#l01795">map::impassable()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="a8a0e7836daca0326f3833f371a5ccb4b" name="a8a0e7836daca0326f3833f371a5ccb4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a0e7836daca0326f3833f371a5ccb4b">&#9670;&nbsp;</a></span>check_up_OK()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool construct::check_up_OK </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01236">1236</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>{</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>    <span class="comment">// You&#39;re not going above +OVERMAP_HEIGHT.</span></div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>    <span class="keywordflow">return</span> ( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_levz() &lt; <a class="code hl_variable" href="game__constants_8h.html#a3984a9476d1edc78e4e7b886a08d4d4b">OVERMAP_HEIGHT</a> );</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>}</div>
<div class="ttc" id="agame__constants_8h_html_a3984a9476d1edc78e4e7b886a08d4d4b"><div class="ttname"><a href="game__constants_8h.html#a3984a9476d1edc78e4e7b886a08d4d4b">OVERMAP_HEIGHT</a></div><div class="ttdeci">static constexpr int OVERMAP_HEIGHT</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00062">game_constants.h:62</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="game_8cpp_source.html#l00276">g</a>, and <a class="el" href="game__constants_8h_source.html#l00062">OVERMAP_HEIGHT</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01231">check_empty_up_OK()</a>, <a class="el" href="construction_8cpp_source.html#l01253">check_ramp_high()</a>, <a class="el" href="construction_8cpp_source.html#l01266">check_ramp_low()</a>, and <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="abe358a124d19d6d896a0847a0d144b8a" name="abe358a124d19d6d896a0847a0d144b8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe358a124d19d6d896a0847a0d144b8a">&#9670;&nbsp;</a></span>done_deconstruct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_deconstruct </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01375">1375</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>{</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>    <span class="comment">// TODO: Make this the argument</span></div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>    <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#a00008f407a53edc2445622618d7ed071">has_furn</a>( p ) ) {</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structfurn__t.html">furn_t</a> &amp;f = here.<a class="code hl_function" href="classmap.html#af55e014aab791bbe4c8630361c1311dd">furn</a>( p ).<a class="code hl_function" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>        <span class="keywordflow">if</span>( !f.<a class="code hl_variable" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code hl_variable" href="structmap__deconstruct__info.html#acc3374a5eef731288660e91285b5a920">can_do</a> ) {</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That %s can not be disassembled!&quot;</span> ), f.<a class="code hl_function" href="structmap__data__common__t.html#a1e749bfdff8adff5829dc013dcac0cc1">name</a>() );</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>        }</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>        <span class="keywordflow">if</span>( f.<a class="code hl_variable" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code hl_variable" href="structmap__deconstruct__info.html#ad91e2d4d5d8b4889587681bcc4e8a390">furn_set</a>.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>().empty() ) {</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>            here.<a class="code hl_function" href="classmap.html#abf6455d82007aa379f4de85aea2f923f">furn_set</a>( p, <a class="code hl_variable" href="mapdata_8cpp.html#a98423a935af4b918d68f206e63f6cf7f">f_null</a> );</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>            here.<a class="code hl_function" href="classmap.html#abf6455d82007aa379f4de85aea2f923f">furn_set</a>( p, f.<a class="code hl_variable" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code hl_variable" href="structmap__deconstruct__info.html#ad91e2d4d5d8b4889587681bcc4e8a390">furn_set</a> );</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>        }</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s is disassembled.&quot;</span> ), f.<a class="code hl_function" href="structmap__data__common__t.html#a1e749bfdff8adff5829dc013dcac0cc1">name</a>() );</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>        here.<a class="code hl_function" href="classmap.html#a4648afd5a1ecdebba3dc5c5068363f8e">spawn_items</a>( p, <a class="code hl_function" href="namespaceitem__group.html#ad15629f772f27e1d19c90fe9de23ae99">item_group::items_from</a>( f.<a class="code hl_variable" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code hl_variable" href="structmap__deconstruct__info.html#a0ae525d6d28a1ac38c3d841428ddf859">drop_group</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) );</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>        <span class="comment">// HACK: Hack alert.</span></div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>        <span class="comment">// Signs have cosmetics associated with them on the submap since</span></div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>        <span class="comment">// furniture can&#39;t store dynamic data to disk. To prevent writing</span></div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>        <span class="comment">// mysteriously appearing for a sign later built here, remove the</span></div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>        <span class="comment">// writing from the submap.</span></div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>        here.<a class="code hl_function" href="classmap.html#ae363ec87b2ef0cccd7c5f5c860402313">delete_signage</a>( p );</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structter__t.html">ter_t</a> &amp;t = here.<a class="code hl_function" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ).<a class="code hl_function" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>        <span class="keywordflow">if</span>( !t.<a class="code hl_variable" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code hl_variable" href="structmap__deconstruct__info.html#acc3374a5eef731288660e91285b5a920">can_do</a> ) {</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That %s can not be disassembled!&quot;</span> ), t.<a class="code hl_function" href="structmap__data__common__t.html#a1e749bfdff8adff5829dc013dcac0cc1">name</a>() );</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>        }</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>        <span class="keywordflow">if</span>( t.<a class="code hl_variable" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code hl_variable" href="structmap__deconstruct__info.html#a7b94ae9e42b23db3f9ab25cc4121af21">deconstruct_above</a> ) {</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> top = p + <a class="code hl_variable" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a>;</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>            <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#a00008f407a53edc2445622618d7ed071">has_furn</a>( top ) ) {</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;That %s can not be disassembled, since there is furniture above it.&quot;</span> ), t.<a class="code hl_function" href="structmap__data__common__t.html#a1e749bfdff8adff5829dc013dcac0cc1">name</a>() );</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>            }</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>            <a class="code hl_function" href="namespaceconstruct.html#abe358a124d19d6d896a0847a0d144b8a">done_deconstruct</a>( top );</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>        }</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>        <span class="keywordflow">if</span>( t.<a class="code hl_variable" href="structter__t.html#a876ecdb9de153e3d864ee221ed63bd45">id</a> == <a class="code hl_class" href="classstring__id.html">ter_str_id</a>( <span class="stringliteral">&quot;t_console_broken&quot;</span> ) )  {</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_skill_level( <a class="code hl_variable" href="construction_8cpp.html#af557f83ca09615da5b2ff84b924e01c0">skill_electronics</a> ) &gt;= 1 ) {</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.practice( <a class="code hl_variable" href="construction_8cpp.html#af557f83ca09615da5b2ff84b924e01c0">skill_electronics</a>, 20, 4 );</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>            }</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>        }</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>        <span class="keywordflow">if</span>( t.<a class="code hl_variable" href="structter__t.html#a876ecdb9de153e3d864ee221ed63bd45">id</a> == <a class="code hl_class" href="classstring__id.html">ter_str_id</a>( <span class="stringliteral">&quot;t_console&quot;</span> ) )  {</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_skill_level( <a class="code hl_variable" href="construction_8cpp.html#af557f83ca09615da5b2ff84b924e01c0">skill_electronics</a> ) &gt;= 1 ) {</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.practice( <a class="code hl_variable" href="construction_8cpp.html#af557f83ca09615da5b2ff84b924e01c0">skill_electronics</a>, 40, 8 );</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>            }</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>        }</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>        here.<a class="code hl_function" href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">ter_set</a>( p, t.<a class="code hl_variable" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code hl_variable" href="structmap__deconstruct__info.html#a7d6868d2c34723ca32ef1d0b8c237a3b">ter_set</a> );</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The %s is disassembled.&quot;</span> ), t.<a class="code hl_function" href="structmap__data__common__t.html#a1e749bfdff8adff5829dc013dcac0cc1">name</a>() );</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>        here.<a class="code hl_function" href="classmap.html#a4648afd5a1ecdebba3dc5c5068363f8e">spawn_items</a>( p, <a class="code hl_function" href="namespaceitem__group.html#ad15629f772f27e1d19c90fe9de23ae99">item_group::items_from</a>( t.<a class="code hl_variable" href="structmap__data__common__t.html#a01b48c24a4af4af4060c8e461b5df580">deconstruct</a>.<a class="code hl_variable" href="structmap__deconstruct__info.html#a0ae525d6d28a1ac38c3d841428ddf859">drop_group</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> ) );</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>    }</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>}</div>
<div class="ttc" id="aclassmap_html_a4648afd5a1ecdebba3dc5c5068363f8e"><div class="ttname"><a href="classmap.html#a4648afd5a1ecdebba3dc5c5068363f8e">map::spawn_items</a></div><div class="ttdeci">std::vector&lt; item * &gt; spawn_items(const tripoint &amp;p, const std::vector&lt; item &gt; &amp;new_items)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04163">map.cpp:4163</a></div></div>
<div class="ttc" id="aclassmap_html_a75c60b0b73d8b492df608a2a4b824784"><div class="ttname"><a href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">map::ter_set</a></div><div class="ttdeci">bool ter_set(const tripoint &amp;p, const ter_id &amp;new_terrain)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01639">map.cpp:1639</a></div></div>
<div class="ttc" id="aclassmap_html_abf6455d82007aa379f4de85aea2f923f"><div class="ttname"><a href="classmap.html#abf6455d82007aa379f4de85aea2f923f">map::furn_set</a></div><div class="ttdeci">void furn_set(const tripoint &amp;p, const furn_id &amp;new_furniture, cata::poly_serialized&lt; active_tile_data &gt; new_active=nullptr)</div><div class="ttdoc">Sets the furniture at given position.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01360">map.cpp:1360</a></div></div>
<div class="ttc" id="aclassmap_html_ae363ec87b2ef0cccd7c5f5c860402313"><div class="ttname"><a href="classmap.html#ae363ec87b2ef0cccd7c5f5c860402313">map::delete_signage</a></div><div class="ttdeci">void delete_signage(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04022">map.cpp:4022</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; ter_t &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa7dabc565f0c067e1a237ea224b18f93"><div class="ttname"><a href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00255">string_id.h:255</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_af557f83ca09615da5b2ff84b924e01c0"><div class="ttname"><a href="construction_8cpp.html#af557f83ca09615da5b2ff84b924e01c0">skill_electronics</a></div><div class="ttdeci">static const skill_id skill_electronics(&quot;electronics&quot;)</div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a></div><div class="ttdeci">@ m_info</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00265">enums.h:265</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a98423a935af4b918d68f206e63f6cf7f"><div class="ttname"><a href="mapdata_8cpp.html#a98423a935af4b918d68f206e63f6cf7f">f_null</a></div><div class="ttdeci">furn_id f_null</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l01097">mapdata.cpp:1097</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00884">messages.cpp:884</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00036">calendar.cpp:36</a></div></div>
<div class="ttc" id="anamespaceconstruct_html_abe358a124d19d6d896a0847a0d144b8a"><div class="ttname"><a href="namespaceconstruct.html#abe358a124d19d6d896a0847a0d144b8a">construct::done_deconstruct</a></div><div class="ttdeci">void done_deconstruct(const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cpp_source.html#l01375">construction.cpp:1375</a></div></div>
<div class="ttc" id="anamespaceitem__group_html_ad15629f772f27e1d19c90fe9de23ae99"><div class="ttname"><a href="namespaceitem__group.html#ad15629f772f27e1d19c90fe9de23ae99">item_group::items_from</a></div><div class="ttdeci">ItemList items_from(const item_group_id &amp;group_id, const time_point &amp;birthday)</div><div class="ttdoc">Create items from the given group.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8cpp_source.html#l00574">item_group.cpp:574</a></div></div>
<div class="ttc" id="astructfurn__t_html"><div class="ttname"><a href="structfurn__t.html">furn_t</a></div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00496">mapdata.h:496</a></div></div>
<div class="ttc" id="astructmap__data__common__t_html_a1e749bfdff8adff5829dc013dcac0cc1"><div class="ttname"><a href="structmap__data__common__t.html#a1e749bfdff8adff5829dc013dcac0cc1">map_data_common_t::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00513">mapdata.cpp:513</a></div></div>
<div class="ttc" id="astructmap__deconstruct__info_html_a0ae525d6d28a1ac38c3d841428ddf859"><div class="ttname"><a href="structmap__deconstruct__info.html#a0ae525d6d28a1ac38c3d841428ddf859">map_deconstruct_info::drop_group</a></div><div class="ttdeci">item_group_id drop_group</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00121">mapdata.h:121</a></div></div>
<div class="ttc" id="astructmap__deconstruct__info_html_a7b94ae9e42b23db3f9ab25cc4121af21"><div class="ttname"><a href="structmap__deconstruct__info.html#a7b94ae9e42b23db3f9ab25cc4121af21">map_deconstruct_info::deconstruct_above</a></div><div class="ttdeci">bool deconstruct_above</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00119">mapdata.h:119</a></div></div>
<div class="ttc" id="astructmap__deconstruct__info_html_a7d6868d2c34723ca32ef1d0b8c237a3b"><div class="ttname"><a href="structmap__deconstruct__info.html#a7d6868d2c34723ca32ef1d0b8c237a3b">map_deconstruct_info::ter_set</a></div><div class="ttdeci">ter_str_id ter_set</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00122">mapdata.h:122</a></div></div>
<div class="ttc" id="astructmap__deconstruct__info_html_ad91e2d4d5d8b4889587681bcc4e8a390"><div class="ttname"><a href="structmap__deconstruct__info.html#ad91e2d4d5d8b4889587681bcc4e8a390">map_deconstruct_info::furn_set</a></div><div class="ttdeci">furn_str_id furn_set</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00123">mapdata.h:123</a></div></div>
<div class="ttc" id="astructter__t_html"><div class="ttname"><a href="structter__t.html">ter_t</a></div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00461">mapdata.h:461</a></div></div>
<div class="ttc" id="astructter__t_html_a876ecdb9de153e3d864ee221ed63bd45"><div class="ttname"><a href="structter__t.html#a876ecdb9de153e3d864ee221ed63bd45">ter_t::id</a></div><div class="ttdeci">ter_str_id id</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00465">mapdata.h:465</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="mapdata_8h_source.html#l00117">map_deconstruct_info::can_do</a>, <a class="el" href="mapdata_8h_source.html#l00347">map_data_common_t::deconstruct</a>, <a class="el" href="mapdata_8h_source.html#l00119">map_deconstruct_info::deconstruct_above</a>, <a class="el" href="map_8cpp_source.html#l04022">map::delete_signage()</a>, <a class="el" href="construction_8cpp_source.html#l01375">done_deconstruct()</a>, <a class="el" href="mapdata_8h_source.html#l00121">map_deconstruct_info::drop_group</a>, <a class="el" href="mapdata_8cpp_source.html#l01097">f_null</a>, <a class="el" href="map_8cpp_source.html#l01348">map::furn()</a>, <a class="el" href="map_8cpp_source.html#l01360">map::furn_set()</a>, <a class="el" href="mapdata_8h_source.html#l00123">map_deconstruct_info::furn_set</a>, <a class="el" href="game_8cpp_source.html#l00276">g</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="map_8cpp_source.html#l01343">map::has_furn()</a>, <a class="el" href="mapdata_8h_source.html#l00465">ter_t::id</a>, <a class="el" href="item__group_8cpp_source.html#l00574">item_group::items_from()</a>, <a class="el" href="enums_8h_source.html#l00265">m_info</a>, <a class="el" href="mapdata_8cpp_source.html#l00513">map_data_common_t::name()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00026">int_id&lt; T &gt;::obj()</a>, <a class="el" href="construction_8cpp.html#af557f83ca09615da5b2ff84b924e01c0">skill_electronics</a>, <a class="el" href="map_8cpp_source.html#l04163">map::spawn_items()</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, <a class="el" href="map_8cpp_source.html#l01498">map::ter()</a>, <a class="el" href="map_8cpp_source.html#l01639">map::ter_set()</a>, <a class="el" href="mapdata_8h_source.html#l00122">map_deconstruct_info::ter_set</a>, <a class="el" href="point_8h_source.html#l00294">tripoint_above</a>, and <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01375">done_deconstruct()</a>, and <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="a99e528edd32dbe81c6e1ee6020e999f9" name="a99e528edd32dbe81c6e1ee6020e999f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99e528edd32dbe81c6e1ee6020e999f9">&#9670;&nbsp;</a></span>done_dig_stair()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_dig_stair </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01483">1483</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>{</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>    <a class="code hl_function" href="namespaceconstruct.html#a5e80d6a986bb9615dffb53d314877c32">done_digormine_stair</a>( p, <span class="keyword">true</span> );</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>}</div>
<div class="ttc" id="anamespaceconstruct_html_a5e80d6a986bb9615dffb53d314877c32"><div class="ttname"><a href="namespaceconstruct.html#a5e80d6a986bb9615dffb53d314877c32">construct::done_digormine_stair</a></div><div class="ttdeci">void done_digormine_stair(const tripoint &amp;, bool)</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cpp_source.html#l01438">construction.cpp:1438</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="construction_8cpp_source.html#l01438">done_digormine_stair()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="a5e80d6a986bb9615dffb53d314877c32" name="a5e80d6a986bb9615dffb53d314877c32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e80d6a986bb9615dffb53d314877c32">&#9670;&nbsp;</a></span>done_digormine_stair()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_digormine_stair </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>dig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01438">1438</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>{</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> abs_pos = here.<a class="code hl_function" href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">getabs</a>( p );</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> pos_sm = <a class="code hl_function" href="coordinate__conversions_8cpp.html#aab2861adbce30d229bf852df21a98c1a">ms_to_sm_copy</a>( abs_pos );</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>    <a class="code hl_class" href="classtinymap.html">tinymap</a> tmpmap;</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>    tmpmap.<a class="code hl_function" href="classmap.html#afbac119ce4d61e383d33bf396be1982a">load</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( pos_sm.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>(), pos_sm.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> - 1 ), <span class="keyword">false</span> );</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> local_tmp = tmpmap.<a class="code hl_function" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( abs_pos );</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span> </div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>    <span class="keywordtype">bool</span> dig_muts = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="construction_8cpp.html#a4b2257876364d774f1eb52ef6e585bbb">trait_PAINRESIST_TROGLO</a> ) || <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="construction_8cpp.html#adc9440401f2c588a525027a5d636869d">trait_STOCKY_TROGLO</a> );</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span> </div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>    <span class="keywordtype">int</span> no_mut_penalty = dig_muts ? 10 : 0;</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>    <span class="keywordtype">int</span> mine_penalty = <a class="code hl_function" href="namespaceiuse.html#a90826f05cd2d554a46e5c1aff7fd590b">dig</a> ? 0 : 10;</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.mod_stored_nutr( 5 + mine_penalty + no_mut_penalty );</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.mod_thirst( 5 + mine_penalty + no_mut_penalty );</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.mod_fatigue( 10 + mine_penalty + no_mut_penalty );</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span> </div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>    <span class="keywordflow">if</span>( tmpmap.<a class="code hl_function" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( local_tmp ) == <a class="code hl_variable" href="mapdata_8cpp.html#ae4d16ee0c492352d7a322f9a511d4044">t_lava</a> ) {</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>        <span class="keywordflow">if</span>( !( <a class="code hl_function" href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The rock feels much warmer than normal.  Proceed?&quot;</span> ) ) ) ) {</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>            here.<a class="code hl_function" href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">ter_set</a>( p, <a class="code hl_variable" href="mapdata_8cpp.html#ae6822029506d9cb25c5077dfec866b86">t_pit</a> ); <span class="comment">// You dug down a bit before detecting the problem</span></div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>            <a class="code hl_function" href="construction_8cpp.html#a2ac36f0e677f95bae899a655255334cd">unroll_digging</a>( <a class="code hl_function" href="namespaceiuse.html#a90826f05cd2d554a46e5c1aff7fd590b">dig</a> ? 8 : 12 );</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You just tunneled into lava!&quot;</span> ) );</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea4e1d40b9faafb4cce1e627ed46ef3d67">event_type::digs_into_lava</a>&gt;();</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>            here.<a class="code hl_function" href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">ter_set</a>( p, <a class="code hl_variable" href="mapdata_8cpp.html#a231b1a6e4c654fd6584736e5397439c9">t_open_air</a> );</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>        }</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span> </div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>    }</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span> </div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>    <span class="keywordtype">bool</span> impassable = tmpmap.<a class="code hl_function" href="classmap.html#a802cc11379d4be61f4e2b13a50f6390e">impassable</a>( local_tmp );</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>    <span class="keywordflow">if</span>( !impassable ) {</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You dig into a preexisting space, and improvise a ladder.&quot;</span> ) );</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="namespaceiuse.html#a90826f05cd2d554a46e5c1aff7fd590b">dig</a> ) {</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You dig a stairway, adding sturdy timbers and a rope for safety.&quot;</span> ) );</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You drill out a passage, heading deeper underground.&quot;</span> ) );</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>    }</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>    here.<a class="code hl_function" href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">ter_set</a>( p, <a class="code hl_variable" href="mapdata_8cpp.html#ad033be1a63a15f4525c6d60823554b63">t_stairs_down</a> ); <span class="comment">// There&#39;s the top half</span></div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>    <span class="comment">// Again, need to use submap-local coordinates.</span></div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>    tmpmap.<a class="code hl_function" href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">ter_set</a>( local_tmp, impassable ? <a class="code hl_variable" href="mapdata_8cpp.html#ac6cc523eb459ad53711115145745e587">t_stairs_up</a> : <a class="code hl_variable" href="mapdata_8cpp.html#a8962299edd999c6fe110c64f499a76b7">t_ladder_up</a> ); <span class="comment">// and there&#39;s the bottom half.</span></div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>    <span class="comment">// And save to the center coordinate of the current active map.</span></div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>    tmpmap.<a class="code hl_function" href="classmap.html#a6bc669c8915ae41469ef8f0b5e925c3e">save</a>();</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>}</div>
<div class="ttc" id="aclassmap_html_a426c21f7244ff80a61685a89e9146fec"><div class="ttname"><a href="classmap.html#a426c21f7244ff80a61685a89e9146fec">map::getlocal</a></div><div class="ttdeci">tripoint getlocal(const tripoint &amp;p) const</div><div class="ttdoc">Inverse of getabs.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08280">map.cpp:8280</a></div></div>
<div class="ttc" id="aclassmap_html_a501f3a1d449ac022f1b36b99da653e94"><div class="ttname"><a href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">map::getabs</a></div><div class="ttdeci">tripoint getabs(const tripoint &amp;p) const</div><div class="ttdoc">Translates local (to this map) coordinates of a square to global absolute coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08275">map.cpp:8275</a></div></div>
<div class="ttc" id="aclassmap_html_a6bc669c8915ae41469ef8f0b5e925c3e"><div class="ttname"><a href="classmap.html#a6bc669c8915ae41469ef8f0b5e925c3e">map::save</a></div><div class="ttdeci">void save()</div><div class="ttdoc">Add currently loaded submaps (in grid) to the mapbuffer.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06609">map.cpp:6609</a></div></div>
<div class="ttc" id="aclassmap_html_afbac119ce4d61e383d33bf396be1982a"><div class="ttname"><a href="classmap.html#afbac119ce4d61e383d33bf396be1982a">map::load</a></div><div class="ttdeci">void load(const tripoint &amp;w, bool update_vehicles, bool pump_events=false)</div><div class="ttdoc">Load submaps into grid.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06624">map.cpp:6624</a></div></div>
<div class="ttc" id="aclasstinymap_html"><div class="ttname"><a href="classtinymap.html">tinymap</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02107">map.h:2108</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_a2ac36f0e677f95bae899a655255334cd"><div class="ttname"><a href="construction_8cpp.html#a2ac36f0e677f95bae899a655255334cd">unroll_digging</a></div><div class="ttdeci">static void unroll_digging(const int numer_of_2x4s)</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cpp_source.html#l01428">construction.cpp:1428</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_a4b2257876364d774f1eb52ef6e585bbb"><div class="ttname"><a href="construction_8cpp.html#a4b2257876364d774f1eb52ef6e585bbb">trait_PAINRESIST_TROGLO</a></div><div class="ttdeci">static const trait_id trait_PAINRESIST_TROGLO(&quot;PAINRESIST_TROGLO&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_adc9440401f2c588a525027a5d636869d"><div class="ttname"><a href="construction_8cpp.html#adc9440401f2c588a525027a5d636869d">trait_STOCKY_TROGLO</a></div><div class="ttdeci">static const trait_id trait_STOCKY_TROGLO(&quot;STOCKY_TROGLO&quot;)</div></div>
<div class="ttc" id="acoordinate__conversions_8cpp_html_aab2861adbce30d229bf852df21a98c1a"><div class="ttname"><a href="coordinate__conversions_8cpp.html#aab2861adbce30d229bf852df21a98c1a">ms_to_sm_copy</a></div><div class="ttdeci">point ms_to_sm_copy(const point &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="coordinate__conversions_8cpp_source.html#l00125">coordinate_conversions.cpp:125</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a></div><div class="ttdeci">@ m_warning</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00264">enums.h:264</a></div></div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1cea4e1d40b9faafb4cce1e627ed46ef3d67"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea4e1d40b9faafb4cce1e627ed46ef3d67">event_type::digs_into_lava</a></div><div class="ttdeci">@ digs_into_lava</div></div>
<div class="ttc" id="amapdata_8cpp_html_a231b1a6e4c654fd6584736e5397439c9"><div class="ttname"><a href="mapdata_8cpp.html#a231b1a6e4c654fd6584736e5397439c9">t_open_air</a></div><div class="ttdeci">ter_id t_open_air</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00729">mapdata.cpp:729</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a8962299edd999c6fe110c64f499a76b7"><div class="ttname"><a href="mapdata_8cpp.html#a8962299edd999c6fe110c64f499a76b7">t_ladder_up</a></div><div class="ttdeci">ter_id t_ladder_up</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00720">mapdata.cpp:720</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_ac6cc523eb459ad53711115145745e587"><div class="ttname"><a href="mapdata_8cpp.html#ac6cc523eb459ad53711115145745e587">t_stairs_up</a></div><div class="ttdeci">ter_id t_stairs_up</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00720">mapdata.cpp:720</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_ad033be1a63a15f4525c6d60823554b63"><div class="ttname"><a href="mapdata_8cpp.html#ad033be1a63a15f4525c6d60823554b63">t_stairs_down</a></div><div class="ttdeci">ter_id t_stairs_down</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00720">mapdata.cpp:720</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_ae4d16ee0c492352d7a322f9a511d4044"><div class="ttname"><a href="mapdata_8cpp.html#ae4d16ee0c492352d7a322f9a511d4044">t_lava</a></div><div class="ttdeci">ter_id t_lava</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00697">mapdata.cpp:697</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_ae6822029506d9cb25c5077dfec866b86"><div class="ttname"><a href="mapdata_8cpp.html#ae6822029506d9cb25c5077dfec866b86">t_pit</a></div><div class="ttdeci">ter_id t_pit</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00627">mapdata.cpp:627</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a90826f05cd2d554a46e5c1aff7fd590b"><div class="ttname"><a href="namespaceiuse.html#a90826f05cd2d554a46e5c1aff7fd590b">iuse::dig</a></div><div class="ttdeci">int dig(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02707">iuse.cpp:2707</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ab62599a77867b8f416669b92f60f4900"><div class="ttname"><a href="output_8cpp.html#ab62599a77867b8f416669b92f60f4900">query_yn</a></div><div class="ttdeci">bool query_yn(const std::string &amp;text)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00698">output.cpp:698</a></div></div>
<div class="ttc" id="astructtripoint_html_ac944c0e329b5eba2602f7a52f66bbbb9"><div class="ttname"><a href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">tripoint::z</a></div><div class="ttdeci">int z</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00152">point.h:152</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="iuse_8cpp_source.html#l02707">iuse::dig()</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea4e1d40b9faafb4cce1e627ed46ef3d67">digs_into_lava</a>, <a class="el" href="game_8cpp_source.html#l00276">g</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="map_8cpp_source.html#l08275">map::getabs()</a>, <a class="el" href="map_8cpp_source.html#l08280">map::getlocal()</a>, <a class="el" href="map_8cpp_source.html#l01795">map::impassable()</a>, <a class="el" href="map_8cpp_source.html#l06624">map::load()</a>, <a class="el" href="enums_8h_source.html#l00264">m_warning</a>, <a class="el" href="coordinate__conversions_8cpp_source.html#l00125">ms_to_sm_copy()</a>, <a class="el" href="output_8cpp_source.html#l00698">query_yn()</a>, <a class="el" href="map_8cpp_source.html#l06609">map::save()</a>, <a class="el" href="mapdata_8cpp_source.html#l00720">t_ladder_up</a>, <a class="el" href="mapdata_8cpp_source.html#l00697">t_lava</a>, <a class="el" href="mapdata_8cpp_source.html#l00729">t_open_air</a>, <a class="el" href="mapdata_8cpp_source.html#l00627">t_pit</a>, <a class="el" href="mapdata_8cpp_source.html#l00720">t_stairs_down</a>, <a class="el" href="mapdata_8cpp_source.html#l00720">t_stairs_up</a>, <a class="el" href="map_8cpp_source.html#l01498">map::ter()</a>, <a class="el" href="map_8cpp_source.html#l01639">map::ter_set()</a>, <a class="el" href="construction_8cpp.html#a4b2257876364d774f1eb52ef6e585bbb">trait_PAINRESIST_TROGLO</a>, <a class="el" href="construction_8cpp.html#adc9440401f2c588a525027a5d636869d">trait_STOCKY_TROGLO</a>, <a class="el" href="construction_8cpp_source.html#l01428">unroll_digging()</a>, <a class="el" href="point_8h_source.html#l00220">tripoint::xy()</a>, and <a class="el" href="point_8h_source.html#l00152">tripoint::z</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01483">done_dig_stair()</a>, and <a class="el" href="construction_8cpp_source.html#l01488">done_mine_downstair()</a>.</p>

</div>
</div>
<a id="a9d5100ccb1ee1f1ed136152a443d4f5c" name="a9d5100ccb1ee1f1ed136152a443d4f5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d5100ccb1ee1f1ed136152a443d4f5c">&#9670;&nbsp;</a></span>done_extract_maybe_revert_to_dirt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_extract_maybe_revert_to_dirt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01555">1555</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>{</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 10 ) ) {</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>        here.<a class="code hl_function" href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">ter_set</a>( p, <a class="code hl_variable" href="mapdata_8cpp.html#aa4573ce2c594834a8ced806a5099f3e3">t_dirt</a> );</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>    }</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span> </div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>    <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ) == <a class="code hl_variable" href="mapdata_8cpp.html#aad5137dccd32d10497f2a9b851a1398c">t_clay</a> ) {</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You gather some clay.&quot;</span> ) );</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( p ) == <a class="code hl_variable" href="mapdata_8cpp.html#a59013dd9fe3e18dda17f82339f400fe9">t_sand</a> ) {</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You gather some sand.&quot;</span> ) );</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>        <span class="comment">// Fall through to an undefined material.</span></div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You gather some materials.&quot;</span> ) );</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>    }</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>}</div>
<div class="ttc" id="amapdata_8cpp_html_a59013dd9fe3e18dda17f82339f400fe9"><div class="ttname"><a href="mapdata_8cpp.html#a59013dd9fe3e18dda17f82339f400fe9">t_sand</a></div><div class="ttdeci">ter_id t_sand</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00627">mapdata.cpp:627</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_aa4573ce2c594834a8ced806a5099f3e3"><div class="ttname"><a href="mapdata_8cpp.html#aa4573ce2c594834a8ced806a5099f3e3">t_dirt</a></div><div class="ttdeci">ter_id t_dirt</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00627">mapdata.cpp:627</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_aad5137dccd32d10497f2a9b851a1398c"><div class="ttname"><a href="mapdata_8cpp.html#aad5137dccd32d10497f2a9b851a1398c">t_clay</a></div><div class="ttdeci">ter_id t_clay</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00627">mapdata.cpp:627</a></div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00065">rng.cpp:65</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>, <a class="el" href="mapdata_8cpp_source.html#l00627">t_clay</a>, <a class="el" href="mapdata_8cpp_source.html#l00627">t_dirt</a>, <a class="el" href="mapdata_8cpp_source.html#l00627">t_sand</a>, <a class="el" href="map_8cpp_source.html#l01498">map::ter()</a>, and <a class="el" href="map_8cpp_source.html#l01639">map::ter_set()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="ae5fd6118bb3c17952b4c627f874110e7" name="ae5fd6118bb3c17952b4c627f874110e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5fd6118bb3c17952b4c627f874110e7">&#9670;&nbsp;</a></span>done_grave()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_grave </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01279">1279</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>{</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>    <a class="code hl_class" href="classmap__stack.html">map_stack</a> its = here.<a class="code hl_function" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( p );</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> it : its ) {</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>        <span class="keywordflow">if</span>( it.is_corpse() ) {</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>            <span class="keywordflow">if</span>( it.get_corpse_name().empty() ) {</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>                <span class="keywordflow">if</span>( it.get_mtype()-&gt;has_flag( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a407a418206285b2c47d7aee286587cd0">MF_HUMAN</a> ) ) {</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>                    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="construction_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a> ) ) {</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>                        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.add_morale( <a class="code hl_variable" href="morale__types_8cpp.html#a197b88838168809ea3a7a9d39e6271ae">MORALE_FUNERAL</a>, 50, 75, 1_days, 1_hours );</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>                        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>                                 <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel relieved after providing last rites for this human being, whose name is lost in the Cataclysm.&quot;</span> ) );</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>                        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You bury remains of a human, whose name is lost in the Cataclysm.&quot;</span> ) );</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>                    }</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>                }</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="construction_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a> ) ) {</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.add_morale( <a class="code hl_variable" href="morale__types_8cpp.html#a197b88838168809ea3a7a9d39e6271ae">MORALE_FUNERAL</a>, 50, 75, 1_days, 1_hours );</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>                             <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel sadness, but also relief after providing last rites for %s, whose name you will keep in your memory.&quot;</span> ),</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>                             it.get_corpse_name() );</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>,</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>                             <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You bury remains of %s, who joined uncounted masses perished in the Cataclysm.&quot;</span> ),</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>                             it.get_corpse_name() );</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>                }</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>            }</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceadcba7660a5b51b1ec3e08796083a1229">event_type::buries_corpse</a>&gt;(</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.getID(), it.get_mtype()-&gt;id, it.get_corpse_name() );</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>        }</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>    }</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_quality( <a class="code hl_variable" href="construction_8cpp.html#ac5ae8cf30e2c087307ed0d8f18d3209f">qual_CUT</a> ) ) {</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>        <a class="code hl_function" href="namespaceiuse.html#aa92986fb5efe2c3952f80ad290b76076">iuse::handle_ground_graffiti</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, <span class="keyword">nullptr</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Inscribe something on the grave?&quot;</span> ), p );</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>,</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>                 <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Unfortunately you don&#39;t have anything sharp to place an inscription on the grave.&quot;</span> ) );</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>    }</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span> </div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>    here.<a class="code hl_function" href="classmap.html#aa9876f3b15b72bae95b49982fb1bc1a5">destroy_furn</a>( p, <span class="keyword">true</span> );</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>}</div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00176">item.h:177</a></div></div>
<div class="ttc" id="aclassmap__stack_html"><div class="ttname"><a href="classmap__stack.html">map_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00104">map.h:105</a></div></div>
<div class="ttc" id="aclassmap_html_aa9876f3b15b72bae95b49982fb1bc1a5"><div class="ttname"><a href="classmap.html#aa9876f3b15b72bae95b49982fb1bc1a5">map::destroy_furn</a></div><div class="ttdeci">void destroy_furn(const tripoint &amp;p, bool silent=false)</div><div class="ttdoc">Keeps bashing a square until there is no more furniture.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l03654">map.cpp:3654</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_abf47c050c3a01d3496c3eb251fa9c517"><div class="ttname"><a href="construction_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a></div><div class="ttdeci">static const trait_id trait_SPIRITUAL(&quot;SPIRITUAL&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_ac5ae8cf30e2c087307ed0d8f18d3209f"><div class="ttname"><a href="construction_8cpp.html#ac5ae8cf30e2c087307ed0d8f18d3209f">qual_CUT</a></div><div class="ttdeci">static const quality_id qual_CUT(&quot;CUT&quot;)</div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a></div><div class="ttdeci">@ m_good</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00260">enums.h:260</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a></div><div class="ttdeci">@ m_neutral</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00267">enums.h:267</a></div></div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1ceadcba7660a5b51b1ec3e08796083a1229"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceadcba7660a5b51b1ec3e08796083a1229">event_type::buries_corpse</a></div><div class="ttdeci">@ buries_corpse</div></div>
<div class="ttc" id="amorale__types_8cpp_html_a197b88838168809ea3a7a9d39e6271ae"><div class="ttname"><a href="morale__types_8cpp.html#a197b88838168809ea3a7a9d39e6271ae">MORALE_FUNERAL</a></div><div class="ttdeci">const morale_type MORALE_FUNERAL(&quot;morale_funeral&quot;)</div></div>
<div class="ttc" id="amtype_8h_html_afa4c966d04d2ddb261a7cde725eca842a407a418206285b2c47d7aee286587cd0"><div class="ttname"><a href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a407a418206285b2c47d7aee286587cd0">MF_HUMAN</a></div><div class="ttdeci">@ MF_HUMAN</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00122">mtype.h:122</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aa92986fb5efe2c3952f80ad290b76076"><div class="ttname"><a href="namespaceiuse.html#aa92986fb5efe2c3952f80ad290b76076">iuse::handle_ground_graffiti</a></div><div class="ttdeci">int handle_ground_graffiti(player &amp;p, item *it, const std::string &amp;prefix, const tripoint &amp;where)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05517">iuse.cpp:5517</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceadcba7660a5b51b1ec3e08796083a1229">buries_corpse</a>, <a class="el" href="map_8cpp_source.html#l03654">map::destroy_furn()</a>, <a class="el" href="game_8cpp_source.html#l00276">g</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="iuse_8cpp_source.html#l05517">iuse::handle_ground_graffiti()</a>, <a class="el" href="map_8cpp_source.html#l04090">map::i_at()</a>, <a class="el" href="enums_8h_source.html#l00260">m_good</a>, <a class="el" href="enums_8h_source.html#l00267">m_neutral</a>, <a class="el" href="mtype_8h_source.html#l00122">MF_HUMAN</a>, <a class="el" href="morale__types_8cpp.html#a197b88838168809ea3a7a9d39e6271ae">MORALE_FUNERAL</a>, <a class="el" href="construction_8cpp.html#ac5ae8cf30e2c087307ed0d8f18d3209f">qual_CUT</a>, and <a class="el" href="construction_8cpp.html#abf47c050c3a01d3496c3eb251fa9c517">trait_SPIRITUAL</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="a2a81ee10bb74d8b3ee300f0818c9ef25" name="a2a81ee10bb74d8b3ee300f0818c9ef25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a81ee10bb74d8b3ee300f0818c9ef25">&#9670;&nbsp;</a></span>done_mark_firewood()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_mark_firewood </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01572">1572</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>{</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>    <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().<a class="code hl_function" href="classmap.html#ade82e480520c05f5a4e8917df19cef8c">trap_set</a>( p, <a class="code hl_variable" href="construction_8cpp.html#abd2a46da10bd062f42abf5ecd382dc35">tr_firewood_source</a> );</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>}</div>
<div class="ttc" id="aclassmap_html_ade82e480520c05f5a4e8917df19cef8c"><div class="ttname"><a href="classmap.html#ade82e480520c05f5a4e8917df19cef8c">map::trap_set</a></div><div class="ttdeci">void trap_set(const tripoint &amp;p, const trap_id &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05191">map.cpp:5191</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_abd2a46da10bd062f42abf5ecd382dc35"><div class="ttname"><a href="construction_8cpp.html#abd2a46da10bd062f42abf5ecd382dc35">tr_firewood_source</a></div><div class="ttdeci">static const trap_str_id tr_firewood_source(&quot;tr_firewood_source&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="construction_8cpp.html#abd2a46da10bd062f42abf5ecd382dc35">tr_firewood_source</a>, and <a class="el" href="map_8cpp_source.html#l05191">map::trap_set()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="a42ac155b3988c1f9720490081e9ce565" name="a42ac155b3988c1f9720490081e9ce565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42ac155b3988c1f9720490081e9ce565">&#9670;&nbsp;</a></span>done_mark_practice_target()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_mark_practice_target </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01577">1577</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>{</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>    <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().<a class="code hl_function" href="classmap.html#ade82e480520c05f5a4e8917df19cef8c">trap_set</a>( p, <a class="code hl_variable" href="construction_8cpp.html#a26f773999c96865544c00b5496637d56">tr_practice_target</a> );</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>}</div>
<div class="ttc" id="aconstruction_8cpp_html_a26f773999c96865544c00b5496637d56"><div class="ttname"><a href="construction_8cpp.html#a26f773999c96865544c00b5496637d56">tr_practice_target</a></div><div class="ttdeci">static const trap_str_id tr_practice_target(&quot;tr_practice_target&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="construction_8cpp.html#a26f773999c96865544c00b5496637d56">tr_practice_target</a>, and <a class="el" href="map_8cpp_source.html#l05191">map::trap_set()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="a6344742dfa82e029339c042417543a08" name="a6344742dfa82e029339c042417543a08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6344742dfa82e029339c042417543a08">&#9670;&nbsp;</a></span>done_mine_downstair()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_mine_downstair </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01488">1488</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>{</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>    <a class="code hl_function" href="namespaceconstruct.html#a5e80d6a986bb9615dffb53d314877c32">done_digormine_stair</a>( p, <span class="keyword">false</span> );</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="construction_8cpp_source.html#l01438">done_digormine_stair()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="a446333b88551276d93d829889ab68e56" name="a446333b88551276d93d829889ab68e56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a446333b88551276d93d829889ab68e56">&#9670;&nbsp;</a></span>done_mine_upstair()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_mine_upstair </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01493">1493</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>{</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> abs_pos = here.<a class="code hl_function" href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">getabs</a>( p );</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> pos_sm = <a class="code hl_function" href="coordinate__conversions_8cpp.html#aab2861adbce30d229bf852df21a98c1a">ms_to_sm_copy</a>( abs_pos );</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>    <a class="code hl_class" href="classtinymap.html">tinymap</a> tmpmap;</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>    tmpmap.<a class="code hl_function" href="classmap.html#afbac119ce4d61e383d33bf396be1982a">load</a>( <a class="code hl_struct" href="structtripoint.html">tripoint</a>( pos_sm.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>(), pos_sm.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> + 1 ), <span class="keyword">false</span> );</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> local_tmp = tmpmap.<a class="code hl_function" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( abs_pos );</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span> </div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>    <span class="keywordflow">if</span>( tmpmap.<a class="code hl_function" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( local_tmp ) == <a class="code hl_variable" href="mapdata_8cpp.html#ae4d16ee0c492352d7a322f9a511d4044">t_lava</a> ) {</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>        here.<a class="code hl_function" href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">ter_set</a>( p.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>(), <a class="code hl_variable" href="mapdata_8cpp.html#ab2613433b5f86babc528fa43891dc75a">t_rock_floor</a> ); <span class="comment">// You dug a bit before discovering the problem</span></div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The rock overhead feels hot.  You decide *not* to mine magma.&quot;</span> ) );</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>        <a class="code hl_function" href="construction_8cpp.html#a2ac36f0e677f95bae899a655255334cd">unroll_digging</a>( 12 );</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>    }</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span> </div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::set&lt;ter_id&gt; liquids = {{</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>            <a class="code hl_variable" href="mapdata_8cpp.html#ac493a997fbf4ddeea9b312f4ef5e9b99">t_water_sh</a>, <a class="code hl_variable" href="mapdata_8cpp.html#a49940031733730fd557de253bc79da4d">t_sewage</a>, <a class="code hl_variable" href="mapdata_8cpp.html#a9485094b64a5543fe53c242edbdaedeb">t_water_dp</a>, <a class="code hl_variable" href="mapdata_8cpp.html#ac34a44e535a4a28b2db8fd0dd14398fe">t_water_pool</a>, <a class="code hl_variable" href="mapdata_8cpp.html#a33db6c8bcdffefd1b836b7a1928de322">t_water_moving_sh</a>, <a class="code hl_variable" href="mapdata_8cpp.html#a0492f483da0bc3ca00facdf8771840a9">t_water_moving_dp</a>,</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>        }</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>    };</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span> </div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>    <span class="keywordflow">if</span>( liquids.count( tmpmap.<a class="code hl_function" href="classmap.html#aba8f330c2cc25be0652489b42d8dd530">ter</a>( local_tmp ) ) &gt; 0 ) {</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>        here.<a class="code hl_function" href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">ter_set</a>( p.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>(), <a class="code hl_variable" href="mapdata_8cpp.html#ab2613433b5f86babc528fa43891dc75a">t_rock_floor</a> ); <span class="comment">// You dug a bit before discovering the problem</span></div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The rock above is rather damp.  You decide *not* to mine water.&quot;</span> ) );</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>        <a class="code hl_function" href="construction_8cpp.html#a2ac36f0e677f95bae899a655255334cd">unroll_digging</a>( 12 );</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>    }</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span> </div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>    <span class="keywordtype">bool</span> dig_muts = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="construction_8cpp.html#a4b2257876364d774f1eb52ef6e585bbb">trait_PAINRESIST_TROGLO</a> ) || <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.has_trait( <a class="code hl_variable" href="construction_8cpp.html#adc9440401f2c588a525027a5d636869d">trait_STOCKY_TROGLO</a> );</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span> </div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>    <span class="keywordtype">int</span> no_mut_penalty = dig_muts ? 15 : 0;</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.mod_stored_nutr( 20 + no_mut_penalty );</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.mod_thirst( 20 + no_mut_penalty );</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.mod_fatigue( 25 + no_mut_penalty );</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span> </div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You drill out a passage, heading for the surface.&quot;</span> ) );</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>    here.<a class="code hl_function" href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">ter_set</a>( p.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>(), <a class="code hl_variable" href="mapdata_8cpp.html#ac6cc523eb459ad53711115145745e587">t_stairs_up</a> ); <span class="comment">// There&#39;s the bottom half</span></div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>    <span class="comment">// We need to write to submap-local coordinates.</span></div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>    <span class="comment">// TODO: Add roof above</span></div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>    tmpmap.<a class="code hl_function" href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">ter_set</a>( local_tmp, <a class="code hl_variable" href="mapdata_8cpp.html#ad033be1a63a15f4525c6d60823554b63">t_stairs_down</a> ); <span class="comment">// and there&#39;s the top half.</span></div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>    tmpmap.<a class="code hl_function" href="classmap.html#a6bc669c8915ae41469ef8f0b5e925c3e">save</a>();</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>}</div>
<div class="ttc" id="amapdata_8cpp_html_a0492f483da0bc3ca00facdf8771840a9"><div class="ttname"><a href="mapdata_8cpp.html#a0492f483da0bc3ca00facdf8771840a9">t_water_moving_dp</a></div><div class="ttdeci">ter_id t_water_moving_dp</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00695">mapdata.cpp:695</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a33db6c8bcdffefd1b836b7a1928de322"><div class="ttname"><a href="mapdata_8cpp.html#a33db6c8bcdffefd1b836b7a1928de322">t_water_moving_sh</a></div><div class="ttdeci">ter_id t_water_moving_sh</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00695">mapdata.cpp:695</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a49940031733730fd557de253bc79da4d"><div class="ttname"><a href="mapdata_8cpp.html#a49940031733730fd557de253bc79da4d">t_sewage</a></div><div class="ttdeci">ter_id t_sewage</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00696">mapdata.cpp:696</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_a9485094b64a5543fe53c242edbdaedeb"><div class="ttname"><a href="mapdata_8cpp.html#a9485094b64a5543fe53c242edbdaedeb">t_water_dp</a></div><div class="ttdeci">ter_id t_water_dp</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00695">mapdata.cpp:695</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_ab2613433b5f86babc528fa43891dc75a"><div class="ttname"><a href="mapdata_8cpp.html#ab2613433b5f86babc528fa43891dc75a">t_rock_floor</a></div><div class="ttdeci">ter_id t_rock_floor</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00629">mapdata.cpp:629</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_ac34a44e535a4a28b2db8fd0dd14398fe"><div class="ttname"><a href="mapdata_8cpp.html#ac34a44e535a4a28b2db8fd0dd14398fe">t_water_pool</a></div><div class="ttdeci">ter_id t_water_pool</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00696">mapdata.cpp:696</a></div></div>
<div class="ttc" id="amapdata_8cpp_html_ac493a997fbf4ddeea9b312f4ef5e9b99"><div class="ttname"><a href="mapdata_8cpp.html#ac493a997fbf4ddeea9b312f4ef5e9b99">t_water_sh</a></div><div class="ttdeci">ter_id t_water_sh</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8cpp_source.html#l00695">mapdata.cpp:695</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="game_8cpp_source.html#l00276">g</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="map_8cpp_source.html#l08275">map::getabs()</a>, <a class="el" href="map_8cpp_source.html#l08280">map::getlocal()</a>, <a class="el" href="map_8cpp_source.html#l06624">map::load()</a>, <a class="el" href="enums_8h_source.html#l00264">m_warning</a>, <a class="el" href="coordinate__conversions_8cpp_source.html#l00125">ms_to_sm_copy()</a>, <a class="el" href="map_8cpp_source.html#l06609">map::save()</a>, <a class="el" href="mapdata_8cpp_source.html#l00697">t_lava</a>, <a class="el" href="mapdata_8cpp_source.html#l00629">t_rock_floor</a>, <a class="el" href="mapdata_8cpp_source.html#l00696">t_sewage</a>, <a class="el" href="mapdata_8cpp_source.html#l00720">t_stairs_down</a>, <a class="el" href="mapdata_8cpp_source.html#l00720">t_stairs_up</a>, <a class="el" href="mapdata_8cpp_source.html#l00695">t_water_dp</a>, <a class="el" href="mapdata_8cpp_source.html#l00695">t_water_moving_dp</a>, <a class="el" href="mapdata_8cpp_source.html#l00695">t_water_moving_sh</a>, <a class="el" href="mapdata_8cpp_source.html#l00696">t_water_pool</a>, <a class="el" href="mapdata_8cpp_source.html#l00695">t_water_sh</a>, <a class="el" href="map_8cpp_source.html#l01498">map::ter()</a>, <a class="el" href="map_8cpp_source.html#l01639">map::ter_set()</a>, <a class="el" href="construction_8cpp.html#a4b2257876364d774f1eb52ef6e585bbb">trait_PAINRESIST_TROGLO</a>, <a class="el" href="construction_8cpp.html#adc9440401f2c588a525027a5d636869d">trait_STOCKY_TROGLO</a>, <a class="el" href="construction_8cpp_source.html#l01428">unroll_digging()</a>, <a class="el" href="point_8h_source.html#l00220">tripoint::xy()</a>, and <a class="el" href="point_8h_source.html#l00152">tripoint::z</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="a7d30fe69b443412099d62a4266c301cd" name="a7d30fe69b443412099d62a4266c301cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d30fe69b443412099d62a4266c301cd">&#9670;&nbsp;</a></span>done_nothing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void construct::done_nothing </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l00115">115</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>{}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="ade5b31bf6336ce398b70ede09e5afb27" name="ade5b31bf6336ce398b70ede09e5afb27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade5b31bf6336ce398b70ede09e5afb27">&#9670;&nbsp;</a></span>done_ramp_high()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_ramp_high </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01588">1588</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>{</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> top = p + <a class="code hl_variable" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a>;</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>    <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().<a class="code hl_function" href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">ter_set</a>( top, <a class="code hl_typedef" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a>( <span class="stringliteral">&quot;t_ramp_down_high&quot;</span> ) );</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>}</div>
<div class="ttc" id="atype__id_8h_html_a52570fdf9996c7b72d444f8020a741e8"><div class="ttname"><a href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a></div><div class="ttdeci">int_id&lt; ter_t &gt; ter_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00161">type_id.h:161</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="map_8cpp_source.html#l01639">map::ter_set()</a>, and <a class="el" href="point_8h_source.html#l00294">tripoint_above</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="a42d99887873ac43e3ca65cf5af11cef1" name="a42d99887873ac43e3ca65cf5af11cef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42d99887873ac43e3ca65cf5af11cef1">&#9670;&nbsp;</a></span>done_ramp_low()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_ramp_low </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01582">1582</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>{</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> top = p + <a class="code hl_variable" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a>;</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>    <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().<a class="code hl_function" href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">ter_set</a>( top, <a class="code hl_typedef" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a>( <span class="stringliteral">&quot;t_ramp_down_low&quot;</span> ) );</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="map_8cpp_source.html#l01639">map::ter_set()</a>, and <a class="el" href="point_8h_source.html#l00294">tripoint_above</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="ab3dd03956437e4b63566edc5eabae764" name="ab3dd03956437e4b63566edc5eabae764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3dd03956437e4b63566edc5eabae764">&#9670;&nbsp;</a></span>done_trunk_plank()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_trunk_plank </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01271">1271</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>{</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>    <span class="keywordtype">int</span> num_logs = <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 2, 3 );</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; num_logs; ++i ) {</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>        <a class="code hl_function" href="namespaceiuse.html#a9ec87f69491dd9ce7eca10208c4bca39">iuse::cut_log_into_planks</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u );</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>    }</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>}</div>
<div class="ttc" id="aartifact_8cpp_html_a70800e95389f34dd34186fafaea2a840"><div class="ttname"><a href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a></div><div class="ttdeci">units::quantity&lt; V, B &gt; rng(const units::quantity&lt; V, B &gt; &amp;min, const units::quantity&lt; V, B &gt; &amp;max)</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8cpp_source.html#l00032">artifact.cpp:32</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a9ec87f69491dd9ce7eca10208c4bca39"><div class="ttname"><a href="namespaceiuse.html#a9ec87f69491dd9ce7eca10208c4bca39">iuse::cut_log_into_planks</a></div><div class="ttdeci">void cut_log_into_planks(player &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04706">iuse.cpp:4706</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse_8cpp_source.html#l04706">iuse::cut_log_into_planks()</a>, <a class="el" href="game_8cpp_source.html#l00276">g</a>, and <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="a11e9996c384118b3064e857cb92a07fc" name="a11e9996c384118b3064e857cb92a07fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11e9996c384118b3064e857cb92a07fc">&#9670;&nbsp;</a></span>done_vehicle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_vehicle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01343">1343</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>{</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>    std::string <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> = <a class="code hl_class" href="classstring__input__popup.html">string_input_popup</a>()</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>                       .<a class="code hl_function" href="classstring__input__popup.html#aeced4fb3877cc8e24da36af12af2e519">title</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Enter new vehicle name:&quot;</span> ) )</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>                       .<a class="code hl_function" href="classstring__input__popup.html#acc88b6636bee68b1ee4f4dffc533d611">width</a>( 20 )</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>                       .<a class="code hl_function" href="classstring__input__popup.html#acd7eba6664e8c473cc2b754f5d8d2cde">query_string</a>();</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>.empty() ) {</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>        <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Car&quot;</span> );</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>    }</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span> </div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;m = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>    <a class="code hl_class" href="classavatar.html">avatar</a> &amp;u = <a class="code hl_function" href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a>();</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span> </div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>    <a class="code hl_class" href="classvehicle.html">vehicle</a> *veh = m.<a class="code hl_function" href="classmap.html#ae66fa55ab500d718db02445344a2ae8e">add_vehicle</a>( <a class="code hl_typedef" href="type__id_8h.html#a64efc8ab51816a59711440d464136eda">vproto_id</a>( <span class="stringliteral">&quot;none&quot;</span> ), p, 270_degrees, 0, 0 );</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span> </div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>    <span class="keywordflow">if</span>( !veh ) {</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;error constructing vehicle&quot;</span> );</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>    }</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>    veh-&gt;<a class="code hl_variable" href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">name</a> = <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>;</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>    <span class="keywordflow">if</span>( u.<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="construction_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a> ) ) {</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>        <span class="comment">// TODO: Allow DEBUG_HS to consume items that don&#39;t exist</span></div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>        veh-&gt;<a class="code hl_function" href="classvehicle.html#a720bcd814432de09323f4ca1dfb2eade">install_part</a>( <a class="code hl_variable" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code hl_typedef" href="type__id_8h.html#a01bb48ae3e1e67dbfa6a3a9679dc1b13">vpart_id</a>( <span class="stringliteral">&quot;frame_vertical_2&quot;</span> ) );</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>        veh-&gt;<a class="code hl_function" href="classvehicle.html#a720bcd814432de09323f4ca1dfb2eade">install_part</a>( <a class="code hl_variable" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, <a class="code hl_function" href="construction_8cpp.html#aaad62e57a75049f14dd56fea9dba9365">vpart_from_item</a>( u.<a class="code hl_variable" href="classplayer.html#af5812ab4dd02135ef80a99a81fc5b64d">lastconsumed</a> ) );</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>    }</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span> </div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>    <span class="comment">// Update the vehicle cache immediately,</span></div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>    <span class="comment">// or the vehicle will be invisible for the first couple of turns.</span></div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>    m.<a class="code hl_function" href="classmap.html#aa51d3d7bfa9acfbc62e9dbaac9450fc1">add_vehicle_to_cache</a>( veh );</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>}</div>
<div class="ttc" id="aavatar_8cpp_html_a2eddae690431cd32ce7a091217d68a3a"><div class="ttname"><a href="avatar_8cpp.html#a2eddae690431cd32ce7a091217d68a3a">get_avatar</a></div><div class="ttdeci">avatar &amp; get_avatar()</div><div class="ttdef"><b>Definition:</b> <a href="avatar_8cpp_source.html#l00103">avatar.cpp:103</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00103">mutation.cpp:103</a></div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00054">avatar.h:55</a></div></div>
<div class="ttc" id="aclassmap_html_aa51d3d7bfa9acfbc62e9dbaac9450fc1"><div class="ttname"><a href="classmap.html#aa51d3d7bfa9acfbc62e9dbaac9450fc1">map::add_vehicle_to_cache</a></div><div class="ttdeci">void add_vehicle_to_cache(vehicle *)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00271">map.cpp:271</a></div></div>
<div class="ttc" id="aclassmap_html_ae66fa55ab500d718db02445344a2ae8e"><div class="ttname"><a href="classmap.html#ae66fa55ab500d718db02445344a2ae8e">map::add_vehicle</a></div><div class="ttdeci">vehicle * add_vehicle(const vgroup_id &amp;type, const tripoint &amp;p, units::angle dir, int init_veh_fuel=-1, int init_veh_status=-1, bool merge_wrecks=true)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l05607">mapgen.cpp:5607</a></div></div>
<div class="ttc" id="aclassplayer_html_af5812ab4dd02135ef80a99a81fc5b64d"><div class="ttname"><a href="classplayer.html#af5812ab4dd02135ef80a99a81fc5b64d">player::lastconsumed</a></div><div class="ttdeci">itype_id lastconsumed</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00615">player.h:615</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html"><div class="ttname"><a href="classstring__input__popup.html">string_input_popup</a></div><div class="ttdoc">Shows a window querying the user for input.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00047">string_input_popup.h:48</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_acc88b6636bee68b1ee4f4dffc533d611"><div class="ttname"><a href="classstring__input__popup.html#acc88b6636bee68b1ee4f4dffc533d611">string_input_popup::width</a></div><div class="ttdeci">string_input_popup &amp; width(int value)</div><div class="ttdoc">Width (in console cells) of the input field itself.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00143">string_input_popup.h:143</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_acd7eba6664e8c473cc2b754f5d8d2cde"><div class="ttname"><a href="classstring__input__popup.html#acd7eba6664e8c473cc2b754f5d8d2cde">string_input_popup::query_string</a></div><div class="ttdeci">const std::string &amp; query_string(bool loop=true, bool draw_only=false)</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8cpp_source.html#l00291">string_input_popup.cpp:291</a></div></div>
<div class="ttc" id="aclassstring__input__popup_html_aeced4fb3877cc8e24da36af12af2e519"><div class="ttname"><a href="classstring__input__popup.html#aeced4fb3877cc8e24da36af12af2e519">string_input_popup::title</a></div><div class="ttdeci">string_input_popup &amp; title(const std::string &amp;value)</div><div class="ttdoc">The title: short string before the actual input field.</div><div class="ttdef"><b>Definition:</b> <a href="string__input__popup_8h_source.html#l00105">string_input_popup.h:105</a></div></div>
<div class="ttc" id="aclassvehicle_html"><div class="ttname"><a href="classvehicle.html">vehicle</a></div><div class="ttdoc">A vehicle as a whole with all its components.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00674">vehicle.h:675</a></div></div>
<div class="ttc" id="aclassvehicle_html_a441fa41f264fb7bc45df81d71244a0d1"><div class="ttname"><a href="classvehicle.html#a441fa41f264fb7bc45df81d71244a0d1">vehicle::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l01849">vehicle.h:1849</a></div></div>
<div class="ttc" id="aclassvehicle_html_a720bcd814432de09323f4ca1dfb2eade"><div class="ttname"><a href="classvehicle.html#a720bcd814432de09323f4ca1dfb2eade">vehicle::install_part</a></div><div class="ttdeci">int install_part(const point &amp;dp, const vpart_id &amp;id, bool force=false)</div><div class="ttdoc">Installs a part into this vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l01554">vehicle.cpp:1554</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_a2ba9e40123e7b42ccc2327d637311c5a"><div class="ttname"><a href="construction_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a></div><div class="ttdeci">static const trait_id trait_DEBUG_HS(&quot;DEBUG_HS&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_aaad62e57a75049f14dd56fea9dba9365"><div class="ttname"><a href="construction_8cpp.html#aaad62e57a75049f14dd56fea9dba9365">vpart_from_item</a></div><div class="ttdeci">static vpart_id vpart_from_item(const itype_id &amp;item_id)</div><div class="ttdef"><b>Definition:</b> <a href="construction_8cpp_source.html#l01321">construction.cpp:1321</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a8ba958ccfad28c0a5572a04dd1428f32"><div class="ttname"><a href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a></div><div class="ttdeci">std::string name(type dir)</div><div class="ttdoc">Get Human readable name of a direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l04126">overmap.cpp:4126</a></div></div>
<div class="ttc" id="apoint_8h_html_a0ee2195dcb488ae55fbf4316f5011172"><div class="ttname"><a href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></div><div class="ttdeci">static constexpr point point_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00274">point.h:274</a></div></div>
<div class="ttc" id="atype__id_8h_html_a01bb48ae3e1e67dbfa6a3a9679dc1b13"><div class="ttname"><a href="type__id_8h.html#a01bb48ae3e1e67dbfa6a3a9679dc1b13">vpart_id</a></div><div class="ttdeci">string_id&lt; vpart_info &gt; vpart_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00190">type_id.h:190</a></div></div>
<div class="ttc" id="atype__id_8h_html_a64efc8ab51816a59711440d464136eda"><div class="ttname"><a href="type__id_8h.html#a64efc8ab51816a59711440d464136eda">vproto_id</a></div><div class="ttdeci">string_id&lt; vehicle_prototype &gt; vproto_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00193">type_id.h:193</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="mapgen_8cpp_source.html#l05607">map::add_vehicle()</a>, <a class="el" href="map_8cpp_source.html#l00271">map::add_vehicle_to_cache()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="avatar_8cpp_source.html#l00103">get_avatar()</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="vehicle_8cpp_source.html#l01554">vehicle::install_part()</a>, <a class="el" href="player_8h_source.html#l00615">player::lastconsumed</a>, <a class="el" href="overmap_8cpp_source.html#l04126">om_direction::name()</a>, <a class="el" href="vehicle_8h_source.html#l01849">vehicle::name</a>, <a class="el" href="point_8h_source.html#l00274">point_zero</a>, <a class="el" href="string__input__popup_8cpp_source.html#l00291">string_input_popup::query_string()</a>, <a class="el" href="string__input__popup_8h_source.html#l00105">string_input_popup::title()</a>, <a class="el" href="construction_8cpp.html#a2ba9e40123e7b42ccc2327d637311c5a">trait_DEBUG_HS</a>, <a class="el" href="construction_8cpp_source.html#l01321">vpart_from_item()</a>, and <a class="el" href="string__input__popup_8h_source.html#l00143">string_input_popup::width()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="aa842c3279cf6e8002c7bcce3d25fba1f" name="aa842c3279cf6e8002c7bcce3d25fba1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa842c3279cf6e8002c7bcce3d25fba1f">&#9670;&nbsp;</a></span>done_window_curtains()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_window_curtains </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01543">1543</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>{</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>    <span class="comment">// copied from iexamine::curtains</span></div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>    here.<a class="code hl_function" href="classmap.html#acfe43259087397daac52876165a3120c">spawn_item</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos(), <a class="code hl_variable" href="construction_8cpp.html#a9579eda537b28a33a9d7027f67524ee3">itype_nail</a>, 1, 4 );</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>    here.<a class="code hl_function" href="classmap.html#acfe43259087397daac52876165a3120c">spawn_item</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos(), <a class="code hl_variable" href="construction_8cpp.html#a8177cdbd5018d9944687a9ec28eafcc1">itype_sheet</a>, 2 );</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span>    here.<a class="code hl_function" href="classmap.html#acfe43259087397daac52876165a3120c">spawn_item</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos(), <a class="code hl_variable" href="construction_8cpp.html#a507edb748d0809febec3f0ccb457c760">itype_stick</a> );</div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>    here.<a class="code hl_function" href="classmap.html#acfe43259087397daac52876165a3120c">spawn_item</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos(), <a class="code hl_variable" href="construction_8cpp.html#a02e82e402a863e0dc999947e5d4ca47c">itype_string_36</a> );</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.add_msg_if_player(</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;After boarding up the window the curtains and curtain rod are left.&quot;</span> ) );</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>}</div>
<div class="ttc" id="aclassmap_html_acfe43259087397daac52876165a3120c"><div class="ttname"><a href="classmap.html#acfe43259087397daac52876165a3120c">map::spawn_item</a></div><div class="ttdeci">void spawn_item(const tripoint &amp;p, const itype_id &amp;type_id, unsigned quantity=1, int charges=0, const time_point &amp;birthday=calendar::start_of_cataclysm, int damlevel=0)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04194">map.cpp:4194</a></div></div>
<div class="ttc" id="aconstruction_8cpp_html_a02e82e402a863e0dc999947e5d4ca47c"><div class="ttname"><a href="construction_8cpp.html#a02e82e402a863e0dc999947e5d4ca47c">itype_string_36</a></div><div class="ttdeci">static const itype_id itype_string_36(&quot;string_36&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a507edb748d0809febec3f0ccb457c760"><div class="ttname"><a href="construction_8cpp.html#a507edb748d0809febec3f0ccb457c760">itype_stick</a></div><div class="ttdeci">static const itype_id itype_stick(&quot;stick&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a8177cdbd5018d9944687a9ec28eafcc1"><div class="ttname"><a href="construction_8cpp.html#a8177cdbd5018d9944687a9ec28eafcc1">itype_sheet</a></div><div class="ttdeci">static const itype_id itype_sheet(&quot;sheet&quot;)</div></div>
<div class="ttc" id="aconstruction_8cpp_html_a9579eda537b28a33a9d7027f67524ee3"><div class="ttname"><a href="construction_8cpp.html#a9579eda537b28a33a9d7027f67524ee3">itype_nail</a></div><div class="ttdeci">static const itype_id itype_nail(&quot;nail&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="game_8cpp_source.html#l00276">g</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="construction_8cpp.html#a9579eda537b28a33a9d7027f67524ee3">itype_nail</a>, <a class="el" href="construction_8cpp.html#a8177cdbd5018d9944687a9ec28eafcc1">itype_sheet</a>, <a class="el" href="construction_8cpp.html#a507edb748d0809febec3f0ccb457c760">itype_stick</a>, <a class="el" href="construction_8cpp.html#a02e82e402a863e0dc999947e5d4ca47c">itype_string_36</a>, and <a class="el" href="map_8cpp_source.html#l04194">map::spawn_item()</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="aba920f8a721ecabf9bd8f686130f5cba" name="aba920f8a721ecabf9bd8f686130f5cba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba920f8a721ecabf9bd8f686130f5cba">&#9670;&nbsp;</a></span>done_wood_stairs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::done_wood_stairs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01536">1536</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>{</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> top = p + <a class="code hl_variable" href="point_8h.html#aff85224e35f4fc5c8ac34e20a1007c4c">tripoint_above</a>;</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>    <span class="comment">// TODO: Add roof above</span></div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>    <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().<a class="code hl_function" href="classmap.html#a75c60b0b73d8b492df608a2a4b824784">ter_set</a>( top, <a class="code hl_typedef" href="type__id_8h.html#a52570fdf9996c7b72d444f8020a741e8">ter_id</a>( <span class="stringliteral">&quot;t_wood_stairs_down&quot;</span> ) );</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="map_8cpp_source.html#l01639">map::ter_set()</a>, and <a class="el" href="point_8h_source.html#l00294">tripoint_above</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="a5a473edc35bfa20fa0558660a1c50391" name="a5a473edc35bfa20fa0558660a1c50391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a473edc35bfa20fa0558660a1c50391">&#9670;&nbsp;</a></span>failure_deconstruct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::failure_deconstruct </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01599">1599</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>{</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot deconstruct this!&quot;</span> ) );</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, and <a class="el" href="enums_8h_source.html#l00265">m_info</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
<a id="adb480b49f58f61f644b83d16a57e2af4" name="adb480b49f58f61f644b83d16a57e2af4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb480b49f58f61f644b83d16a57e2af4">&#9670;&nbsp;</a></span>failure_standard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void construct::failure_standard </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="construction_8cpp_source.html#l01594">1594</a> of file <a class="el" href="construction_8cpp_source.html">construction.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>{</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You cannot build there!&quot;</span> ) );</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, and <a class="el" href="enums_8h_source.html#l00265">m_info</a>.</p>

<p class="reference">Referenced by <a class="el" href="construction_8cpp_source.html#l01604">construction::load()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceconstruct.html">construct</a></li>
    <li class="footer">Generated on Mon Dec 12 2022 13:00:32 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
