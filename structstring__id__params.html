<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: string_id_params&lt; T &gt; Struct Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structstring__id__params.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="structstring__id__params-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">string_id_params&lt; T &gt; Struct Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This represents an identifier (implemented as std::string) of some object.  
 <a href="structstring__id__params.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="string__id_8h_source.html">string_id.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a899acf1c9111d2bfbb567658616496f2"><td class="memItemLeft" align="right" valign="top">static constexpr bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstring__id__params.html#a899acf1c9111d2bfbb567658616496f2">dynamic</a> = false</td></tr>
<tr class="separator:a899acf1c9111d2bfbb567658616496f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename T&gt;<br />
struct string_id_params&lt; T &gt;</div><p >This represents an identifier (implemented as std::string) of some object. </p>
<p >It can be used for all type of objects, one just needs to specify a type as template parameter T, which separates the different identifier types.</p>
<p >The constructor is explicit on purpose, you have to write </p><div class="fragment"><div class="line"><span class="keyword">auto</span> someid = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca">mtype_id</a>(<span class="stringliteral">&quot;mon_dog&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span>( critter.type-&gt;id == <a class="code hl_class" href="classstring__id.html">mtype_id</a>(<span class="stringliteral">&quot;mon_cat&quot;</span>) ) { ...</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4aabdee90f7518eedc26e713014acfcaca">cata_variant_type::mtype_id</a></div><div class="ttdeci">@ mtype_id</div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; mtype &gt;</a></div></div>
</div><!-- fragment --><p> This allows to find all ids that are initialized from static literals (and not through the json loading). The can than easily be checked against the json definition to see whether they are actually defined there (or whether they are defined only in a mod).</p>
<p >Example: </p><div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structitype.html">itype</a>;</div>
<div class="line"><span class="keyword">using</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> = <a class="code hl_class" href="classstring__id.html">string_id&lt;itype&gt;</a>;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="structmtype.html">mtype</a>;</div>
<div class="line"><span class="keyword">using</span> <a class="code hl_class" href="classstring__id.html">mtype_id</a> = <a class="code hl_class" href="classstring__id.html">string_id&lt;mtype&gt;</a>;</div>
<div class="ttc" id="astructitype_html"><div class="ttname"><a href="structitype.html">itype</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00836">itype.h:836</a></div></div>
<div class="ttc" id="astructmtype_html"><div class="ttname"><a href="structmtype.html">mtype</a></div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00208">mtype.h:208</a></div></div>
</div><!-- fragment --><p> The types mtype_id and itype_id declared here are separate, the compiler will not allow assignment / comparison of mtype_id and itype_id. Note that a forward declaration is sufficient for the template parameter type.</p>
<p >If an id is used locally in just one header &amp; source file, then feel free to define it in those files. If it is used more widely (like mtype_id), then please define it in <a class="el" href="type__id_8h.html">type_id.h</a>, a central light-weight header that defines all ids people might want to use. This prevents duplicate definitions in many files.</p>
<p >Notes on usage and performance (comparison between ids, <a class="el" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a> lookup, assuming default implementation of <a class="el" href="classgeneric__factory.html">generic_factory</a> is used):</p>
<p ><code><a class="el" href="classint__id.html" title="Just like the string_id, this is a wrapper for int based identifiers.">int_id</a></code> is fastest, but it can't be reused after game reload. Depending on the loaded combination of mods <code><a class="el" href="classint__id.html" title="Just like the string_id, this is a wrapper for int based identifiers.">int_id</a></code> might point to a different entity and there is no way to tell. Because of this NEVER define static int ids. But, it's safe to cache and use <a class="el" href="classint__id.html" title="Just like the string_id, this is a wrapper for int based identifiers.">int_id</a> within the game session.</p>
<p ><code><a class="el" href="classstring__id.html">string_id</a></code> is a bit slower than <a class="el" href="classint__id.html" title="Just like the string_id, this is a wrapper for int based identifiers.">int_id</a>, but it's safe to use the same instance between game reloads. That means that <a class="el" href="classstring__id.html">string_id</a> can be static (and should be for maximal performance). Comparison of string ids is relatively slow (same as std::string comparison). for newly created <a class="el" href="classstring__id.html">string_id</a> (i.e. inline constant or local variable), first method invocation: <code><a class="el" href="classint__id.html#a09d4f824b2540da7e682d10cdf324081">id</a></code> call is relatively slow (string hash map lookup) <code><a class="el" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a></code> lookup is slow (string hash map lookup + array read) note, after the first invocation, all subsequent calls on the same <a class="el" href="classstring__id.html">string_id</a> instance are fast for old (or static) <a class="el" href="classstring__id.html">string_id</a>, second and subsequent method invocations: conversion to <a class="el" href="classint__id.html" title="Just like the string_id, this is a wrapper for int based identifiers.">int_id</a> is extremely fast (just returns int field) <code><a class="el" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a></code> call is relatively fast (array read by int index), a bit slower than on <a class="el" href="classint__id.html" title="Just like the string_id, this is a wrapper for int based identifiers.">int_id</a> Type marker that specifies whether string ids of a specific type are "static" (i.e. "interned", having a single pointer inside) or "dynamic" (non-interned, having std::string inside).</p>
<p >By default all string ids are static/interned. To make a specific <a class="el" href="classstring__id.html">string_id</a> type dynamic, add the following specialization: template&lt;&gt; struct string_id_params&lt;T&gt; { static constexpr bool dynamic = true; }; Replace <code>T</code> above with concrete type of the string id (see below for examples) </p>

<p class="definition">Definition at line <a class="el" href="string__id_8h_source.html#l00088">88</a> of file <a class="el" href="string__id_8h_source.html">string_id.h</a>.</p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a899acf1c9111d2bfbb567658616496f2" name="a899acf1c9111d2bfbb567658616496f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a899acf1c9111d2bfbb567658616496f2">&#9670;&nbsp;</a></span>dynamic</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr bool <a class="el" href="structstring__id__params.html">string_id_params</a>&lt; T &gt;::dynamic = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="string__id_8h_source.html#l00089">89</a> of file <a class="el" href="string__id_8h_source.html">string_id.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/<a class="el" href="string__id_8h_source.html">string_id.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structstring__id__params.html">string_id_params</a></li>
    <li class="footer">Generated on Tue Feb 28 2023 21:53:19 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
