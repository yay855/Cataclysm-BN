<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: src/item_factory.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('item__factory_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">item_factory.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="item__factory_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#include &quot;<a class="code" href="item__factory_8h.html">item_factory.h</a>&quot;</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &lt;cstdlib&gt;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;stdexcept&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;type_traits&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;unordered_set&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span> </div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="addiction_8h.html">addiction.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="ammo_8h.html">ammo.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="artifact_8h.html">artifact.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="assign_8h.html">assign.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="bodypart_8h.html">bodypart.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="calendar_8h.html">calendar.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="cata__utility_8h.html">cata_utility.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="catacharset_8h.html">catacharset.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="color_8h.html">color.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="damage_8h.html">damage.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="debug_8h.html">debug.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="enum__conversions_8h.html">enum_conversions.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="enums_8h.html">enums.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="explosion_8h.html">explosion.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="flag_8h.html">flag.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="flat__set_8h.html">flat_set.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="game__constants_8h.html">game_constants.h</a>&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;<a class="code" href="generic__factory_8h.html">generic_factory.h</a>&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="init_8h.html">init.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;<a class="code" href="input_8h.html">input.h</a>&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;<a class="code" href="item_8h.html">item.h</a>&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;<a class="code" href="item__contents_8h.html">item_contents.h</a>&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &quot;<a class="code" href="item__group_8h.html">item_group.h</a>&quot;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &quot;<a class="code" href="iuse__actor_8h.html">iuse_actor.h</a>&quot;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &quot;<a class="code" href="json_8h.html">json.h</a>&quot;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#include &quot;<a class="code" href="material_8h.html">material.h</a>&quot;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#include &quot;<a class="code" href="optional_8h.html">optional.h</a>&quot;</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="preprocessor">#include &quot;<a class="code" href="options_8h.html">options.h</a>&quot;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="preprocessor">#include &quot;<a class="code" href="recipe_8h.html">recipe.h</a>&quot;</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="preprocessor">#include &quot;<a class="code" href="recipe__dictionary_8h.html">recipe_dictionary.h</a>&quot;</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">#include &quot;<a class="code" href="relic_8h.html">relic.h</a>&quot;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="preprocessor">#include &quot;<a class="code" href="requirements_8h.html">requirements.h</a>&quot;</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="preprocessor">#include &quot;<a class="code" href="skill_8h.html">skill.h</a>&quot;</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="preprocessor">#include &quot;<a class="code" href="stomach_8h.html">stomach.h</a>&quot;</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="preprocessor">#include &quot;<a class="code" href="string__formatter_8h.html">string_formatter.h</a>&quot;</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="preprocessor">#include &quot;<a class="code" href="string__id_8h.html">string_id.h</a>&quot;</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="preprocessor">#include &quot;<a class="code" href="string__utils_8h.html">string_utils.h</a>&quot;</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="preprocessor">#include &quot;<a class="code" href="text__snippets_8h.html">text_snippets.h</a>&quot;</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="preprocessor">#include &quot;<a class="code" href="translations_8h.html">translations.h</a>&quot;</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="preprocessor">#include &quot;<a class="code" href="ui_8h.html">ui.h</a>&quot;</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="preprocessor">#include &quot;<a class="code" href="units_8h.html">units.h</a>&quot;</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="preprocessor">#include &quot;<a class="code" href="value__ptr_8h.html">value_ptr.h</a>&quot;</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="preprocessor">#include &quot;<a class="code" href="veh__type_8h.html">veh_type.h</a>&quot;</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="preprocessor">#include &quot;<a class="code" href="vitamin_8h.html">vitamin.h</a>&quot;</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="keyword">class </span><a class="code hl_class" href="classplayer.html">player</a>;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><span class="keyword">struct </span><a class="code hl_struct" href="structtripoint.html">tripoint</a>;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a112454b48fbc4eb47cb271e5ab79e23f">   62</a></span><span class="keyword">static</span> std::set&lt;itype_id&gt; <a class="code hl_variable" href="item__factory_8cpp.html#a112454b48fbc4eb47cb271e5ab79e23f">item_blacklist</a>;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span> </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">   64</a></span><span class="keyword">static</span> <a class="code hl_typedef" href="classDynamicDataLoader.html#ae7720100aeff1549501c1eff641d29dd">DynamicDataLoader::deferred_json</a> <a class="code hl_variable" href="item__factory_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a>;</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#acdd8191d56041e5767d8168b564a948d">   66</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="item__factory_8cpp.html#acdd8191d56041e5767d8168b564a948d">ammo_effect_COOKOFF</a>( <span class="stringliteral">&quot;COOKOFF&quot;</span> );</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#aac5abe3e4bd613b31a66a3a04df87a87">   67</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="item__factory_8cpp.html#aac5abe3e4bd613b31a66a3a04df87a87">ammo_effect_EXPLOSIVE</a>( <span class="stringliteral">&quot;EXPLOSIVE&quot;</span> );</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a35987c8e1f8377a55abe84dfd8521e6c">   68</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="item__factory_8cpp.html#a35987c8e1f8377a55abe84dfd8521e6c">ammo_effect_EXPLOSIVE_BIG</a>( <span class="stringliteral">&quot;EXPLOSIVE_BIG&quot;</span> );</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#ac64aed96a4f4dc3983187fef3798be7d">   69</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="item__factory_8cpp.html#ac64aed96a4f4dc3983187fef3798be7d">ammo_effect_EXPLOSIVE_HUGE</a>( <span class="stringliteral">&quot;EXPLOSIVE_HUGE&quot;</span> );</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a2b7fab813a40f0f449553428a86ffd7e">   70</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="item__factory_8cpp.html#a2b7fab813a40f0f449553428a86ffd7e">ammo_effect_EXPLOSIVE_SMALL</a>( <span class="stringliteral">&quot;EXPLOSIVE_SMALL&quot;</span> );</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a5a281cbfa05ef1e322550d893c9bc112">   71</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="item__factory_8cpp.html#a5a281cbfa05ef1e322550d893c9bc112">ammo_effect_FLASHBANG</a>( <span class="stringliteral">&quot;FLASHBANG&quot;</span> );</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a935ebfdbd5a30733394eecf55e582230">   72</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="item__factory_8cpp.html#a935ebfdbd5a30733394eecf55e582230">ammo_effect_FRAG</a>( <span class="stringliteral">&quot;FRAG&quot;</span> );</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a506fc166f774a4ac78c54dd998286ef1">   73</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="item__factory_8cpp.html#a506fc166f774a4ac78c54dd998286ef1">ammo_effect_INCENDIARY</a>( <span class="stringliteral">&quot;INCENDIARY&quot;</span> );</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#aa4c9f0b19a1528d31cf326fc1a172845">   74</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="item__factory_8cpp.html#aa4c9f0b19a1528d31cf326fc1a172845">ammo_effect_NAPALM</a>( <span class="stringliteral">&quot;NAPALM&quot;</span> );</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a9eb96e4a86c3afc10c7787c6d893e7a1">   75</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="item__factory_8cpp.html#a9eb96e4a86c3afc10c7787c6d893e7a1">ammo_effect_NAPALM_BIG</a>( <span class="stringliteral">&quot;NAPALM_BIG&quot;</span> );</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a0f4fe4bd5d4a6c971b938f573f015886">   76</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="item__factory_8cpp.html#a0f4fe4bd5d4a6c971b938f573f015886">ammo_effect_SMOKE</a>( <span class="stringliteral">&quot;SMOKE&quot;</span> );</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a4a0f387b756b27806acd612df7589c57">   77</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="item__factory_8cpp.html#a4a0f387b756b27806acd612df7589c57">ammo_effect_SMOKE_BIG</a>( <span class="stringliteral">&quot;SMOKE_BIG&quot;</span> );</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#af27066fbeaeb6ef423c4926c5cf8e4cb">   78</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="item__factory_8cpp.html#af27066fbeaeb6ef423c4926c5cf8e4cb">ammo_effect_TOXICGAS</a>( <span class="stringliteral">&quot;TOXICGAS&quot;</span> );</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> </div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#aa80a3605aa9b7b995ec5ed9a3ac81e5e">   80</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">flag_str_id</a> <a class="code hl_variable" href="item__factory_8cpp.html#aa80a3605aa9b7b995ec5ed9a3ac81e5e">flag_MELEE_GUNMOD</a>( <span class="stringliteral">&quot;MELEE_GUNMOD&quot;</span> );</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span> </div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a0e987240fca9e226501b6c99ad0dd4a4">   82</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">gun_mode_id</a> <a class="code hl_variable" href="item__factory_8cpp.html#a0e987240fca9e226501b6c99ad0dd4a4">gun_mode_REACH</a>( <span class="stringliteral">&quot;REACH&quot;</span> );</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span> </div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">   85</a></span>std::unique_ptr&lt;Item_factory&gt; <a class="code hl_variable" href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a> = std::make_unique&lt;Item_factory&gt;();</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="comment"></span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="comment">/** @relates string_id */</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> &amp;<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id&lt;itype&gt;::obj</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *<a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <a class="code hl_variable" href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a>-&gt;find_template( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> dummy{};</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> ? *<a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> : dummy;</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>}</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span><span class="comment"></span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="comment">/** @relates string_id */</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="keywordtype">bool</span> <a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id&lt;itype&gt;::is_valid</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a>-&gt;has_template( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>}</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="keyword">static</span> <a class="code hl_class" href="classstring__id.html">item_category_id</a> <a class="code hl_function" href="item__factory_8cpp.html#af75903aaf526ac4beef1c4d46a449759">calc_category</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> &amp;<a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a> );</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="item__factory_8cpp.html#a00f2750af5bac1a8820a02582018dd36">hflesh_to_flesh</a>( <a class="code hl_struct" href="structitype.html">itype</a> &amp;item_template );</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a9910cca816b92f0a565dc6bc764889a6">  106</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="item__factory_8cpp.html#a9910cca816b92f0a565dc6bc764889a6">item_is_blacklisted</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;<span class="keywordtype">id</span> )</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>{</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="item__factory_8cpp.html#a112454b48fbc4eb47cb271e5ab79e23f">item_blacklist</a>.count( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>}</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">  111</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>,</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>                    std::map&lt;gun_mode_id, gun_modifier_data&gt; &amp;mods )</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>{</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <span class="keywordflow">if</span>( !jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> ) ) {</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    }</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    mods.clear();</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonArray.html">JsonArray</a> curr : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> ) ) {</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>        mods.emplace( <a class="code hl_typedef" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a>( curr.get_string( 0 ) ), <a class="code hl_class" href="classgun__modifier__data.html">gun_modifier_data</a>( curr.get_string( 1 ),</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>                      curr.get_int( 2 ), curr.size() &gt;= 4 ? curr.get_tags( 3 ) : std::set&lt;std::string&gt;() ) );</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    }</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>}</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span> </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a2bda59803270eafcc3ca16fb9169bbd1">  124</a></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="item__factory_8cpp.html#a2bda59803270eafcc3ca16fb9169bbd1">assign_coverage_from_json</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;key,</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>                                       <a class="code hl_class" href="classbody__part__set.html">body_part_set</a> &amp;parts, <span class="keywordtype">bool</span> &amp;sided )</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>{</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="keyword">auto</span> parse = [&amp;parts, &amp;sided]( <span class="keyword">const</span> std::string &amp; val_in ) {</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>        <span class="keyword">const</span> std::string &amp;val = <a class="code hl_variable" href="cached__options_8cpp.html#a16e6bc0b3300c5fb311e7f3571fb67c7">json_report_strict</a></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>                                 ? val_in</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>                                 : <a class="code hl_function" href="string__utils_8cpp.html#a34d7ffc8f91f1bdfed2b21d1411ad557">to_lower_case</a>( val_in );</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        <span class="keywordflow">if</span>( val == <span class="stringliteral">&quot;arms&quot;</span> || val == <span class="stringliteral">&quot;arm_either&quot;</span> ) {</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>            parts.<a class="code hl_function" href="classbody__part__set.html#a6e283702940781efa731615116bdd070">set</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a441080ba1d3930d38f635658d9b28e01">bp_arm_l</a> );</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>            parts.<a class="code hl_function" href="classbody__part__set.html#a6e283702940781efa731615116bdd070">set</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ae5f21c7494ad730a0c6abf6957976cb3">bp_arm_r</a> );</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( val == <span class="stringliteral">&quot;hands&quot;</span> || val == <span class="stringliteral">&quot;hand_either&quot;</span> ) {</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>            parts.<a class="code hl_function" href="classbody__part__set.html#a6e283702940781efa731615116bdd070">set</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2806629e65a2c2eb5d8049e29e77910e">bp_hand_l</a> );</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>            parts.<a class="code hl_function" href="classbody__part__set.html#a6e283702940781efa731615116bdd070">set</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a54721306a0e05318b6d0440349c1a0fb">bp_hand_r</a> );</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( val == <span class="stringliteral">&quot;legs&quot;</span> || val == <span class="stringliteral">&quot;leg_either&quot;</span> ) {</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>            parts.<a class="code hl_function" href="classbody__part__set.html#a6e283702940781efa731615116bdd070">set</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a44506e97ae9648354f97d530a3be61b8">bp_leg_l</a> );</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>            parts.<a class="code hl_function" href="classbody__part__set.html#a6e283702940781efa731615116bdd070">set</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a202ad82497ebf8867cdcd6ee15085d16">bp_leg_r</a> );</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( val == <span class="stringliteral">&quot;feet&quot;</span> || val == <span class="stringliteral">&quot;foot_either&quot;</span> ) {</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>            parts.<a class="code hl_function" href="classbody__part__set.html#a6e283702940781efa731615116bdd070">set</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a184f1b627fd11fb607e76b2d30dadfbb">bp_foot_l</a> );</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>            parts.<a class="code hl_function" href="classbody__part__set.html#a6e283702940781efa731615116bdd070">set</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac094b1c6f96ebbd604928cfd2fad0ab7">bp_foot_r</a> );</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>            parts.<a class="code hl_function" href="classbody__part__set.html#a6e283702940781efa731615116bdd070">set</a>( <a class="code hl_function" href="bodypart_8cpp.html#ad42c8031522b92ad3c31e55b0a4a71fa">get_body_part_token</a>( val ) );</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>        }</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>        sided |= val == <span class="stringliteral">&quot;arm_either&quot;</span> || val == <span class="stringliteral">&quot;hand_either&quot;</span> ||</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>                 val == <span class="stringliteral">&quot;leg_either&quot;</span> || val == <span class="stringliteral">&quot;foot_either&quot;</span>;</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    };</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span> </div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( key ) ) {</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( key ) ) {</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>            parse( <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> );</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        }</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( key ) ) {</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>        parse( jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( key ) );</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span> </div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    }</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>}</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span> </div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno"><a class="line" href="classItem__factory.html#a8b49fe019e92adc0e8ae3cebdbdf7c75">  165</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a8b49fe019e92adc0e8ae3cebdbdf7c75">Item_factory::finalize_pre</a>( <a class="code hl_struct" href="structitype.html">itype</a> &amp;<a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a> )</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>{</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="comment">// TODO: separate repairing from reinforcing/enhancement</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="structitype.html#aa0615d0fb9ee03b0b7350fe1f334d77b">damage_max</a>() == obj.<a class="code hl_function" href="structitype.html#a2f3c2ed05de02f597358adea3d57ef56">damage_min</a>() ) {</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>        obj.<a class="code hl_variable" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">item_tags</a>.insert( <span class="stringliteral">&quot;NO_REPAIR&quot;</span> );</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    }</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span> </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;STAB&quot;</span> ) || obj.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;SPEAR&quot;</span> ) ) {</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        <a class="code hl_function" href="namespacecata.html#a097b137e977a6b843c0dada2c8b19611">std::swap</a>( obj.<a class="code hl_variable" href="structitype.html#ae287a1f1bf88e79b98da2bb0893546a7">melee</a>[<a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51">DT_CUT</a>], obj.<a class="code hl_variable" href="structitype.html#ae287a1f1bf88e79b98da2bb0893546a7">melee</a>[<a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd">DT_STAB</a>] );</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    }</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span> </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="comment">// add usage methods (with default values) based upon qualities</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <span class="comment">// if a method was already set the specific values remain unchanged</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;q : obj.<a class="code hl_variable" href="structitype.html#a88ab4cc3858d8bb86e21cf83d13cc4c0">qualities</a> ) {</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;u : q.first.obj().usages ) {</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>            <span class="keywordflow">if</span>( q.second &gt;= u.first ) {</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>                <a class="code hl_function" href="classItem__factory.html#a74be8fac6c7cb1dc966f98069741955d">emplace_usage</a>( obj.<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>, u.second );</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>            }</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>        }</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    }</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span> </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">mod</a> ) {</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>        std::string func = obj.<a class="code hl_variable" href="structitype.html#a37edee7dafc5711621f26844cab78cf6">gunmod</a> ? <span class="stringliteral">&quot;GUNMOD_ATTACH&quot;</span> : <span class="stringliteral">&quot;TOOLMOD_ATTACH&quot;</span>;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>        <a class="code hl_function" href="classItem__factory.html#a74be8fac6c7cb1dc966f98069741955d">emplace_usage</a>( obj.<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>, func );</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a> ) {</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>        <span class="keyword">const</span> std::string func = <span class="stringliteral">&quot;detach_gunmods&quot;</span>;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>        <a class="code hl_function" href="classItem__factory.html#a74be8fac6c7cb1dc966f98069741955d">emplace_usage</a>( obj.<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>, func );</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    }</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span> </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;NO_FAULTS&quot;</span> ) ) {</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>        obj.<a class="code hl_variable" href="structitype.html#a71835820e6594955948ef1e8bc7bed68">faults</a>.clear();</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    }</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span> </div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <span class="comment">// If no category was forced via JSON automatically calculate one now</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <span class="keywordflow">if</span>( !obj.<a class="code hl_variable" href="structitype.html#a713cf194c7af78a6a101a6bfb26bc3a9">category_force</a>.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() || obj.<a class="code hl_variable" href="structitype.html#a713cf194c7af78a6a101a6bfb26bc3a9">category_force</a>.<a class="code hl_function" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>        obj.<a class="code hl_variable" href="structitype.html#a713cf194c7af78a6a101a6bfb26bc3a9">category_force</a> = <a class="code hl_function" href="item__factory_8cpp.html#af75903aaf526ac4beef1c4d46a449759">calc_category</a>( obj );</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    }</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span> </div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    <span class="comment">// use pre-cataclysm price as default if post-cataclysm price unspecified</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a435567e9d513701c13586b96e289e33a">price_post</a> &lt; 0_cent ) {</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>        obj.<a class="code hl_variable" href="structitype.html#a435567e9d513701c13586b96e289e33a">price_post</a> = obj.<a class="code hl_variable" href="structitype.html#a41038ca826de1713661d7edd6c1705d0">price</a>;</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    }</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <span class="comment">// use base volume if integral volume unspecified</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#aa5c0438c1bc94ded4e950ad684463a72">integral_volume</a> &lt; 0_ml ) {</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>        obj.<a class="code hl_variable" href="structitype.html#aa5c0438c1bc94ded4e950ad684463a72">integral_volume</a> = obj.<a class="code hl_variable" href="structitype.html#abd3ca12912367ae92d488864e09ea921">volume</a>;</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    }</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    <span class="comment">// use base weight if integral weight unspecified</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a5699c972f1a284761d3b0e1501fe8185">integral_weight</a> &lt; 0_gram ) {</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        obj.<a class="code hl_variable" href="structitype.html#a5699c972f1a284761d3b0e1501fe8185">integral_weight</a> = obj.<a class="code hl_variable" href="structitype.html#a4ecb806dae208ff275b4aa50ffcd3902">weight</a>;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    }</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    <span class="comment">// for ammo and comestibles stack size defaults to count of initial charges</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    <span class="comment">// Set max stack size to 200 to prevent integer overflow</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="structitype.html#a9defae7ba72f6d0af2e5629c4244f00e">count_by_charges</a>() ) {</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>        <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a> == 0 ) {</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>            obj.<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a> = obj.<a class="code hl_function" href="structitype.html#a7a44fbc429e7e78283c414cb0edcc97c">charges_default</a>();</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a> &gt; 200 ) {</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( obj.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a>.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() + <span class="stringliteral">&quot; stack size is too large, reducing to 200&quot;</span> );</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>            obj.<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a> = 200;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>        }</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    }</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span> </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <span class="comment">// Items always should have some volume.</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <span class="comment">// TODO: handle possible exception software?</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="comment">// TODO: make items with 0 volume an error during loading?</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#abd3ca12912367ae92d488864e09ea921">volume</a> &lt;= 0_ml ) {</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        obj.<a class="code hl_variable" href="structitype.html#abd3ca12912367ae92d488864e09ea921">volume</a> = <a class="code hl_function" href="namespaceunits.html#ae88f75884a4675d88f416f8fc6510558">units::from_milliliter</a>( 1 );</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    }</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span> </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <span class="comment">// set light_emission based on LIGHT_[X] flag</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;f : obj.<a class="code hl_variable" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">item_tags</a> ) {</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>        <span class="keywordtype">int</span> ll;</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>        <span class="keywordflow">if</span>( sscanf( f.c_str(), <span class="stringliteral">&quot;LIGHT_%i&quot;</span>, &amp;ll ) == 1 &amp;&amp; ll &gt; 0 ) {</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>            obj.<a class="code hl_variable" href="structitype.html#a64d8b1399996d38b2ed54e1543dcef50">light_emission</a> = ll;</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>        }</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    }</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    <span class="comment">// remove LIGHT_[X] flags</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <a class="code hl_function" href="cata__utility_8h.html#ad7f4be1b8ffc52a0be18e72d041241af">erase_if</a>( obj.<a class="code hl_variable" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">item_tags</a>, []( <span class="keyword">const</span> std::string &amp; f ) {</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        return f.find( <span class="stringliteral">&quot;LIGHT_&quot;</span> ) == 0;</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    } );</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span> </div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    <span class="comment">// Set max volume for containers to prevent integer overflow</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a> &amp;&amp; obj.<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;contains &gt; 10000_liter ) {</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( obj.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a>.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() + <span class="stringliteral">&quot; storage volume is too large, reducing to 10000 liters&quot;</span> );</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        obj.<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>-&gt;contains = 10000_liter;</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    }</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span> </div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a> ) {</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>        <span class="comment">// for ammo not specifying loudness (or an explicit zero) derive value from other properties</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;loudness &lt; 0 ) {</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>            obj.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;loudness = obj.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;range * 2;</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structdamage__unit.html">damage_unit</a> &amp;du : obj.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;damage ) {</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>                obj.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;loudness += ( du.<a class="code hl_variable" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> + du.<a class="code hl_variable" href="structdamage__unit.html#ab4d1b13f7ebe2f16a43038e1441ec2b5">res_pen</a> ) * 2;</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>            }</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>        }</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span> </div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;mats = obj.<a class="code hl_variable" href="structitype.html#a32ac824cb8437ef7a8288dafe6c6bfe1">materials</a>;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( mats.begin(), mats.end(), <a class="code hl_class" href="classstring__id.html">material_id</a>( <span class="stringliteral">&quot;hydrocarbons&quot;</span> ) ) == mats.end() &amp;&amp;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>            <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( mats.begin(), mats.end(), <a class="code hl_class" href="classstring__id.html">material_id</a>( <span class="stringliteral">&quot;oil&quot;</span> ) ) == mats.end() ) {</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_namespace" href="namespaceammo__effects.html">ammo_effects</a> = obj.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;ammo_effects;</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>            obj.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;cookoff = <a class="code hl_namespace" href="namespaceammo__effects.html">ammo_effects</a>.count( <a class="code hl_variable" href="item__factory_8cpp.html#a506fc166f774a4ac78c54dd998286ef1">ammo_effect_INCENDIARY</a> ) &gt; 0 ||</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>                                <a class="code hl_namespace" href="namespaceammo__effects.html">ammo_effects</a>.count( <a class="code hl_variable" href="item__factory_8cpp.html#acdd8191d56041e5767d8168b564a948d">ammo_effect_COOKOFF</a> ) &gt; 0;</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>            <span class="keyword">static</span> <span class="keyword">const</span> std::set&lt;ammo_effect_str_id&gt; special_cookoff_tags = {{</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>                    <a class="code hl_variable" href="item__factory_8cpp.html#aac5abe3e4bd613b31a66a3a04df87a87">ammo_effect_EXPLOSIVE</a>, <a class="code hl_variable" href="item__factory_8cpp.html#a35987c8e1f8377a55abe84dfd8521e6c">ammo_effect_EXPLOSIVE_BIG</a>, <a class="code hl_variable" href="item__factory_8cpp.html#ac64aed96a4f4dc3983187fef3798be7d">ammo_effect_EXPLOSIVE_HUGE</a>, <a class="code hl_variable" href="item__factory_8cpp.html#a2b7fab813a40f0f449553428a86ffd7e">ammo_effect_EXPLOSIVE_SMALL</a>, <a class="code hl_variable" href="item__factory_8cpp.html#a5a281cbfa05ef1e322550d893c9bc112">ammo_effect_FLASHBANG</a>, <a class="code hl_variable" href="item__factory_8cpp.html#a935ebfdbd5a30733394eecf55e582230">ammo_effect_FRAG</a>, <a class="code hl_variable" href="item__factory_8cpp.html#aa4c9f0b19a1528d31cf326fc1a172845">ammo_effect_NAPALM</a>, <a class="code hl_variable" href="item__factory_8cpp.html#a9eb96e4a86c3afc10c7787c6d893e7a1">ammo_effect_NAPALM_BIG</a>, <a class="code hl_variable" href="item__factory_8cpp.html#a0f4fe4bd5d4a6c971b938f573f015886">ammo_effect_SMOKE</a>, <a class="code hl_variable" href="item__factory_8cpp.html#a4a0f387b756b27806acd612df7589c57">ammo_effect_SMOKE_BIG</a>, <a class="code hl_variable" href="item__factory_8cpp.html#af27066fbeaeb6ef423c4926c5cf8e4cb">ammo_effect_TOXICGAS</a>,</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>                }</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>            };</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>            obj.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;special_cookoff = std::any_of( <a class="code hl_namespace" href="namespaceammo__effects.html">ammo_effects</a>.begin(), <a class="code hl_namespace" href="namespaceammo__effects.html">ammo_effects</a>.end(),</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>            []( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> &amp; ae_id ) {</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>                return special_cookoff_tags.count( ae_id ) &gt; 0;</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>            } );</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>            obj.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;cookoff = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>            obj.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;special_cookoff = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>        }</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span> </div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> iter = obj.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;ammo_effects.begin(); iter != obj.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;ammo_effects.end(); ) {</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>            <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> &amp;ae_id = *iter;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>            <span class="keywordflow">if</span>( ae_id.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>                iter++;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>                <span class="keywordtype">int</span> dummy = 0;</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>                <span class="keywordflow">if</span>( sscanf( ae_id.<a class="code hl_function" href="classstring__id.html#a19aea01aa4a1f53aac09acc978f67cf8">c_str</a>(), <span class="stringliteral">&quot;RECOVER_%i&quot;</span>, &amp;dummy ) == 1 ) {</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>                    obj.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;dont_recover_one_in *= dummy;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>                    <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;%s has unknown ammo_effect %s, removing&quot;</span>, obj.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a>, ae_id );</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>                }</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span> </div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>                iter = obj.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;ammo_effects.erase( iter );</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>            }</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>        }</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    }</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    <span class="keyword">const</span> <span class="keyword">auto</span> check_ammo_effects = []( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp; <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>, std::set&lt;ammo_effect_str_id&gt; &amp;effects ) {</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> iter = effects.begin(); iter != effects.end(); ) {</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>            <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> &amp;ae_id = *iter;</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>            <span class="keywordflow">if</span>( ae_id.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>                iter++;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>                <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;%s has unknown ammo_effect %s, removing&quot;</span>, <span class="keywordtype">id</span>, ae_id );</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>                iter = effects.erase( iter );</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>            }</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>        }</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    };</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a> ) {</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>        check_ammo_effects( obj.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a>, obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;ammo_effects );</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    }</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a37edee7dafc5711621f26844cab78cf6">gunmod</a> ) {</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        check_ammo_effects( obj.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a>, obj.<a class="code hl_variable" href="structitype.html#a37edee7dafc5711621f26844cab78cf6">gunmod</a>-&gt;ammo_effects );</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    }</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span> </div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    <span class="comment">// Helper for ammo migration in following sections</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <span class="keyword">auto</span> migrate_ammo_set = [&amp;]( std::set&lt;ammotype&gt; &amp;ammoset ) {</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> ammo_type_it = ammoset.begin(); ammo_type_it != ammoset.end(); ) {</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>            <span class="keyword">auto</span> maybe_migrated = <a class="code hl_variable" href="classItem__factory.html#ac58203a04bf0d221f64ec46d6d82b96e">migrated_ammo</a>.find( ammo_type_it-&gt;obj().default_ammotype() );</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>            <span class="keywordflow">if</span>( maybe_migrated != <a class="code hl_variable" href="classItem__factory.html#ac58203a04bf0d221f64ec46d6d82b96e">migrated_ammo</a>.end() ) {</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>                ammo_type_it = ammoset.erase( ammo_type_it );</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>                ammoset.insert( ammoset.begin(), maybe_migrated-&gt;second );</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>                ++ammo_type_it;</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>            }</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>        }</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>    };</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span> </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a> ) {</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>        <span class="comment">// ensure default_ammo is set</span></div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>        <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;default_ammo.is_null() ) {</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>            obj.<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;default_ammo = <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( *obj.<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;type.begin() )-&gt;<a class="code hl_function" href="classammunition__type.html#a78e84b57881c38e74df1c0b58a804ca0">default_ammotype</a>();</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>        }</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span> </div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>        <span class="comment">// If the magazine has ammo types for which the default ammo has been migrated, we need to</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>        <span class="comment">// replace those ammo types with that of the migrated ammo</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>        migrate_ammo_set( obj.<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;type );</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span> </div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        <span class="comment">// ensure default_ammo is migrated if need be</span></div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>        <span class="keyword">auto</span> maybe_migrated = <a class="code hl_variable" href="classItem__factory.html#ac58203a04bf0d221f64ec46d6d82b96e">migrated_ammo</a>.find( obj.<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;default_ammo );</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>        <span class="keywordflow">if</span>( maybe_migrated != <a class="code hl_variable" href="classItem__factory.html#ac58203a04bf0d221f64ec46d6d82b96e">migrated_ammo</a>.end() ) {</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>            obj.<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;default_ammo = maybe_migrated-&gt;second.obj().default_ammotype();</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>        }</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    }</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span> </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    <span class="comment">// Migrate compataible magazines</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> kv : obj.<a class="code hl_variable" href="structitype.html#a8f4b158de33b6320ba43249b005a2f94">magazines</a> ) {</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> mag_it = kv.second.begin(); mag_it != kv.second.end(); ) {</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>            <span class="keyword">auto</span> maybe_migrated = <a class="code hl_variable" href="classItem__factory.html#a777b712b7a0b03c6e0ad239ad29d7094">migrated_magazines</a>.find( *mag_it );</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>            <span class="keywordflow">if</span>( maybe_migrated != <a class="code hl_variable" href="classItem__factory.html#a777b712b7a0b03c6e0ad239ad29d7094">migrated_magazines</a>.end() ) {</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>                mag_it = kv.second.erase( mag_it );</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>                kv.second.insert( kv.second.begin(), maybe_migrated-&gt;second );</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>                ++mag_it;</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>            }</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>        }</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    }</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span> </div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <span class="comment">// Migrate default magazines</span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> kv : obj.<a class="code hl_variable" href="structitype.html#ab5c2a0ece3b013a4088b734cd34841d6">magazine_default</a> ) {</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>        <span class="keyword">auto</span> maybe_migrated = <a class="code hl_variable" href="classItem__factory.html#a777b712b7a0b03c6e0ad239ad29d7094">migrated_magazines</a>.find( kv.second );</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>        <span class="keywordflow">if</span>( maybe_migrated != <a class="code hl_variable" href="classItem__factory.html#a777b712b7a0b03c6e0ad239ad29d7094">migrated_magazines</a>.end() ) {</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>            kv.second = maybe_migrated-&gt;second;</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        }</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    }</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span> </div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">mod</a> ) {</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>        <span class="comment">// Migrate acceptable ammo and ammo modifiers</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>        migrate_ammo_set( obj.<a class="code hl_variable" href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">mod</a>-&gt;acceptable_ammo );</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>        migrate_ammo_set( obj.<a class="code hl_variable" href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">mod</a>-&gt;ammo_modifier );</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span> </div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> kv = obj.<a class="code hl_variable" href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">mod</a>-&gt;magazine_adaptor.begin(); kv != obj.<a class="code hl_variable" href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">mod</a>-&gt;magazine_adaptor.end(); ) {</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>            <span class="keyword">auto</span> maybe_migrated = <a class="code hl_variable" href="classItem__factory.html#ac58203a04bf0d221f64ec46d6d82b96e">migrated_ammo</a>.find( kv-&gt;first.obj().default_ammotype() );</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>            <span class="keywordflow">if</span>( maybe_migrated != <a class="code hl_variable" href="classItem__factory.html#ac58203a04bf0d221f64ec46d6d82b96e">migrated_ammo</a>.end() ) {</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;compatible_mag : kv-&gt;second ) {</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>                    obj.<a class="code hl_variable" href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">mod</a>-&gt;magazine_adaptor[maybe_migrated-&gt;second].insert( compatible_mag );</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>                }</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>                kv = obj.<a class="code hl_variable" href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">mod</a>-&gt;magazine_adaptor.erase( kv );</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>                ++kv;</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>            }</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>        }</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    }</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span> </div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a37edee7dafc5711621f26844cab78cf6">gunmod</a> &amp;&amp; !obj.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <a class="code hl_variable" href="item__factory_8cpp.html#aa80a3605aa9b7b995ec5ed9a3ac81e5e">flag_MELEE_GUNMOD</a> ) ) {</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const gun_mode_id, gun_modifier_data&gt; &amp;pr : obj.<a class="code hl_variable" href="structitype.html#a37edee7dafc5711621f26844cab78cf6">gunmod</a>-&gt;mode_modifier ) {</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>            <span class="keywordflow">if</span>( pr.first == <a class="code hl_variable" href="item__factory_8cpp.html#a0e987240fca9e226501b6c99ad0dd4a4">gun_mode_REACH</a> ) {</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>                obj.<a class="code hl_variable" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">item_tags</a>.insert( <a class="code hl_variable" href="item__factory_8cpp.html#aa80a3605aa9b7b995ec5ed9a3ac81e5e">flag_MELEE_GUNMOD</a>.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>            }</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>        }</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    }</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span> </div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a> ) {</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>        <span class="comment">// If the gun has ammo types for which the default ammo has been migrated, we need to</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>        <span class="comment">// replace those ammo types with that of the migrated ammo</span></div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> ammo_type_it = obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;ammo.begin(); ammo_type_it != obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;ammo.end(); ) {</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>            <span class="keyword">auto</span> maybe_migrated = <a class="code hl_variable" href="classItem__factory.html#ac58203a04bf0d221f64ec46d6d82b96e">migrated_ammo</a>.find( ammo_type_it-&gt;obj().default_ammotype() );</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>            <span class="keywordflow">if</span>( maybe_migrated != <a class="code hl_variable" href="classItem__factory.html#ac58203a04bf0d221f64ec46d6d82b96e">migrated_ammo</a>.end() ) {</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>                <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> old_ammo = *ammo_type_it;</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>                <span class="comment">// Remove the old ammotype add the migrated version</span></div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>                ammo_type_it = obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;ammo.erase( ammo_type_it );</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>                <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;new_ammo = maybe_migrated-&gt;second;</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>                obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;ammo.insert( obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;ammo.begin(), new_ammo );</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>                <span class="comment">// Migrate the compatible magazines</span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>                <span class="keyword">auto</span> old_mag_it = obj.<a class="code hl_variable" href="structitype.html#a8f4b158de33b6320ba43249b005a2f94">magazines</a>.find( old_ammo );</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>                <span class="keywordflow">if</span>( old_mag_it != obj.<a class="code hl_variable" href="structitype.html#a8f4b158de33b6320ba43249b005a2f94">magazines</a>.end() ) {</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;old_mag : old_mag_it-&gt;second ) {</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>                        obj.<a class="code hl_variable" href="structitype.html#a8f4b158de33b6320ba43249b005a2f94">magazines</a>[new_ammo].insert( old_mag );</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>                    }</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>                    obj.<a class="code hl_variable" href="structitype.html#a8f4b158de33b6320ba43249b005a2f94">magazines</a>.erase( old_ammo );</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>                }</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>                <span class="comment">// And the default magazines for each magazine type</span></div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>                <span class="keyword">auto</span> old_default_mag_it = obj.<a class="code hl_variable" href="structitype.html#ab5c2a0ece3b013a4088b734cd34841d6">magazine_default</a>.find( old_ammo );</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>                <span class="keywordflow">if</span>( old_default_mag_it != obj.<a class="code hl_variable" href="structitype.html#ab5c2a0ece3b013a4088b734cd34841d6">magazine_default</a>.end() ) {</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>                    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;old_default_mag = old_default_mag_it-&gt;second;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>                    obj.<a class="code hl_variable" href="structitype.html#ab5c2a0ece3b013a4088b734cd34841d6">magazine_default</a>[new_ammo] = old_default_mag;</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>                    obj.<a class="code hl_variable" href="structitype.html#ab5c2a0ece3b013a4088b734cd34841d6">magazine_default</a>.erase( old_ammo );</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>                }</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>                ++ammo_type_it;</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>            }</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>        }</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span> </div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>        <span class="comment">// TODO: add explicit action field to gun definitions</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>        <span class="keyword">const</span> <span class="keyword">auto</span> defmode_name = [&amp;]() {</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>            <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;clip == 1 ) {</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;manual&quot;</span> ); <span class="comment">// break-type actions</span></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;skill_used == <a class="code hl_class" href="classstring__id.html">skill_id</a>( <span class="stringliteral">&quot;pistol&quot;</span> ) &amp;&amp; obj.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;RELOAD_ONE&quot;</span> ) ) {</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;revolver&quot;</span> );</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>                <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;semi&quot;</span> );</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>            }</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>        };</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span> </div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>        <span class="comment">// if the gun doesn&#39;t have a DEFAULT mode then add one now</span></div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>        obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;modes.emplace( <a class="code hl_typedef" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a>( <span class="stringliteral">&quot;DEFAULT&quot;</span> ),</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>                                <a class="code hl_class" href="classgun__modifier__data.html">gun_modifier_data</a>( defmode_name(), 1, std::set&lt;std::string&gt;() ) );</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span> </div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        <span class="comment">// If a &quot;gun&quot; has a reach attack, give it an additional melee mode.</span></div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>        <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;REACH_ATTACK&quot;</span> ) ) {</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>            obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;modes.emplace( <a class="code hl_typedef" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a>( <span class="stringliteral">&quot;MELEE&quot;</span> ),</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>                                    <a class="code hl_class" href="classgun__modifier__data.html">gun_modifier_data</a>( <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;melee&quot;</span> ), 1,</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>            { <span class="stringliteral">&quot;MELEE&quot;</span> } ) );</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>        }</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>        <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;burst &gt; 1 ) {</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>            <span class="comment">// handle legacy JSON format</span></div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>            obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;modes.emplace( <a class="code hl_typedef" href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a>( <span class="stringliteral">&quot;AUTO&quot;</span> ),</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>                                    <a class="code hl_class" href="classgun__modifier__data.html">gun_modifier_data</a>( <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;auto&quot;</span> ), obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;burst,</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>                                            std::set&lt;std::string&gt;() ) );</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>        }</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span> </div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>        <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;handling &lt; 0 ) {</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>            <span class="keywordtype">bool</span> burst_only = std::all_of( obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;modes.begin(), obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;modes.end(),</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>            []( <span class="keyword">const</span> std::pair&lt;gun_mode_id, gun_modifier_data&gt; &amp;pr ) {</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>                return pr.second.qty() &gt; 1 || pr.second.flags().count( <span class="stringliteral">&quot;MELEE&quot;</span> ) &gt; 0;</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>            } );</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>            <span class="comment">// TODO: specify in JSON via classes</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>            <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;skill_used == <a class="code hl_class" href="classstring__id.html">skill_id</a>( <span class="stringliteral">&quot;shotgun&quot;</span> ) ) {</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>                obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;handling = 30;</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;skill_used == <a class="code hl_class" href="classstring__id.html">skill_id</a>( <span class="stringliteral">&quot;rifle&quot;</span> ) ||</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>                       obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;skill_used == <a class="code hl_class" href="classstring__id.html">skill_id</a>( <span class="stringliteral">&quot;smg&quot;</span> ) ) {</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>                obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;handling = burst_only ? 40 : 20;</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>                obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;handling = burst_only ? 25 : 15;</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>            }</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>        }</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span> </div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>        obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;reload_noise = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( obj.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;reload_noise );</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>    }</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span> </div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>    <a class="code hl_function" href="classItem__factory.html#a06d9c7312db07df1a2e0cb97ad8a8dae">set_allergy_flags</a>( obj );</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    <a class="code hl_function" href="item__factory_8cpp.html#a00f2750af5bac1a8820a02582018dd36">hflesh_to_flesh</a>( obj );</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>    <a class="code hl_function" href="classItem__factory.html#a2575b508d2fea4ba82af973171d6f45a">npc_implied_flags</a>( obj );</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span> </div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#aa656fede37aaf975ab567bcc5c6a452e">comestible</a> ) {</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>        std::map&lt;vitamin_id, int&gt; &amp;vitamins = obj.<a class="code hl_variable" href="structitype.html#aa656fede37aaf975ab567bcc5c6a452e">comestible</a>-&gt;default_nutrition.vitamins;</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>        <span class="keywordflow">if</span>( get_option&lt;bool&gt;( <span class="stringliteral">&quot;NO_VITAMINS&quot;</span> ) ) {</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;vit : vitamins ) {</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>                <span class="keywordflow">if</span>( vit.first-&gt;type() == <a class="code hl_enumvalue" href="vitamin_8h.html#a1614a36ad4442e08210a822735541012a6332547a7029263c6caae02ab40dc0d3">vitamin_type::VITAMIN</a> ) {</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>                    vit.second = 0;</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>                }</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>            }</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( vitamins.empty() &amp;&amp; obj.<a class="code hl_variable" href="structitype.html#aa656fede37aaf975ab567bcc5c6a452e">comestible</a>-&gt;healthy &gt;= 0 ) {</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>            <span class="comment">// Default vitamins of healthy comestibles to their edible base materials if none explicitly specified.</span></div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>            <span class="keyword">auto</span> healthy = std::max( obj.<a class="code hl_variable" href="structitype.html#aa656fede37aaf975ab567bcc5c6a452e">comestible</a>-&gt;healthy, 1 ) * 10;</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>            <span class="keyword">auto</span> mat = obj.<a class="code hl_variable" href="structitype.html#a32ac824cb8437ef7a8288dafe6c6bfe1">materials</a>;</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span> </div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>            <span class="comment">// TODO: migrate inedible comestibles to appropriate alternative types.</span></div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>            mat.erase( std::remove_if( mat.begin(), mat.end(), []( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">string_id&lt;material_type&gt;</a> &amp;m ) {</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>                return !m.obj().edible();</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>            } ), mat.end() );</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span> </div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>            <span class="comment">// For comestibles composed of multiple edible materials we calculate the average.</span></div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;v : <a class="code hl_function" href="classvitamin.html#abed8d50d1b8805a7f7ce49ce09ab1b7a">vitamin::all</a>() ) {</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>                <span class="keywordflow">if</span>( !vitamins.count( v.first ) ) {</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;m : mat ) {</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>                        <span class="keywordtype">double</span> amount = m-&gt;<a class="code hl_function" href="classmaterial__type.html#aac8146cf872ebf4b21852158e118131b">vitamin</a>( v.first ) * healthy / mat.size();</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>                        vitamins[v.first] += std::ceil( amount );</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>                    }</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>                }</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>            }</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>        }</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    }</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span> </div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a> ) {</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>        <span class="keywordflow">if</span>( !obj.<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;subtype.is_empty() &amp;&amp; <a class="code hl_function" href="classItem__factory.html#a838f908ffe40039c138823e86103788a">has_template</a>( obj.<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;subtype ) ) {</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>            <a class="code hl_variable" href="classItem__factory.html#a884f46fe503c5e21917b3cb098383c99">tool_subtypes</a>[ obj.<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>-&gt;subtype ].insert( obj.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a> );</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        }</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>    }</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span> </div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>    <span class="comment">// Legacy food heating stuff</span></div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    {</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>        <span class="comment">// Needs to be split into 2 functions + flag</span></div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>        <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>.count( <span class="stringliteral">&quot;HOTPLATE&quot;</span> ) != 0 ) {</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>            obj.<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>.erase( <span class="stringliteral">&quot;HOTPLATE&quot;</span> );</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>            obj.<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>[<span class="stringliteral">&quot;TOGGLE_HEATS_FOOD&quot;</span>] =</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>                <a class="code hl_struct" href="structuse__function.html">use_function</a>( <span class="stringliteral">&quot;TOGGLE_HEATS_FOOD&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a806d3629dd20d3cfa906b0a724018719">iuse::toggle_heats_food</a> );</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>            <a class="code hl_class" href="classcauterize__actor.html">cauterize_actor</a> cauterize;</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>            cauterize.<a class="code hl_variable" href="classcauterize__actor.html#aac2426aa73535b85217a71d20f56336c">flame</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>            obj.<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>[<span class="stringliteral">&quot;cauterize&quot;</span>] = cauterize.<a class="code hl_function" href="classcauterize__actor.html#ad883303c444394c0775c69bf7b151896">clone</a>();</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>            obj.<a class="code hl_variable" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">item_tags</a>.emplace( <span class="stringliteral">&quot;HEATS_FOOD_USING_CHARGES&quot;</span> );</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>        }</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span> </div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>        <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>.count( <span class="stringliteral">&quot;HEAT_FOOD&quot;</span> ) != 0 ) {</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>            obj.<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>.erase( <span class="stringliteral">&quot;HEAT_FOOD&quot;</span> );</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>            obj.<a class="code hl_variable" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">item_tags</a>.emplace( <span class="stringliteral">&quot;HEATS_FOOD_USING_FIRE&quot;</span> );</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>        }</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span> </div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>        <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>.count( <span class="stringliteral">&quot;HEATPACK&quot;</span> ) != 0 ) {</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>            obj.<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>.erase( <span class="stringliteral">&quot;HEATPACK&quot;</span> );</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>            obj.<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>[<span class="stringliteral">&quot;TOGGLE_HEATS_FOOD&quot;</span>] =</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>                <a class="code hl_struct" href="structuse__function.html">use_function</a>( <span class="stringliteral">&quot;TOGGLE_HEATS_FOOD&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a806d3629dd20d3cfa906b0a724018719">iuse::toggle_heats_food</a> );</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>            obj.<a class="code hl_variable" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">item_tags</a>.emplace( <span class="stringliteral">&quot;HEATS_FOOD_IS_CONSUMED&quot;</span> );</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>        }</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    }</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span> </div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;e : obj.<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a> ) {</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>        e.second.get_actor_ptr()-&gt;finalize( obj.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a> );</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>    }</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span> </div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_variable" href="structitype.html#a9d0d50c14b184fceddd1a13ee279a6fc">drop_action</a>.<a class="code hl_function" href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">get_actor_ptr</a>() != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>        obj.<a class="code hl_variable" href="structitype.html#a9d0d50c14b184fceddd1a13ee279a6fc">drop_action</a>.<a class="code hl_function" href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">get_actor_ptr</a>()-&gt;<a class="code hl_function" href="classiuse__actor.html#ae7123b9e8ee6610ef1694f0451f05624">finalize</a>( obj.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a> );</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    }</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span> </div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;PERSONAL&quot;</span> ) ) {</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>        obj.<a class="code hl_variable" href="structitype.html#a5b106ac527c4c0b217fb2e3c704efce4">layer</a> = <a class="code hl_enumvalue" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a72cee25119b7b609ebf592aec969a2bd">PERSONAL_LAYER</a>;</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;SKINTIGHT&quot;</span> ) ) {</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>        obj.<a class="code hl_variable" href="structitype.html#a5b106ac527c4c0b217fb2e3c704efce4">layer</a> = <a class="code hl_enumvalue" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a282cebee3086bff2b441079fabb0fb78">UNDERWEAR_LAYER</a>;</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;WAIST&quot;</span> ) ) {</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>        obj.<a class="code hl_variable" href="structitype.html#a5b106ac527c4c0b217fb2e3c704efce4">layer</a> = <a class="code hl_enumvalue" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a1798d33bd4670133e7d8d2c2609b7cb8">WAIST_LAYER</a>;</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;OUTER&quot;</span> ) ) {</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>        obj.<a class="code hl_variable" href="structitype.html#a5b106ac527c4c0b217fb2e3c704efce4">layer</a> = <a class="code hl_enumvalue" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0aedecd660b78c8063a26ae7a4f3e7f170">OUTER_LAYER</a>;</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;BELTED&quot;</span> ) ) {</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>        obj.<a class="code hl_variable" href="structitype.html#a5b106ac527c4c0b217fb2e3c704efce4">layer</a> = <a class="code hl_enumvalue" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a6f2948421e2b71cc1b6919b2bc52b8e0">BELTED_LAYER</a>;</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;AURA&quot;</span> ) ) {</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>        obj.<a class="code hl_variable" href="structitype.html#a5b106ac527c4c0b217fb2e3c704efce4">layer</a> = <a class="code hl_enumvalue" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0aac956a1c8054985cc7855e3d4718df12">AURA_LAYER</a>;</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>        obj.<a class="code hl_variable" href="structitype.html#a5b106ac527c4c0b217fb2e3c704efce4">layer</a> = <a class="code hl_enumvalue" href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a46c73803e6b0befade99fd510c81a860">REGULAR_LAYER</a>;</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>    }</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span> </div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="structitype.html#afc46b586361661f16219f0a465b71c1d">can_use</a>( <span class="stringliteral">&quot;MA_MANUAL&quot;</span> ) &amp;&amp; obj.<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a> &amp;&amp; obj.<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a>-&gt;martial_art.is_null() &amp;&amp;</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>        <a class="code hl_function" href="string__utils_8cpp.html#a2a9cb822cf98b9560d7354cc9baef3ad">string_starts_with</a>( obj.<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>(), <span class="stringliteral">&quot;manual_&quot;</span> ) ) {</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>        <span class="comment">// HACK: Legacy martial arts books rely on a hack whereby the name of the</span></div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>        <span class="comment">// martial art is derived from the item id</span></div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>        obj.<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a>-&gt;martial_art = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a39fb4edcfa1147eb588946ebf1286f41">matype_id</a>( <span class="stringliteral">&quot;style_&quot;</span> + obj.<a class="code hl_function" href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">get_id</a>().<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>().substr( 7 ) );</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>    }</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>}</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span> </div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno"><a class="line" href="classItem__factory.html#a30cede55b74649c2c130566e132b2852">  567</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a30cede55b74649c2c130566e132b2852">Item_factory::register_cached_uses</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> &amp;<a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a> )</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>{</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;e : obj.<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a> ) {</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>        <span class="comment">// can this item function as a repair tool?</span></div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classItem__factory.html#acbc793301935e25dc30818dd974281b7">repair_actions</a>.count( e.first ) ) {</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>            <a class="code hl_variable" href="classItem__factory.html#af052340e46eca62bd496455f9b345ed5">repair_tools</a>.insert( obj.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a> );</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>        }</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span> </div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>        <span class="comment">// can this item be used to repair complex firearms?</span></div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        <span class="keywordflow">if</span>( e.first == <span class="stringliteral">&quot;GUN_REPAIR&quot;</span> ) {</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>            <a class="code hl_variable" href="classItem__factory.html#aad85da896b2ec191e4514e6d03ce74ef">gun_tools</a>.insert( obj.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a> );</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>        }</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>    }</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>}</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span> </div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno"><a class="line" href="classItem__factory.html#a3804571719b38b513c078ad2506cb1db">  582</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a3804571719b38b513c078ad2506cb1db">Item_factory::finalize_post</a>( <a class="code hl_struct" href="structitype.html">itype</a> &amp;<a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a> )</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>{</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>    <span class="comment">// erase all invalid flags (not defined in flags.json), display warning about invalid flags</span></div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>    <a class="code hl_function" href="cata__utility_8h.html#ad7f4be1b8ffc52a0be18e72d041241af">erase_if</a>( obj.<a class="code hl_variable" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">item_tags</a>, [&amp;]( <span class="keyword">const</span> std::string &amp; f ) {</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>        if( !json_flag::get( f ).id.is_valid() ) {</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>            debugmsg( <span class="stringliteral">&quot;itype &#39;%s&#39; uses undefined flag &#39;%s&#39;. Please add corresponding &#39;json_flag&#39; entry to json.&quot;</span>,</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>                      obj.id.c_str(), f );</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>            return true;</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>            return false;</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>        }</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    } );</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span> </div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>    <span class="comment">// handle complex firearms as a special case</span></div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.gun &amp;&amp; !<a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.has_flag( <span class="stringliteral">&quot;PRIMITIVE_RANGED_WEAPON&quot;</span> ) ) {</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>        std::copy( gun_tools.begin(), gun_tools.end(), std::inserter( <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.repair, <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.repair.begin() ) );</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    }</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span> </div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    <span class="comment">// for each item iterate through potential repair tools</span></div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a> : repair_tools ) {</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span> </div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>        <span class="comment">// check if item can be repaired with any of the actions?</span></div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> : repair_actions ) {</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structuse__function.html">use_function</a> *func = m_templates[<a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>].get_use( <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>            <span class="keywordflow">if</span>( func == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>            }</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span> </div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>            <span class="comment">// tool has a possible repair action, check if the materials are compatible</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;opts = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classrepair__item__actor.html">repair_item_actor</a> *<span class="keyword">&gt;</span>( func-&gt;<a class="code hl_function" href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">get_actor_ptr</a>() )-&gt;<a class="code hl_namespace" href="namespacematerials.html">materials</a>;</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>            <span class="keywordflow">if</span>( std::any_of( <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.materials.begin(), <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.materials.end(), [&amp;opts]( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">material_id</a> &amp; m ) {</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>            return opts.count( m ) &gt; 0;</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>            } ) ) {</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>                <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.repair.insert( <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a> );</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>            }</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>        }</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>    }</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span> </div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.comestible ) {</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;diseasetype_id, int&gt; elem : <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.comestible-&gt;contamination ) {</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>            <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">diseasetype_id</a> dtype = elem.first;</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>            <span class="keywordflow">if</span>( !dtype.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>                <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;contamination in %s contains invalid diseasetype_id %s.&quot;</span>,</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>                          <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.<a class="code hl_variable" href="structammo__effect.html#a3b5e910b5cdd574f6e6065cf9fc2fe2f">id</a>.str(), dtype.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>            }</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>        }</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>    }</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>}</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span> </div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno"><a class="line" href="classItem__factory.html#a5e5bb18ff8e530d750a009e5458e7dca">  632</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5e5bb18ff8e530d750a009e5458e7dca">Item_factory::finalize</a>()</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>{</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>    <a class="code hl_function" href="classDynamicDataLoader.html#adca1972b6d79ffd55d6d7ca1a0c329b9">DynamicDataLoader::get_instance</a>().<a class="code hl_function" href="classDynamicDataLoader.html#adf725674a5fcd11a4e8a248e14717d27">load_deferred</a>( <a class="code hl_variable" href="item__factory_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a> );</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span> </div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>    <a class="code hl_function" href="classItem__factory.html#aedaca7435165e868da9cbd2e7b026466">finalize_item_blacklist</a>();</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span> </div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>    <span class="comment">// we can no longer add or adjust static item templates</span></div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>    <a class="code hl_variable" href="classItem__factory.html#a505d771e637afa6c26124010e3c561cf">frozen</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span> </div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;e : <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a> ) {</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>        <a class="code hl_function" href="classItem__factory.html#a8b49fe019e92adc0e8ae3cebdbdf7c75">finalize_pre</a>( e.second );</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>        <a class="code hl_function" href="classItem__factory.html#a30cede55b74649c2c130566e132b2852">register_cached_uses</a>( e.second );</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>    }</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span> </div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;e : <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a> ) {</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>        <a class="code hl_function" href="classItem__factory.html#a3804571719b38b513c078ad2506cb1db">finalize_post</a>( e.second );</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>    }</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span> </div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    <span class="comment">// We may actually have some runtimes here - ones loaded from saved game</span></div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>    <span class="comment">// TODO: support for runtimes that repair</span></div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;e : <a class="code hl_variable" href="classItem__factory.html#aeadd69bbf3c9c3aca9ba3c5b1d36765d">m_runtimes</a> ) {</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>        <a class="code hl_function" href="classItem__factory.html#a8b49fe019e92adc0e8ae3cebdbdf7c75">finalize_pre</a>( *e.second );</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>        <a class="code hl_function" href="classItem__factory.html#a3804571719b38b513c078ad2506cb1db">finalize_post</a>( *e.second );</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>    }</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span> </div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>    <span class="comment">// for each item register all (non-obsolete) potential recipes</span></div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const recipe_id, recipe&gt; &amp;p : <a class="code hl_variable" href="recipe__dictionary_8cpp.html#a9fdb53bd54fb6dcc5f9b2e1e1b44570f">recipe_dict</a> ) {</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>        <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> &amp;rec = p.second;</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>        <span class="keywordflow">if</span>( rec.<a class="code hl_variable" href="classrecipe.html#a9cd5575d444e1e4224f1aadd6f74357e">obsolete</a> || rec.<a class="code hl_function" href="classrecipe.html#a6d093b9e0722a56fda25fa0170d9076b">will_be_blacklisted</a>() ) {</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>        }</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>        <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;<a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = rec.<a class="code hl_function" href="classrecipe.html#ad47b2208779717bbaa2f43fc1a6408b0">result</a>();</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>        <span class="keyword">auto</span> it = <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.find( <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> );</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>        <span class="keywordflow">if</span>( it != <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.end() ) {</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>            it-&gt;second.recipes.push_back( p.first );</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>        }</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    }</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>}</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span> </div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno"><a class="line" href="classItem__factory.html#aedaca7435165e868da9cbd2e7b026466">  671</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#aedaca7435165e868da9cbd2e7b026466">Item_factory::finalize_item_blacklist</a>()</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>{</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;blackout : <a class="code hl_variable" href="item__factory_8cpp.html#a112454b48fbc4eb47cb271e5ab79e23f">item_blacklist</a> ) {</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>        std::unordered_map&lt;itype_id, itype&gt;::iterator candidate = <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.find( blackout );</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>        <span class="keywordflow">if</span>( candidate == <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.end() ) {</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;item on blacklist %s does not exist&quot;</span>, blackout.c_str() );</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>        }</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span> </div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>        <span class="keywordflow">for</span>( std::pair&lt;<span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">item_group_id</a>, std::unique_ptr&lt;Item_spawn_data&gt;&gt; &amp;<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a> : <a class="code hl_variable" href="classItem__factory.html#a1aec789abd53810026e0d878c0069aea">m_template_groups</a> ) {</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.second-&gt;remove_item( candidate-&gt;first );</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>        }</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span> </div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>        <span class="comment">// remove any blacklisted items from requirements</span></div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const requirement_id, requirement_data&gt; &amp;r : <a class="code hl_function" href="structrequirement__data.html#a0cd7e0da2f3dd4412ac0bb2b4bce2c55">requirement_data::all</a>() ) {</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>            <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="structrequirement__data.html">requirement_data</a> &amp;<span class="keyword">&gt;</span>( r.second ).blacklist_item( candidate-&gt;first );</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>        }</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span> </div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>        <span class="comment">// remove any recipes used to craft the blacklisted item</span></div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>        <a class="code hl_function" href="classrecipe__dictionary.html#ad49f5c9ba2c66330d4ad3daf00c2b781">recipe_dictionary::delete_if</a>( [&amp;candidate]( <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> &amp; r ) {</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>            <span class="keywordflow">return</span> r.<a class="code hl_function" href="classrecipe.html#ad47b2208779717bbaa2f43fc1a6408b0">result</a>() == candidate-&gt;first;</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>        } );</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>    }</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classstring__id.html">vproto_id</a> &amp;vid : <a class="code hl_function" href="structvehicle__prototype.html#aa9c6ba9275a1d2202f266bd213a725a9">vehicle_prototype::get_all</a>() ) {</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>        <a class="code hl_struct" href="structvehicle__prototype.html">vehicle_prototype</a> &amp;prototype = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="structvehicle__prototype.html">vehicle_prototype</a> &amp;<span class="keyword">&gt;</span>( vid.obj() );</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>        <span class="keywordflow">for</span>( <a class="code hl_struct" href="structvehicle__item__spawn.html">vehicle_item_spawn</a> &amp;vis : prototype.<a class="code hl_variable" href="structvehicle__prototype.html#a7eec43c8754c73355602b6a126e73293">item_spawns</a> ) {</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>            <span class="keyword">auto</span> &amp;vec = vis.<a class="code hl_variable" href="structvehicle__item__spawn.html#a8c77ce90bc86a9689cefa5b04e15ee3d">item_ids</a>;</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>            <span class="keyword">const</span> <span class="keyword">auto</span> iter = std::remove_if( vec.begin(), vec.end(), <a class="code hl_function" href="item__factory_8cpp.html#a9910cca816b92f0a565dc6bc764889a6">item_is_blacklisted</a> );</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>            vec.erase( iter, vec.end() );</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>        }</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    }</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span> </div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const itype_id, migration&gt; &amp;<a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a> : <a class="code hl_variable" href="classItem__factory.html#a8453c94f39f6cd4e081a0229a78108af">migrations</a> ) {</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.find( <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.second.replace ) == <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.end() ) {</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Replacement item for migration %s does not exist&quot;</span>, <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.first.c_str() );</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>        }</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span> </div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>        <span class="keywordflow">for</span>( std::pair&lt;<span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">item_group_id</a>, std::unique_ptr&lt;Item_spawn_data&gt;&gt; &amp;<a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a> : <a class="code hl_variable" href="classItem__factory.html#a1aec789abd53810026e0d878c0069aea">m_template_groups</a> ) {</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>.second-&gt;replace_item( <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.first, <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.second.replace );</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>        }</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span> </div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>        <span class="comment">// replace migrated items in requirements</span></div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const requirement_id, requirement_data&gt; &amp;r : <a class="code hl_function" href="structrequirement__data.html#a0cd7e0da2f3dd4412ac0bb2b4bce2c55">requirement_data::all</a>() ) {</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>            <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="structrequirement__data.html">requirement_data</a> &amp;<span class="keyword">&gt;</span>( r.second ).replace_item( <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.first,</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>                    <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.second.replace );</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>        }</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span> </div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>        <span class="comment">// remove any recipes used to craft the migrated item</span></div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>        <span class="comment">// if there&#39;s a valid recipe, it will be for the replacement</span></div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>        <a class="code hl_function" href="classrecipe__dictionary.html#ad49f5c9ba2c66330d4ad3daf00c2b781">recipe_dictionary::delete_if</a>( [&amp;<a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>]( <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> &amp; r ) {</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>            <span class="keywordflow">return</span> !r.<a class="code hl_variable" href="classrecipe.html#a9cd5575d444e1e4224f1aadd6f74357e">obsolete</a> &amp;&amp; r.<a class="code hl_function" href="classrecipe.html#ad47b2208779717bbaa2f43fc1a6408b0">result</a>() == <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.first;</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>        } );</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span> </div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>        <span class="comment">// If the default ammo of an ammo_type gets migrated, we migrate all guns using that ammo</span></div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>        <span class="comment">// type to the ammo type of whatever that default ammo was migrated to.</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>        <span class="comment">// To do that we need to store a map of ammo to the migration replacement thereof.</span></div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>        <span class="keyword">auto</span> maybe_ammo = <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.find( <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.first );</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>        <span class="comment">// If the itype_id is valid and the itype has ammo data</span></div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>        <span class="keywordflow">if</span>( maybe_ammo != <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.end() &amp;&amp; maybe_ammo-&gt;second.ammo ) {</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>            <span class="keyword">auto</span> <a class="code hl_enumvalue" href="text__style__check_8h.html#aa76eeb43e28d7c3407b22fd9b1c4c9abaf5300127f646a4550bc4a04fbe393e79">replacement</a> = <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.find( <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.second.replace );</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="text__style__check_8h.html#aa76eeb43e28d7c3407b22fd9b1c4c9abaf5300127f646a4550bc4a04fbe393e79">replacement</a>-&gt;second.ammo ) {</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>                <a class="code hl_variable" href="classItem__factory.html#ac58203a04bf0d221f64ec46d6d82b96e">migrated_ammo</a>.emplace( std::make_pair( <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.first, <a class="code hl_enumvalue" href="text__style__check_8h.html#aa76eeb43e28d7c3407b22fd9b1c4c9abaf5300127f646a4550bc4a04fbe393e79">replacement</a>-&gt;second.ammo-&gt;type ) );</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>                <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Replacement item %s for migrated ammo %s is not ammo.&quot;</span>,</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>                          <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.second.replace.str(), <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.first.str() );</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>            }</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>        }</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span> </div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>        <span class="comment">// migrate magazines as well</span></div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>        <span class="keyword">auto</span> maybe_mag = <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.find( <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.first );</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>        <span class="keywordflow">if</span>( maybe_mag != <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.end() &amp;&amp; maybe_mag-&gt;second.magazine ) {</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>            <span class="keyword">auto</span> <a class="code hl_enumvalue" href="text__style__check_8h.html#aa76eeb43e28d7c3407b22fd9b1c4c9abaf5300127f646a4550bc4a04fbe393e79">replacement</a> = <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.find( <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.second.replace );</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="text__style__check_8h.html#aa76eeb43e28d7c3407b22fd9b1c4c9abaf5300127f646a4550bc4a04fbe393e79">replacement</a>-&gt;second.magazine ) {</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>                <a class="code hl_variable" href="classItem__factory.html#a777b712b7a0b03c6e0ad239ad29d7094">migrated_magazines</a>.emplace( std::make_pair( <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.first, <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.second.replace ) );</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>                <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Replacement item %s for migrated magazine %s is not a magazine.&quot;</span>,</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>                          <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.second.replace.str(), <a class="code hl_function" href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">migrate</a>.first.str() );</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>            }</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>        }</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>    }</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classstring__id.html">vproto_id</a> &amp;vid : <a class="code hl_function" href="structvehicle__prototype.html#aa9c6ba9275a1d2202f266bd213a725a9">vehicle_prototype::get_all</a>() ) {</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>        <a class="code hl_struct" href="structvehicle__prototype.html">vehicle_prototype</a> &amp;prototype = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="structvehicle__prototype.html">vehicle_prototype</a> &amp;<span class="keyword">&gt;</span>( vid.obj() );</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>        <span class="keywordflow">for</span>( <a class="code hl_struct" href="structvehicle__item__spawn.html">vehicle_item_spawn</a> &amp;vis : prototype.<a class="code hl_variable" href="structvehicle__prototype.html#a7eec43c8754c73355602b6a126e73293">item_spawns</a> ) {</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>            <span class="keywordflow">for</span>( <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;type_to_spawn : vis.<a class="code hl_variable" href="structvehicle__item__spawn.html#a8c77ce90bc86a9689cefa5b04e15ee3d">item_ids</a> ) {</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>                std::map&lt;itype_id, migration&gt;::iterator <a class="code hl_enumvalue" href="text__style__check_8h.html#aa76eeb43e28d7c3407b22fd9b1c4c9abaf5300127f646a4550bc4a04fbe393e79">replacement</a> =</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>                    <a class="code hl_variable" href="classItem__factory.html#a8453c94f39f6cd4e081a0229a78108af">migrations</a>.find( type_to_spawn );</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>                <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="text__style__check_8h.html#aa76eeb43e28d7c3407b22fd9b1c4c9abaf5300127f646a4550bc4a04fbe393e79">replacement</a> != <a class="code hl_variable" href="classItem__factory.html#a8453c94f39f6cd4e081a0229a78108af">migrations</a>.end() ) {</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>                    type_to_spawn = <a class="code hl_enumvalue" href="text__style__check_8h.html#aa76eeb43e28d7c3407b22fd9b1c4c9abaf5300127f646a4550bc4a04fbe393e79">replacement</a>-&gt;second.replace;</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>                }</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>            }</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>        }</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>    }</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>}</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span> </div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno"><a class="line" href="classItem__factory.html#a7baab0d89393eb43d382389bd63d98b2">  766</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a7baab0d89393eb43d382389bd63d98b2">Item_factory::load_item_blacklist</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;json )</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>{</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>    json.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;items&quot;</span>, <a class="code hl_variable" href="item__factory_8cpp.html#a112454b48fbc4eb47cb271e5ab79e23f">item_blacklist</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>}</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span> </div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span><a class="code hl_function" href="classItem__factory.html#a8bbec0a6c1ee7ec9e858faadb20f2dc8">Item_factory::~Item_factory</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span> </div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno"><a class="line" href="classItem__factory.html#afe8c8beaa42a135b40cbdc5dcfbd989d">  773</a></span><a class="code hl_function" href="classItem__factory.html#afe8c8beaa42a135b40cbdc5dcfbd989d">Item_factory::Item_factory</a>()</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>{</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>    <a class="code hl_function" href="classItem__factory.html#af73e102368fa0e54940e7ccd69b8c6d7">init</a>();</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>}</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span> </div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno"><a class="line" href="classiuse__function__wrapper.html">  778</a></span><span class="keyword">class </span><a class="code hl_class" href="classiuse__function__wrapper.html">iuse_function_wrapper</a> : <span class="keyword">public</span> <a class="code hl_class" href="classiuse__actor.html">iuse_actor</a></div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>{</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno"><a class="line" href="classiuse__function__wrapper.html#a790e34b4fd4125f190c32a9dc98ccff5">  781</a></span>        <a class="code hl_typedef" href="iuse_8h.html#a59efaa82fd2f094db6220de779c55072">use_function_pointer</a> <a class="code hl_variable" href="classiuse__function__wrapper.html#a790e34b4fd4125f190c32a9dc98ccff5">cpp_function</a>;</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno"><a class="line" href="classiuse__function__wrapper.html#acc5cdc93d5bb1db95395388e9b96e217">  783</a></span>        <a class="code hl_function" href="classiuse__function__wrapper.html#acc5cdc93d5bb1db95395388e9b96e217">iuse_function_wrapper</a>( <span class="keyword">const</span> std::string &amp;<a class="code hl_variable" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="iuse_8h.html#a59efaa82fd2f094db6220de779c55072">use_function_pointer</a> f )</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>            : <a class="code hl_class" href="classiuse__actor.html">iuse_actor</a>( <a class="code hl_variable" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a> ), <a class="code hl_variable" href="classiuse__function__wrapper.html#a790e34b4fd4125f190c32a9dc98ccff5">cpp_function</a>( f ) { }</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span> </div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno"><a class="line" href="classiuse__function__wrapper.html#a80f39eb840b43da8872bc263f6c7c5a5">  786</a></span>        <a class="code hl_function" href="classiuse__function__wrapper.html#a80f39eb840b43da8872bc263f6c7c5a5">~iuse_function_wrapper</a>() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno"><a class="line" href="classiuse__function__wrapper.html#add83c24909c359671068297f6add891e">  787</a></span>        <span class="keywordtype">int</span> <a class="code hl_function" href="classiuse__function__wrapper.html#add83c24909c359671068297f6add891e">use</a>( <a class="code hl_class" href="classplayer.html">player</a> &amp;p, <a class="code hl_class" href="classitem.html">item</a> &amp;it, <span class="keywordtype">bool</span> <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pos )<span class="keyword"> const override </span>{</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>            <span class="keywordflow">return</span> ( *<a class="code hl_variable" href="classiuse__function__wrapper.html#a790e34b4fd4125f190c32a9dc98ccff5">cpp_function</a> )( &amp;p, &amp;it, <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>, pos );</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>        }</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno"><a class="line" href="classiuse__function__wrapper.html#a74c817212fe7295498d2db73d32d7571">  790</a></span>        std::unique_ptr&lt;iuse_actor&gt; <a class="code hl_function" href="classiuse__function__wrapper.html#a74c817212fe7295498d2db73d32d7571">clone</a>()<span class="keyword"> const override </span>{</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>            <span class="keywordflow">return</span> std::make_unique&lt;iuse_function_wrapper&gt;( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>        }</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span> </div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno"><a class="line" href="classiuse__function__wrapper.html#a69f7b029c0d7b4140b5c00be73d4db53">  794</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classiuse__function__wrapper.html#a69f7b029c0d7b4140b5c00be73d4db53">load</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp; )<span class="keyword"> override </span>{}</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>};</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span> </div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno"><a class="line" href="classiuse__function__wrapper__with__info.html">  797</a></span><span class="keyword">class </span><a class="code hl_class" href="classiuse__function__wrapper__with__info.html">iuse_function_wrapper_with_info</a> : <span class="keyword">public</span> <a class="code hl_class" href="classiuse__function__wrapper.html">iuse_function_wrapper</a></div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>{</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>    <span class="keyword">private</span>:</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno"><a class="line" href="classiuse__function__wrapper__with__info.html#ac6ddb29b1953bf940ddb7cd66c600c50">  800</a></span>        std::string <a class="code hl_variable" href="classiuse__function__wrapper__with__info.html#ac6ddb29b1953bf940ddb7cd66c600c50">info_string</a>; <span class="comment">// Untranslated</span></div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>    <span class="keyword">public</span>:</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno"><a class="line" href="classiuse__function__wrapper__with__info.html#a64fbbedc2b63cd82698382063062100c">  802</a></span>        <a class="code hl_function" href="classiuse__function__wrapper__with__info.html#a64fbbedc2b63cd82698382063062100c">iuse_function_wrapper_with_info</a>(</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>            <span class="keyword">const</span> std::string &amp;<a class="code hl_variable" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="iuse_8h.html#a59efaa82fd2f094db6220de779c55072">use_function_pointer</a> f, <span class="keyword">const</span> std::string &amp;<a class="code hl_function" href="classiuse__function__wrapper__with__info.html#ac7251a721d717c0d4dc94a2fbdacb74c">info</a> )</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>            : <a class="code hl_class" href="classiuse__function__wrapper.html">iuse_function_wrapper</a>( <a class="code hl_variable" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a>, f ), <a class="code hl_variable" href="classiuse__function__wrapper__with__info.html#ac6ddb29b1953bf940ddb7cd66c600c50">info_string</a>( <a class="code hl_function" href="classiuse__function__wrapper__with__info.html#ac7251a721d717c0d4dc94a2fbdacb74c">info</a> ) { }</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span> </div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno"><a class="line" href="classiuse__function__wrapper__with__info.html#ac7251a721d717c0d4dc94a2fbdacb74c">  806</a></span>        <span class="keywordtype">void</span> <a class="code hl_function" href="classiuse__function__wrapper__with__info.html#ac7251a721d717c0d4dc94a2fbdacb74c">info</a>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;, std::vector&lt;iteminfo&gt; &amp;<a class="code hl_function" href="classiuse__function__wrapper__with__info.html#ac7251a721d717c0d4dc94a2fbdacb74c">info</a> )<span class="keyword"> const override </span>{</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>            <a class="code hl_function" href="classiuse__function__wrapper__with__info.html#ac7251a721d717c0d4dc94a2fbdacb74c">info</a>.emplace_back( <span class="stringliteral">&quot;DESCRIPTION&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <a class="code hl_variable" href="classiuse__function__wrapper__with__info.html#ac6ddb29b1953bf940ddb7cd66c600c50">info_string</a> ) );</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>        }</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno"><a class="line" href="classiuse__function__wrapper__with__info.html#a55772ed44db593932a66d8dbb1df9b60">  809</a></span>        std::unique_ptr&lt;iuse_actor&gt; <a class="code hl_function" href="classiuse__function__wrapper__with__info.html#a55772ed44db593932a66d8dbb1df9b60">clone</a>()<span class="keyword"> const override </span>{</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>            <span class="keywordflow">return</span> std::make_unique&lt;iuse_function_wrapper_with_info&gt;( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>        }</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>};</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span> </div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno"><a class="line" href="structuse__function.html#ab613e1f908a04e193e0b7f61d2f4f8d8">  814</a></span><a class="code hl_function" href="structuse__function.html#a4eb6f93aaedca07bd14fdd19e2c52f4a">use_function::use_function</a>( <span class="keyword">const</span> std::string &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="iuse_8h.html#a59efaa82fd2f094db6220de779c55072">use_function_pointer</a> f )</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    : <a class="code hl_struct" href="structuse__function.html">use_function</a>( <a class="code hl_namespace" href="namespacestd.html">std</a>::make_unique&lt;<a class="code hl_class" href="classiuse__function__wrapper.html">iuse_function_wrapper</a>&gt;( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, f ) ) {}</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span> </div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno"><a class="line" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">  817</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">Item_factory::add_iuse</a>( <span class="keyword">const</span> std::string &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="iuse_8h.html#a59efaa82fd2f094db6220de779c55072">use_function_pointer</a> f )</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>{</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>    <a class="code hl_variable" href="classItem__factory.html#ab8879bd7c6bf52cc867d21e003773171">iuse_function_list</a>[ <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> ] = <a class="code hl_struct" href="structuse__function.html">use_function</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, f );</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>}</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span> </div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno"><a class="line" href="classItem__factory.html#a6be30ba957052a224b0cf9a0a8bf837c">  822</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">Item_factory::add_iuse</a>( <span class="keyword">const</span> std::string &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="iuse_8h.html#a59efaa82fd2f094db6220de779c55072">use_function_pointer</a> f,</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>                             <span class="keyword">const</span> std::string &amp;info )</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>{</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>    <a class="code hl_variable" href="classItem__factory.html#ab8879bd7c6bf52cc867d21e003773171">iuse_function_list</a>[ <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> ] =</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>        <a class="code hl_struct" href="structuse__function.html">use_function</a>( std::make_unique&lt;iuse_function_wrapper_with_info&gt;( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, f, info ) );</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>}</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span> </div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno"><a class="line" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">  829</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">Item_factory::add_actor</a>( std::unique_ptr&lt;iuse_actor&gt; <a class="code hl_function" href="fmtlib__format_8h.html#a36b7e236fa4242d8655b508bbebb697f">ptr</a> )</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>{</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    std::string <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = <a class="code hl_function" href="fmtlib__format_8h.html#a36b7e236fa4242d8655b508bbebb697f">ptr</a>-&gt;type;</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>    <a class="code hl_variable" href="classItem__factory.html#ab8879bd7c6bf52cc867d21e003773171">iuse_function_list</a>[ <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> ] = <a class="code hl_struct" href="structuse__function.html">use_function</a>( <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( <a class="code hl_function" href="fmtlib__format_8h.html#a36b7e236fa4242d8655b508bbebb697f">ptr</a> ) );</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>}</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span> </div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno"><a class="line" href="classItem__factory.html#a5085a97eaa9f1337fda54892483718ef">  835</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5085a97eaa9f1337fda54892483718ef">Item_factory::add_item_type</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> &amp;def )</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>{</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classItem__factory.html#aeadd69bbf3c9c3aca9ba3c5b1d36765d">m_runtimes</a>.count( def.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a> ) &gt; 0 ) {</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>        <span class="comment">// Do NOT allow overwriting it, it&#39;s undefined behavior</span></div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to add runtime type %s, but it exists already&quot;</span>, def.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a>.<a class="code hl_function" href="classstring__id.html#a19aea01aa4a1f53aac09acc978f67cf8">c_str</a>() );</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>    }</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span> </div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>    <span class="keyword">auto</span> &amp;new_item_ptr = <a class="code hl_variable" href="classItem__factory.html#aeadd69bbf3c9c3aca9ba3c5b1d36765d">m_runtimes</a>[ def.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a> ];</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>    new_item_ptr = std::make_unique&lt;itype&gt;( def );</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classItem__factory.html#a505d771e637afa6c26124010e3c561cf">frozen</a> ) {</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>        <a class="code hl_function" href="classItem__factory.html#a8b49fe019e92adc0e8ae3cebdbdf7c75">finalize_pre</a>( *new_item_ptr );</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>        <a class="code hl_function" href="classItem__factory.html#a3804571719b38b513c078ad2506cb1db">finalize_post</a>( *new_item_ptr );</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>    }</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>}</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span> </div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno"><a class="line" href="classItem__factory.html#af73e102368fa0e54940e7ccd69b8c6d7">  851</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#af73e102368fa0e54940e7ccd69b8c6d7">Item_factory::init</a>()</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>{</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ACIDBOMB_ACT&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a46c01f7f882fde8bc12283b81cd5fbfb">iuse::acidbomb_act</a> );</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ADRENALINE_INJECTOR&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ad22021d43df78368abfcf1b80f7f3974">iuse::adrenaline_injector</a> );</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ALCOHOL&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#adc01ed1355e71cdf0856363b4ad907f5">iuse::alcohol_medium</a> );</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ALCOHOL_STRONG&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#af299bd5b5c92d4c4508f85fb461e91f8">iuse::alcohol_strong</a> );</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ALCOHOL_WEAK&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ae8660f56fde38d1d448b20173f6e9ee4">iuse::alcohol_weak</a> );</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ANTIASTHMATIC&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ac4e2511a717575fe4666414db8138851">iuse::antiasthmatic</a> );</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ANTIBIOTIC&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ab630d95172ee67696af5f138f0e2e85e">iuse::antibiotic</a> );</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ANTICONVULSANT&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a6747117d3ea0dfde6344594a9fd04cf9">iuse::anticonvulsant</a> );</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ANTIFUNGAL&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a6367cff497b3a461b608bf616d2358ff">iuse::antifungal</a> );</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ANTIPARASITIC&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a1508cdd524e97a79a754d9a7390ea42a">iuse::antiparasitic</a> );</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ARROW_FLAMABLE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a39a54f099f8fd5fbb811aa05bad58e02">iuse::arrow_flammable</a> );</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ARTIFACT&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a22da5acc314b6ca1dc7ada0c3c1944a5">iuse::artifact</a> );</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;AUTOCLAVE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ae706eba79724ccf3b4bc1cb14572df7d">iuse::autoclave</a> );</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;BELL&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a103a17ef4f7cf59720b027142cccbe27">iuse::bell</a> );</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;BLECH&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a8d960e9090fe32957817e911bf30e3d1">iuse::blech</a> );</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;BLECH_BECAUSE_UNCLEAN&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a171b17b4631be6ffc30047e17ffc1fcd">iuse::blech_because_unclean</a> );</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;BOLTCUTTERS&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a209a352e9bc73b4ce037af586b937ff1">iuse::boltcutters</a> );</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;C4&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a5f2177dc204aa334562f3b16a2a090e8">iuse::c4</a> );</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;TOW_ATTACH&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a9f44ee8382c12410f19f4d321f18db29">iuse::tow_attach</a> );</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CABLE_ATTACH&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a2364cfd5d8ad12ee1d3a3279dc355226">iuse::cable_attach</a> );</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CAMERA&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ab68c2305f7ed2e6a979869a5208d1011">iuse::camera</a> );</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CAN_GOO&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a0f13dd0b3a12c9b168adb4f5248951a6">iuse::can_goo</a> );</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;COIN_FLIP&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a2ff458256cc3dd93ea9a65ff36ee556d">iuse::coin_flip</a> );</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;DIRECTIONAL_HOLOGRAM&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a863654211e66d555c6103f873c006f5a">iuse::directional_hologram</a> );</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CAPTURE_MONSTER_ACT&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aaba6d96d9fc6facbc0b8d5242355810e">iuse::capture_monster_act</a> );</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CAPTURE_MONSTER_VEH&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a3795d77ec24e87e31270b733722b971f">iuse::capture_monster_veh</a> );</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CARVER_OFF&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a272725ca02e576b08c783708015487e6">iuse::carver_off</a> );</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CARVER_ON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#af624c9900caf3fcac2aa28441f7e4061">iuse::carver_on</a> );</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CATFOOD&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a952ba3eee92726bda366cdf3b864b59f">iuse::catfood</a> );</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CATTLEFODDER&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a66d62c54b717d4e2fbc4490e0eddaba7">iuse::feedcattle</a> );</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CHAINSAW_OFF&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ad79004baf98adccb8b9694bc30eb290d">iuse::chainsaw_off</a> );</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CHAINSAW_ON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aef454dfcb71a12f3fd7efa0d316ece43">iuse::chainsaw_on</a> );</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CHEW&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aecdc200d835fb6eaf207e84d2e5992a8">iuse::chew</a> );</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;RPGDIE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a7125863340292afed6c2662c530bf362">iuse::rpgdie</a> );</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;BIRDFOOD&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a0dd2935dd8aacfee3d6fa8a6da61ec0a">iuse::feedbird</a> );</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;BURROW&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ad49f6d9afb7227451244b037b56f6c92">iuse::burrow</a> );</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CHOP_TREE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a497ebac6fa2d17e0890765b80832299f">iuse::chop_tree</a> );</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CHOP_LOGS&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#acd99c4f5ccc4748d40d40a3a71b61df2">iuse::chop_logs</a> );</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CIRCSAW_ON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a30188170d193c1e90671e4b938926b87">iuse::circsaw_on</a> );</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CLEAR_RUBBLE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ad35dc0573f2c10a79ad65cad73762f32">iuse::clear_rubble</a> );</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;COMBATSAW_OFF&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ad4ae1522fa6bd5a1dca74d08ad76c8e1">iuse::combatsaw_off</a> );</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;COMBATSAW_ON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a418d7c8d1422f573f32df2253997b165">iuse::combatsaw_on</a> );</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;E_COMBATSAW_OFF&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a32e8ce410f0d48d5d30ad5a75ec274e5">iuse::e_combatsaw_off</a> );</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;E_COMBATSAW_ON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a7379d0261888bcf0a4f2db556a36719a">iuse::e_combatsaw_on</a> );</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CONTACTS&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a94ee528f750608e518c16f09103a997d">iuse::contacts</a> );</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CROWBAR&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a9430d817f535840cefa29014ad73a062">iuse::crowbar</a> );</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CS_LAJATANG_OFF&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a58988398abeae1dcbed6161a5326bad9">iuse::cs_lajatang_off</a> );</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CS_LAJATANG_ON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ac37caf0eeb00410e5b3c961794cebdc0">iuse::cs_lajatang_on</a> );</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ECS_LAJATANG_OFF&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a128984aa7ad2a8433c238101d5294153">iuse::ecs_lajatang_off</a> );</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ECS_LAJATANG_ON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aa204865fbe45f6454539b3cb61ec6c92">iuse::ecs_lajatang_on</a> );</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;DATURA&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a3842b28b642b547db964b32260af5010">iuse::datura</a> );</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;DIG&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a90826f05cd2d554a46e5c1aff7fd590b">iuse::dig</a> );</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;DIVE_TANK&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a89f66093ce781aa4144ae0ad8669cd19">iuse::dive_tank</a> );</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;DIRECTIONAL_ANTENNA&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a586262f32556678ff6eaaf4f41f7e783">iuse::directional_antenna</a> );</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;DISASSEMBLE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#abbada1cfe3e93f4e81d2a6abc0ae15d4">iuse::disassemble</a> );</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CRAFT&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a31feaa639847b8a1e5974e026eb785b5">iuse::craft</a> );</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;DOGFOOD&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a265cb6538afad686f4da6f07de495e79">iuse::dogfood</a> );</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;DOG_WHISTLE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a888aa172d5f857fd41531e78c95e8435">iuse::dog_whistle</a> );</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;DOLLCHAT&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a3ed61e824f231f3b6855d8d3769f085a">iuse::talking_doll</a> );</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ECIG&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ae7605a2a35b7ba6d0353b3c7c74ae7f0">iuse::ecig</a> );</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;EHANDCUFFS&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a817fb34ea6d9f331660be5f9f9d1d830">iuse::ehandcuffs</a> );</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;EINKTABLETPC&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a9a4b8e2bc5d43e5e4c952c4c77e3db68">iuse::einktabletpc</a> );</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ELEC_CHAINSAW_OFF&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a8471a6f7a1d97abed699bc34aa687061">iuse::elec_chainsaw_off</a> );</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ELEC_CHAINSAW_ON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ad7db7681ea89f6652b3528ed6afdaa04">iuse::elec_chainsaw_on</a> );</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;EXTINGUISHER&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ac99884d7e0f78beb10cc7fe95cf13802">iuse::extinguisher</a> );</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;EYEDROPS&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a9c619bed00bbbe6c9280aec8b8f9adc8">iuse::eyedrops</a> );</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;FILL_PIT&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ab65c4948655613af9808e56ee73a39fd">iuse::fill_pit</a> );</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;FIRECRACKER&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a3b71f85b22913d8683ec1464ec8bec41">iuse::firecracker</a> );</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;FIRECRACKER_ACT&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a04894d33896efed432019fa928a6dba6">iuse::firecracker_act</a> );</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;FIRECRACKER_PACK&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ab1b7f3a9546c3fcb8a3095b5eb1f08ff">iuse::firecracker_pack</a> );</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;FIRECRACKER_PACK_ACT&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ad6fc83e63c449fa4a2e8ca77a29c3c0d">iuse::firecracker_pack_act</a> );</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;FISH_ROD&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a5cbe783493c4bbb59042ea505639c06d">iuse::fishing_rod</a> );</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;FISH_TRAP&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aee840b3e8d9e57e43bf850bb4fe1f32f">iuse::fish_trap</a> );</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>    <span class="comment">// Obsolete</span></div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;FLUMED&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aa748624edacd9038fb86f038e61bb68a">iuse::flumed</a> );</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;FLUSLEEP&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#adbe3744c239129f7b6cdd7b9fdcddb53">iuse::flusleep</a> );</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;FOODPERSON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ae1a9869a841219f81c39c873d5c08e59">iuse::foodperson</a> );</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;FUNGICIDE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a65f04cd778ba18f8af92e04db0212ad9">iuse::fungicide</a> );</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;GASMASK&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#afb61c8d119bd0c545bc42c10d11d357b">iuse::gasmask</a>,</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>              <a class="code hl_define" href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a>( <span class="stringliteral">&quot;Can be activated to &lt;good&gt;increase environmental &quot;</span></div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>                                <span class="stringliteral">&quot;protection&lt;/good&gt;.  Will consume charges when active, &quot;</span></div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>                                <span class="stringliteral">&quot;but &lt;info&gt;only when environmental hazards are &quot;</span></div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>                                <span class="stringliteral">&quot;present&lt;/info&gt;.&quot;</span></div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>                              ) );</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;GEIGER&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a44ada5d5014f5183d6be198a5b040138">iuse::geiger</a> );</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;GRANADE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a2060aa4647487f823f8e42e88fc214ea">iuse::granade</a> );</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;GRANADE_ACT&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a4945736059f06b41ffce6c4070f8f5e1">iuse::granade_act</a> );</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;GRENADE_INC_ACT&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aead9366f186a44fcd9b0966c0d13a86a">iuse::grenade_inc_act</a> );</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;GUN_REPAIR&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a7018b6487f94b8e782bd6523f24da9da">iuse::gun_repair</a> );</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;GUNMOD_ATTACH&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aee6388125347281819df5c608e1e2008">iuse::gunmod_attach</a> );</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;TOOLMOD_ATTACH&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a18a8b4f435350b8f4a9759c173dca6d0">iuse::toolmod_attach</a> );</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;HACKSAW&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a1ed26c836be484fe8abed447dd276260">iuse::hacksaw</a> );</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;HAIRKIT&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#acf3d05b40baec1712280885e0255dd0a">iuse::hairkit</a> );</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;HAMMER&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a598d4b5bd2b0c73b1090325754726213">iuse::hammer</a> );</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;HONEYCOMB&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a5c781aff4648bc9d49ee54de7a257b4a">iuse::honeycomb</a> );</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;INHALER&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a4884a5f4a9818606704ceeffe78382a0">iuse::inhaler</a> );</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;JACKHAMMER&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a6280558f691d61cad732f9ddd4a3fc08">iuse::jackhammer</a> );</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;JET_INJECTOR&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ac63015323a9e1403dbd85b0696d4ed87">iuse::jet_injector</a> );</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;LADDER&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#af0c1aa12219bb953dfbfb031e9528f95">iuse::ladder</a> );</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;LUMBER&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a3f435663e43863b4d83264dac8fbe9ad">iuse::lumber</a> );</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;MAGIC_8_BALL&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a791346a53fbb77e7bcffbebeab023965">iuse::magic_8_ball</a> );</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;PLAY_GAME&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#af1c729ba5eabe537c351f47be2a30324">iuse::play_game</a> );</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;MAKEMOUND&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ac6176c97f6298823068e8c8b7f572348">iuse::makemound</a> );</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;DIG_CHANNEL&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#af2ea0157e8ffbf1b71fe439733308adc">iuse::dig_channel</a> );</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;MARLOSS&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a52fbad62e1ab810f627a8ef2a5bd0494">iuse::marloss</a> );</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;MARLOSS_GEL&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ae9e320388be1366adea2739dd390c18d">iuse::marloss_gel</a> );</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;MARLOSS_SEED&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a48fa1d77fe26dcfe0cfa5b8d1e38ce03">iuse::marloss_seed</a> );</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;MA_MANUAL&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#acb63e796d6a12763147860706533963d">iuse::ma_manual</a> );</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;MEDITATE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a9ae5784c506dd050460a51b6585e636c">iuse::meditate</a> );</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;METH&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a1c55d9f8022241b470d2d2e3f26ccbb3">iuse::meth</a> );</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;MININUKE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a21c8e65ced80f9b26011bc78dfa450a6">iuse::mininuke</a> );</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;MOLOTOV_LIT&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ada78e14562e559ac1a3cc6f84f4c1604">iuse::molotov_lit</a> );</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;MOP&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a8f16cb027c9e2d876a8a6617c6b62463">iuse::mop</a> );</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;MP3&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ae84247499c1f9c3996f54bb5e849ffe5">iuse::mp3</a> );</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;MP3_ON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a7b9967bf92939e0eb7faf25298be0efd">iuse::mp3_on</a> );</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;MULTICOOKER&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a0a673629edd47e63203956d4eb0a4fbb">iuse::multicooker</a> );</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;MYCUS&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a2a7f7b04683cbec09580da469a10ccb0">iuse::mycus</a> );</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;NOISE_EMITTER_OFF&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a3c1d4a10bd7e29e546ba40ab02b3d765">iuse::noise_emitter_off</a> );</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;NOISE_EMITTER_ON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a4abd33c9bed73fcf0455f67785ee29eb">iuse::noise_emitter_on</a> );</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;NOTE_BIONICS&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a54ef0e8a9b1ce40de92f0baae5e54ca1">iuse::note_bionics</a> );</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;OXYGEN_BOTTLE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a574c6a0371cf149b79ccf8fa062a44bf">iuse::oxygen_bottle</a> );</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;OXYTORCH&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a2df3e8c930f47701ebe2a6a17538b584">iuse::oxytorch</a> );</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;PACK_CBM&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a61aded548c5a7c3c3d3acdffcd962fe2">iuse::pack_cbm</a> );</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;PACK_ITEM&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ae7092ba0c5ab6b366ce53e0d83e1733d">iuse::pack_item</a> );</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;PHEROMONE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a0abf562e890b6164e4165e8401b684f1">iuse::pheromone</a> );</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;PICKAXE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a1f7fc7ed967ceab8eb255f38489ee5ed">iuse::pickaxe</a> );</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;PLANTBLECH&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a35959c8acb23336c61771b360564c4d1">iuse::plantblech</a> );</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;POISON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a63bd00335278775136a06a2f6b73c8a3">iuse::poison</a> );</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;PORTABLE_GAME&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a4303a8a70c9ccc81c39d921ae2478692">iuse::portable_game</a> );</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;PORTAL&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a90743f549088ee917f6f482cf43c0ffe">iuse::portal</a> );</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;PROZAC&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ab198cffb01232a794d5ab08eeb586b3b">iuse::prozac</a> );</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;PURIFIER&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ad13ddff79124dac8f631e85e07a3439d">iuse::purifier</a> );</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;PURIFY_IV&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#af9e8597a652893f2459d8db97ab11025">iuse::purify_iv</a> );</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;PURIFY_SMART&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a0e0b76a96337dcd8208d5a0f524bf47e">iuse::purify_smart</a> );</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;RADGLOVE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#add705cd4049aa3d464aa38394e6deeaf">iuse::radglove</a> );</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;RADIOCAR&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aaee7b018768871e7ee2a69adb30f148f">iuse::radiocar</a> );</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;RADIOCARON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aea3836a0efda34a7f00ccbfbba7ade3e">iuse::radiocaron</a> );</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;RADIOCONTROL&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a80802e0d819009a825a7e0d8cd5fbfb8">iuse::radiocontrol</a> );</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;RADIO_MOD&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ae1f228b25a574d88137059eb3ee009ee">iuse::radio_mod</a> );</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;RADIO_OFF&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a7b3b50677802643bdcd63df07e94b514">iuse::radio_off</a> );</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;RADIO_ON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a91d119f4dc993b2fed2b45b9dc173c23">iuse::radio_on</a> );</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;REMOTEVEH&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a3ec4a9ae044aed6a9e99b59258a6fbda">iuse::remoteveh</a> );</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;REMOVE_ALL_MODS&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aa05b9253a87c0dbbd798894604c70ecd">iuse::remove_all_mods</a> );</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;REPORT_GRID_CHARGE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a9da85c5459c545035b4400d4c32718d8">iuse::report_grid_charge</a> );</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;REPORT_GRID_CONNECTIONS&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a2c21ebb318f0a7e236a6b52d1333d0ba">iuse::report_grid_connections</a> );</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;RM13ARMOR_OFF&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a8c7fe40ae857aa6263fa8f733a0bf9e5">iuse::rm13armor_off</a> );</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;RM13ARMOR_ON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a9b8ee5b1d9c197dc1f5fba88d9fd5192">iuse::rm13armor_on</a> );</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;ROBOTCONTROL&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a6b3cb4163d22a16b914674ca4f07fd07">iuse::robotcontrol</a> );</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;SEED&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a07b07d9e1b2e068106e3a2c779d3362c">iuse::seed</a> );</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;SEWAGE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aac318704559d836911f47277d6172208">iuse::sewage</a> );</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;SHAVEKIT&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aaf48bc6fd66cb1105785fa740913337f">iuse::shavekit</a> );</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;SHOCKTONFA_OFF&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ab9c9e9d8e1c972f8d7e94f482aa692c3">iuse::shocktonfa_off</a> );</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;SHOCKTONFA_ON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#af7900c10b8cf6614dfa61450516d107d">iuse::shocktonfa_on</a> );</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;SIPHON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a124c8bc78a42f9cf06fcb801c9f4427c">iuse::siphon</a> );</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;SLEEP&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ad65d231a2d136f7e8f8c0b9529a3a8fe">iuse::sleep</a> );</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;SMOKING&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aea803753a727c1825f333e9d4fc69eec">iuse::smoking</a> );</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;SOLARPACK&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ad931b414f7f1b3e14c6f188e282da137">iuse::solarpack</a> );</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;SOLARPACK_OFF&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a8a84e95e92cf71a5ab5a700d298f20bf">iuse::solarpack_off</a> );</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;SPRAY_CAN&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a2ffd5b9b676f359ad3b6a8db314d28a0">iuse::spray_can</a> );</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;STIMPACK&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#af5cf673b4a25124acdaf1e30265e8f19">iuse::stimpack</a> );</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;STRONG_ANTIBIOTIC&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a25067961208e9644f6b186dd97ef8bcc">iuse::strong_antibiotic</a> );</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;TAZER&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a3bdece1a07a33641fa483176a9bd0175">iuse::tazer</a> );</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;TAZER2&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a2e3fd5647a64b6f33536703155750854">iuse::tazer2</a> );</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;TELEPORT&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ac13d2a221346c855be7a0c0c04d77895">iuse::teleport</a> );</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;THORAZINE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a73c7d9cf354e1a3baefc57d6da88e84f">iuse::thorazine</a> );</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;THROWABLE_EXTINGUISHER_ACT&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a64b41a4e8dbd3fca719eaea1625b85b0">iuse::throwable_extinguisher_act</a> );</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;TOWEL&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aa714299cbd68a62e2487f7fda3095a3e">iuse::towel</a> );</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;TOGGLE_HEATS_FOOD&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a806d3629dd20d3cfa906b0a724018719">iuse::toggle_heats_food</a> );</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;TRIMMER_OFF&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aa99119c97dd4afb26a9ed0c0008c6491">iuse::trimmer_off</a> );</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;TRIMMER_ON&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a664125ee320f23c92c2bded4b241f8db">iuse::trimmer_on</a> );</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;UNFOLD_GENERIC&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#af14ea02c85a46c46323b35c4b4702a5f">iuse::unfold_generic</a> );</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;UNPACK_ITEM&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a07ece949cc39ee555a5475d2dd8b25cb">iuse::unpack_item</a> );</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;VACCINE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a7dcdbc04a40e253621e4e131cdb731ff">iuse::vaccine</a> );</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;CALL_OF_TINDALOS&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aec7231ff4cad991c6f9bc9bc88026446">iuse::call_of_tindalos</a> );</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;BLOOD_DRAW&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aba2ba2bb6fe17a1cfc06d4a8e4227d76">iuse::blood_draw</a> );</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;MIND_SPLICER&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a18ded3f37f4b03f690f1d23e5b4f0a50">iuse::mind_splicer</a> );</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;VIBE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#aa729b58c9beb6d8f34c626a6e81c8c79">iuse::vibe</a> );</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;HAND_CRANK&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a46dea249d232934f987af8efb8320529">iuse::hand_crank</a> );</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;VORTEX&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a29ce35e5e1cfa3e2a9efeb389f8e38b2">iuse::vortex</a> );</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;WASH_SOFT_ITEMS&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a385737dae1ad9a403ea7946dea63a601">iuse::wash_soft_items</a> );</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;WASH_HARD_ITEMS&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ada4d2575fb6b27538bc74b94f116943f">iuse::wash_hard_items</a> );</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;WASH_ALL_ITEMS&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a4a8ae9469156e13ca227dfa4f1e2c5eb">iuse::wash_all_items</a> );</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;WATER_PURIFIER&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a30740d88ad8e8394d665d9006f20eacc">iuse::water_purifier</a> );</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;WEAK_ANTIBIOTIC&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a6c9da42d08bb6a46345ebd7793ccb840">iuse::weak_antibiotic</a> );</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;WEATHER_TOOL&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#ae128a5b390f487c2ab93acbeadd86867">iuse::weather_tool</a> );</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;WEED_CAKE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a9a3cc0372f69cfd7f6554822d61a083e">iuse::weed_cake</a> );</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;XANAX&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#af2324774ae58dc15ed929ec5b4f0bb7f">iuse::xanax</a> );</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span> </div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>    <span class="comment">// Obsolete - just dummies, won&#39;t be called</span></div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;HOTPLATE&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a806d3629dd20d3cfa906b0a724018719">iuse::toggle_heats_food</a> );</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;HEAT_FOOD&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a806d3629dd20d3cfa906b0a724018719">iuse::toggle_heats_food</a> );</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>    <a class="code hl_function" href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">add_iuse</a>( <span class="stringliteral">&quot;HEATPACK&quot;</span>, &amp;<a class="code hl_function" href="namespaceiuse.html#a806d3629dd20d3cfa906b0a724018719">iuse::toggle_heats_food</a> );</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span> </div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;ammobelt_actor&gt;() );</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;bandolier_actor&gt;() );</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;cauterize_actor&gt;() );</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;consume_drug_iuse&gt;() );</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;delayed_transform_iuse&gt;() );</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;set_transform_iuse&gt;() );</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;set_transformed_iuse&gt;() );</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;enzlave_actor&gt;() );</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;explosion_iuse&gt;() );</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;firestarter_actor&gt;() );</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;fireweapon_off_actor&gt;() );</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;fireweapon_on_actor&gt;() );</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;heal_actor&gt;() );</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;holster_actor&gt;() );</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;inscribe_actor&gt;() );</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;iuse_transform&gt;() );</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;unpack_actor&gt;() );</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;countdown_actor&gt;() );</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;manualnoise_actor&gt;() );</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;musical_instrument_actor&gt;() );</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;pick_lock_actor&gt;() );</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;deploy_furn_actor&gt;() );</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;place_monster_iuse&gt;() );</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;change_scent_iuse&gt;() );</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;place_npc_iuse&gt;() );</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;reveal_map_actor&gt;() );</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;salvage_actor&gt;() );</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;unfold_vehicle_iuse&gt;() );</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;place_trap_actor&gt;() );</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;emit_actor&gt;() );</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;saw_barrel_actor&gt;() );</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;install_bionic_actor&gt;() );</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;detach_gunmods_actor&gt;() );</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;mutagen_actor&gt;() );</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;mutagen_iv_actor&gt;() );</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;deploy_tent_actor&gt;() );</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;learn_spell_actor&gt;() );</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;cast_spell_actor&gt;() );</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;weigh_self_actor&gt;() );</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>    <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;sew_advanced_actor&gt;() );</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span> </div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>    <span class="comment">// An empty dummy group, it will not spawn anything. However, it makes that item group</span></div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>    <span class="comment">// id valid, so it can be used all over the place without need to explicitly check for it.</span></div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>    <a class="code hl_variable" href="classItem__factory.html#a1aec789abd53810026e0d878c0069aea">m_template_groups</a>[<a class="code hl_typedef" href="type__id_8h.html#ab297382ed4c098c03ee2b8d70cd8e483">item_group_id</a>( <span class="stringliteral">&quot;EMPTY_GROUP&quot;</span> )] = std::make_unique&lt;Item_group&gt;</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>            ( <a class="code hl_enumvalue" href="classItem__group.html#ae51de1ef43540d3d8671f68faaa88ea0a876684fee2fb3551378e4fcea7a3757d">Item_group::G_COLLECTION</a>, 100, 0,</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>              0 );</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>}</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span> </div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"><a class="line" href="classItem__factory.html#a615b7ac9ef1e02f1858f976583706109"> 1094</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classItem__factory.html#a615b7ac9ef1e02f1858f976583706109">Item_factory::check_ammo_type</a>( std::string &amp;msg, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;ammo )<span class="keyword"> const</span></div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>    <span class="keywordflow">if</span>( ammo.<a class="code hl_function" href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">is_null</a>() ) {</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>    }</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span> </div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>    <span class="keywordflow">if</span>( !ammo.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>        msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;ammo type %s is not known\n&quot;</span>, ammo.<a class="code hl_function" href="classstring__id.html#a19aea01aa4a1f53aac09acc978f67cf8">c_str</a>() );</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>    }</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span> </div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>    <span class="keywordflow">if</span>( std::none_of( <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.begin(),</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>    <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.end(), [&amp;ammo]( <span class="keyword">const</span> <span class="keyword">decltype</span>( <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a> )::value_type &amp; e ) {</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>    return e.second.ammo &amp;&amp; e.second.ammo-&gt;type == ammo;</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>} ) ) {</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>        msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;there is no actual ammo of type %s defined\n&quot;</span>, ammo.<a class="code hl_function" href="classstring__id.html#a19aea01aa4a1f53aac09acc978f67cf8">c_str</a>() );</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>    }</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>}</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span> </div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"><a class="line" href="classItem__factory.html#aa273b2378a5f068c3a3695d150e09ee0"> 1115</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#aa273b2378a5f068c3a3695d150e09ee0">Item_factory::check_definitions</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a> ) {</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>        std::string msg;</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = &amp;elem.second;</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span> </div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>        <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;category_force.is_valid() ) {</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>            msg += <span class="stringliteral">&quot;undefined category &quot;</span> + <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;category_force.str() + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>        }</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span> </div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;weight &lt; 0_gram ) {</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>            msg += <span class="stringliteral">&quot;negative weight\n&quot;</span>;</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>        }</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;volume &lt; 0_ml ) {</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>            msg += <span class="stringliteral">&quot;negative volume\n&quot;</span>;</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>        }</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;count_by_charges() || <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;phase == <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) {</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;stack_size &lt;= 0 ) {</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid stack_size %d on type using charges\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;stack_size );</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>            }</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>        }</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;price &lt; 0_cent ) {</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>            msg += <span class="stringliteral">&quot;negative price\n&quot;</span>;</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>        }</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;damage_min() &gt; 0 || <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;damage_max() &lt; 0 || <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;damage_min() &gt; <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;damage_max() ) {</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>            msg += <span class="stringliteral">&quot;invalid damage range\n&quot;</span>;</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>        }</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;description.empty() ) {</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>            msg += <span class="stringliteral">&quot;empty description\n&quot;</span>;</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>        }</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span> </div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">material_id</a> &amp;mat_id : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;materials ) {</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>            <span class="keywordflow">if</span>( mat_id.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() == <span class="stringliteral">&quot;null&quot;</span> || !mat_id.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid material %s\n&quot;</span>, mat_id.<a class="code hl_function" href="classstring__id.html#a19aea01aa4a1f53aac09acc978f67cf8">c_str</a>() );</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>            }</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>        }</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span> </div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;sym.empty() ) {</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>            msg += <span class="stringliteral">&quot;symbol not defined\n&quot;</span>;</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;sym ) != 1 ) {</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>            msg += <span class="stringliteral">&quot;symbol must be exactly one console cell width\n&quot;</span>;</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>        }</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span> </div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;_a : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;techniques ) {</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>            <span class="keywordflow">if</span>( !_a.is_valid() ) {</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;unknown technique %s\n&quot;</span>, _a.c_str() );</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>            }</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>        }</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>        <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;snippet_category.empty() ) {</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>            <span class="keywordflow">if</span>( !<a class="code hl_variable" href="text__snippets_8cpp.html#ac3fc11c159cd056aa15ad7c0b37b070a">SNIPPET</a>.<a class="code hl_function" href="classsnippet__library.html#a04775bb228b86633909183ba39d274d8">has_category</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;snippet_category ) ) {</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;item %s: snippet category %s without any snippets\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;id.c_str(),</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>                                      <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;snippet_category.c_str() );</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>            }</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>        }</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;q : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;qualities ) {</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>            <span class="keywordflow">if</span>( !q.first.is_valid() ) {</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;item %s has unknown quality %s\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;id.c_str(), q.first.c_str() );</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>            }</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>        }</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;default_container &amp;&amp; !<a class="code hl_function" href="classItem__factory.html#a838f908ffe40039c138823e86103788a">has_template</a>( *<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;default_container ) ) {</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>            <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;default_container-&gt;is_null() ) {</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid container property %s\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;default_container-&gt;c_str() );</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>            }</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>        }</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span> </div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;emits ) {</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>            <span class="keywordflow">if</span>( !e.is_valid() ) {</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;item %s has unknown emit source %s\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;id.c_str(), e.c_str() );</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>            }</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>        }</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span> </div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;f : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;faults ) {</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>            <span class="keywordflow">if</span>( !f.is_valid() ) {</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid item fault %s\n&quot;</span>, f.c_str() );</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>            }</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>        }</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span> </div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;has_flag( <span class="stringliteral">&quot;FIRESTARTER&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>            !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;can_have_charges() &amp;&amp;</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>            !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;get_use( <span class="stringliteral">&quot;firestarter&quot;</span> ) ) {</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>            msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;has &#39;FIRESTARTER&#39; flag, but neither can have charges nor defines &#39;firestarter&#39; use func&quot;</span> );</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>        }</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span> </div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;comestible ) {</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>            <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;comestible-&gt;tool.is_null() ) {</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>                <span class="keyword">auto</span> req_tool = <a class="code hl_function" href="classItem__factory.html#a7cd4dd0d32f16602b6ef248a5a6510ca">find_template</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;comestible-&gt;tool );</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>                <span class="keywordflow">if</span>( !req_tool-&gt;tool ) {</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>                    msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid tool property %s\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;comestible-&gt;tool.c_str() );</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>                }</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>            }</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>        }</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;brewable ) {</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;brewable-&gt;time &lt; 1_turns ) {</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>                msg += <span class="stringliteral">&quot;brewable time is less than 1 turn\n&quot;</span>;</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>            }</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span> </div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;brewable-&gt;results.empty() ) {</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>                msg += <span class="stringliteral">&quot;empty product list\n&quot;</span>;</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>            }</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span> </div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;brewable-&gt;results ) {</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>                <span class="keywordflow">if</span>( !<a class="code hl_function" href="classItem__factory.html#a838f908ffe40039c138823e86103788a">has_template</a>( <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ) ) {</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>                    msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid result id %s\n&quot;</span>, <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.c_str() );</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>                }</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>            }</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>        }</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;seed ) {</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;seed-&gt;grow &lt; 1_turns ) {</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>                msg += <span class="stringliteral">&quot;seed growing time is less than 1 turn\n&quot;</span>;</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>            }</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classItem__factory.html#a838f908ffe40039c138823e86103788a">has_template</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;seed-&gt;fruit_id ) ) {</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid fruit id %s\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;seed-&gt;fruit_id.c_str() );</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>            }</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;seed-&gt;byproducts ) {</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>                <span class="keywordflow">if</span>( !<a class="code hl_function" href="classItem__factory.html#a838f908ffe40039c138823e86103788a">has_template</a>( <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ) ) {</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>                    msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid byproduct id %s\n&quot;</span>, <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a>.c_str() );</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>                }</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>            }</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>        }</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;book ) {</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;book-&gt;skill &amp;&amp; !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;book-&gt;skill.is_valid() ) {</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>                msg += <span class="stringliteral">&quot;uses invalid book skill.\n&quot;</span>;</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>            }</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;book-&gt;martial_art &amp;&amp; !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;book-&gt;martial_art.is_valid() ) {</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;trains invalid martial art &#39;%s&#39;.\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;book-&gt;martial_art.str() );</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>            }</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;can_use( <span class="stringliteral">&quot;MA_MANUAL&quot;</span> ) &amp;&amp; !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;book-&gt;martial_art ) {</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>                msg += <span class="stringliteral">&quot;has use_action MA_MANUAL but does not specify a martial art\n&quot;</span>;</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>            }</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>        }</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;can_use( <span class="stringliteral">&quot;MA_MANUAL&quot;</span> ) &amp;&amp; !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;book ) {</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>            msg += <span class="stringliteral">&quot;has use_action MA_MANUAL but is not a book\n&quot;</span>;</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>        }</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;milling_data ) {</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classItem__factory.html#a838f908ffe40039c138823e86103788a">has_template</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;milling_data-&gt;into_ ) ) {</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>                msg += <span class="stringliteral">&quot;type to mill into is invalid: &quot;</span> + <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;milling_data-&gt;into_.str() + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>            }</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>            <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;milling_data-&gt;into_-&gt;count_by_charges() ) {</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>                msg += <span class="stringliteral">&quot;type to mill into must be counted by charges: &quot;</span> + <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;milling_data-&gt;into_.str() + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>            }</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>        }</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;ammo ) {</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>            <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;ammo-&gt;type &amp;&amp; <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;ammo-&gt;type != <a class="code hl_class" href="classstring__id.html">ammotype</a>( <span class="stringliteral">&quot;NULL&quot;</span> ) ) {</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>                msg += <span class="stringliteral">&quot;must define at least one ammo type\n&quot;</span>;</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>            }</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>            <a class="code hl_function" href="classItem__factory.html#a615b7ac9ef1e02f1858f976583706109">check_ammo_type</a>( msg, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;ammo-&gt;type );</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;ammo-&gt;casing &amp;&amp; ( !<a class="code hl_function" href="classItem__factory.html#a838f908ffe40039c138823e86103788a">has_template</a>( *<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;ammo-&gt;casing ) ||</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>                                        <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;ammo-&gt;casing-&gt;is_null() ) ) {</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid casing property %s\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;ammo-&gt;casing-&gt;c_str() );</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>            }</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>            <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;ammo-&gt;drop.is_null() &amp;&amp; !<a class="code hl_function" href="classItem__factory.html#a838f908ffe40039c138823e86103788a">has_template</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;ammo-&gt;drop ) ) {</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid drop item %s\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;ammo-&gt;drop.c_str() );</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>            }</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;ammo-&gt;range != 0 &amp;&amp; <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;ammo-&gt;shape ) {</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;shape is set, but range is %d != 0&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;ammo-&gt;range );</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>            }</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>        }</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;battery ) {</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;battery-&gt;max_capacity &lt; 0_J ) {</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>                msg += <span class="stringliteral">&quot;battery cannot have negative maximum charge\n&quot;</span>;</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>            }</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>        }</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gun ) {</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;at : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gun-&gt;ammo ) {</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>                <a class="code hl_function" href="classItem__factory.html#a615b7ac9ef1e02f1858f976583706109">check_ammo_type</a>( msg, at );</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>            }</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gun-&gt;ammo.empty() ) {</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>                <span class="comment">// if gun doesn&#39;t use ammo forbid both integral or detachable magazines</span></div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>                <span class="keywordflow">if</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span><span class="keyword">&gt;</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gun-&gt;clip ) || !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazines.empty() ) {</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>                    msg += <span class="stringliteral">&quot;cannot specify clip_size or magazine without ammo type\n&quot;</span>;</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>                }</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span> </div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>                <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;has_flag( <span class="stringliteral">&quot;RELOAD_AND_SHOOT&quot;</span> ) ) {</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>                    msg += <span class="stringliteral">&quot;RELOAD_AND_SHOOT requires an ammo type to be specified\n&quot;</span>;</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>                }</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span> </div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>                <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;has_flag( <span class="stringliteral">&quot;RELOAD_AND_SHOOT&quot;</span> ) &amp;&amp; !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazines.empty() ) {</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>                    msg += <span class="stringliteral">&quot;RELOAD_AND_SHOOT cannot be used with magazines\n&quot;</span>;</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>                }</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;at : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gun-&gt;ammo ) {</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>                    <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gun-&gt;clip &amp;&amp; !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazines.empty() &amp;&amp; !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine_default.count( at ) ) {</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>                        msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;specified magazine but none provided for ammo type %s\n&quot;</span>, at.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>                    }</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>                }</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>            }</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gun-&gt;barrel_length &lt; 0_ml ) {</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>                msg += <span class="stringliteral">&quot;gun barrel length cannot be negative\n&quot;</span>;</div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>            }</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span> </div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>            <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gun-&gt;skill_used ) {</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>                msg += <span class="stringliteral">&quot;uses no skill\n&quot;</span>;</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gun-&gt;skill_used.is_valid() ) {</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;uses an invalid skill %s\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gun-&gt;skill_used.str() );</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>            }</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;gm : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gun-&gt;default_mods ) {</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>                <span class="keywordflow">if</span>( !<a class="code hl_function" href="classItem__factory.html#a838f908ffe40039c138823e86103788a">has_template</a>( gm ) ) {</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>                    msg += <span class="stringliteral">&quot;invalid default mod.\n&quot;</span>;</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>                }</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>            }</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;gm : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gun-&gt;built_in_mods ) {</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>                <span class="keywordflow">if</span>( !<a class="code hl_function" href="classItem__factory.html#a838f908ffe40039c138823e86103788a">has_template</a>( gm ) ) {</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>                    msg += <span class="stringliteral">&quot;invalid built-in mod.\n&quot;</span>;</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>                }</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>            }</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>        }</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gunmod ) {</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gunmod-&gt;location.str().empty() ) {</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>                msg += <span class="stringliteral">&quot;gunmod does not specify location\n&quot;</span>;</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>            }</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>            <span class="keywordflow">if</span>( ( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gunmod-&gt;sight_dispersion &lt; 0 ) != ( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gunmod-&gt;aim_speed &lt; 0 ) ) {</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>                msg += <span class="stringliteral">&quot;gunmod must have both sight_dispersion and aim_speed set or neither of them set\n&quot;</span>;</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>            }</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classgun__type__type.html">gun_type_type</a> &amp;t : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gunmod-&gt;usable ) {</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>                <span class="comment">// TODO: Make gun_type_type not require horrid checks like this one</span></div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>                <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">skill_id</a> gun_skill = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">skill_id</a>( t.<a class="code hl_variable" href="classgun__type__type.html#a5a9b6db967244ebdea433abcc8cfb019">name_</a> );</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>                <span class="keywordtype">bool</span> is_skill = ( gun_skill.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() &amp;&amp; gun_skill-&gt;<a class="code hl_function" href="classSkill.html#ad7cfc5378563d3512234329907b03ad6">is_combat_skill</a>() )</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>                                || t.<a class="code hl_variable" href="classgun__type__type.html#a5a9b6db967244ebdea433abcc8cfb019">name_</a> == <span class="stringliteral">&quot;bow&quot;</span></div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>                                || t.<a class="code hl_variable" href="classgun__type__type.html#a5a9b6db967244ebdea433abcc8cfb019">name_</a> == <span class="stringliteral">&quot;crossbow&quot;</span>;</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>                <a class="code hl_class" href="classstring__id.html">itype_id</a> item_type( t.<a class="code hl_variable" href="classgun__type__type.html#a5a9b6db967244ebdea433abcc8cfb019">name_</a> );</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>                <span class="keywordtype">bool</span> is_item = item_type.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>();</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span>                <span class="keywordflow">if</span>( !is_skill &amp;&amp; !is_item ) {</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>                    msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;gunmod is usable for invalid item/gun type %s\n&quot;</span>, t.<a class="code hl_variable" href="classgun__type__type.html#a5a9b6db967244ebdea433abcc8cfb019">name_</a> );</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>                }</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span> </div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>                <span class="keywordflow">if</span>( <a class="code hl_variable" href="cached__options_8cpp.html#a16e6bc0b3300c5fb311e7f3571fb67c7">json_report_strict</a> &amp;&amp; t.<a class="code hl_variable" href="classgun__type__type.html#a5a9b6db967244ebdea433abcc8cfb019">name_</a> == <span class="stringliteral">&quot;bow&quot;</span> ) {</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>                    msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;&#39;bow&#39; location is deprecated, use &#39;archery&#39; instead&quot;</span> );</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>                }</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span> </div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>                <span class="comment">// We need to check is_skill because something can be both an item and a skill</span></div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>                <span class="keywordflow">if</span>( !is_skill &amp;&amp; is_item ) {</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>                    <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *target = &amp;*item_type;</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>                    <span class="keywordflow">if</span>( target-&gt;<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>-&gt;valid_mod_locations.count( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gunmod-&gt;location ) == 0 ) {</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>                        msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;gunmod is usable for gun %s which doesn&#39;t have a slot of type %s\n&quot;</span>,</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>                                              t.<a class="code hl_variable" href="classgun__type__type.html#a5a9b6db967244ebdea433abcc8cfb019">name_</a>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gunmod-&gt;location.str() );</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>                    }</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span> </div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>                    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;mod != <span class="keyword">nullptr</span> &amp;&amp; !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;mod-&gt;ammo_modifier.empty() ) {</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>                        <span class="keyword">auto</span> acceptable_ammo = <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;mod-&gt;ammo_modifier;</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>                        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;pr : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;mod-&gt;magazine_adaptor ) {</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>                            acceptable_ammo.insert( pr.first );</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>                        }</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>                        <span class="keyword">auto</span> acceptable_magazines = !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;mod-&gt;magazine_adaptor.empty()</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>                                                    ? <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;mod-&gt;magazine_adaptor</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>                                                    : target-&gt;<a class="code hl_variable" href="structitype.html#a8f4b158de33b6320ba43249b005a2f94">magazines</a>;</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>                        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;ammo : acceptable_ammo ) {</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>                            <span class="keywordflow">if</span>( acceptable_magazines.find( ammo ) == acceptable_magazines.end() ) {</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>                                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;gunmod can be applied to %s, which has no magazines for ammo %s\n&quot;</span>,</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>                                                      t.<a class="code hl_variable" href="classgun__type__type.html#a5a9b6db967244ebdea433abcc8cfb019">name_</a>, ammo.str() );</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>                            }</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>                        }</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>                    }</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>                }</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>            }</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>        }</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;mod ) {</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;at : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;mod-&gt;ammo_modifier ) {</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>                <a class="code hl_function" href="classItem__factory.html#a615b7ac9ef1e02f1858f976583706109">check_ammo_type</a>( msg, at );</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>            }</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span> </div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;mod-&gt;acceptable_ammo ) {</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>                <a class="code hl_function" href="classItem__factory.html#a615b7ac9ef1e02f1858f976583706109">check_ammo_type</a>( msg, e );</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>            }</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span> </div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;mod-&gt;magazine_adaptor ) {</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>                <a class="code hl_function" href="classItem__factory.html#a615b7ac9ef1e02f1858f976583706109">check_ammo_type</a>( msg, e.first );</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>                <span class="keywordflow">if</span>( e.second.empty() ) {</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>                    msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;no magazines specified for ammo type %s\n&quot;</span>, e.first.str() );</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>                }</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;opt : e.second ) {</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>                    <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *mag = <a class="code hl_function" href="classItem__factory.html#a7cd4dd0d32f16602b6ef248a5a6510ca">find_template</a>( opt );</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>                    <span class="keywordflow">if</span>( !mag-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a> || !mag-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;type.count( e.first ) ) {</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>                        msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid magazine %s in magazine adapter\n&quot;</span>, opt.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>                    }</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>                }</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>            }</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>        }</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine ) {</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;at : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;type ) {</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>                <a class="code hl_function" href="classItem__factory.html#a615b7ac9ef1e02f1858f976583706109">check_ammo_type</a>( msg, at );</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>            }</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;type.empty() ) {</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>                msg += <span class="stringliteral">&quot;magazine did not specify ammo type\n&quot;</span>;</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>            }</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;capacity &lt; 0 ) {</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid capacity %i\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;capacity );</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>            }</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;count &lt; 0 || <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;count &gt; <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;capacity ) {</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid count %i\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;count );</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>            }</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *da = <a class="code hl_function" href="classItem__factory.html#a7cd4dd0d32f16602b6ef248a5a6510ca">find_template</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;default_ammo );</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>            <span class="keywordflow">if</span>( !( da-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a> &amp;&amp; <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;type.count( da-&gt;<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;type ) ) ) {</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid default_ammo %s\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;default_ammo.str() );</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>            }</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;reliability &lt; 0 || <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;reliability &gt; 100 ) {</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid reliability %i\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;reliability );</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>            }</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;reload_time &lt; 0 ) {</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid reload_time %i\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;reload_time );</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>            }</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;linkage &amp;&amp; ( !<a class="code hl_function" href="classItem__factory.html#a838f908ffe40039c138823e86103788a">has_template</a>( *<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;linkage ) ||</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>                                             <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;linkage-&gt;is_null() ) ) {</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid linkage property %s\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazine-&gt;linkage-&gt;c_str() );</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>            }</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>        }</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span> </div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;<span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">string_id&lt;ammunition_type&gt;</a>, std::set&lt;itype_id&gt;&gt; &amp;ammo_variety :</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>             <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;magazines ) {</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>            <span class="keywordflow">if</span>( ammo_variety.second.empty() ) {</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;no magazine specified for %s\n&quot;</span>, ammo_variety.first.str() );</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span>            }</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;magazine : ammo_variety.second ) {</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *mag_ptr = <a class="code hl_function" href="classItem__factory.html#a7cd4dd0d32f16602b6ef248a5a6510ca">find_template</a>( magazine );</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>                <span class="keywordflow">if</span>( mag_ptr == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>                    msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;magazine \&quot;%s\&quot; specified for \&quot;%s\&quot; does not exist\n&quot;</span>,</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>                                          magazine.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>(), ammo_variety.first.str() );</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !mag_ptr-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a> ) {</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>                    msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>(</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>                               <span class="stringliteral">&quot;magazine \&quot;%s\&quot; specified for \&quot;%s\&quot; is not a magazine\n&quot;</span>, magazine.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>(),</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>                               ammo_variety.first.str() );</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !mag_ptr-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;type.count( ammo_variety.first ) ) {</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>                    msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;magazine \&quot;%s\&quot; does not take compatible ammo\n&quot;</span>, magazine );</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( mag_ptr-&gt;<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;SPEEDLOADER&quot;</span> ) &amp;&amp;</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>                           mag_ptr-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;capacity != <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gun-&gt;clip ) {</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>                    msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>(</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>                               <span class="stringliteral">&quot;speedloader %s capacity (%d) does not match gun capacity (%d).\n&quot;</span>,</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>                               magazine.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>(), mag_ptr-&gt;<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>-&gt;capacity, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;gun-&gt;clip );</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>                }</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>            }</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>        }</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span> </div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;tool ) {</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammotype</a> &amp;at : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;tool-&gt;ammo_id ) {</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>                <a class="code hl_function" href="classItem__factory.html#a615b7ac9ef1e02f1858f976583706109">check_ammo_type</a>( msg, at );</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>            }</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;tool-&gt;revert_to &amp;&amp; ( !<a class="code hl_function" href="classItem__factory.html#a838f908ffe40039c138823e86103788a">has_template</a>( *<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;tool-&gt;revert_to ) ||</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>                                           <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;tool-&gt;revert_to-&gt;is_null() ) ) {</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid revert_to property %s\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;tool-&gt;revert_to-&gt;c_str() );</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>            }</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>            <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;tool-&gt;revert_msg.empty() &amp;&amp; !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;tool-&gt;revert_to ) {</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>                msg += <span class="stringliteral">&quot;cannot specify revert_msg without revert_to\n&quot;</span>;</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>            }</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>            <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;tool-&gt;subtype.is_empty() &amp;&amp; !<a class="code hl_function" href="classItem__factory.html#a838f908ffe40039c138823e86103788a">has_template</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;tool-&gt;subtype ) ) {</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid tool subtype %s\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;tool-&gt;subtype.str() );</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>            }</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>        }</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;bionic ) {</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>            <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;bionic-&gt;id.is_valid() ) {</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;there is no bionic with id %s\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;bionic-&gt;id.c_str() );</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>            }</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>        }</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span> </div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;container ) {</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;container-&gt;seals &amp;&amp; !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;container-&gt;unseals_into.is_null() ) {</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;resealable container unseals_into %s\n&quot;</span>,</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>                                      <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;container-&gt;unseals_into.c_str() );</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>            }</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;container-&gt;contains &lt;= 0_ml ) {</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;\&quot;contains\&quot; (%d) must be &gt;0\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;container-&gt;contains.value() );</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>            }</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="classItem__factory.html#a838f908ffe40039c138823e86103788a">has_template</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;container-&gt;unseals_into ) ) {</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;unseals_into invalid id %s\n&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;container-&gt;unseals_into.c_str() );</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>            }</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>        }</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span> </div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;relic_data ) {</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>            <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;relic_data-&gt;check();</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>        }</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span> </div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;use_methods ) {</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>            <span class="keyword">const</span> <a class="code hl_class" href="classiuse__actor.html">iuse_actor</a> *actor = elem.second.get_actor_ptr();</div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span> </div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>            assert( actor );</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>            <span class="keywordflow">if</span>( !actor-&gt;<a class="code hl_function" href="classiuse__actor.html#a012da399f97dd64e29a78e477a202b8e">is_valid</a>() ) {</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;item action \&quot;%s\&quot; was not described.\n&quot;</span>, actor-&gt;<a class="code hl_variable" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a>.c_str() );</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>            }</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span> </div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>            <span class="keywordflow">if</span>( actor-&gt;<a class="code hl_variable" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a> == <span class="stringliteral">&quot;CABLE_ATTACH&quot;</span> &amp;&amp; !<a class="code hl_class" href="classstring__id.html">vpart_id</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;id.str() ).<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>                msg += <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;no valid vehicle part for CABLE_ATTACH action\n&quot;</span> );</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>            }</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>        }</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span> </div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;fuel &amp;&amp; !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;count_by_charges() ) {</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>            msg += <span class="stringliteral">&quot;fuel value set, but item isn&#39;t count_by_charges.\n&quot;</span>;</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>        }</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span> </div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>        <span class="keywordflow">if</span>( msg.empty() ) {</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>        }</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;warnings for type %s:\n%s&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>-&gt;id.c_str(), msg );</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>    }</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : <a class="code hl_variable" href="classItem__factory.html#a8453c94f39f6cd4e081a0229a78108af">migrations</a> ) {</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.count( e.second.replace ) ) {</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid migration target: %s&quot;</span>, e.second.replace.c_str() );</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>        }</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> : e.second.contents ) {</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>            <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.count( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> ) ) {</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span>                <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid migration contents: %s&quot;</span>, <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.c_str() );</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>            }</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>        }</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>    }</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classItem__factory.html#a1aec789abd53810026e0d878c0069aea">m_template_groups</a> ) {</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>        elem.second-&gt;check_consistency( elem.first.str() );</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>        <a class="code hl_variable" href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a>.<a class="code hl_function" href="classinput__manager.html#a56fd029f8ad1ca3dcd864a6bb5537045">pump_events</a>();</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>    }</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>}</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span> </div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span><span class="comment">//Returns the template with the given identification tag</span></div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"><a class="line" href="classItem__factory.html#a7cd4dd0d32f16602b6ef248a5a6510ca"> 1524</a></span><span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *<a class="code hl_function" href="classItem__factory.html#a7cd4dd0d32f16602b6ef248a5a6510ca">Item_factory::find_template</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>    assert( <a class="code hl_variable" href="classItem__factory.html#a505d771e637afa6c26124010e3c561cf">frozen</a> );</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span> </div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>    <span class="keyword">auto</span> found = <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.find( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>    <span class="keywordflow">if</span>( found != <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.end() ) {</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>        <span class="keywordflow">return</span> &amp;found-&gt;second;</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span>    }</div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span> </div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>    <span class="keyword">auto</span> rt = <a class="code hl_variable" href="classItem__factory.html#aeadd69bbf3c9c3aca9ba3c5b1d36765d">m_runtimes</a>.find( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>    <span class="keywordflow">if</span>( rt != <a class="code hl_variable" href="classItem__factory.html#aeadd69bbf3c9c3aca9ba3c5b1d36765d">m_runtimes</a>.end() ) {</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>        <span class="keywordflow">return</span> rt-&gt;second.get();</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>    }</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span> </div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>    <span class="comment">//If we didn&#39;t find the item maybe it is a building instead!</span></div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">recipe_id</a> &amp;making_id = <a class="code hl_typedef" href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a>( <span class="keywordtype">id</span>.c_str() );</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>    <span class="keywordflow">if</span>( <a class="code hl_typedef" href="type__id_8h.html#a62a00ee11c034c0eaf855dc51bf92337">oter_str_id</a>( <span class="keywordtype">id</span>.c_str() ).is_valid() ||</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>        ( making_id.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() &amp;&amp; making_id.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_function" href="classrecipe.html#acef4205b638841f8e1980005728fcf90">is_blueprint</a>() ) ) {</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>        <a class="code hl_struct" href="structitype.html">itype</a> *def = <span class="keyword">new</span> <a class="code hl_struct" href="structitype.html">itype</a>();</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>        def-&gt;<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a> = <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>;</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>        def-&gt;<a class="code hl_variable" href="structitype.html#a82ca05abd5038bf680072963a3a97a7c">name</a> = <a class="code hl_function" href="translations_8cpp.html#a7afa19f8e1a45d955fc6fbaa420a6760">no_translation</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;DEBUG: %s&quot;</span>, <span class="keywordtype">id</span>.c_str() ) );</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>        def-&gt;<a class="code hl_variable" href="structitype.html#a71434072aef9916ba0a62b7baa59a2b5">description</a> = making_id.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_variable" href="classrecipe.html#a334fe87cf6e3da5ad075fcabeae44c7c">description</a>;</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>        <a class="code hl_variable" href="classItem__factory.html#aeadd69bbf3c9c3aca9ba3c5b1d36765d">m_runtimes</a>[ <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a> ].reset( def );</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>        <span class="keywordflow">return</span> def;</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>    }</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span> </div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>    <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Missing item definition: %s&quot;</span>, <span class="keywordtype">id</span>.c_str() );</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span> </div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>    <a class="code hl_struct" href="structitype.html">itype</a> *def = <span class="keyword">new</span> <a class="code hl_struct" href="structitype.html">itype</a>();</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>    def-&gt;<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a> = <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>;</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>    def-&gt;<a class="code hl_variable" href="structitype.html#a82ca05abd5038bf680072963a3a97a7c">name</a> = <a class="code hl_function" href="translations_8cpp.html#a7afa19f8e1a45d955fc6fbaa420a6760">no_translation</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;undefined-%s&quot;</span>, <span class="keywordtype">id</span>.c_str() ) );</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>    def-&gt;<a class="code hl_variable" href="structitype.html#a71434072aef9916ba0a62b7baa59a2b5">description</a> = <a class="code hl_function" href="translations_8cpp.html#a7afa19f8e1a45d955fc6fbaa420a6760">no_translation</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;Missing item definition for %s.&quot;</span>, <span class="keywordtype">id</span>.c_str() ) );</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span> </div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>    <a class="code hl_variable" href="classItem__factory.html#aeadd69bbf3c9c3aca9ba3c5b1d36765d">m_runtimes</a>[ <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a> ].reset( def );</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>    <span class="keywordflow">return</span> def;</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>}</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span> </div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"><a class="line" href="classItem__factory.html#ab5504ee5dc212f7d52508bab8c323dae"> 1561</a></span><a class="code hl_class" href="classItem__spawn__data.html">Item_spawn_data</a> *<a class="code hl_function" href="classItem__factory.html#ab5504ee5dc212f7d52508bab8c323dae">Item_factory::get_group</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">item_group_id</a> &amp;<a class="code hl_class" href="classstring__id.html">item_group_id</a> )</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>{</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>    GroupMap::iterator group_iter = <a class="code hl_variable" href="classItem__factory.html#a1aec789abd53810026e0d878c0069aea">m_template_groups</a>.find( <a class="code hl_class" href="classstring__id.html">item_group_id</a> );</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>    <span class="keywordflow">if</span>( group_iter != <a class="code hl_variable" href="classItem__factory.html#a1aec789abd53810026e0d878c0069aea">m_template_groups</a>.end() ) {</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>        <span class="keywordflow">return</span> group_iter-&gt;second.get();</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>    }</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>}</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span><span class="comment"></span> </div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span><span class="comment">///////////////////////</span></div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span><span class="comment"></span><span class="comment">// DATA FILE READING //</span><span class="comment"></span></div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span><span class="comment">///////////////////////</span></div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span><span class="comment"></span> </div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> SlotType&gt;</div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"><a class="line" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d"> 1575</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">Item_factory::load_slot</a>( <a class="code hl_class" href="classcata_1_1value__ptr.html">cata::value_ptr&lt;SlotType&gt;</a> &amp;slotptr, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo,</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>                              <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>{</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>    <span class="keywordflow">if</span>( !slotptr ) {</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>        slotptr = cata::make_value&lt;SlotType&gt;();</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>    }</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>    <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">load</a>( *slotptr, jo, src );</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>}</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span> </div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> SlotType&gt;</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"><a class="line" href="classItem__factory.html#a839d4e378b9e255c14e1b64f0404b785"> 1585</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a839d4e378b9e255c14e1b64f0404b785">Item_factory::load_slot_optional</a>( <a class="code hl_class" href="classcata_1_1value__ptr.html">cata::value_ptr&lt;SlotType&gt;</a> &amp;slotptr, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo,</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>                                       <span class="keyword">const</span> std::string &amp;<a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a>, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>{</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>    <span class="keywordflow">if</span>( !jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> ) ) {</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>    }</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>    <a class="code hl_class" href="classJsonObject.html">JsonObject</a> slotjo = jo.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> );</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>    <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( slotptr, slotjo, src );</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>}</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span> </div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> E&gt;</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a13605b401b65f4ffbe3657a5387c0da7"> 1596</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="item__factory_8cpp.html#a13605b401b65f4ffbe3657a5387c0da7">load_optional_enum_array</a>( std::vector&lt;E&gt; &amp;vec, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo,</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>                               <span class="keyword">const</span> std::string &amp;<a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> )</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>{</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span> </div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>    <span class="keywordflow">if</span>( !jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> ) ) {</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> ) ) {</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;expected array&quot;</span>, <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> );</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>    }</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span> </div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>    <a class="code hl_class" href="classJsonIn.html">JsonIn</a> &amp;stream = *jo.<a class="code hl_function" href="classJsonObject.html#a985f8f01dd1105c10a318d04b710d413">get_raw</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> );</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>    stream.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>    <span class="keywordflow">while</span>( !stream.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>        vec.push_back( stream.<a class="code hl_function" href="classJsonIn.html#a4d4bca74241c07362969d5ef19be4882">get_enum_value</a>&lt;E&gt;() );</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>    }</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>}</div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span> </div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"><a class="line" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c"> 1613</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">Item_factory::load_definition</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src, <a class="code hl_struct" href="structitype.html">itype</a> &amp;def )</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>{</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>    assert( !<a class="code hl_variable" href="classItem__factory.html#a505d771e637afa6c26124010e3c561cf">frozen</a> );</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span> </div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>    <span class="keywordflow">if</span>( !jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;copy-from&quot;</span> ) ) {</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>        <span class="comment">// if this is a new definition ensure we start with a clean itype</span></div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>        def = <a class="code hl_struct" href="structitype.html">itype</a>();</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>    }</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span> </div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>    <a class="code hl_class" href="classstring__id.html">itype_id</a> copy_from;</div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>    jo.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;copy-from&quot;</span>, copy_from, <span class="keyword">true</span> );</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>    <span class="keyword">auto</span> base = <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.find( copy_from );</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>    <span class="keywordflow">if</span>( base != <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.end() ) {</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>        def = base-&gt;second;</div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>        def.<a class="code hl_variable" href="structitype.html#a4e982ae6c205d1a157d2df129373eca3">looks_like</a> = copy_from;</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>        def.<a class="code hl_variable" href="structitype.html#a2fd0fb8931b801aaeb42d19d9725c958">was_loaded</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>    }</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span> </div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>    <span class="keyword">auto</span> <span class="keyword">abstract</span> = <a class="code hl_variable" href="classItem__factory.html#a78c867f6a9f3fd09db30e3c3e3d4303f">m_abstracts</a>.find( copy_from );</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>    <span class="keywordflow">if</span>( <span class="keyword">abstract</span> != <a class="code hl_variable" href="classItem__factory.html#a78c867f6a9f3fd09db30e3c3e3d4303f">m_abstracts</a>.end() ) {</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>        def = <span class="keyword">abstract</span>-&gt;second;</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>        <span class="keywordflow">if</span>( def.<a class="code hl_variable" href="structitype.html#a4e982ae6c205d1a157d2df129373eca3">looks_like</a>.<a class="code hl_function" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() ) {</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>            def.<a class="code hl_variable" href="structitype.html#a4e982ae6c205d1a157d2df129373eca3">looks_like</a> = copy_from;</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>        }</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>        def.<a class="code hl_variable" href="structitype.html#a2fd0fb8931b801aaeb42d19d9725c958">was_loaded</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>    }</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span> </div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>    <a class="code hl_variable" href="item__factory_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a>.emplace_back( jo.<a class="code hl_function" href="classJsonObject.html#a539477c9a10480af15673eb73be9c482">get_source_location</a>(), src );</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>    jo.<a class="code hl_function" href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">allow_omitted_members</a>();</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>}</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span> </div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"><a class="line" href="classItem__factory.html#ac469737c2a1e2de0b5617689f75537a0"> 1648</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__artifact.html">islot_artifact</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp; )</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>{</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>    slot.<a class="code hl_variable" href="structislot__artifact.html#a1c2f3a70258132c9e494226abdd44e1f">charge_type</a> = jo.<a class="code hl_function" href="classJsonObject.html#ae00cc01f914207318896e0e45ece96aa">get_enum_value</a>( <span class="stringliteral">&quot;charge_type&quot;</span>, <a class="code hl_enumvalue" href="artifact_8h.html#a4abd5689a3239540154244d74ac6cc03a642a5378b378d82b562da629b805bfb7">ARTC_NULL</a> );</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>    slot.<a class="code hl_variable" href="structislot__artifact.html#a5961a277aaa521741d838648c59ceb0d">charge_req</a>  = jo.<a class="code hl_function" href="classJsonObject.html#ae00cc01f914207318896e0e45ece96aa">get_enum_value</a>( <span class="stringliteral">&quot;charge_req&quot;</span>,  <a class="code hl_enumvalue" href="artifact_8h.html#ada74042dbacb2f0db9c7e7f24dab29f2ab2546d47b244252708f0df89bb640f26">ACR_NULL</a> );</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>    <span class="comment">// No dreams unless specified for artifacts embedded in items.</span></div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>    <span class="comment">// If specifying dreams, message should be set too,</span></div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>    <span class="comment">// since the array with the defaults isn&#39;t accessible from here.</span></div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>    slot.<a class="code hl_variable" href="structislot__artifact.html#aad6bad22aa9e83cfb1042333459deec4">dream_freq_unmet</a> = jo.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;dream_freq_unmet&quot;</span>, 0 );</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>    slot.<a class="code hl_variable" href="structislot__artifact.html#a38c43850edb8bb18583070d7be152ce7">dream_freq_met</a>   = jo.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;dream_freq_met&quot;</span>,   0 );</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>    <span class="comment">// TODO: Make sure it doesn&#39;t cause problems if this is empty</span></div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>    slot.<a class="code hl_variable" href="structislot__artifact.html#ab845b4492177c9597bed1109527c84a7">dream_msg_unmet</a>  = jo.<a class="code hl_function" href="classJsonObject.html#a82c84e4f6eb744e24a0a60cb0ed88491">get_string_array</a>( <span class="stringliteral">&quot;dream_unmet&quot;</span> );</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>    slot.<a class="code hl_variable" href="structislot__artifact.html#a7421b6e2a49fd526a13c80bc49f1d060">dream_msg_met</a>    = jo.<a class="code hl_function" href="classJsonObject.html#a82c84e4f6eb744e24a0a60cb0ed88491">get_string_array</a>( <span class="stringliteral">&quot;dream_met&quot;</span> );</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>    <a class="code hl_function" href="item__factory_8cpp.html#a13605b401b65f4ffbe3657a5387c0da7">load_optional_enum_array</a>( slot.<a class="code hl_variable" href="structislot__artifact.html#a88a4d2320788560ce4bb10e1b9c99288">effects_wielded</a>, jo, <span class="stringliteral">&quot;effects_wielded&quot;</span> );</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>    <a class="code hl_function" href="item__factory_8cpp.html#a13605b401b65f4ffbe3657a5387c0da7">load_optional_enum_array</a>( slot.<a class="code hl_variable" href="structislot__artifact.html#acbc372e9a5ce7c3dc42a381de71e8436">effects_activated</a>, jo, <span class="stringliteral">&quot;effects_activated&quot;</span> );</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>    <a class="code hl_function" href="item__factory_8cpp.html#a13605b401b65f4ffbe3657a5387c0da7">load_optional_enum_array</a>( slot.<a class="code hl_variable" href="structislot__artifact.html#a4d6a77cfad45b2c7411acf568a0936ad">effects_carried</a>, jo, <span class="stringliteral">&quot;effects_carried&quot;</span> );</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>    <a class="code hl_function" href="item__factory_8cpp.html#a13605b401b65f4ffbe3657a5387c0da7">load_optional_enum_array</a>( slot.<a class="code hl_variable" href="structislot__artifact.html#a971395feba406d0920e27bdbb79980e3">effects_worn</a>, jo, <span class="stringliteral">&quot;effects_worn&quot;</span> );</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>}</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span> </div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"><a class="line" href="classItem__factory.html#a14cde3bd1039d87371d373ce96af77a1"> 1666</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_class" href="classislot__milling.html">islot_milling</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp; )</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>{</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;into&quot;</span>, slot.<a class="code hl_variable" href="classislot__milling.html#aa8ae9e815c2a51ce3d78ee40b95c18d7">into_</a> );</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;conversion_rate&quot;</span>, slot.<a class="code hl_variable" href="classislot__milling.html#af210f6fffa11c0a99e20a3c38f981877">conversion_rate_</a> );</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>}</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span> </div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"><a class="line" href="structislot__ammo.html#ab7743cd9372c97a6542ef4cda254bffe"> 1672</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="structislot__ammo.html#ab7743cd9372c97a6542ef4cda254bffe">islot_ammo::load</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo )</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>{</div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>    <a class="code hl_function" href="generic__factory_8h.html#a0a177c754c5ba89ac6c543656b0652cc">mandatory</a>( jo, <a class="code hl_variable" href="structislot__ammo.html#a50b0b4c535f2b4a412335f917110bd29">was_loaded</a>, <span class="stringliteral">&quot;ammo_type&quot;</span>, <a class="code hl_variable" href="structislot__ammo.html#afe620b203568fc02e11e1f4b546c912d">type</a> );</div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>    <a class="code hl_function" href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a>( jo, <a class="code hl_variable" href="structislot__ammo.html#a50b0b4c535f2b4a412335f917110bd29">was_loaded</a>, <span class="stringliteral">&quot;casing&quot;</span>, <a class="code hl_variable" href="structislot__ammo.html#aea52c64dc518f9ccee1df8a98279ec3e">casing</a>, <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a> );</div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>    <a class="code hl_function" href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a>( jo, <a class="code hl_variable" href="structislot__ammo.html#a50b0b4c535f2b4a412335f917110bd29">was_loaded</a>, <span class="stringliteral">&quot;drop&quot;</span>, <a class="code hl_variable" href="structislot__ammo.html#acd114e30cfafd26d8644a2b43d29ceb9">drop</a>, <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">itype_id::NULL_ID</a>() );</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>    <a class="code hl_function" href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a>( jo, <a class="code hl_variable" href="structislot__ammo.html#a50b0b4c535f2b4a412335f917110bd29">was_loaded</a>, <span class="stringliteral">&quot;drop_active&quot;</span>, <a class="code hl_variable" href="structislot__ammo.html#ad7649b801b4ed0d8bec314b40f18f1db">drop_active</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>    <a class="code hl_function" href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a>( jo, <a class="code hl_variable" href="structislot__ammo.html#a50b0b4c535f2b4a412335f917110bd29">was_loaded</a>, <span class="stringliteral">&quot;dont_recover_one_in&quot;</span>, <a class="code hl_variable" href="structislot__ammo.html#a4e55e746a4e82e094d70ed42f1cf1ac1">dont_recover_one_in</a>, 1 );</div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>    <span class="comment">// Damage instance assign reader handles pierce and prop_damage</span></div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;damage&quot;</span>, <a class="code hl_variable" href="structcommon__ranged__data.html#a94254f1acb94261bb47c4b7aaa3b0c89">damage</a> );</div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;range&quot;</span>, <a class="code hl_variable" href="structcommon__ranged__data.html#af73392bcb456d04c3fdf1a413b6b3a9e">range</a> );</div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;dispersion&quot;</span>, <a class="code hl_variable" href="structcommon__ranged__data.html#a497cd4533098e79f14f8a97fcec6ca1a">dispersion</a> );</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;recoil&quot;</span>, <a class="code hl_variable" href="structislot__ammo.html#a9bf197805d7d623f18b832dd3e5dc770">recoil</a> );</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>    <a class="code hl_function" href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a>( jo, <a class="code hl_variable" href="structislot__ammo.html#a50b0b4c535f2b4a412335f917110bd29">was_loaded</a>, <span class="stringliteral">&quot;count&quot;</span>, <a class="code hl_variable" href="structislot__ammo.html#ad7743be28bd769a29d5856ed7263a49a">def_charges</a>, 1 );</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>    <a class="code hl_function" href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a>( jo, <a class="code hl_variable" href="structislot__ammo.html#a50b0b4c535f2b4a412335f917110bd29">was_loaded</a>, <span class="stringliteral">&quot;loudness&quot;</span>, <a class="code hl_variable" href="structislot__ammo.html#a3904c72b147fc5bb85bdf443dc61538d">loudness</a>, -1 );</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;effects&quot;</span>, <a class="code hl_namespace" href="namespaceammo__effects.html">ammo_effects</a> );</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>    <a class="code hl_function" href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a>( jo, <a class="code hl_variable" href="structislot__ammo.html#a50b0b4c535f2b4a412335f917110bd29">was_loaded</a>, <span class="stringliteral">&quot;show_stats&quot;</span>, <a class="code hl_variable" href="structislot__ammo.html#a405f6a825e91ef797ff7a9d25b3d8d74">force_stat_display</a>, <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a> );</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>    <a class="code hl_function" href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a>( jo, <a class="code hl_variable" href="structislot__ammo.html#a50b0b4c535f2b4a412335f917110bd29">was_loaded</a>, <span class="stringliteral">&quot;shape&quot;</span>, <a class="code hl_class" href="classshape.html">shape</a>, <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a> );</div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>}</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span> </div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"><a class="line" href="structislot__ammo.html#ad9a53dda94d7cfa1f8992582af96d503"> 1691</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="structislot__ammo.html#ad9a53dda94d7cfa1f8992582af96d503">islot_ammo::deserialize</a>( <a class="code hl_class" href="classJsonIn.html">JsonIn</a> &amp;jsin )</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>{</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>    <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> jo = jsin.<a class="code hl_function" href="classJsonIn.html#af988f122efed0696d9d05f649e57c9b2">get_object</a>();</div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span>    <a class="code hl_function" href="structislot__ammo.html#ab7743cd9372c97a6542ef4cda254bffe">load</a>( jo );</div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>}</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span> </div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"><a class="line" href="classItem__factory.html#afe2020ce7c7301f4a3b8b5595c0bc27c"> 1697</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#afe2020ce7c7301f4a3b8b5595c0bc27c">Item_factory::load_ammo</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>{</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>        <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;stack_size&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a>, <a class="code hl_function" href="assign_8h.html#abefce6b21ce60d9d6dc6037cf5ed5973">is_strict_enabled</a>( src ), 1 );</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>        <span class="keywordflow">if</span>( def.<a class="code hl_variable" href="structitype.html#a2fd0fb8931b801aaeb42d19d9725c958">was_loaded</a> ) {</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>            <span class="keywordflow">if</span>( def.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a> ) {</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>                def.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;was_loaded = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>                def.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a> = cata::make_value&lt;islot_ammo&gt;();</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>                def.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;was_loaded = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>            }</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>            def.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a> = cata::make_value&lt;islot_ammo&gt;();</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>        }</div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>        def.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>-&gt;load( jo );</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>    }</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>}</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span> </div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"><a class="line" href="classItem__factory.html#adc2cc9950a66955a78f45970ed129e5d"> 1717</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__engine.html">islot_engine</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp; )</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>{</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;displacement&quot;</span>, slot.<a class="code hl_variable" href="structislot__engine.html#a7a2d05356ad54a6dd180321a7172fec5">displacement</a> );</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>}</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span> </div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"><a class="line" href="classItem__factory.html#a417909e28d2d1b631af25f5086130adf"> 1722</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a417909e28d2d1b631af25f5086130adf">Item_factory::load_engine</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>{</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a6e22c966e0816d5b8ad665f74fc6aeaa">engine</a>, jo, src );</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>    }</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>}</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span> </div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"><a class="line" href="classItem__factory.html#abe39d5410e1a657fdec6fef1523659b5"> 1731</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__wheel.html">islot_wheel</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp; )</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>{</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;diameter&quot;</span>, slot.<a class="code hl_variable" href="structislot__wheel.html#a5fe59de93b39ed7225971fb0e8bbf196">diameter</a> );</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;width&quot;</span>, slot.<a class="code hl_variable" href="structislot__wheel.html#aa9287b613c2f5776086c7bee270a1e15">width</a> );</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>}</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span> </div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"><a class="line" href="classItem__factory.html#a58862a6393021df8c1616e0ed83aae30"> 1737</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a58862a6393021df8c1616e0ed83aae30">Item_factory::load_wheel</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>{</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a5c286a821362f883c93b7d984ecae163">wheel</a>, jo, src );</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>    }</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>}</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span> </div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"><a class="line" href="classItem__factory.html#a7d3ed4beba4362b921d4fe18b32075a5"> 1746</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__fuel.html">islot_fuel</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>{</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> strict = <a class="code hl_function" href="assign_8h.html#abefce6b21ce60d9d6dc6037cf5ed5973">is_strict_enabled</a>( src );</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span> </div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;energy&quot;</span>, slot.<a class="code hl_variable" href="structislot__fuel.html#adf37f91495b36555446edb30cf77293a">energy</a>, strict, 0.001f );</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;pump_terrain&quot;</span> ) ) {</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>        slot.<a class="code hl_variable" href="structislot__fuel.html#afe38279efca4aacfeef5afc89b463781">pump_terrain</a> = jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;pump_terrain&quot;</span> );</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>    }</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;explosion_data&quot;</span> ) ) {</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>        slot.<a class="code hl_variable" href="structislot__fuel.html#a018def0ba1556795b8081efb90b8ddc5">has_explode_data</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>        <a class="code hl_class" href="classJsonObject.html">JsonObject</a> jo_ed = jo.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( <span class="stringliteral">&quot;explosion_data&quot;</span> );</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>        slot.<a class="code hl_variable" href="structislot__fuel.html#ae5ad096f517d3d576bc8148f3eb56bca">explosion_data</a>.<a class="code hl_variable" href="structfuel__explosion.html#a98a2472758ae57ec83d9a0232d444474">explosion_chance_hot</a> = jo_ed.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;chance_hot&quot;</span> );</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>        slot.<a class="code hl_variable" href="structislot__fuel.html#ae5ad096f517d3d576bc8148f3eb56bca">explosion_data</a>.<a class="code hl_variable" href="structfuel__explosion.html#adc2ad7f2f7acfc0a66e874a774cfc627">explosion_chance_cold</a> = jo_ed.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;chance_cold&quot;</span> );</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>        slot.<a class="code hl_variable" href="structislot__fuel.html#ae5ad096f517d3d576bc8148f3eb56bca">explosion_data</a>.<a class="code hl_variable" href="structfuel__explosion.html#ac753c9614f85226b83eba0a04b398394">explosion_factor</a> = jo_ed.<a class="code hl_function" href="classJsonObject.html#a20e3b6cc495cde67e4a178ae6f6e17d7">get_float</a>( <span class="stringliteral">&quot;factor&quot;</span> );</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>        slot.<a class="code hl_variable" href="structislot__fuel.html#ae5ad096f517d3d576bc8148f3eb56bca">explosion_data</a>.<a class="code hl_variable" href="structfuel__explosion.html#aa919d40c33bd8f1021043c4e5b6fcad1">fiery_explosion</a> = jo_ed.<a class="code hl_function" href="classJsonObject.html#a9e628525564a9e7ef3755c10e0c9fac4">get_bool</a>( <span class="stringliteral">&quot;fiery&quot;</span> );</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>        slot.<a class="code hl_variable" href="structislot__fuel.html#ae5ad096f517d3d576bc8148f3eb56bca">explosion_data</a>.<a class="code hl_variable" href="structfuel__explosion.html#a0f2b4cba3125d69012b4ef15d8936515">fuel_size_factor</a> = jo_ed.<a class="code hl_function" href="classJsonObject.html#a20e3b6cc495cde67e4a178ae6f6e17d7">get_float</a>( <span class="stringliteral">&quot;size_factor&quot;</span> );</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>    }</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>}</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span> </div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"><a class="line" href="classItem__factory.html#a6b88cfdaf12efb71de87696714ee237c"> 1765</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a6b88cfdaf12efb71de87696714ee237c">Item_factory::load_fuel</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>{</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a9599d60ae3f70f8791bf108a4bde877b">fuel</a>, jo, src );</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>    }</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>}</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span> </div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"><a class="line" href="classItem__factory.html#aabc9fff908ac8cece2d22241445dc8a9"> 1774</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__gun.html">islot_gun</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>{</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> strict = <a class="code hl_function" href="assign_8h.html#abefce6b21ce60d9d6dc6037cf5ed5973">is_strict_enabled</a>( src );</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span> </div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;burst&quot;</span> ) &amp;&amp; jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;modes&quot;</span> ) ) {</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;cannot specify both burst and modes&quot;</span>, <span class="stringliteral">&quot;burst&quot;</span> );</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>    }</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span> </div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;skill&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#a544f0cb6bc9627268d120be64d70054e">skill_used</a>, strict );</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;ammo&quot;</span> ) ) {</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>        slot.<a class="code hl_variable" href="structislot__gun.html#ab57c57baec7410ed509e4fee5120fecf">ammo</a>.clear();</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string <span class="keywordtype">id</span> : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;ammo&quot;</span> ) ) {</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>            slot.<a class="code hl_variable" href="structislot__gun.html#ab57c57baec7410ed509e4fee5120fecf">ammo</a>.insert( <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( <span class="keywordtype">id</span> ) );</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>        }</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;ammo&quot;</span> ) ) {</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>        slot.<a class="code hl_variable" href="structislot__gun.html#ab57c57baec7410ed509e4fee5120fecf">ammo</a>.clear();</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>        slot.<a class="code hl_variable" href="structislot__gun.html#ab57c57baec7410ed509e4fee5120fecf">ammo</a>.insert( <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;ammo&quot;</span> ) ) );</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>    }</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;range&quot;</span>, slot.<a class="code hl_variable" href="structcommon__ranged__data.html#af73392bcb456d04c3fdf1a413b6b3a9e">range</a>, strict );</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>    <span class="comment">// Damage instance assign reader handles pierce</span></div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;ranged_damage&quot;</span>, slot.<a class="code hl_variable" href="structcommon__ranged__data.html#a94254f1acb94261bb47c4b7aaa3b0c89">damage</a>, strict, <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc">DT_NULL</a>, -20, -20, -20, -20 ) );</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;dispersion&quot;</span>, slot.<a class="code hl_variable" href="structcommon__ranged__data.html#a497cd4533098e79f14f8a97fcec6ca1a">dispersion</a>, strict );</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;sight_dispersion&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#ae35086af4a0c6200e6e05c2c00d3719e">sight_dispersion</a>, strict, 0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a> ) );</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;recoil&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#ade59d069f3f719126fb885c6d61c4e3b">recoil</a>, strict, 0 );</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;handling&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#a815bf7350cfb03b311b04e3fb4f182c9">handling</a>, strict );</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;durability&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#a40255e8d661dc99204ed70dbe6013a02">durability</a>, strict, 0, 10 );</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;burst&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#a0e24b86439c77b6e824a2a3e672980a9">burst</a>, strict, 1 );</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;loudness&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#a03b65c9be10a9ade4b7c84b24b609c9c">loudness</a>, strict );</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;clip_size&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#a5a7e4998071d2cd8f7ecd9504003968b">clip</a>, strict, 0 );</div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;reload&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#acedd47c3f7557f9b7b839af476c5989e">reload_time</a>, strict, 0 );</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;reload_noise&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#a9683499f52bd5974a175972ea969373b">reload_noise</a>, strict );</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;reload_noise_volume&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#af061d17935624ae9c2404fa6050dd658">reload_noise_volume</a>, strict, 0 );</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;barrel_length&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#a2ef0c3807de1294df7fb8c425c48ef81">barrel_length</a>, strict, 0_ml );</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;built_in_mods&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#a7935d9d8bac12aee90f3b36c7130ee8d">built_in_mods</a>, strict );</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;default_mods&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#a0e822d62253abf001dd4018374a98e40">default_mods</a>, strict );</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;ups_charges&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#ae9b01aff71774cf78fe209d439258c0a">ups_charges</a>, strict, 0 );</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;blackpowder_tolerance&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#a014b797e92e543ea47be93a1d6771a90">blackpowder_tolerance</a>, strict, 0 );</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;min_cycle_recoil&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#a68eca15622f086d544820aabcb2a865a">min_cycle_recoil</a>, strict, 0 );</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;ammo_effects&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#aa27b3944a18120340bd8f7e6c6ffe509">ammo_effects</a>, strict );</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span> </div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;valid_mod_locations&quot;</span> ) ) {</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>        slot.<a class="code hl_variable" href="structislot__gun.html#acae6c7b0619e281370014c6fb3ea1f54">valid_mod_locations</a>.clear();</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonArray.html">JsonArray</a> curr : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;valid_mod_locations&quot;</span> ) ) {</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>            slot.<a class="code hl_variable" href="structislot__gun.html#acae6c7b0619e281370014c6fb3ea1f54">valid_mod_locations</a>.emplace( curr.get_string( 0 ), curr.get_int( 1 ) );</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>        }</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>    }</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span> </div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;modes&quot;</span>, slot.<a class="code hl_variable" href="structislot__gun.html#a2d29bbe1ed9f259a916d19764646cfa2">modes</a> );</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>}</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span> </div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"><a class="line" href="classItem__factory.html#aec35ae92aa379ec2424d61507bf2e949"> 1824</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#aec35ae92aa379ec2424d61507bf2e949">Item_factory::load_gun</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>{</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>, jo, src );</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>    }</div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>}</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span> </div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"><a class="line" href="classItem__factory.html#a89b9af1728de9b96004db5a7ceb5e0fc"> 1833</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a89b9af1728de9b96004db5a7ceb5e0fc">Item_factory::load_armor</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>{</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a7099f3ad89573870d81ce764d6cccb04">armor</a>, jo, src );</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>    }</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>}</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span> </div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"><a class="line" href="classItem__factory.html#abb78d901e4aaf49cbab604e32cff3890"> 1842</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#abb78d901e4aaf49cbab604e32cff3890">Item_factory::load_pet_armor</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>{</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a37254c7bdbbddd208cc69e2338ab833b">pet_armor</a>, jo, src );</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>    }</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>}</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span> </div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"><a class="line" href="classItem__factory.html#afff8eb1870f4e1274cf32e1530a5192f"> 1851</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__armor.html">islot_armor</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>{</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> strict = <a class="code hl_function" href="assign_8h.html#abefce6b21ce60d9d6dc6037cf5ed5973">is_strict_enabled</a>( src );</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span> </div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;encumbrance&quot;</span>, slot.<a class="code hl_variable" href="structislot__armor.html#aa1099034fd74fdb71f3fae5ce17ea88e">encumber</a>, strict, 0 );</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;max_encumbrance&quot;</span>, slot.<a class="code hl_variable" href="structislot__armor.html#a409d99d9509c3a12acf98e5d4da89b0c">max_encumber</a>, strict, slot.<a class="code hl_variable" href="structislot__armor.html#aa1099034fd74fdb71f3fae5ce17ea88e">encumber</a> );</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;coverage&quot;</span>, slot.<a class="code hl_variable" href="structislot__armor.html#a6c6b3bf062dd98af5bff4417bbfb6a0e">coverage</a>, strict, 0, 100 );</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;material_thickness&quot;</span>, slot.<a class="code hl_variable" href="structislot__armor.html#abd747f7666386a848f2d6e432f46c72e">thickness</a>, strict, 0 );</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;environmental_protection&quot;</span>, slot.<a class="code hl_variable" href="structislot__armor.html#a3bf1982fb7e01dcb6f894a43fa689639">env_resist</a>, strict, 0 );</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;environmental_protection_with_filter&quot;</span>, slot.<a class="code hl_variable" href="structislot__armor.html#a87b0eca7d014fdb845b58be81257c95c">env_resist_w_filter</a>, strict, 0 );</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;warmth&quot;</span>, slot.<a class="code hl_variable" href="structislot__armor.html#a2818da442fdeaf06512874cc9944a89b">warmth</a>, strict, 0 );</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;storage&quot;</span>, slot.<a class="code hl_variable" href="structislot__armor.html#afea4f5875d9a65ab246ad0d6e78e5332">storage</a>, strict, 0_ml );</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;weight_capacity_modifier&quot;</span>, slot.<a class="code hl_variable" href="structislot__armor.html#ae0b4e44bebd93c6731e50f905cd89241">weight_capacity_modifier</a> );</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;weight_capacity_bonus&quot;</span>, slot.<a class="code hl_variable" href="structislot__armor.html#a733a3e21b8944c8f738adc9dc0c2db4f">weight_capacity_bonus</a>, strict, 0_gram );</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;valid_mods&quot;</span>, slot.<a class="code hl_variable" href="structislot__armor.html#a64d27e30e990bb8f4c0cf0aaa14f9979">valid_mods</a>, strict );</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span> </div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>    <a class="code hl_function" href="item__factory_8cpp.html#a2bda59803270eafcc3ca16fb9169bbd1">assign_coverage_from_json</a>( jo, <span class="stringliteral">&quot;covers&quot;</span>, slot.<a class="code hl_variable" href="structislot__armor.html#a9acc37fdb7909ae064f331d29ded7f68">covers</a>, slot.<a class="code hl_variable" href="structislot__armor.html#a0da3d1bef6cc7dd66499906eadfaf57f">sided</a> );</div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>}</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span> </div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"><a class="line" href="classItem__factory.html#ad2c197340fa1be7ce6ea7e89eeab82e3"> 1870</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__pet__armor.html">islot_pet_armor</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>{</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> strict = <a class="code hl_function" href="assign_8h.html#abefce6b21ce60d9d6dc6037cf5ed5973">is_strict_enabled</a>( src );</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span> </div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;material_thickness&quot;</span>, slot.<a class="code hl_variable" href="structislot__pet__armor.html#a6a602800d0c7474c2cd0928a630a08fb">thickness</a>, strict, 0 );</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;max_pet_vol&quot;</span>, slot.<a class="code hl_variable" href="structislot__pet__armor.html#a58a5e9a68c7ff82f6819c7b953a91988">max_vol</a>, strict, 0_ml );</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;min_pet_vol&quot;</span>, slot.<a class="code hl_variable" href="structislot__pet__armor.html#a523c3f337d55e8b1e3bcc17dcf06f005">min_vol</a>, strict, 0_ml );</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;pet_bodytype&quot;</span>, slot.<a class="code hl_variable" href="structislot__pet__armor.html#ae024852dbd61504a928269da0766d3df">bodytype</a>, strict );</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;environmental_protection&quot;</span>, slot.<a class="code hl_variable" href="structislot__pet__armor.html#a69eb93d013f3247adc7061adcad57f64">env_resist</a>, strict, 0 );</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;environmental_protection_with_filter&quot;</span>, slot.<a class="code hl_variable" href="structislot__pet__armor.html#a07f4aee7ab982c02789d251c37fb5d27">env_resist_w_filter</a>, strict, 0 );</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;storage&quot;</span>, slot.<a class="code hl_variable" href="structislot__pet__armor.html#a653d6c157e8e24b69e72d81e0144428a">storage</a>, strict, 0_ml );</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>}</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span> </div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"><a class="line" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a"> 1883</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__tool.html">islot_tool</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>{</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> strict = <a class="code hl_function" href="assign_8h.html#abefce6b21ce60d9d6dc6037cf5ed5973">is_strict_enabled</a>( src );</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span> </div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;ammo&quot;</span> ) ) {</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string <span class="keywordtype">id</span> : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;ammo&quot;</span> ) ) {</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>            slot.<a class="code hl_variable" href="structislot__tool.html#a8aa4479b0becffd3412a2f527f2b87f2">ammo_id</a>.insert( <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( <span class="keywordtype">id</span> ) );</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>        }</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;ammo&quot;</span> ) ) {</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>        slot.<a class="code hl_variable" href="structislot__tool.html#a8aa4479b0becffd3412a2f527f2b87f2">ammo_id</a>.insert( <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;ammo&quot;</span> ) ) );</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>    }</div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;max_charges&quot;</span>, slot.<a class="code hl_variable" href="structislot__tool.html#a469419f9c49e27d69483dec969debf17">max_charges</a>, strict, 0 );</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;initial_charges&quot;</span>, slot.<a class="code hl_variable" href="structislot__tool.html#aa0d39d230129ee60303ce8bbe41ba0de">def_charges</a>, strict, 0 );</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;charges_per_use&quot;</span>, slot.<a class="code hl_variable" href="structislot__tool.html#a4906f4af3ef31373c2a1e9e0e3296b4d">charges_per_use</a>, strict, 0 );</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;charge_factor&quot;</span>, slot.<a class="code hl_variable" href="structislot__tool.html#a6cd35ec64bd5bd7978331d05f8047412">charge_factor</a>, strict, 1 );</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;turns_per_charge&quot;</span>, slot.<a class="code hl_variable" href="structislot__tool.html#ae3e34c1446ddf54ab0008d4e14301d1a">turns_per_charge</a>, strict, 0 );</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;power_draw&quot;</span>, slot.<a class="code hl_variable" href="structislot__tool.html#a8e7ceab7bf9f3bfb9aa73d7f71a9b64f">power_draw</a>, strict, 0 );</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;revert_to&quot;</span>, slot.<a class="code hl_variable" href="structislot__tool.html#a5aa69741a40ee3d2f76571d1a844ccae">revert_to</a>, strict );</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;revert_msg&quot;</span>, slot.<a class="code hl_variable" href="structislot__tool.html#a34cb657c095ea8da2fb8b97220a05c0e">revert_msg</a>, strict );</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;sub&quot;</span>, slot.<a class="code hl_variable" href="structislot__tool.html#a8780d2075264bdd054885b688be4c396">subtype</a>, strict );</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span> </div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;rand_charges&quot;</span> ) ) {</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>        <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;initial_charges&quot;</span> ) ) {</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>            jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;You can have a fixed initial amount of charges, or randomized.  Not both.&quot;</span>,</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>                            <span class="stringliteral">&quot;rand_charges&quot;</span> );</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>        }</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keywordtype">int</span> charge : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;rand_charges&quot;</span> ) ) {</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>            slot.<a class="code hl_variable" href="structislot__tool.html#ad319b9b8dede1688bad8bb5ea7881300">rand_charges</a>.push_back( charge );</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>        }</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>        <span class="keywordflow">if</span>( slot.<a class="code hl_variable" href="structislot__tool.html#ad319b9b8dede1688bad8bb5ea7881300">rand_charges</a>.size() == 1 ) {</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>            <span class="comment">// see item::item(...) for the use of this array</span></div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>            jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;a rand_charges array with only one entry will be ignored, it needs at least 2 entries!&quot;</span>,</div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>                            <span class="stringliteral">&quot;rand_charges&quot;</span> );</div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>        }</div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>    }</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>}</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span> </div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"><a class="line" href="classItem__factory.html#ac5dfadf99cb6b3dc5c41722cc51a3745"> 1920</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#ac5dfadf99cb6b3dc5c41722cc51a3745">Item_factory::load_tool</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>{</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>, jo, src );</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>    }</div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span>}</div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span> </div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"><a class="line" href="classItem__factory.html#ae8f7ad4981d44749fad2cc28642ae26b"> 1929</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_class" href="classrelic.html">relic</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp; )</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>{</div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>    slot.<a class="code hl_function" href="classrelic.html#a15d22c31a5670a4ae3ee33300436336c">load</a>( jo );</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>}</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span> </div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"><a class="line" href="classItem__factory.html#a526dce11d1507dfa5fae6162ae730282"> 1934</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__mod.html">islot_mod</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>{</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> strict = <a class="code hl_function" href="assign_8h.html#abefce6b21ce60d9d6dc6037cf5ed5973">is_strict_enabled</a>( src );</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span> </div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;ammo_modifier&quot;</span> ) ) {</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string <span class="keywordtype">id</span> : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;ammo_modifier&quot;</span> ) ) {</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>            slot.<a class="code hl_variable" href="structislot__mod.html#aebafe50c80e3e1f74b2f27b2597fa162">ammo_modifier</a>.insert( <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( <span class="keywordtype">id</span> ) );</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>        }</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;ammo_modifier&quot;</span> ) ) {</div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>        slot.<a class="code hl_variable" href="structislot__mod.html#aebafe50c80e3e1f74b2f27b2597fa162">ammo_modifier</a>.insert( <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;ammo_modifier&quot;</span> ) ) );</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>    }</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;capacity_multiplier&quot;</span>, slot.<a class="code hl_variable" href="structislot__mod.html#ac3cd7bcf9a6092f5b363ffecf3cdce8b">capacity_multiplier</a>, strict );</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span> </div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;acceptable_ammo&quot;</span> ) ) {</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>        slot.<a class="code hl_variable" href="structislot__mod.html#ac62eecc66c02b919489a98831deee8d0">acceptable_ammo</a>.clear();</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;e : jo.<a class="code hl_function" href="classJsonObject.html#a5a52ac1f583a3db5af2c12faa46868ed">get_tags</a>( <span class="stringliteral">&quot;acceptable_ammo&quot;</span> ) ) {</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>            slot.<a class="code hl_variable" href="structislot__mod.html#ac62eecc66c02b919489a98831deee8d0">acceptable_ammo</a>.insert( <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( e ) );</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>        }</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>    }</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span> </div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>    <a class="code hl_class" href="classJsonArray.html">JsonArray</a> mags = jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;magazine_adaptor&quot;</span> );</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>    <span class="keywordflow">if</span>( !mags.<a class="code hl_function" href="classJsonArray.html#a73e7d8a8c8669d242ae0013bf46a4b85">empty</a>() ) {</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>        slot.<a class="code hl_variable" href="structislot__mod.html#a0c8e7128d40c08fe0f60695e3c9cb872">magazine_adaptor</a>.clear();</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>    }</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonArray.html">JsonArray</a> arr : mags ) {</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>        <a class="code hl_class" href="classstring__id.html">ammotype</a> ammo( arr.get_string( 0 ) ); <span class="comment">// an ammo type (e.g. 9mm)</span></div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>        <span class="comment">// compatible magazines for this ammo type</span></div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> : arr.get_array( 1 ) ) {</div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>            slot.<a class="code hl_variable" href="structislot__mod.html#a0c8e7128d40c08fe0f60695e3c9cb872">magazine_adaptor</a>[ ammo ].insert( <a class="code hl_variable" href="classItem__factory.html#af00b5574c94f15a4fec4fb91de966594">itype_id</a>( <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> ) );</div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span>        }</div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span>    }</div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>}</div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span> </div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"><a class="line" href="classItem__factory.html#a14cf9956758d3839da52943c37acb663"> 1967</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a14cf9956758d3839da52943c37acb663">Item_factory::load_toolmod</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span>{</div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">mod</a>, jo, src );</div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>    }</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>}</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span> </div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"><a class="line" href="classItem__factory.html#abe743c41bb52871c5a2d347450f7b3ce"> 1976</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#abe743c41bb52871c5a2d347450f7b3ce">Item_factory::load_tool_armor</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>{</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">tool</a>, jo, src );</div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a7099f3ad89573870d81ce764d6cccb04">armor</a>, jo, src );</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>    }</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span>}</div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span> </div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"><a class="line" href="classItem__factory.html#a2817e0fcdb083add5072a25e95fb3cf9"> 1986</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__book.html">islot_book</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>{</div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> strict = <a class="code hl_function" href="assign_8h.html#abefce6b21ce60d9d6dc6037cf5ed5973">is_strict_enabled</a>( src );</div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span> </div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;max_level&quot;</span>, slot.<a class="code hl_variable" href="structislot__book.html#a6eca476a412d945669fcb56e20d8ef97">level</a>, strict, 0, <a class="code hl_variable" href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a> );</div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;required_level&quot;</span>, slot.<a class="code hl_variable" href="structislot__book.html#a899cf37dd220cfce62e17e9f072ca9c5">req</a>, strict, 0, <a class="code hl_variable" href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a> );</div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;fun&quot;</span>, slot.<a class="code hl_variable" href="structislot__book.html#af2c1936ae43385beebd513e669134fe0">fun</a>, strict );</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;intelligence&quot;</span>, slot.<a class="code hl_variable" href="structislot__book.html#a817f742eeee09070453b5f2d78d803be">intel</a>, strict, 0 );</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a6f04277ed5262b016bc4b4642b14d866">has_int</a>( <span class="stringliteral">&quot;time&quot;</span> ) ) {</div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>        slot.<a class="code hl_variable" href="structislot__book.html#af38ad1046aa05d970b16bf2c78f884d5">time</a> = jo.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;time&quot;</span> );</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;time&quot;</span> ) ) {</div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span>        slot.<a class="code hl_variable" href="structislot__book.html#af38ad1046aa05d970b16bf2c78f884d5">time</a> = to_minutes&lt;int&gt;( read_from_json_string&lt;time_duration&gt;( *jo.<a class="code hl_function" href="classJsonObject.html#a985f8f01dd1105c10a318d04b710d413">get_raw</a>( <span class="stringliteral">&quot;time&quot;</span> ),</div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span>                                     <a class="code hl_variable" href="classtime__duration.html#a4694c27b90feb607344d0605cfa50db8">time_duration::units</a> ) );</div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span>    }</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;skill&quot;</span>, slot.<a class="code hl_variable" href="structislot__book.html#a86a3ae176a78c1eae14e7bebc74c2457">skill</a>, strict );</div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;martial_art&quot;</span>, slot.<a class="code hl_variable" href="structislot__book.html#a1947a27d73fd396cdbdab37f7b5132b2">martial_art</a>, strict );</div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;chapters&quot;</span>, slot.<a class="code hl_variable" href="structislot__book.html#aff68466212e42b423a136b0da1a59b38">chapters</a>, strict, 0 );</div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>}</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span> </div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"><a class="line" href="classItem__factory.html#a62bd969ef95b44af511ba6ea0db8c7b4"> 2005</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a62bd969ef95b44af511ba6ea0db8c7b4">Item_factory::load_book</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>{</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a>, jo, src );</div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>    }</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>}</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span> </div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"><a class="line" href="classItem__factory.html#a52ee881c5599cb5b622e536b090f87d9"> 2014</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__comestible.html">islot_comestible</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>{</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> strict = <a class="code hl_function" href="assign_8h.html#abefce6b21ce60d9d6dc6037cf5ed5973">is_strict_enabled</a>( src );</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span> </div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>    <a class="code hl_class" href="classJsonObject.html">JsonObject</a> relative = jo.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( <span class="stringliteral">&quot;relative&quot;</span> );</div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span>    <a class="code hl_class" href="classJsonObject.html">JsonObject</a> proportional = jo.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( <span class="stringliteral">&quot;proportional&quot;</span> );</div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>    relative.allow_omitted_members();</div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span>    proportional.<a class="code hl_function" href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">allow_omitted_members</a>();</div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span> </div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;comestible_type&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#a1c8377aa26060ebc8c5a1c7c17567cef">comesttype</a>, strict );</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;tool&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#a2a9550614166bc74108225c00700d651">tool</a>, strict );</div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;charges&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#adeabb2a77d60418046b8793c940ca505">def_charges</a>, strict, 1 );</div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;quench&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#aca5554772c9e19eb88c6e50b808b5b64">quench</a>, strict );</div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;fun&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#a5c4074d0e4da169307309a8033e932fa">fun</a>, strict );</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;stim&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#aa8ccc76e6c3389ee17cbb14a7625bd39">stim</a>, strict );</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;fatigue_mod&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#a82f9d567b3efb4a5f9a0665432f32094">fatigue_mod</a>, strict );</div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;healthy&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#aea71935dc37b7f711efb6f8d9ca5353d">healthy</a>, strict );</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;parasites&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#a27612b03ea67d70514178094dc2f285b">parasites</a>, strict, 0 );</div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;radiation&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#a4656f297a3ea96ffb9e20a6511287ec9">radiation</a>, strict );</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;freezing_point&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#a62d9a7ef39da1a8b776d157409bcd6dd">freeze_point</a>, strict );</div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;spoils_in&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#a993552f78902a64ac85b99d973d2acaf">spoils</a>, strict, 1_hours );</div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;cooks_like&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#aa6e3e8f3028df292d4dcb27e1724818a">cooks_like</a>, strict );</div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;smoking_result&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#ac6e8b1e155162975298976d220d5927a">smoking_result</a>, strict );</div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span> </div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jsobj : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;contamination&quot;</span> ) ) {</div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span>        slot.<a class="code hl_variable" href="structislot__comestible.html#af16829f31a1d2c5a4a42a88ce92496c2">contamination</a>.emplace( <a class="code hl_typedef" href="type__id_8h.html#affe9d743c1ec4cbbb991c70437ac67ed">diseasetype_id</a>( jsobj.get_string( <span class="stringliteral">&quot;disease&quot;</span> ) ),</div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span>                                    jsobj.get_int( <span class="stringliteral">&quot;probability&quot;</span> ) );</div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span>    }</div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span> </div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;primary_material&quot;</span> ) ) {</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>        std::string mat = jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;primary_material&quot;</span> );</div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>        slot.<a class="code hl_variable" href="structislot__comestible.html#af31717492158516482445bf13c446b0f">specific_heat_solid</a> = <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( mat )-&gt;<a class="code hl_function" href="classmaterial__type.html#a1f9688b434099cbdc6dccf4426701107">specific_heat_solid</a>();</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>        slot.<a class="code hl_variable" href="structislot__comestible.html#a739c6014f1ffda885a896124f606e561">specific_heat_liquid</a> = <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( mat )-&gt;<a class="code hl_function" href="classmaterial__type.html#a7cb70041cbe988b4f256330e0d6dce46">specific_heat_liquid</a>();</div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>        slot.<a class="code hl_variable" href="structislot__comestible.html#ab52735fc196f803809913290565cf2b5">latent_heat</a> = <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( mat )-&gt;<a class="code hl_function" href="classmaterial__type.html#a0dd54050e24e7c791639cc3d9442508d">latent_heat</a>();</div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;material&quot;</span> ) ) {</div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span>        <span class="keywordtype">float</span> specific_heat_solid = 0;</div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>        <span class="keywordtype">float</span> specific_heat_liquid = 0;</div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>        <span class="keywordtype">float</span> latent_heat = 0;</div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span> </div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;m : jo.<a class="code hl_function" href="classJsonObject.html#a5a52ac1f583a3db5af2c12faa46868ed">get_tags</a>( <span class="stringliteral">&quot;material&quot;</span> ) ) {</div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span>            specific_heat_solid += <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( m )-&gt;<a class="code hl_function" href="classmaterial__type.html#a1f9688b434099cbdc6dccf4426701107">specific_heat_solid</a>();</div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span>            specific_heat_liquid += <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( m )-&gt;<a class="code hl_function" href="classmaterial__type.html#a7cb70041cbe988b4f256330e0d6dce46">specific_heat_liquid</a>();</div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span>            latent_heat += <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( m )-&gt;<a class="code hl_function" href="classmaterial__type.html#a0dd54050e24e7c791639cc3d9442508d">latent_heat</a>();</div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span>        }</div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span>        <span class="comment">// Average based on number of materials.</span></div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>        slot.<a class="code hl_variable" href="structislot__comestible.html#a739c6014f1ffda885a896124f606e561">specific_heat_liquid</a> = specific_heat_liquid / jo.<a class="code hl_function" href="classJsonObject.html#a5a52ac1f583a3db5af2c12faa46868ed">get_tags</a>( <span class="stringliteral">&quot;material&quot;</span> ).size();</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span>        slot.<a class="code hl_variable" href="structislot__comestible.html#af31717492158516482445bf13c446b0f">specific_heat_solid</a> = specific_heat_solid / jo.<a class="code hl_function" href="classJsonObject.html#a5a52ac1f583a3db5af2c12faa46868ed">get_tags</a>( <span class="stringliteral">&quot;material&quot;</span> ).size();</div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span>        slot.<a class="code hl_variable" href="structislot__comestible.html#ab52735fc196f803809913290565cf2b5">latent_heat</a> = latent_heat / jo.<a class="code hl_function" href="classJsonObject.html#a5a52ac1f583a3db5af2c12faa46868ed">get_tags</a>( <span class="stringliteral">&quot;material&quot;</span> ).size();</div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span>    }</div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span> </div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span>    <span class="keywordtype">bool</span> is_not_boring = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;primary_material&quot;</span> ) ) {</div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span>        std::string mat = jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;primary_material&quot;</span> );</div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span>        is_not_boring = is_not_boring || mat == <span class="stringliteral">&quot;junk&quot;</span>;</div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span>    }</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;material&quot;</span> ) ) {</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;m : jo.<a class="code hl_function" href="classJsonObject.html#a5a52ac1f583a3db5af2c12faa46868ed">get_tags</a>( <span class="stringliteral">&quot;material&quot;</span> ) ) {</div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>            is_not_boring = is_not_boring || m == <span class="stringliteral">&quot;junk&quot;</span>;</div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span>        }</div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span>    }</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>    <span class="comment">// Junk food never gets old by default, but this can still be overridden.</span></div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>    <span class="keywordflow">if</span>( is_not_boring ) {</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>        slot.<a class="code hl_variable" href="structislot__comestible.html#a16361ca226b5a14a285f37c2bf42bbcd">monotony_penalty</a> = 0;</div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span>    }</div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;monotony_penalty&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#a16361ca226b5a14a285f37c2bf42bbcd">monotony_penalty</a>, strict );</div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span> </div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;addiction_type&quot;</span> ) ) {</div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>        slot.<a class="code hl_variable" href="structislot__comestible.html#a5e7afc63b23fe879daf961d2940ed404">add</a> = <a class="code hl_function" href="addiction_8cpp.html#ab5328bd41c98cc6d16d9968701845479">addiction_type</a>( jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;addiction_type&quot;</span> ) );</div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span>    }</div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span> </div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;addiction_potential&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#af0c402e9f8df019dedb20f589e4e93c4">addict</a>, strict );</div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span> </div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span>    <span class="keywordtype">bool</span> got_calories = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span> </div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;calories&quot;</span> ) ) {</div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span>        slot.<a class="code hl_variable" href="structislot__comestible.html#a8d2d5bc1943adb27ea672d51011711c2">default_nutrition</a>.<a class="code hl_variable" href="structnutrients.html#a250b8d24985580cc4b6a640050bef208">kcal</a> = jo.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;calories&quot;</span> );</div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span>        got_calories = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span> </div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( relative.has_member( <span class="stringliteral">&quot;calories&quot;</span> ) ) {</div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span>        slot.<a class="code hl_variable" href="structislot__comestible.html#a8d2d5bc1943adb27ea672d51011711c2">default_nutrition</a>.<a class="code hl_variable" href="structnutrients.html#a250b8d24985580cc4b6a640050bef208">kcal</a> += relative.get_int( <span class="stringliteral">&quot;calories&quot;</span> );</div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span>        got_calories = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span> </div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( proportional.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;calories&quot;</span> ) ) {</div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span>        slot.<a class="code hl_variable" href="structislot__comestible.html#a8d2d5bc1943adb27ea672d51011711c2">default_nutrition</a>.<a class="code hl_variable" href="structnutrients.html#a250b8d24985580cc4b6a640050bef208">kcal</a> *= proportional.<a class="code hl_function" href="classJsonObject.html#a20e3b6cc495cde67e4a178ae6f6e17d7">get_float</a>( <span class="stringliteral">&quot;calories&quot;</span> );</div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span>        got_calories = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span> </div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;nutrition&quot;</span> ) ) {</div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span>        slot.<a class="code hl_variable" href="structislot__comestible.html#a8d2d5bc1943adb27ea672d51011711c2">default_nutrition</a>.<a class="code hl_variable" href="structnutrients.html#a250b8d24985580cc4b6a640050bef208">kcal</a> = jo.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;nutrition&quot;</span> ) * <a class="code hl_variable" href="structislot__comestible.html#aecc91e5454fc8c79df0fe6535690f246">islot_comestible::kcal_per_nutr</a>;</div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span>    }</div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span> </div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;nutrition&quot;</span> ) &amp;&amp; got_calories ) {</div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;cannot specify both nutrition and calories&quot;</span>, <span class="stringliteral">&quot;nutrition&quot;</span> );</div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span>    }</div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span> </div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span>    <span class="comment">// any specification of vitamins suppresses use of material defaults @see Item_factory::finalize</span></div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;vitamins&quot;</span> ) ) {</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonArray.html">JsonArray</a> pair : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;vitamins&quot;</span> ) ) {</div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>            <a class="code hl_class" href="classstring__id.html">vitamin_id</a> vit( pair.get_string( 0 ) );</div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span>            slot.<a class="code hl_variable" href="structislot__comestible.html#a8d2d5bc1943adb27ea672d51011711c2">default_nutrition</a>.<a class="code hl_variable" href="structnutrients.html#a36c005a254fba5f37415d8ac6bdac04d">vitamins</a>[ vit ] = pair.get_int( 1 );</div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span>        }</div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span> </div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>        <span class="keywordflow">if</span>( relative.has_int( <span class="stringliteral">&quot;vitamins&quot;</span> ) ) {</div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>            <span class="comment">// allows easy specification of &#39;fortified&#39; comestibles</span></div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;v : <a class="code hl_function" href="classvitamin.html#abed8d50d1b8805a7f7ce49ce09ab1b7a">vitamin::all</a>() ) {</div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>                slot.<a class="code hl_variable" href="structislot__comestible.html#a8d2d5bc1943adb27ea672d51011711c2">default_nutrition</a>.<a class="code hl_variable" href="structnutrients.html#a36c005a254fba5f37415d8ac6bdac04d">vitamins</a>[ v.first ] += relative.get_int( <span class="stringliteral">&quot;vitamins&quot;</span> );</div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>            }</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( relative.has_array( <span class="stringliteral">&quot;vitamins&quot;</span> ) ) {</div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>            <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonArray.html">JsonArray</a> pair : relative.get_array( <span class="stringliteral">&quot;vitamins&quot;</span> ) ) {</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span>                <a class="code hl_class" href="classstring__id.html">vitamin_id</a> vit( pair.get_string( 0 ) );</div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>                slot.<a class="code hl_variable" href="structislot__comestible.html#a8d2d5bc1943adb27ea672d51011711c2">default_nutrition</a>.<a class="code hl_variable" href="structnutrients.html#a36c005a254fba5f37415d8ac6bdac04d">vitamins</a>[ vit ] += pair.get_int( 1 );</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>            }</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span>        }</div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>    }</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span> </div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;rot_spawn&quot;</span> ) ) {</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>        slot.<a class="code hl_variable" href="structislot__comestible.html#a6c8e94119486b8d95ada79f334e40db8">rot_spawn</a> = <a class="code hl_typedef" href="type__id_8h.html#ae4abc6ea4de371540f13f8466e463264">mongroup_id</a>( jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;rot_spawn&quot;</span> ) );</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>    }</div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;rot_spawn_chance&quot;</span>, slot.<a class="code hl_variable" href="structislot__comestible.html#a05bbe585d97a715412285a5760538c3b">rot_spawn_chance</a>, strict, 0 );</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span> </div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>}</div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span> </div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"><a class="line" href="classItem__factory.html#ad91102351c3a61d6a0f3eea3a59fbe24"> 2136</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__brewable.html">islot_brewable</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp; )</div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>{</div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;time&quot;</span>, slot.<a class="code hl_variable" href="structislot__brewable.html#a2b2829761162d5779c27729715db2be9">time</a>, <span class="keyword">false</span>, 1_turns );</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>    jo.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;results&quot;</span>, slot.<a class="code hl_variable" href="structislot__brewable.html#a38af7f6a2e9e235c3ef3ed323a04d15d">results</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>}</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span> </div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"><a class="line" href="classItem__factory.html#ab809a0f986be4cd520b8bb238ff9e717"> 2142</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#ab809a0f986be4cd520b8bb238ff9e717">Item_factory::load_comestible</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span>{</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span>        <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;stack_size&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">stack_size</a>, <a class="code hl_function" href="assign_8h.html#abefce6b21ce60d9d6dc6037cf5ed5973">is_strict_enabled</a>( src ), 1 );</div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#aa656fede37aaf975ab567bcc5c6a452e">comestible</a>, jo, src );</div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span>    }</div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span>}</div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span> </div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"><a class="line" href="classItem__factory.html#a0fa9fec95230279d35c9ddfcde2acc28"> 2152</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a0fa9fec95230279d35c9ddfcde2acc28">Item_factory::load_container</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span>{</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>, jo, src );</div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span>    }</div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>}</div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span> </div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"><a class="line" href="classItem__factory.html#a278411a6b8607baad068ffeabbae6001"> 2161</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__seed.html">islot_seed</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp; )</div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span>{</div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;grow&quot;</span>, slot.<a class="code hl_variable" href="structislot__seed.html#ac4df589eea513ab8d5e7ceee6fbf5949">grow</a>, <span class="keyword">false</span>, 1_days );</div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;fruit_div&quot;</span>, slot.<a class="code hl_variable" href="structislot__seed.html#a78d156b1edac50b5dca40ad9c2bc093e">fruit_div</a>, <span class="keyword">false</span>, 1 );</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;plant_name&quot;</span>, slot.<a class="code hl_variable" href="structislot__seed.html#ae36400254edc07d152c899f72c4c3cfb">plant_name</a> );</div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;fruit&quot;</span>, slot.<a class="code hl_variable" href="structislot__seed.html#a716438e2fcc04356b120fa909f15f68c">fruit_id</a> );</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;seeds&quot;</span>, slot.<a class="code hl_variable" href="structislot__seed.html#a7eb466642b2a218be8e60deff15c1c1e">spawn_seeds</a> );</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;byproducts&quot;</span>, slot.<a class="code hl_variable" href="structislot__seed.html#aeaf44d52989cf1aba2bd0fbf17c37519">byproducts</a> );</div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>}</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span> </div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"><a class="line" href="classItem__factory.html#a0c6e795bc5c859f38ffefea00b47ff12"> 2171</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__container.html">islot_container</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp; )</div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>{</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;contains&quot;</span>, slot.<a class="code hl_variable" href="structislot__container.html#a4d0811772aeaace91c05f187ab26fc31">contains</a> );</div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;seals&quot;</span>, slot.<a class="code hl_variable" href="structislot__container.html#a46eae754ec55d20409156ede5eb53256">seals</a> );</div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;watertight&quot;</span>, slot.<a class="code hl_variable" href="structislot__container.html#ad0814924659609bb60903bd245054acf">watertight</a> );</div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;preserves&quot;</span>, slot.<a class="code hl_variable" href="structislot__container.html#a334c04f45db71597927588a4c5ddcd9f">preserves</a> );</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;unseals_into&quot;</span>, slot.<a class="code hl_variable" href="structislot__container.html#a62728b2a81f969db86b4bc5ad1e503c6">unseals_into</a> );</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>}</div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span> </div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"><a class="line" href="classItem__factory.html#a107f5ea5a78ed4acc84ff1dc65295eb9"> 2180</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__gunmod.html">islot_gunmod</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>{</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> strict = <a class="code hl_function" href="assign_8h.html#abefce6b21ce60d9d6dc6037cf5ed5973">is_strict_enabled</a>( src );</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span> </div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;damage_modifier&quot;</span>, slot.<a class="code hl_variable" href="structcommon__ranged__data.html#a94254f1acb94261bb47c4b7aaa3b0c89">damage</a>, strict, <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc">DT_NULL</a>, -20, -20, -20,</div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>            -20 ) );</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;loudness_modifier&quot;</span>, slot.<a class="code hl_variable" href="structislot__gunmod.html#a68bd7a7bad991d610455edfea54d27f1">loudness</a> );</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;location&quot;</span>, slot.<a class="code hl_variable" href="structislot__gunmod.html#a20f62eb4d6e250814ad0e51249ce9a86">location</a> );</div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;dispersion_modifier&quot;</span>, slot.<a class="code hl_variable" href="structcommon__ranged__data.html#a497cd4533098e79f14f8a97fcec6ca1a">dispersion</a> );</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;sight_dispersion&quot;</span>, slot.<a class="code hl_variable" href="structislot__gunmod.html#a68e25ba70cbdc4cd7b5dcc674af50d4a">sight_dispersion</a> );</div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;aim_speed&quot;</span>, slot.<a class="code hl_variable" href="structislot__gunmod.html#adb4f9f1f120f6bf93da91f9fc59b1608">aim_speed</a>, strict, -1 );</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;handling_modifier&quot;</span>, slot.<a class="code hl_variable" href="structislot__gunmod.html#ad06e7c4614c48cbdd288a412b960c801">handling</a>, strict );</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;range_modifier&quot;</span>, slot.<a class="code hl_variable" href="structcommon__ranged__data.html#af73392bcb456d04c3fdf1a413b6b3a9e">range</a> );</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;consume_chance&quot;</span>, slot.<a class="code hl_variable" href="structislot__gunmod.html#a7d484bba5d9bb2fe12574795ae457e96">consume_chance</a> );</div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;consume_divisor&quot;</span>, slot.<a class="code hl_variable" href="structislot__gunmod.html#a7c89f77c624e7b37f5ccb1856ec62de1">consume_divisor</a> );</div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;ammo_effects&quot;</span>, slot.<a class="code hl_variable" href="structislot__gunmod.html#aa0768daa468887578a7a75bfe33e76c4">ammo_effects</a>, strict );</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;ups_charges_multiplier&quot;</span>, slot.<a class="code hl_variable" href="structislot__gunmod.html#ad6491ebaf19ac4876b97d0fdcb04d745">ups_charges_multiplier</a> );</div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;ups_charges_modifier&quot;</span>, slot.<a class="code hl_variable" href="structislot__gunmod.html#a2c64a6cd256743ea8dc6df58e3c4f1fa">ups_charges_modifier</a> );</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;weight_multiplier&quot;</span>, slot.<a class="code hl_variable" href="structislot__gunmod.html#ac02f50551ca036e61e2b2000288f17e5">weight_multiplier</a> );</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a6f04277ed5262b016bc4b4642b14d866">has_int</a>( <span class="stringliteral">&quot;install_time&quot;</span> ) ) {</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>        slot.<a class="code hl_variable" href="structislot__gunmod.html#aba0e936d816935c8ef99a2a85aa544f1">install_time</a> = jo.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;install_time&quot;</span> );</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;install_time&quot;</span> ) ) {</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>        slot.<a class="code hl_variable" href="structislot__gunmod.html#aba0e936d816935c8ef99a2a85aa544f1">install_time</a> = to_moves&lt;int&gt;( read_from_json_string&lt;time_duration&gt;</div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>                                           ( *jo.<a class="code hl_function" href="classJsonObject.html#a985f8f01dd1105c10a318d04b710d413">get_raw</a>( <span class="stringliteral">&quot;install_time&quot;</span> ),</div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>                                             <a class="code hl_variable" href="classtime__duration.html#a4694c27b90feb607344d0605cfa50db8">time_duration::units</a> ) );</div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>    }</div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span> </div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;mod_targets&quot;</span> ) ) {</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>        slot.<a class="code hl_variable" href="structislot__gunmod.html#a26912068d3e61f67c23ed9fa4a59b18a">usable</a>.clear();</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;t : jo.<a class="code hl_function" href="classJsonObject.html#a5a52ac1f583a3db5af2c12faa46868ed">get_tags</a>( <span class="stringliteral">&quot;mod_targets&quot;</span> ) ) {</div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>            slot.<a class="code hl_variable" href="structislot__gunmod.html#a26912068d3e61f67c23ed9fa4a59b18a">usable</a>.insert( <a class="code hl_class" href="classgun__type__type.html">gun_type_type</a>( t ) );</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span>        }</div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>    }</div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span> </div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;mode_modifier&quot;</span>, slot.<a class="code hl_variable" href="structislot__gunmod.html#ac88b997157e362e7482c8c40449160b3">mode_modifier</a> );</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;reload_modifier&quot;</span>, slot.<a class="code hl_variable" href="structislot__gunmod.html#a21ed51df149d7a2618aa789e91a6469a">reload_modifier</a> );</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;min_str_required_mod&quot;</span>, slot.<a class="code hl_variable" href="structislot__gunmod.html#af4e90635c4d39324e910c4241acc47b4">min_str_required_mod</a> );</div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;add_mod&quot;</span> ) ) {</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>        slot.<a class="code hl_variable" href="structislot__gunmod.html#aed14da382a38340ce6f1c792a81be5fd">add_mod</a>.clear();</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonArray.html">JsonArray</a> curr : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;add_mod&quot;</span> ) ) {</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>            slot.<a class="code hl_variable" href="structislot__gunmod.html#aed14da382a38340ce6f1c792a81be5fd">add_mod</a>.emplace( curr.get_string( 0 ), curr.get_int( 1 ) );</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span>        }</div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>    }</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;blacklist_mod&quot;</span>, slot.<a class="code hl_variable" href="structislot__gunmod.html#a072bb97399a7ce73226d77671408d0fb">blacklist_mod</a> );</div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>}</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span> </div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"><a class="line" href="classItem__factory.html#a5228d89089a41c368b340915326bd7a6"> 2226</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5228d89089a41c368b340915326bd7a6">Item_factory::load_gunmod</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>{</div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a37edee7dafc5711621f26844cab78cf6">gunmod</a>, jo, src );</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">mod</a>, jo, src );</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>    }</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>}</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span> </div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"><a class="line" href="classItem__factory.html#a3f002355b6183c361139ce1cfcc261ac"> 2236</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__magazine.html">islot_magazine</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>{</div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> strict = <a class="code hl_function" href="assign_8h.html#abefce6b21ce60d9d6dc6037cf5ed5973">is_strict_enabled</a>( src );</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;ammo_type&quot;</span> ) ) {</div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>        slot.<a class="code hl_variable" href="structislot__magazine.html#a7db228d74fdd18fe88ea593c2783717c">type</a>.clear();</div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;<span class="keywordtype">id</span> : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;ammo_type&quot;</span> ) ) {</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>            slot.<a class="code hl_variable" href="structislot__magazine.html#a7db228d74fdd18fe88ea593c2783717c">type</a>.insert( <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( <span class="keywordtype">id</span> ) );</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>        }</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;ammo_type&quot;</span> ) ) {</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>        slot.<a class="code hl_variable" href="structislot__magazine.html#a7db228d74fdd18fe88ea593c2783717c">type</a>.clear();</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span>        slot.<a class="code hl_variable" href="structislot__magazine.html#a7db228d74fdd18fe88ea593c2783717c">type</a>.insert( <a class="code hl_typedef" href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a>( jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;ammo_type&quot;</span> ) ) );</div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span>    }</div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;capacity&quot;</span>, slot.<a class="code hl_variable" href="structislot__magazine.html#aee164cd4bbb906d4700375860e47763a">capacity</a>, strict, 0 );</div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;count&quot;</span>, slot.<a class="code hl_variable" href="structislot__magazine.html#a19202dda42527e83a0ba698c82c1aff3">count</a>, strict, 0 );</div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;default_ammo&quot;</span>, slot.<a class="code hl_variable" href="structislot__magazine.html#a16bc229e064cbd2b0e220454b1c69bae">default_ammo</a>, strict );</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;reliability&quot;</span>, slot.<a class="code hl_variable" href="structislot__magazine.html#ac3606277253fb022dd15350f26aab5ae">reliability</a>, strict, 0, 10 );</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;reload_time&quot;</span>, slot.<a class="code hl_variable" href="structislot__magazine.html#ad3557cba493592b984da678f15b8c0c4">reload_time</a>, strict, 0 );</div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;linkage&quot;</span>, slot.<a class="code hl_variable" href="structislot__magazine.html#a5c7f9b986d888a0d644299600605e6e2">linkage</a>, strict );</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>}</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span> </div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"><a class="line" href="classItem__factory.html#a3a3eb479a017482c757e4b3c9a347c72"> 2256</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a3a3eb479a017482c757e4b3c9a347c72">Item_factory::load_magazine</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>{</div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">magazine</a>, jo, src );</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>    }</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>}</div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span> </div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"><a class="line" href="classItem__factory.html#a0c9d5ab533aacd6d9ecc5529205b45c6"> 2265</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__battery.html">islot_battery</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp; )</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>{</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>    slot.<a class="code hl_variable" href="structislot__battery.html#a76027fae51228598d6ddbd6946b0998e">max_capacity</a> = read_from_json_string&lt;units::energy&gt;( *jo.<a class="code hl_function" href="classJsonObject.html#a985f8f01dd1105c10a318d04b710d413">get_raw</a>( <span class="stringliteral">&quot;max_capacity&quot;</span> ),</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>                        <a class="code hl_variable" href="namespaceunits.html#ad5064536a25fc0458ae37e5037d9bb57">units::energy_units</a> );</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>}</div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span> </div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"><a class="line" href="classItem__factory.html#ae6ee03edfb0eafee710569d8c6983c7d"> 2271</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#ae6ee03edfb0eafee710569d8c6983c7d">Item_factory::load_battery</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>{</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a9bf7494805acc141b007ddade6a6313c">battery</a>, jo, src );</div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span>    }</div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>}</div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span> </div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"><a class="line" href="classItem__factory.html#a756815860b4e1aad7958f5b15f3210b1"> 2280</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a>( <a class="code hl_struct" href="structislot__bionic.html">islot_bionic</a> &amp;slot, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span>{</div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> strict = <a class="code hl_function" href="assign_8h.html#abefce6b21ce60d9d6dc6037cf5ed5973">is_strict_enabled</a>( src );</div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span> </div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;bionic_id&quot;</span> ) ) {</div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span>        <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;bionic_id&quot;</span>, slot.<a class="code hl_variable" href="structislot__bionic.html#a2181146d61a333d94ec990f6a017e2e8">id</a>, strict );</div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span>        <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;id&quot;</span>, slot.<a class="code hl_variable" href="structislot__bionic.html#a2181146d61a333d94ec990f6a017e2e8">id</a>, strict );</div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span>    }</div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span> </div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;difficulty&quot;</span>, slot.<a class="code hl_variable" href="structislot__bionic.html#ad605efa5433b2babd68377b854514496">difficulty</a>, strict, 0 );</div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;is_upgrade&quot;</span>, slot.<a class="code hl_variable" href="structislot__bionic.html#ad9a120bc689e66669157f1503b5ac1c7">is_upgrade</a> );</div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span> </div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;installation_data&quot;</span>, slot.<a class="code hl_variable" href="structislot__bionic.html#a93e7f9bf0f6de84ce4ef1a7a44b5137b">installation_data</a> );</div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>}</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span> </div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"><a class="line" href="classItem__factory.html#a1c35056fa9be3e2a54f3e0d64891ff01"> 2296</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a1c35056fa9be3e2a54f3e0d64891ff01">Item_factory::load_bionic</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>{</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a33aeb53774679283298d0202ae3e78ce">bionic</a>, jo, src );</div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>    }</div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>}</div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span> </div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"><a class="line" href="classItem__factory.html#adcad005219724b3e6f1227ea3ebfdb2e"> 2305</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#adcad005219724b3e6f1227ea3ebfdb2e">Item_factory::load_generic</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>{</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span>    <a class="code hl_struct" href="structitype.html">itype</a> def;</div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">load_definition</a>( jo, src, def ) ) {</div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>        <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">load_basic_info</a>( jo, def, src );</div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>    }</div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>}</div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span> </div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span><span class="comment">// Adds allergy flags to items with allergenic materials</span></div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span><span class="comment">// Set for all items (not just food and clothing) to avoid edge cases</span></div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"><a class="line" href="classItem__factory.html#a06d9c7312db07df1a2e0cb97ad8a8dae"> 2315</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a06d9c7312db07df1a2e0cb97ad8a8dae">Item_factory::set_allergy_flags</a>( <a class="code hl_struct" href="structitype.html">itype</a> &amp;item_template )</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>{</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>    <span class="keyword">using</span> material_allergy_pair = std::pair&lt;material_id, std::string&gt;;</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;material_allergy_pair&gt; all_pairs = {{</div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>            <span class="comment">// First allergens:</span></div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>            <span class="comment">// An item is an allergen even if it has trace amounts of allergenic material</span></div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;hflesh&quot;</span> ), <span class="stringliteral">&quot;CANNIBALISM&quot;</span> ),</div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span> </div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;hflesh&quot;</span> ), <span class="stringliteral">&quot;ALLERGEN_MEAT&quot;</span> ),</div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;iflesh&quot;</span> ), <span class="stringliteral">&quot;ALLERGEN_MEAT&quot;</span> ),</div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;flesh&quot;</span> ), <span class="stringliteral">&quot;ALLERGEN_MEAT&quot;</span> ),</div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;wheat&quot;</span> ), <span class="stringliteral">&quot;ALLERGEN_WHEAT&quot;</span> ),</div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;fruit&quot;</span> ), <span class="stringliteral">&quot;ALLERGEN_FRUIT&quot;</span> ),</div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;veggy&quot;</span> ), <span class="stringliteral">&quot;ALLERGEN_VEGGY&quot;</span> ),</div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;bean&quot;</span> ), <span class="stringliteral">&quot;ALLERGEN_VEGGY&quot;</span> ),</div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;tomato&quot;</span> ), <span class="stringliteral">&quot;ALLERGEN_VEGGY&quot;</span> ),</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;garlic&quot;</span> ), <span class="stringliteral">&quot;ALLERGEN_VEGGY&quot;</span> ),</div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;nut&quot;</span> ), <span class="stringliteral">&quot;ALLERGEN_NUT&quot;</span> ),</div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;mushroom&quot;</span> ), <span class="stringliteral">&quot;ALLERGEN_VEGGY&quot;</span> ),</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;milk&quot;</span> ), <span class="stringliteral">&quot;ALLERGEN_MILK&quot;</span> ),</div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;egg&quot;</span> ), <span class="stringliteral">&quot;ALLERGEN_EGG&quot;</span> ),</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;junk&quot;</span> ), <span class="stringliteral">&quot;ALLERGEN_JUNK&quot;</span> ),</div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>            <span class="comment">// Not food, but we can keep it here</span></div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;wool&quot;</span> ), <span class="stringliteral">&quot;ALLERGEN_WOOL&quot;</span> ),</div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span>            <span class="comment">// Now &quot;made of&quot;. Those flags should not be passed</span></div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;flesh&quot;</span> ), <span class="stringliteral">&quot;CARNIVORE_OK&quot;</span> ),</div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;hflesh&quot;</span> ), <span class="stringliteral">&quot;CARNIVORE_OK&quot;</span> ),</div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;iflesh&quot;</span> ), <span class="stringliteral">&quot;CARNIVORE_OK&quot;</span> ),</div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;milk&quot;</span> ), <span class="stringliteral">&quot;CARNIVORE_OK&quot;</span> ),</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;egg&quot;</span> ), <span class="stringliteral">&quot;CARNIVORE_OK&quot;</span> ),</div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>            std::make_pair( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;honey&quot;</span> ), <span class="stringliteral">&quot;URSINE_HONEY&quot;</span> ),</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span>        }</div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span>    };</div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span> </div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;mats = item_template.<a class="code hl_variable" href="structitype.html#a32ac824cb8437ef7a8288dafe6c6bfe1">materials</a>;</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;pr : all_pairs ) {</div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( mats.begin(), mats.end(), std::get&lt;0&gt;( pr ) ) != mats.end() ) {</div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span>            item_template.<a class="code hl_variable" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">item_tags</a>.insert( std::get&lt;1&gt;( pr ) );</div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span>        }</div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>    }</div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span>}</div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span> </div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span><span class="comment">// Migration helper: turns human flesh into generic flesh</span></div>
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"> 2358</span><span class="comment">// Don&#39;t call before making sure that the cannibalism flag is set</span></div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a00f2750af5bac1a8820a02582018dd36"> 2359</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="item__factory_8cpp.html#a00f2750af5bac1a8820a02582018dd36">hflesh_to_flesh</a>( <a class="code hl_struct" href="structitype.html">itype</a> &amp;item_template )</div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>{</div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span>    <span class="keyword">auto</span> &amp;mats = item_template.<a class="code hl_variable" href="structitype.html#a32ac824cb8437ef7a8288dafe6c6bfe1">materials</a>;</div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span>    <span class="keyword">const</span> <span class="keyword">auto</span> old_size = mats.size();</div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span>    mats.erase( std::remove( mats.begin(), mats.end(), <a class="code hl_class" href="classstring__id.html">material_id</a>( <span class="stringliteral">&quot;hflesh&quot;</span> ) ), mats.end() );</div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>    <span class="comment">// Only add &quot;flesh&quot; material if not already present</span></div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>    <span class="keywordflow">if</span>( old_size != mats.size() &amp;&amp;</div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>        <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( mats.begin(), mats.end(), <a class="code hl_class" href="classstring__id.html">material_id</a>( <span class="stringliteral">&quot;flesh&quot;</span> ) ) == mats.end() ) {</div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span>        mats.push_back( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;flesh&quot;</span> ) );</div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span>    }</div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>}</div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span> </div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"><a class="line" href="classItem__factory.html#a2575b508d2fea4ba82af973171d6f45a"> 2371</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a2575b508d2fea4ba82af973171d6f45a">Item_factory::npc_implied_flags</a>( <a class="code hl_struct" href="structitype.html">itype</a> &amp;item_template )</div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span>{</div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>    <span class="keywordflow">if</span>( item_template.<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a>.count( <span class="stringliteral">&quot;explosion&quot;</span> ) ) {</div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>        item_template.<a class="code hl_variable" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">item_tags</a>.insert( <span class="stringliteral">&quot;DANGEROUS&quot;</span> );</div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span>    }</div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span> </div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span>    <span class="keywordflow">if</span>( item_template.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;DANGEROUS&quot;</span> ) ) {</div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span>        item_template.<a class="code hl_variable" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">item_tags</a>.insert( <span class="stringliteral">&quot;NPC_THROW_NOW&quot;</span> );</div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span>    }</div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span> </div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span>    <span class="keywordflow">if</span>( item_template.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;BOMB&quot;</span> ) ) {</div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"> 2382</span>        item_template.<a class="code hl_variable" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">item_tags</a>.insert( <span class="stringliteral">&quot;NPC_ACTIVATE&quot;</span> );</div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span>    }</div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span> </div>
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"> 2385</span>    <span class="keywordflow">if</span>( item_template.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;NPC_THROW_NOW&quot;</span> ) ) {</div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span>        item_template.<a class="code hl_variable" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">item_tags</a>.insert( <span class="stringliteral">&quot;NPC_THROWN&quot;</span> );</div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span>    }</div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span> </div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span>    <span class="keywordflow">if</span>( item_template.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;NPC_ACTIVATE&quot;</span> ) ||</div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"> 2390</span>        item_template.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;NPC_THROWN&quot;</span> ) ) {</div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span>        item_template.<a class="code hl_variable" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">item_tags</a>.insert( <span class="stringliteral">&quot;NPC_ALT_ATTACK&quot;</span> );</div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span>    }</div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span> </div>
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"> 2394</span>    <span class="keywordflow">if</span>( item_template.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;DANGEROUS&quot;</span> ) ||</div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span>        item_template.<a class="code hl_function" href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">has_flag</a>( <span class="stringliteral">&quot;PSEUDO&quot;</span> ) ) {</div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span>        item_template.<a class="code hl_variable" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">item_tags</a>.insert( <span class="stringliteral">&quot;TRADER_AVOID&quot;</span> );</div>
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"> 2397</span>    }</div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"> 2398</span>}</div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span> </div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"><a class="line" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346"> 2400</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">Item_factory::load_basic_info</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <a class="code hl_struct" href="structitype.html">itype</a> &amp;def, <span class="keyword">const</span> std::string &amp;src )</div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"> 2401</span>{</div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> strict = <a class="code hl_function" href="assign_8h.html#abefce6b21ce60d9d6dc6037cf5ed5973">is_strict_enabled</a>( src );</div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span> </div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;category&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a713cf194c7af78a6a101a6bfb26bc3a9">category_force</a>, strict );</div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;weight&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a4ecb806dae208ff275b4aa50ffcd3902">weight</a>, strict, 0_gram );</div>
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"> 2406</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;integral_weight&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a5699c972f1a284761d3b0e1501fe8185">integral_weight</a>, strict, 0_gram );</div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;volume&quot;</span>, def.<a class="code hl_variable" href="structitype.html#abd3ca12912367ae92d488864e09ea921">volume</a> );</div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;price&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a41038ca826de1713661d7edd6c1705d0">price</a>, <span class="keyword">false</span>, 0_cent );</div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;price_postapoc&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a435567e9d513701c13586b96e289e33a">price_post</a>, <span class="keyword">false</span>, 0_cent );</div>
<div class="line"><a id="l02410" name="l02410"></a><span class="lineno"> 2410</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;stackable&quot;</span>, def.<a class="code hl_variable" href="structitype.html#ae2add2e58c239cd10a2ad4551d5c6fae">stackable_</a>, strict );</div>
<div class="line"><a id="l02411" name="l02411"></a><span class="lineno"> 2411</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;integral_volume&quot;</span>, def.<a class="code hl_variable" href="structitype.html#aa5c0438c1bc94ded4e950ad684463a72">integral_volume</a> );</div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"> 2412</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;bashing&quot;</span>, def.<a class="code hl_variable" href="structitype.html#ae287a1f1bf88e79b98da2bb0893546a7">melee</a>[<a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a>], strict, 0 );</div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"> 2413</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;cutting&quot;</span>, def.<a class="code hl_variable" href="structitype.html#ae287a1f1bf88e79b98da2bb0893546a7">melee</a>[<a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51">DT_CUT</a>], strict, 0 );</div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;to_hit&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a22e5b87c820d8b3323ffb43788bfe17c">m_to_hit</a>, strict );</div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"> 2415</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;container&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a732c87e006a38b7dc35850450d588595">default_container</a> );</div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;rigid&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a14fcae616635cf3a66644e0d473a3622">rigid</a> );</div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;min_strength&quot;</span>, def.<a class="code hl_variable" href="structitype.html#ad8c03a65fe401a2c39c5f76116a46164">min_str</a> );</div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"> 2418</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;min_dexterity&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a025457dc0d2c2545e84cbb01533ed535">min_dex</a> );</div>
<div class="line"><a id="l02419" name="l02419"></a><span class="lineno"> 2419</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;min_intelligence&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a203a347d8d0a2784baa916490e2f377a">min_int</a> );</div>
<div class="line"><a id="l02420" name="l02420"></a><span class="lineno"> 2420</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;min_perception&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a3425c169f961247fd33daa19b98934ce">min_per</a> );</div>
<div class="line"><a id="l02421" name="l02421"></a><span class="lineno"> 2421</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;emits&quot;</span>, def.<a class="code hl_variable" href="structitype.html#ac93d9775de15087ba59da8d48e89cb6f">emits</a> );</div>
<div class="line"><a id="l02422" name="l02422"></a><span class="lineno"> 2422</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;magazine_well&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a6e7d1eba2b391233d8da29ccde919fde">magazine_well</a> );</div>
<div class="line"><a id="l02423" name="l02423"></a><span class="lineno"> 2423</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;explode_in_fire&quot;</span>, def.<a class="code hl_variable" href="structitype.html#ad3feb1bdd1db2f0b88ef6b74c25ef869">explode_in_fire</a> );</div>
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"> 2424</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;insulation&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a1f98e4086129c4db4a4903e7a6bdac72">insulation_factor</a> );</div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;solar_efficiency&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a677f1de85e246b6f7e91a8ff70f3facf">solar_efficiency</a> );</div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"> 2426</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;ascii_picture&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a4025c470ee962b556a984ad5acbf9e63">picture_id</a> );</div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span> </div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"> 2428</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;thrown_damage&quot;</span> ) ) {</div>
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"> 2429</span>        def.<a class="code hl_variable" href="structitype.html#a88f1b039c08faacccaa9d637f894ee7f">thrown_damage</a> = <a class="code hl_function" href="damage_8cpp.html#a4ee1d4ba518b2becb0d1041a010ce7f5">load_damage_instance</a>( jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;thrown_damage&quot;</span> ) );</div>
<div class="line"><a id="l02430" name="l02430"></a><span class="lineno"> 2430</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02431" name="l02431"></a><span class="lineno"> 2431</span>        <span class="comment">// TODO: Move to finalization</span></div>
<div class="line"><a id="l02432" name="l02432"></a><span class="lineno"> 2432</span>        def.<a class="code hl_variable" href="structitype.html#a88f1b039c08faacccaa9d637f894ee7f">thrown_damage</a>.<a class="code hl_function" href="structdamage__instance.html#a4591412e4fb2bce72f920783a39fda91">clear</a>();</div>
<div class="line"><a id="l02433" name="l02433"></a><span class="lineno"> 2433</span>        def.<a class="code hl_variable" href="structitype.html#a88f1b039c08faacccaa9d637f894ee7f">thrown_damage</a>.<a class="code hl_function" href="structdamage__instance.html#a36067fd68baf04345d0c3626c67b8cac">add_damage</a>( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a>, def.<a class="code hl_variable" href="structitype.html#ae287a1f1bf88e79b98da2bb0893546a7">melee</a>[<a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a>] + def.<a class="code hl_variable" href="structitype.html#a4ecb806dae208ff275b4aa50ffcd3902">weight</a> / 1.0_kilogram );</div>
<div class="line"><a id="l02434" name="l02434"></a><span class="lineno"> 2434</span>    }</div>
<div class="line"><a id="l02435" name="l02435"></a><span class="lineno"> 2435</span> </div>
<div class="line"><a id="l02436" name="l02436"></a><span class="lineno"> 2436</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;repairs_like&quot;</span> ) ) {</div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;repairs_like&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a27af038e705697a2b9feff2a14e9cef5">repairs_like</a> );</div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"> 2438</span>    }</div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span> </div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;damage_states&quot;</span> ) ) {</div>
<div class="line"><a id="l02441" name="l02441"></a><span class="lineno"> 2441</span>        <span class="keyword">auto</span> arr = jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;damage_states&quot;</span> );</div>
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"> 2442</span>        def.<a class="code hl_variable" href="structitype.html#a77df14c96eca8142e97b00a9e43f56cb">damage_min_</a> = arr.get_int( 0 ) * <a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a>;</div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"> 2443</span>        def.<a class="code hl_variable" href="structitype.html#ad473e287663d24df88e80b82a0d55b31">damage_max_</a> = arr.get_int( 1 ) * <a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a>;</div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span>    }</div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"> 2445</span> </div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"> 2446</span>    <span class="comment">// NOTE: please also change `needs_plural` in `lang/extract_json_string.py`</span></div>
<div class="line"><a id="l02447" name="l02447"></a><span class="lineno"> 2447</span>    <span class="comment">// when changing this list</span></div>
<div class="line"><a id="l02448" name="l02448"></a><span class="lineno"> 2448</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::set&lt;std::string&gt; needs_plural = {</div>
<div class="line"><a id="l02449" name="l02449"></a><span class="lineno"> 2449</span>        <span class="stringliteral">&quot;AMMO&quot;</span>,</div>
<div class="line"><a id="l02450" name="l02450"></a><span class="lineno"> 2450</span>        <span class="stringliteral">&quot;ARMOR&quot;</span>,</div>
<div class="line"><a id="l02451" name="l02451"></a><span class="lineno"> 2451</span>        <span class="stringliteral">&quot;BATTERY&quot;</span>,</div>
<div class="line"><a id="l02452" name="l02452"></a><span class="lineno"> 2452</span>        <span class="stringliteral">&quot;BIONIC_ITEM&quot;</span>,</div>
<div class="line"><a id="l02453" name="l02453"></a><span class="lineno"> 2453</span>        <span class="stringliteral">&quot;BOOK&quot;</span>,</div>
<div class="line"><a id="l02454" name="l02454"></a><span class="lineno"> 2454</span>        <span class="stringliteral">&quot;COMESTIBLE&quot;</span>,</div>
<div class="line"><a id="l02455" name="l02455"></a><span class="lineno"> 2455</span>        <span class="stringliteral">&quot;CONTAINER&quot;</span>,</div>
<div class="line"><a id="l02456" name="l02456"></a><span class="lineno"> 2456</span>        <span class="stringliteral">&quot;ENGINE&quot;</span>,</div>
<div class="line"><a id="l02457" name="l02457"></a><span class="lineno"> 2457</span>        <span class="stringliteral">&quot;GENERIC&quot;</span>,</div>
<div class="line"><a id="l02458" name="l02458"></a><span class="lineno"> 2458</span>        <span class="stringliteral">&quot;GUN&quot;</span>,</div>
<div class="line"><a id="l02459" name="l02459"></a><span class="lineno"> 2459</span>        <span class="stringliteral">&quot;GUNMOD&quot;</span>,</div>
<div class="line"><a id="l02460" name="l02460"></a><span class="lineno"> 2460</span>        <span class="stringliteral">&quot;MAGAZINE&quot;</span>,</div>
<div class="line"><a id="l02461" name="l02461"></a><span class="lineno"> 2461</span>        <span class="stringliteral">&quot;PET_ARMOR&quot;</span>,</div>
<div class="line"><a id="l02462" name="l02462"></a><span class="lineno"> 2462</span>        <span class="stringliteral">&quot;TOOL&quot;</span>,</div>
<div class="line"><a id="l02463" name="l02463"></a><span class="lineno"> 2463</span>        <span class="stringliteral">&quot;TOOLMOD&quot;</span>,</div>
<div class="line"><a id="l02464" name="l02464"></a><span class="lineno"> 2464</span>        <span class="stringliteral">&quot;TOOL_ARMOR&quot;</span>,</div>
<div class="line"><a id="l02465" name="l02465"></a><span class="lineno"> 2465</span>        <span class="stringliteral">&quot;WHEEL&quot;</span>,</div>
<div class="line"><a id="l02466" name="l02466"></a><span class="lineno"> 2466</span>    };</div>
<div class="line"><a id="l02467" name="l02467"></a><span class="lineno"> 2467</span>    <span class="keywordflow">if</span>( needs_plural.find( jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;type&quot;</span> ) ) != needs_plural.end() ) {</div>
<div class="line"><a id="l02468" name="l02468"></a><span class="lineno"> 2468</span>        def.<a class="code hl_variable" href="structitype.html#a82ca05abd5038bf680072963a3a97a7c">name</a> = <a class="code hl_class" href="classtranslation.html">translation</a>( <a class="code hl_struct" href="structtranslation_1_1plural__tag.html">translation::plural_tag</a>() );</div>
<div class="line"><a id="l02469" name="l02469"></a><span class="lineno"> 2469</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"> 2470</span>        def.<a class="code hl_variable" href="structitype.html#a82ca05abd5038bf680072963a3a97a7c">name</a> = <a class="code hl_class" href="classtranslation.html">translation</a>();</div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"> 2471</span>    }</div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"> 2472</span>    <span class="keywordflow">if</span>( !jo.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;name&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a82ca05abd5038bf680072963a3a97a7c">name</a> ) ) {</div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"> 2473</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;name unspecified for item type&quot;</span> );</div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"> 2474</span>    }</div>
<div class="line"><a id="l02475" name="l02475"></a><span class="lineno"> 2475</span> </div>
<div class="line"><a id="l02476" name="l02476"></a><span class="lineno"> 2476</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;description&quot;</span> ) ) {</div>
<div class="line"><a id="l02477" name="l02477"></a><span class="lineno"> 2477</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;description&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a71434072aef9916ba0a62b7baa59a2b5">description</a> );</div>
<div class="line"><a id="l02478" name="l02478"></a><span class="lineno"> 2478</span>    }</div>
<div class="line"><a id="l02479" name="l02479"></a><span class="lineno"> 2479</span> </div>
<div class="line"><a id="l02480" name="l02480"></a><span class="lineno"> 2480</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;symbol&quot;</span> ) ) {</div>
<div class="line"><a id="l02481" name="l02481"></a><span class="lineno"> 2481</span>        def.<a class="code hl_variable" href="structitype.html#adc032f577167e749b91124d76f56ddfe">sym</a> = jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;symbol&quot;</span> );</div>
<div class="line"><a id="l02482" name="l02482"></a><span class="lineno"> 2482</span>    }</div>
<div class="line"><a id="l02483" name="l02483"></a><span class="lineno"> 2483</span> </div>
<div class="line"><a id="l02484" name="l02484"></a><span class="lineno"> 2484</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;color&quot;</span> ) ) {</div>
<div class="line"><a id="l02485" name="l02485"></a><span class="lineno"> 2485</span>        def.<a class="code hl_variable" href="structitype.html#af4d6fc9396d1e09f23d2008f974ac757">color</a> = <a class="code hl_function" href="color_8cpp.html#a9c642a659e1cb963f62f59195839a014">color_from_string</a>( jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;color&quot;</span> ) );</div>
<div class="line"><a id="l02486" name="l02486"></a><span class="lineno"> 2486</span>    }</div>
<div class="line"><a id="l02487" name="l02487"></a><span class="lineno"> 2487</span> </div>
<div class="line"><a id="l02488" name="l02488"></a><span class="lineno"> 2488</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;material&quot;</span> ) ) {</div>
<div class="line"><a id="l02489" name="l02489"></a><span class="lineno"> 2489</span>        def.<a class="code hl_variable" href="structitype.html#a32ac824cb8437ef7a8288dafe6c6bfe1">materials</a>.clear();</div>
<div class="line"><a id="l02490" name="l02490"></a><span class="lineno"> 2490</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;m : jo.<a class="code hl_function" href="classJsonObject.html#a5a52ac1f583a3db5af2c12faa46868ed">get_tags</a>( <span class="stringliteral">&quot;material&quot;</span> ) ) {</div>
<div class="line"><a id="l02491" name="l02491"></a><span class="lineno"> 2491</span>            def.<a class="code hl_variable" href="structitype.html#a32ac824cb8437ef7a8288dafe6c6bfe1">materials</a>.emplace_back( m );</div>
<div class="line"><a id="l02492" name="l02492"></a><span class="lineno"> 2492</span>        }</div>
<div class="line"><a id="l02493" name="l02493"></a><span class="lineno"> 2493</span>    }</div>
<div class="line"><a id="l02494" name="l02494"></a><span class="lineno"> 2494</span> </div>
<div class="line"><a id="l02495" name="l02495"></a><span class="lineno"> 2495</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;phase&quot;</span> ) ) {</div>
<div class="line"><a id="l02496" name="l02496"></a><span class="lineno"> 2496</span>        def.<a class="code hl_variable" href="structitype.html#a3d7692cff108d3b8c59ca0847d25a45c">phase</a> = jo.<a class="code hl_function" href="classJsonObject.html#ae00cc01f914207318896e0e45ece96aa">get_enum_value</a>&lt;<a class="code hl_enumeration" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5">phase_id</a>&gt;( <span class="stringliteral">&quot;phase&quot;</span> );</div>
<div class="line"><a id="l02497" name="l02497"></a><span class="lineno"> 2497</span>    }</div>
<div class="line"><a id="l02498" name="l02498"></a><span class="lineno"> 2498</span> </div>
<div class="line"><a id="l02499" name="l02499"></a><span class="lineno"> 2499</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;magazines&quot;</span> ) ) {</div>
<div class="line"><a id="l02500" name="l02500"></a><span class="lineno"> 2500</span>        def.<a class="code hl_variable" href="structitype.html#ab5c2a0ece3b013a4088b734cd34841d6">magazine_default</a>.clear();</div>
<div class="line"><a id="l02501" name="l02501"></a><span class="lineno"> 2501</span>        def.<a class="code hl_variable" href="structitype.html#a8f4b158de33b6320ba43249b005a2f94">magazines</a>.clear();</div>
<div class="line"><a id="l02502" name="l02502"></a><span class="lineno"> 2502</span> </div>
<div class="line"><a id="l02503" name="l02503"></a><span class="lineno"> 2503</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonArray.html">JsonArray</a> arr : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;magazines&quot;</span> ) ) {</div>
<div class="line"><a id="l02504" name="l02504"></a><span class="lineno"> 2504</span>            <a class="code hl_class" href="classstring__id.html">ammotype</a> ammo( arr.get_string( 0 ) ); <span class="comment">// an ammo type (e.g. 9mm)</span></div>
<div class="line"><a id="l02505" name="l02505"></a><span class="lineno"> 2505</span>            <a class="code hl_class" href="classJsonArray.html">JsonArray</a> compat = arr.<a class="code hl_function" href="classJsonArray.html#a4976d590ed48ab2fb2bae15259442584">get_array</a>( 1 ); <span class="comment">// compatible magazines for this ammo type</span></div>
<div class="line"><a id="l02506" name="l02506"></a><span class="lineno"> 2506</span> </div>
<div class="line"><a id="l02507" name="l02507"></a><span class="lineno"> 2507</span>            <span class="comment">// the first magazine for this ammo type is the default</span></div>
<div class="line"><a id="l02508" name="l02508"></a><span class="lineno"> 2508</span>            def.<a class="code hl_variable" href="structitype.html#ab5c2a0ece3b013a4088b734cd34841d6">magazine_default</a>[ ammo ] = <a class="code hl_variable" href="classItem__factory.html#af00b5574c94f15a4fec4fb91de966594">itype_id</a>( compat.<a class="code hl_function" href="classJsonArray.html#a700c41c564ba2ed69e3c9766ac22ad30">get_string</a>( 0 ) );</div>
<div class="line"><a id="l02509" name="l02509"></a><span class="lineno"> 2509</span> </div>
<div class="line"><a id="l02510" name="l02510"></a><span class="lineno"> 2510</span>            <span class="keywordflow">while</span>( compat.<a class="code hl_function" href="classJsonArray.html#a12e952546232a62428cb2a1741364006">has_more</a>() ) {</div>
<div class="line"><a id="l02511" name="l02511"></a><span class="lineno"> 2511</span>                def.<a class="code hl_variable" href="structitype.html#a8f4b158de33b6320ba43249b005a2f94">magazines</a>[ ammo ].insert( <a class="code hl_variable" href="classItem__factory.html#af00b5574c94f15a4fec4fb91de966594">itype_id</a>( compat.<a class="code hl_function" href="classJsonArray.html#a0b9f2991ca4cbc0d3181d1c87314067d">next_string</a>() ) );</div>
<div class="line"><a id="l02512" name="l02512"></a><span class="lineno"> 2512</span>            }</div>
<div class="line"><a id="l02513" name="l02513"></a><span class="lineno"> 2513</span>        }</div>
<div class="line"><a id="l02514" name="l02514"></a><span class="lineno"> 2514</span>    }</div>
<div class="line"><a id="l02515" name="l02515"></a><span class="lineno"> 2515</span> </div>
<div class="line"><a id="l02516" name="l02516"></a><span class="lineno"> 2516</span>    <a class="code hl_class" href="classJsonArray.html">JsonArray</a> jarr = jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;min_skills&quot;</span> );</div>
<div class="line"><a id="l02517" name="l02517"></a><span class="lineno"> 2517</span>    <span class="keywordflow">if</span>( !jarr.<a class="code hl_function" href="classJsonArray.html#a73e7d8a8c8669d242ae0013bf46a4b85">empty</a>() ) {</div>
<div class="line"><a id="l02518" name="l02518"></a><span class="lineno"> 2518</span>        def.<a class="code hl_variable" href="structitype.html#abef0d8869ced8040dc3004db7db39d57">min_skills</a>.clear();</div>
<div class="line"><a id="l02519" name="l02519"></a><span class="lineno"> 2519</span>    }</div>
<div class="line"><a id="l02520" name="l02520"></a><span class="lineno"> 2520</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonArray.html">JsonArray</a> cur : jarr ) {</div>
<div class="line"><a id="l02521" name="l02521"></a><span class="lineno"> 2521</span>        <span class="keyword">const</span> <span class="keyword">auto</span> sk = <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">skill_id</a>( cur.get_string( 0 ) );</div>
<div class="line"><a id="l02522" name="l02522"></a><span class="lineno"> 2522</span>        <span class="keywordflow">if</span>( !sk.is_valid() ) {</div>
<div class="line"><a id="l02523" name="l02523"></a><span class="lineno"> 2523</span>            jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;invalid skill: %s&quot;</span>, sk.c_str() ), <span class="stringliteral">&quot;min_skills&quot;</span> );</div>
<div class="line"><a id="l02524" name="l02524"></a><span class="lineno"> 2524</span>        }</div>
<div class="line"><a id="l02525" name="l02525"></a><span class="lineno"> 2525</span>        def.<a class="code hl_variable" href="structitype.html#abef0d8869ced8040dc3004db7db39d57">min_skills</a>[ sk ] = cur.get_int( 1 );</div>
<div class="line"><a id="l02526" name="l02526"></a><span class="lineno"> 2526</span>    }</div>
<div class="line"><a id="l02527" name="l02527"></a><span class="lineno"> 2527</span> </div>
<div class="line"><a id="l02528" name="l02528"></a><span class="lineno"> 2528</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;explosion&quot;</span> ) ) {</div>
<div class="line"><a id="l02529" name="l02529"></a><span class="lineno"> 2529</span>        <a class="code hl_class" href="classJsonObject.html">JsonObject</a> je = jo.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( <span class="stringliteral">&quot;explosion&quot;</span> );</div>
<div class="line"><a id="l02530" name="l02530"></a><span class="lineno"> 2530</span>        def.<a class="code hl_variable" href="structitype.html#a15ce9f3914d2afb7992e4683a0996791">explosion</a> = <a class="code hl_function" href="explosion_8cpp.html#ab8a73ef7725c30dd1cd66ed921df48d8">load_explosion_data</a>( je );</div>
<div class="line"><a id="l02531" name="l02531"></a><span class="lineno"> 2531</span>    }</div>
<div class="line"><a id="l02532" name="l02532"></a><span class="lineno"> 2532</span> </div>
<div class="line"><a id="l02533" name="l02533"></a><span class="lineno"> 2533</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;flags&quot;</span>, def.<a class="code hl_variable" href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">item_tags</a> );</div>
<div class="line"><a id="l02534" name="l02534"></a><span class="lineno"> 2534</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;faults&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a71835820e6594955948ef1e8bc7bed68">faults</a> );</div>
<div class="line"><a id="l02535" name="l02535"></a><span class="lineno"> 2535</span> </div>
<div class="line"><a id="l02536" name="l02536"></a><span class="lineno"> 2536</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;qualities&quot;</span> ) ) {</div>
<div class="line"><a id="l02537" name="l02537"></a><span class="lineno"> 2537</span>        def.<a class="code hl_variable" href="structitype.html#a88ab4cc3858d8bb86e21cf83d13cc4c0">qualities</a>.clear();</div>
<div class="line"><a id="l02538" name="l02538"></a><span class="lineno"> 2538</span>        <a class="code hl_function" href="classItem__factory.html#abd13937eb5ca9022bed121004829e4fd">set_qualities_from_json</a>( jo, <span class="stringliteral">&quot;qualities&quot;</span>, def );</div>
<div class="line"><a id="l02539" name="l02539"></a><span class="lineno"> 2539</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02540" name="l02540"></a><span class="lineno"> 2540</span>        <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a49ff0ef5ec58e2cf47dcaa551eb2b472">has_object</a>( <span class="stringliteral">&quot;extend&quot;</span> ) ) {</div>
<div class="line"><a id="l02541" name="l02541"></a><span class="lineno"> 2541</span>            <a class="code hl_class" href="classJsonObject.html">JsonObject</a> tmp = jo.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( <span class="stringliteral">&quot;extend&quot;</span> );</div>
<div class="line"><a id="l02542" name="l02542"></a><span class="lineno"> 2542</span>            tmp.<a class="code hl_function" href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">allow_omitted_members</a>();</div>
<div class="line"><a id="l02543" name="l02543"></a><span class="lineno"> 2543</span>            <a class="code hl_function" href="classItem__factory.html#ac619360e4e3eb14fa8374642b5500965">extend_qualities_from_json</a>( tmp, <span class="stringliteral">&quot;qualities&quot;</span>, def );</div>
<div class="line"><a id="l02544" name="l02544"></a><span class="lineno"> 2544</span>        }</div>
<div class="line"><a id="l02545" name="l02545"></a><span class="lineno"> 2545</span>        <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a49ff0ef5ec58e2cf47dcaa551eb2b472">has_object</a>( <span class="stringliteral">&quot;delete&quot;</span> ) ) {</div>
<div class="line"><a id="l02546" name="l02546"></a><span class="lineno"> 2546</span>            <a class="code hl_class" href="classJsonObject.html">JsonObject</a> tmp = jo.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( <span class="stringliteral">&quot;delete&quot;</span> );</div>
<div class="line"><a id="l02547" name="l02547"></a><span class="lineno"> 2547</span>            tmp.<a class="code hl_function" href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">allow_omitted_members</a>();</div>
<div class="line"><a id="l02548" name="l02548"></a><span class="lineno"> 2548</span>            <a class="code hl_function" href="classItem__factory.html#a76b46768155780dca9f2a872e75fddea">delete_qualities_from_json</a>( tmp, <span class="stringliteral">&quot;qualities&quot;</span>, def );</div>
<div class="line"><a id="l02549" name="l02549"></a><span class="lineno"> 2549</span>        }</div>
<div class="line"><a id="l02550" name="l02550"></a><span class="lineno"> 2550</span>    }</div>
<div class="line"><a id="l02551" name="l02551"></a><span class="lineno"> 2551</span> </div>
<div class="line"><a id="l02552" name="l02552"></a><span class="lineno"> 2552</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;properties&quot;</span> ) ) {</div>
<div class="line"><a id="l02553" name="l02553"></a><span class="lineno"> 2553</span>        <a class="code hl_function" href="classItem__factory.html#a36d00fe876facfc0a24280fa1a326772">set_properties_from_json</a>( jo, <span class="stringliteral">&quot;properties&quot;</span>, def );</div>
<div class="line"><a id="l02554" name="l02554"></a><span class="lineno"> 2554</span>    }</div>
<div class="line"><a id="l02555" name="l02555"></a><span class="lineno"> 2555</span> </div>
<div class="line"><a id="l02556" name="l02556"></a><span class="lineno"> 2556</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;s : jo.<a class="code hl_function" href="classJsonObject.html#a5a52ac1f583a3db5af2c12faa46868ed">get_tags</a>( <span class="stringliteral">&quot;techniques&quot;</span> ) ) {</div>
<div class="line"><a id="l02557" name="l02557"></a><span class="lineno"> 2557</span>        def.<a class="code hl_variable" href="structitype.html#af120b48958f64cb16301d76d95d57d6a">techniques</a>.insert( <a class="code hl_typedef" href="type__id_8h.html#a15c813836397fb5a5747fa15b5c82d84">matec_id</a>( s ) );</div>
<div class="line"><a id="l02558" name="l02558"></a><span class="lineno"> 2558</span>    }</div>
<div class="line"><a id="l02559" name="l02559"></a><span class="lineno"> 2559</span> </div>
<div class="line"><a id="l02560" name="l02560"></a><span class="lineno"> 2560</span>    <a class="code hl_function" href="classItem__factory.html#aae6f2de3b22ec1d07a5743ddb129b14f">set_use_methods_from_json</a>( jo, <span class="stringliteral">&quot;use_action&quot;</span>, def.<a class="code hl_variable" href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">use_methods</a> );</div>
<div class="line"><a id="l02561" name="l02561"></a><span class="lineno"> 2561</span> </div>
<div class="line"><a id="l02562" name="l02562"></a><span class="lineno"> 2562</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;countdown_interval&quot;</span>, def.<a class="code hl_variable" href="structitype.html#af4a7035d85d1258ac55efae66eea72eb">countdown_interval</a> );</div>
<div class="line"><a id="l02563" name="l02563"></a><span class="lineno"> 2563</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;countdown_destroy&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a3743732759cbbb33229d4ccb8119f805">countdown_destroy</a> );</div>
<div class="line"><a id="l02564" name="l02564"></a><span class="lineno"> 2564</span> </div>
<div class="line"><a id="l02565" name="l02565"></a><span class="lineno"> 2565</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;countdown_action&quot;</span> ) ) {</div>
<div class="line"><a id="l02566" name="l02566"></a><span class="lineno"> 2566</span>        def.<a class="code hl_variable" href="structitype.html#a2e3c835eaac65d9922f07f99f2f3cf5d">countdown_action</a> = <a class="code hl_function" href="classItem__factory.html#a4e652a1bb11e1fa9ca38fdd48db25bb7">usage_from_string</a>( jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;countdown_action&quot;</span> ) );</div>
<div class="line"><a id="l02567" name="l02567"></a><span class="lineno"> 2567</span> </div>
<div class="line"><a id="l02568" name="l02568"></a><span class="lineno"> 2568</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a49ff0ef5ec58e2cf47dcaa551eb2b472">has_object</a>( <span class="stringliteral">&quot;countdown_action&quot;</span> ) ) {</div>
<div class="line"><a id="l02569" name="l02569"></a><span class="lineno"> 2569</span>        <span class="keyword">auto</span> tmp = jo.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( <span class="stringliteral">&quot;countdown_action&quot;</span> );</div>
<div class="line"><a id="l02570" name="l02570"></a><span class="lineno"> 2570</span>        <a class="code hl_struct" href="structuse__function.html">use_function</a> fun = <a class="code hl_function" href="classItem__factory.html#ae858c09c799baa5ab83217cbab2a9b0b">usage_from_object</a>( tmp ).second;</div>
<div class="line"><a id="l02571" name="l02571"></a><span class="lineno"> 2571</span>        <span class="keywordflow">if</span>( fun ) {</div>
<div class="line"><a id="l02572" name="l02572"></a><span class="lineno"> 2572</span>            def.<a class="code hl_variable" href="structitype.html#a2e3c835eaac65d9922f07f99f2f3cf5d">countdown_action</a> = fun;</div>
<div class="line"><a id="l02573" name="l02573"></a><span class="lineno"> 2573</span>        }</div>
<div class="line"><a id="l02574" name="l02574"></a><span class="lineno"> 2574</span>    }</div>
<div class="line"><a id="l02575" name="l02575"></a><span class="lineno"> 2575</span> </div>
<div class="line"><a id="l02576" name="l02576"></a><span class="lineno"> 2576</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;drop_action&quot;</span> ) ) {</div>
<div class="line"><a id="l02577" name="l02577"></a><span class="lineno"> 2577</span>        def.<a class="code hl_variable" href="structitype.html#a9d0d50c14b184fceddd1a13ee279a6fc">drop_action</a> = <a class="code hl_function" href="classItem__factory.html#a4e652a1bb11e1fa9ca38fdd48db25bb7">usage_from_string</a>( jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;drop_action&quot;</span> ) );</div>
<div class="line"><a id="l02578" name="l02578"></a><span class="lineno"> 2578</span> </div>
<div class="line"><a id="l02579" name="l02579"></a><span class="lineno"> 2579</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a49ff0ef5ec58e2cf47dcaa551eb2b472">has_object</a>( <span class="stringliteral">&quot;drop_action&quot;</span> ) ) {</div>
<div class="line"><a id="l02580" name="l02580"></a><span class="lineno"> 2580</span>        <span class="keyword">auto</span> tmp = jo.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( <span class="stringliteral">&quot;drop_action&quot;</span> );</div>
<div class="line"><a id="l02581" name="l02581"></a><span class="lineno"> 2581</span>        <a class="code hl_struct" href="structuse__function.html">use_function</a> fun = <a class="code hl_function" href="classItem__factory.html#ae858c09c799baa5ab83217cbab2a9b0b">usage_from_object</a>( tmp ).second;</div>
<div class="line"><a id="l02582" name="l02582"></a><span class="lineno"> 2582</span>        <span class="keywordflow">if</span>( fun ) {</div>
<div class="line"><a id="l02583" name="l02583"></a><span class="lineno"> 2583</span>            def.<a class="code hl_variable" href="structitype.html#a9d0d50c14b184fceddd1a13ee279a6fc">drop_action</a> = fun;</div>
<div class="line"><a id="l02584" name="l02584"></a><span class="lineno"> 2584</span>        }</div>
<div class="line"><a id="l02585" name="l02585"></a><span class="lineno"> 2585</span>    }</div>
<div class="line"><a id="l02586" name="l02586"></a><span class="lineno"> 2586</span> </div>
<div class="line"><a id="l02587" name="l02587"></a><span class="lineno"> 2587</span>    jo.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;looks_like&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a4e982ae6c205d1a157d2df129373eca3">looks_like</a> );</div>
<div class="line"><a id="l02588" name="l02588"></a><span class="lineno"> 2588</span> </div>
<div class="line"><a id="l02589" name="l02589"></a><span class="lineno"> 2589</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;conditional_names&quot;</span> ) ) {</div>
<div class="line"><a id="l02590" name="l02590"></a><span class="lineno"> 2590</span>        def.<a class="code hl_variable" href="structitype.html#acaa924a27717e1a4f5fa3fb17a84383c">conditional_names</a>.clear();</div>
<div class="line"><a id="l02591" name="l02591"></a><span class="lineno"> 2591</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> curr : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;conditional_names&quot;</span> ) ) {</div>
<div class="line"><a id="l02592" name="l02592"></a><span class="lineno"> 2592</span>            <a class="code hl_struct" href="structconditional__name.html">conditional_name</a> cname;</div>
<div class="line"><a id="l02593" name="l02593"></a><span class="lineno"> 2593</span>            cname.<a class="code hl_variable" href="structconditional__name.html#ac51a78e5f1662317a41ec1d63b903ece">type</a> = curr.get_enum_value&lt;<a class="code hl_enumeration" href="itype_8h.html#afc401f615ea14e8e1ee24cf7068b7716">condition_type</a>&gt;( <span class="stringliteral">&quot;type&quot;</span> );</div>
<div class="line"><a id="l02594" name="l02594"></a><span class="lineno"> 2594</span>            cname.<a class="code hl_variable" href="structconditional__name.html#a7f83a54f817bcd052f2a474d2d0c37a5">condition</a> = curr.get_string( <span class="stringliteral">&quot;condition&quot;</span> );</div>
<div class="line"><a id="l02595" name="l02595"></a><span class="lineno"> 2595</span>            cname.<a class="code hl_variable" href="structconditional__name.html#aae6859a6f0c56830765ae70546da4eda">name</a> = <a class="code hl_class" href="classtranslation.html">translation</a>( <a class="code hl_struct" href="structtranslation_1_1plural__tag.html">translation::plural_tag</a>() );</div>
<div class="line"><a id="l02596" name="l02596"></a><span class="lineno"> 2596</span>            <span class="keywordflow">if</span>( !curr.read( <span class="stringliteral">&quot;name&quot;</span>, cname.<a class="code hl_variable" href="structconditional__name.html#aae6859a6f0c56830765ae70546da4eda">name</a> ) ) {</div>
<div class="line"><a id="l02597" name="l02597"></a><span class="lineno"> 2597</span>                curr.throw_error( <span class="stringliteral">&quot;name unspecified for conditional name&quot;</span> );</div>
<div class="line"><a id="l02598" name="l02598"></a><span class="lineno"> 2598</span>            }</div>
<div class="line"><a id="l02599" name="l02599"></a><span class="lineno"> 2599</span>            def.<a class="code hl_variable" href="structitype.html#acaa924a27717e1a4f5fa3fb17a84383c">conditional_names</a>.push_back( cname );</div>
<div class="line"><a id="l02600" name="l02600"></a><span class="lineno"> 2600</span>        }</div>
<div class="line"><a id="l02601" name="l02601"></a><span class="lineno"> 2601</span>    }</div>
<div class="line"><a id="l02602" name="l02602"></a><span class="lineno"> 2602</span> </div>
<div class="line"><a id="l02603" name="l02603"></a><span class="lineno"> 2603</span>    <a class="code hl_function" href="classItem__factory.html#a839d4e378b9e255c14e1b64f0404b785">load_slot_optional</a>( def.<a class="code hl_variable" href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">container</a>, jo, <span class="stringliteral">&quot;container_data&quot;</span>, src );</div>
<div class="line"><a id="l02604" name="l02604"></a><span class="lineno"> 2604</span>    <a class="code hl_function" href="classItem__factory.html#a839d4e378b9e255c14e1b64f0404b785">load_slot_optional</a>( def.<a class="code hl_variable" href="structitype.html#a7099f3ad89573870d81ce764d6cccb04">armor</a>, jo, <span class="stringliteral">&quot;armor_data&quot;</span>, src );</div>
<div class="line"><a id="l02605" name="l02605"></a><span class="lineno"> 2605</span>    <a class="code hl_function" href="classItem__factory.html#a839d4e378b9e255c14e1b64f0404b785">load_slot_optional</a>( def.<a class="code hl_variable" href="structitype.html#a37254c7bdbbddd208cc69e2338ab833b">pet_armor</a>, jo, <span class="stringliteral">&quot;pet_armor_data&quot;</span>, src );</div>
<div class="line"><a id="l02606" name="l02606"></a><span class="lineno"> 2606</span>    <a class="code hl_function" href="classItem__factory.html#a839d4e378b9e255c14e1b64f0404b785">load_slot_optional</a>( def.<a class="code hl_variable" href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">book</a>, jo, <span class="stringliteral">&quot;book_data&quot;</span>, src );</div>
<div class="line"><a id="l02607" name="l02607"></a><span class="lineno"> 2607</span>    <a class="code hl_function" href="classItem__factory.html#a839d4e378b9e255c14e1b64f0404b785">load_slot_optional</a>( def.<a class="code hl_variable" href="structitype.html#a623ec8243b1e599086fa3a23c3179370">gun</a>, jo, <span class="stringliteral">&quot;gun_data&quot;</span>, src );</div>
<div class="line"><a id="l02608" name="l02608"></a><span class="lineno"> 2608</span>    <a class="code hl_function" href="classItem__factory.html#a839d4e378b9e255c14e1b64f0404b785">load_slot_optional</a>( def.<a class="code hl_variable" href="structitype.html#a33aeb53774679283298d0202ae3e78ce">bionic</a>, jo, <span class="stringliteral">&quot;bionic_data&quot;</span>, src );</div>
<div class="line"><a id="l02609" name="l02609"></a><span class="lineno"> 2609</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;ammo_data&quot;</span>, def.<a class="code hl_variable" href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">ammo</a>, <a class="code hl_function" href="assign_8h.html#abefce6b21ce60d9d6dc6037cf5ed5973">is_strict_enabled</a>( src ) );</div>
<div class="line"><a id="l02610" name="l02610"></a><span class="lineno"> 2610</span>    <a class="code hl_function" href="classItem__factory.html#a839d4e378b9e255c14e1b64f0404b785">load_slot_optional</a>( def.<a class="code hl_variable" href="structitype.html#ad55b9f82e65f57e8cfb6ecc4fc0445cb">seed</a>, jo, <span class="stringliteral">&quot;seed_data&quot;</span>, src );</div>
<div class="line"><a id="l02611" name="l02611"></a><span class="lineno"> 2611</span>    <a class="code hl_function" href="classItem__factory.html#a839d4e378b9e255c14e1b64f0404b785">load_slot_optional</a>( def.<a class="code hl_variable" href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">artifact</a>, jo, <span class="stringliteral">&quot;artifact_data&quot;</span>, src );</div>
<div class="line"><a id="l02612" name="l02612"></a><span class="lineno"> 2612</span>    <a class="code hl_function" href="classItem__factory.html#a839d4e378b9e255c14e1b64f0404b785">load_slot_optional</a>( def.<a class="code hl_variable" href="structitype.html#aceefd307b3bf001fbbcb5fde7bbcdd88">brewable</a>, jo, <span class="stringliteral">&quot;brewable&quot;</span>, src );</div>
<div class="line"><a id="l02613" name="l02613"></a><span class="lineno"> 2613</span>    <a class="code hl_function" href="classItem__factory.html#a839d4e378b9e255c14e1b64f0404b785">load_slot_optional</a>( def.<a class="code hl_variable" href="structitype.html#a9599d60ae3f70f8791bf108a4bde877b">fuel</a>, jo, <span class="stringliteral">&quot;fuel&quot;</span>, src );</div>
<div class="line"><a id="l02614" name="l02614"></a><span class="lineno"> 2614</span>    <a class="code hl_function" href="classItem__factory.html#a839d4e378b9e255c14e1b64f0404b785">load_slot_optional</a>( def.<a class="code hl_variable" href="structitype.html#ab5ccbb62a76230f61c7047b0f4258ff4">relic_data</a>, jo, <span class="stringliteral">&quot;relic_data&quot;</span>, src );</div>
<div class="line"><a id="l02615" name="l02615"></a><span class="lineno"> 2615</span>    <a class="code hl_function" href="classItem__factory.html#a839d4e378b9e255c14e1b64f0404b785">load_slot_optional</a>( def.<a class="code hl_variable" href="structitype.html#ab5a0c74951d7c96f34dbb6da4824f373">milling_data</a>, jo, <span class="stringliteral">&quot;milling&quot;</span>, src );</div>
<div class="line"><a id="l02616" name="l02616"></a><span class="lineno"> 2616</span> </div>
<div class="line"><a id="l02617" name="l02617"></a><span class="lineno"> 2617</span>    <span class="comment">// optional gunmod slot may also specify mod data</span></div>
<div class="line"><a id="l02618" name="l02618"></a><span class="lineno"> 2618</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;gunmod_data&quot;</span> ) ) {</div>
<div class="line"><a id="l02619" name="l02619"></a><span class="lineno"> 2619</span>        <span class="comment">// use the same JsonObject for the two load_slot calls to avoid</span></div>
<div class="line"><a id="l02620" name="l02620"></a><span class="lineno"> 2620</span>        <span class="comment">// warnings about unvisited Json members</span></div>
<div class="line"><a id="l02621" name="l02621"></a><span class="lineno"> 2621</span>        <a class="code hl_class" href="classJsonObject.html">JsonObject</a> jo_gunmod = jo.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( <span class="stringliteral">&quot;gunmod_data&quot;</span> );</div>
<div class="line"><a id="l02622" name="l02622"></a><span class="lineno"> 2622</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a37edee7dafc5711621f26844cab78cf6">gunmod</a>, jo_gunmod, src );</div>
<div class="line"><a id="l02623" name="l02623"></a><span class="lineno"> 2623</span>        <a class="code hl_function" href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">load_slot</a>( def.<a class="code hl_variable" href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">mod</a>, jo_gunmod, src );</div>
<div class="line"><a id="l02624" name="l02624"></a><span class="lineno"> 2624</span>    }</div>
<div class="line"><a id="l02625" name="l02625"></a><span class="lineno"> 2625</span> </div>
<div class="line"><a id="l02626" name="l02626"></a><span class="lineno"> 2626</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;abstract&quot;</span> ) ) {</div>
<div class="line"><a id="l02627" name="l02627"></a><span class="lineno"> 2627</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;abstract&quot;</span>, def.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l02628" name="l02628"></a><span class="lineno"> 2628</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02629" name="l02629"></a><span class="lineno"> 2629</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;id&quot;</span>, def.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l02630" name="l02630"></a><span class="lineno"> 2630</span>    }</div>
<div class="line"><a id="l02631" name="l02631"></a><span class="lineno"> 2631</span> </div>
<div class="line"><a id="l02632" name="l02632"></a><span class="lineno"> 2632</span>    <span class="keywordflow">if</span>( !def.<a class="code hl_variable" href="structitype.html#ac59fb8f044e4a3841db679ecf8e646a7">src</a>.empty() &amp;&amp; def.<a class="code hl_variable" href="structitype.html#ac59fb8f044e4a3841db679ecf8e646a7">src</a>.back().first != def.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a> ) {</div>
<div class="line"><a id="l02633" name="l02633"></a><span class="lineno"> 2633</span>        def.<a class="code hl_variable" href="structitype.html#ac59fb8f044e4a3841db679ecf8e646a7">src</a>.clear();</div>
<div class="line"><a id="l02634" name="l02634"></a><span class="lineno"> 2634</span>    }</div>
<div class="line"><a id="l02635" name="l02635"></a><span class="lineno"> 2635</span>    def.<a class="code hl_variable" href="structitype.html#ac59fb8f044e4a3841db679ecf8e646a7">src</a>.emplace_back( def.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a>, <a class="code hl_class" href="classstring__id.html">mod_id</a>( src ) );</div>
<div class="line"><a id="l02636" name="l02636"></a><span class="lineno"> 2636</span> </div>
<div class="line"><a id="l02637" name="l02637"></a><span class="lineno"> 2637</span>    <span class="comment">// snippet_category should be loaded after def.id is determined</span></div>
<div class="line"><a id="l02638" name="l02638"></a><span class="lineno"> 2638</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;snippet_category&quot;</span> ) ) {</div>
<div class="line"><a id="l02639" name="l02639"></a><span class="lineno"> 2639</span>        <span class="comment">// auto-create a category that is unlikely to already be used and put the</span></div>
<div class="line"><a id="l02640" name="l02640"></a><span class="lineno"> 2640</span>        <span class="comment">// snippets in it.</span></div>
<div class="line"><a id="l02641" name="l02641"></a><span class="lineno"> 2641</span>        def.<a class="code hl_variable" href="structitype.html#a0a5d70cf8c883cd69f606eead503f322">snippet_category</a> = <span class="stringliteral">&quot;auto:&quot;</span> + def.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a>.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>();</div>
<div class="line"><a id="l02642" name="l02642"></a><span class="lineno"> 2642</span>        <a class="code hl_variable" href="text__snippets_8cpp.html#ac3fc11c159cd056aa15ad7c0b37b070a">SNIPPET</a>.<a class="code hl_function" href="classsnippet__library.html#a55d727b514e4af846a131fa956763637">add_snippets_from_json</a>( def.<a class="code hl_variable" href="structitype.html#a0a5d70cf8c883cd69f606eead503f322">snippet_category</a>, jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;snippet_category&quot;</span> ) );</div>
<div class="line"><a id="l02643" name="l02643"></a><span class="lineno"> 2643</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02644" name="l02644"></a><span class="lineno"> 2644</span>        def.<a class="code hl_variable" href="structitype.html#a0a5d70cf8c883cd69f606eead503f322">snippet_category</a> = jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;snippet_category&quot;</span>, <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a id="l02645" name="l02645"></a><span class="lineno"> 2645</span>    }</div>
<div class="line"><a id="l02646" name="l02646"></a><span class="lineno"> 2646</span> </div>
<div class="line"><a id="l02647" name="l02647"></a><span class="lineno"> 2647</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;abstract&quot;</span> ) ) {</div>
<div class="line"><a id="l02648" name="l02648"></a><span class="lineno"> 2648</span>        <a class="code hl_variable" href="classItem__factory.html#a78c867f6a9f3fd09db30e3c3e3d4303f">m_abstracts</a>[ def.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a> ] = def;</div>
<div class="line"><a id="l02649" name="l02649"></a><span class="lineno"> 2649</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02650" name="l02650"></a><span class="lineno"> 2650</span>        <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>[ def.<a class="code hl_variable" href="structitype.html#ab018b62882b32eef884f4efd769c0993">id</a> ] = def;</div>
<div class="line"><a id="l02651" name="l02651"></a><span class="lineno"> 2651</span>    }</div>
<div class="line"><a id="l02652" name="l02652"></a><span class="lineno"> 2652</span>}</div>
<div class="line"><a id="l02653" name="l02653"></a><span class="lineno"> 2653</span> </div>
<div class="line"><a id="l02654" name="l02654"></a><span class="lineno"><a class="line" href="classItem__factory.html#af6a176b9f3d6dc48b5ba9cf8d415f754"> 2654</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#af6a176b9f3d6dc48b5ba9cf8d415f754">Item_factory::load_migration</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo )</div>
<div class="line"><a id="l02655" name="l02655"></a><span class="lineno"> 2655</span>{</div>
<div class="line"><a id="l02656" name="l02656"></a><span class="lineno"> 2656</span>    <a class="code hl_class" href="classmigration.html">migration</a> m;</div>
<div class="line"><a id="l02657" name="l02657"></a><span class="lineno"> 2657</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;replace&quot;</span>, m.<a class="code hl_variable" href="classmigration.html#aaf442da2e18d7ebaf62c81c53bc4c6fa">replace</a> );</div>
<div class="line"><a id="l02658" name="l02658"></a><span class="lineno"> 2658</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;flags&quot;</span>, m.<a class="code hl_variable" href="classmigration.html#a5c35db4ea0aebaa6e9a25afff515aca9">flags</a> );</div>
<div class="line"><a id="l02659" name="l02659"></a><span class="lineno"> 2659</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;charges&quot;</span>, m.<a class="code hl_variable" href="classmigration.html#ae36a7ab4c592ed88f6b1b7e61728a48e">charges</a> );</div>
<div class="line"><a id="l02660" name="l02660"></a><span class="lineno"> 2660</span>    <a class="code hl_function" href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a>( jo, <span class="stringliteral">&quot;contents&quot;</span>, m.<a class="code hl_variable" href="classmigration.html#a6bcb17cf9235afca2336fd0126df4400">contents</a> );</div>
<div class="line"><a id="l02661" name="l02661"></a><span class="lineno"> 2661</span> </div>
<div class="line"><a id="l02662" name="l02662"></a><span class="lineno"> 2662</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <span class="stringliteral">&quot;id&quot;</span> ) ) {</div>
<div class="line"><a id="l02663" name="l02663"></a><span class="lineno"> 2663</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;id&quot;</span>, m.<a class="code hl_variable" href="classmigration.html#a54cc839649038a8ade6d36bc989085a1">id</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l02664" name="l02664"></a><span class="lineno"> 2664</span>        <a class="code hl_variable" href="classItem__factory.html#a8453c94f39f6cd4e081a0229a78108af">migrations</a>[ m.<a class="code hl_variable" href="classmigration.html#a54cc839649038a8ade6d36bc989085a1">id</a> ] = m;</div>
<div class="line"><a id="l02665" name="l02665"></a><span class="lineno"> 2665</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;id&quot;</span> ) ) {</div>
<div class="line"><a id="l02666" name="l02666"></a><span class="lineno"> 2666</span>        std::vector&lt;itype_id&gt; ids;</div>
<div class="line"><a id="l02667" name="l02667"></a><span class="lineno"> 2667</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;id&quot;</span>, ids, <span class="keyword">true</span> );</div>
<div class="line"><a id="l02668" name="l02668"></a><span class="lineno"> 2668</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> <span class="keywordtype">id</span> : ids ) {</div>
<div class="line"><a id="l02669" name="l02669"></a><span class="lineno"> 2669</span>            m.<a class="code hl_variable" href="classmigration.html#a54cc839649038a8ade6d36bc989085a1">id</a> = <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>;</div>
<div class="line"><a id="l02670" name="l02670"></a><span class="lineno"> 2670</span>            <a class="code hl_variable" href="classItem__factory.html#a8453c94f39f6cd4e081a0229a78108af">migrations</a>[ m.<a class="code hl_variable" href="classmigration.html#a54cc839649038a8ade6d36bc989085a1">id</a> ] = m;</div>
<div class="line"><a id="l02671" name="l02671"></a><span class="lineno"> 2671</span>        }</div>
<div class="line"><a id="l02672" name="l02672"></a><span class="lineno"> 2672</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02673" name="l02673"></a><span class="lineno"> 2673</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;`id` of `MIGRATION` is neither string nor array&quot;</span> );</div>
<div class="line"><a id="l02674" name="l02674"></a><span class="lineno"> 2674</span>    }</div>
<div class="line"><a id="l02675" name="l02675"></a><span class="lineno"> 2675</span>}</div>
<div class="line"><a id="l02676" name="l02676"></a><span class="lineno"> 2676</span> </div>
<div class="line"><a id="l02677" name="l02677"></a><span class="lineno"><a class="line" href="classItem__factory.html#a145484f308dc79d43ea1b6eff2b4f2cc"> 2677</a></span><a class="code hl_class" href="classstring__id.html">itype_id</a> <a class="code hl_function" href="classItem__factory.html#a145484f308dc79d43ea1b6eff2b4f2cc">Item_factory::migrate_id</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;<span class="keywordtype">id</span> )</div>
<div class="line"><a id="l02678" name="l02678"></a><span class="lineno"> 2678</span>{</div>
<div class="line"><a id="l02679" name="l02679"></a><span class="lineno"> 2679</span>    <span class="keyword">auto</span> iter = <a class="code hl_variable" href="classItem__factory.html#a8453c94f39f6cd4e081a0229a78108af">migrations</a>.find( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l02680" name="l02680"></a><span class="lineno"> 2680</span>    <span class="keywordflow">return</span> iter != <a class="code hl_variable" href="classItem__factory.html#a8453c94f39f6cd4e081a0229a78108af">migrations</a>.end() ? iter-&gt;second.replace : <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>;</div>
<div class="line"><a id="l02681" name="l02681"></a><span class="lineno"> 2681</span>}</div>
<div class="line"><a id="l02682" name="l02682"></a><span class="lineno"> 2682</span> </div>
<div class="line"><a id="l02683" name="l02683"></a><span class="lineno"><a class="line" href="classItem__factory.html#abd06b53e691181b7d01994bb8f498351"> 2683</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#abd06b53e691181b7d01994bb8f498351">Item_factory::migrate_item</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;<span class="keywordtype">id</span>, <a class="code hl_class" href="classitem.html">item</a> &amp;<a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a> )</div>
<div class="line"><a id="l02684" name="l02684"></a><span class="lineno"> 2684</span>{</div>
<div class="line"><a id="l02685" name="l02685"></a><span class="lineno"> 2685</span>    <span class="keyword">auto</span> iter = <a class="code hl_variable" href="classItem__factory.html#a8453c94f39f6cd4e081a0229a78108af">migrations</a>.find( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l02686" name="l02686"></a><span class="lineno"> 2686</span>    <span class="keywordflow">if</span>( iter != <a class="code hl_variable" href="classItem__factory.html#a8453c94f39f6cd4e081a0229a78108af">migrations</a>.end() ) {</div>
<div class="line"><a id="l02687" name="l02687"></a><span class="lineno"> 2687</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string &amp;f : iter-&gt;second.flags ) {</div>
<div class="line"><a id="l02688" name="l02688"></a><span class="lineno"> 2688</span>            obj.<a class="code hl_function" href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">set_flag</a>( f );</div>
<div class="line"><a id="l02689" name="l02689"></a><span class="lineno"> 2689</span>        }</div>
<div class="line"><a id="l02690" name="l02690"></a><span class="lineno"> 2690</span>        <span class="keywordflow">if</span>( iter-&gt;second.charges &gt; 0 ) {</div>
<div class="line"><a id="l02691" name="l02691"></a><span class="lineno"> 2691</span>            obj.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = iter-&gt;second.charges;</div>
<div class="line"><a id="l02692" name="l02692"></a><span class="lineno"> 2692</span>        }</div>
<div class="line"><a id="l02693" name="l02693"></a><span class="lineno"> 2693</span> </div>
<div class="line"><a id="l02694" name="l02694"></a><span class="lineno"> 2694</span>        obj.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a5e997e52152db4538caa749a601c7829">migrate_item</a>( obj, iter-&gt;second.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a> );</div>
<div class="line"><a id="l02695" name="l02695"></a><span class="lineno"> 2695</span> </div>
<div class="line"><a id="l02696" name="l02696"></a><span class="lineno"> 2696</span>        <span class="comment">// check contents of migrated containers do not exceed capacity</span></div>
<div class="line"><a id="l02697" name="l02697"></a><span class="lineno"> 2697</span>        <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() &amp;&amp; !obj.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">empty</a>() ) {</div>
<div class="line"><a id="l02698" name="l02698"></a><span class="lineno"> 2698</span>            <a class="code hl_class" href="classitem.html">item</a> &amp;child = obj.<a class="code hl_variable" href="classitem.html#a4afe851abb42cbff0857065860f96e0e">contents</a>.<a class="code hl_function" href="classitem__contents.html#a064a367d5f7f43b4b17fa67b5e27ccc8">back</a>();</div>
<div class="line"><a id="l02699" name="l02699"></a><span class="lineno"> 2699</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> capacity = child.<a class="code hl_function" href="classitem.html#abc27dc693d588feea7812432929fb5a9">charges_per_volume</a>( obj.<a class="code hl_function" href="classitem.html#acbc651b09ebafad57974d0cfa04b8e5d">get_container_capacity</a>() );</div>
<div class="line"><a id="l02700" name="l02700"></a><span class="lineno"> 2700</span>            child.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = std::min( child.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a>, capacity );</div>
<div class="line"><a id="l02701" name="l02701"></a><span class="lineno"> 2701</span>        }</div>
<div class="line"><a id="l02702" name="l02702"></a><span class="lineno"> 2702</span>    }</div>
<div class="line"><a id="l02703" name="l02703"></a><span class="lineno"> 2703</span>}</div>
<div class="line"><a id="l02704" name="l02704"></a><span class="lineno"> 2704</span> </div>
<div class="line"><a id="l02705" name="l02705"></a><span class="lineno"><a class="line" href="classItem__factory.html#abd13937eb5ca9022bed121004829e4fd"> 2705</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#abd13937eb5ca9022bed121004829e4fd">Item_factory::set_qualities_from_json</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;<a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a>,</div>
<div class="line"><a id="l02706" name="l02706"></a><span class="lineno"> 2706</span>        <a class="code hl_struct" href="structitype.html">itype</a> &amp;def )</div>
<div class="line"><a id="l02707" name="l02707"></a><span class="lineno"> 2707</span>{</div>
<div class="line"><a id="l02708" name="l02708"></a><span class="lineno"> 2708</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> ) ) {</div>
<div class="line"><a id="l02709" name="l02709"></a><span class="lineno"> 2709</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonArray.html">JsonArray</a> curr : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> ) ) {</div>
<div class="line"><a id="l02710" name="l02710"></a><span class="lineno"> 2710</span>            <span class="keyword">const</span> <span class="keyword">auto</span> quali = std::pair&lt;quality_id, int&gt;( <a class="code hl_typedef" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a>( curr.get_string( 0 ) ),</div>
<div class="line"><a id="l02711" name="l02711"></a><span class="lineno"> 2711</span>                               curr.get_int( 1 ) );</div>
<div class="line"><a id="l02712" name="l02712"></a><span class="lineno"> 2712</span>            <span class="keywordflow">if</span>( def.<a class="code hl_variable" href="structitype.html#a88ab4cc3858d8bb86e21cf83d13cc4c0">qualities</a>.count( quali.first ) &gt; 0 ) {</div>
<div class="line"><a id="l02713" name="l02713"></a><span class="lineno"> 2713</span>                curr.throw_error( <span class="stringliteral">&quot;Duplicated quality&quot;</span>, 0 );</div>
<div class="line"><a id="l02714" name="l02714"></a><span class="lineno"> 2714</span>            }</div>
<div class="line"><a id="l02715" name="l02715"></a><span class="lineno"> 2715</span>            def.<a class="code hl_variable" href="structitype.html#a88ab4cc3858d8bb86e21cf83d13cc4c0">qualities</a>.insert( quali );</div>
<div class="line"><a id="l02716" name="l02716"></a><span class="lineno"> 2716</span>        }</div>
<div class="line"><a id="l02717" name="l02717"></a><span class="lineno"> 2717</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02718" name="l02718"></a><span class="lineno"> 2718</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;Qualities list is not an array&quot;</span>, <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> );</div>
<div class="line"><a id="l02719" name="l02719"></a><span class="lineno"> 2719</span>    }</div>
<div class="line"><a id="l02720" name="l02720"></a><span class="lineno"> 2720</span>}</div>
<div class="line"><a id="l02721" name="l02721"></a><span class="lineno"> 2721</span> </div>
<div class="line"><a id="l02722" name="l02722"></a><span class="lineno"><a class="line" href="classItem__factory.html#ac619360e4e3eb14fa8374642b5500965"> 2722</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#ac619360e4e3eb14fa8374642b5500965">Item_factory::extend_qualities_from_json</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;<a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a>,</div>
<div class="line"><a id="l02723" name="l02723"></a><span class="lineno"> 2723</span>        <a class="code hl_struct" href="structitype.html">itype</a> &amp;def )</div>
<div class="line"><a id="l02724" name="l02724"></a><span class="lineno"> 2724</span>{</div>
<div class="line"><a id="l02725" name="l02725"></a><span class="lineno"> 2725</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonArray.html">JsonArray</a> curr : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> ) ) {</div>
<div class="line"><a id="l02726" name="l02726"></a><span class="lineno"> 2726</span>        def.<a class="code hl_variable" href="structitype.html#a88ab4cc3858d8bb86e21cf83d13cc4c0">qualities</a>[<a class="code hl_typedef" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a>( curr.get_string( 0 ) )] = curr.get_int( 1 );</div>
<div class="line"><a id="l02727" name="l02727"></a><span class="lineno"> 2727</span>    }</div>
<div class="line"><a id="l02728" name="l02728"></a><span class="lineno"> 2728</span>}</div>
<div class="line"><a id="l02729" name="l02729"></a><span class="lineno"> 2729</span> </div>
<div class="line"><a id="l02730" name="l02730"></a><span class="lineno"><a class="line" href="classItem__factory.html#a76b46768155780dca9f2a872e75fddea"> 2730</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a76b46768155780dca9f2a872e75fddea">Item_factory::delete_qualities_from_json</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;<a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a>,</div>
<div class="line"><a id="l02731" name="l02731"></a><span class="lineno"> 2731</span>        <a class="code hl_struct" href="structitype.html">itype</a> &amp;def )</div>
<div class="line"><a id="l02732" name="l02732"></a><span class="lineno"> 2732</span>{</div>
<div class="line"><a id="l02733" name="l02733"></a><span class="lineno"> 2733</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonArray.html">JsonArray</a> curr : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> ) ) {</div>
<div class="line"><a id="l02734" name="l02734"></a><span class="lineno"> 2734</span>        <span class="keyword">const</span> <span class="keyword">auto</span> iter = def.<a class="code hl_variable" href="structitype.html#a88ab4cc3858d8bb86e21cf83d13cc4c0">qualities</a>.find( <a class="code hl_typedef" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a>( curr.get_string( 0 ) ) );</div>
<div class="line"><a id="l02735" name="l02735"></a><span class="lineno"> 2735</span>        <span class="keywordflow">if</span>( iter != def.<a class="code hl_variable" href="structitype.html#a88ab4cc3858d8bb86e21cf83d13cc4c0">qualities</a>.end() &amp;&amp; iter-&gt;second == curr.get_int( 1 ) ) {</div>
<div class="line"><a id="l02736" name="l02736"></a><span class="lineno"> 2736</span>            def.<a class="code hl_variable" href="structitype.html#a88ab4cc3858d8bb86e21cf83d13cc4c0">qualities</a>.erase( iter );</div>
<div class="line"><a id="l02737" name="l02737"></a><span class="lineno"> 2737</span>        }</div>
<div class="line"><a id="l02738" name="l02738"></a><span class="lineno"> 2738</span>    }</div>
<div class="line"><a id="l02739" name="l02739"></a><span class="lineno"> 2739</span>}</div>
<div class="line"><a id="l02740" name="l02740"></a><span class="lineno"> 2740</span> </div>
<div class="line"><a id="l02741" name="l02741"></a><span class="lineno"><a class="line" href="classItem__factory.html#a36d00fe876facfc0a24280fa1a326772"> 2741</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a36d00fe876facfc0a24280fa1a326772">Item_factory::set_properties_from_json</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;<a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a>,</div>
<div class="line"><a id="l02742" name="l02742"></a><span class="lineno"> 2742</span>        <a class="code hl_struct" href="structitype.html">itype</a> &amp;def )</div>
<div class="line"><a id="l02743" name="l02743"></a><span class="lineno"> 2743</span>{</div>
<div class="line"><a id="l02744" name="l02744"></a><span class="lineno"> 2744</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> ) ) {</div>
<div class="line"><a id="l02745" name="l02745"></a><span class="lineno"> 2745</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonArray.html">JsonArray</a> curr : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> ) ) {</div>
<div class="line"><a id="l02746" name="l02746"></a><span class="lineno"> 2746</span>            <span class="keyword">const</span> <span class="keyword">auto</span> prop = std::pair&lt;std::string, std::string&gt;( curr.get_string( 0 ), curr.get_string( 1 ) );</div>
<div class="line"><a id="l02747" name="l02747"></a><span class="lineno"> 2747</span>            <span class="keywordflow">if</span>( def.<a class="code hl_variable" href="structitype.html#ada64ca1e7937118bb822cd9b0ea83497">properties</a>.count( prop.first ) &gt; 0 ) {</div>
<div class="line"><a id="l02748" name="l02748"></a><span class="lineno"> 2748</span>                curr.throw_error( <span class="stringliteral">&quot;Duplicated property&quot;</span>, 0 );</div>
<div class="line"><a id="l02749" name="l02749"></a><span class="lineno"> 2749</span>            }</div>
<div class="line"><a id="l02750" name="l02750"></a><span class="lineno"> 2750</span>            def.<a class="code hl_variable" href="structitype.html#ada64ca1e7937118bb822cd9b0ea83497">properties</a>.insert( prop );</div>
<div class="line"><a id="l02751" name="l02751"></a><span class="lineno"> 2751</span>        }</div>
<div class="line"><a id="l02752" name="l02752"></a><span class="lineno"> 2752</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02753" name="l02753"></a><span class="lineno"> 2753</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;Properties list is not an array&quot;</span>, <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> );</div>
<div class="line"><a id="l02754" name="l02754"></a><span class="lineno"> 2754</span>    }</div>
<div class="line"><a id="l02755" name="l02755"></a><span class="lineno"> 2755</span>}</div>
<div class="line"><a id="l02756" name="l02756"></a><span class="lineno"> 2756</span> </div>
<div class="line"><a id="l02757" name="l02757"></a><span class="lineno"><a class="line" href="classItem__factory.html#a301f489c5195fee4690db8f40ae42170"> 2757</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a301f489c5195fee4690db8f40ae42170">Item_factory::reset</a>()</div>
<div class="line"><a id="l02758" name="l02758"></a><span class="lineno"> 2758</span>{</div>
<div class="line"><a id="l02759" name="l02759"></a><span class="lineno"> 2759</span>    <a class="code hl_function" href="classItem__factory.html#a8de179e11040e0fa2d66ad9c8a5c9fd5">clear</a>();</div>
<div class="line"><a id="l02760" name="l02760"></a><span class="lineno"> 2760</span>    <a class="code hl_function" href="classItem__factory.html#af73e102368fa0e54940e7ccd69b8c6d7">init</a>();</div>
<div class="line"><a id="l02761" name="l02761"></a><span class="lineno"> 2761</span>}</div>
<div class="line"><a id="l02762" name="l02762"></a><span class="lineno"> 2762</span> </div>
<div class="line"><a id="l02763" name="l02763"></a><span class="lineno"><a class="line" href="classItem__factory.html#a8de179e11040e0fa2d66ad9c8a5c9fd5"> 2763</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a8de179e11040e0fa2d66ad9c8a5c9fd5">Item_factory::clear</a>()</div>
<div class="line"><a id="l02764" name="l02764"></a><span class="lineno"> 2764</span>{</div>
<div class="line"><a id="l02765" name="l02765"></a><span class="lineno"> 2765</span>    <a class="code hl_variable" href="classItem__factory.html#ab8879bd7c6bf52cc867d21e003773171">iuse_function_list</a>.clear();</div>
<div class="line"><a id="l02766" name="l02766"></a><span class="lineno"> 2766</span> </div>
<div class="line"><a id="l02767" name="l02767"></a><span class="lineno"> 2767</span>    <a class="code hl_variable" href="item__factory_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a>.clear();</div>
<div class="line"><a id="l02768" name="l02768"></a><span class="lineno"> 2768</span>    <a class="code hl_variable" href="classItem__factory.html#a78c867f6a9f3fd09db30e3c3e3d4303f">m_abstracts</a>.clear();</div>
<div class="line"><a id="l02769" name="l02769"></a><span class="lineno"> 2769</span>    <a class="code hl_variable" href="classItem__factory.html#aeadd69bbf3c9c3aca9ba3c5b1d36765d">m_runtimes</a>.clear();</div>
<div class="line"><a id="l02770" name="l02770"></a><span class="lineno"> 2770</span>    <a class="code hl_variable" href="classItem__factory.html#a1aec789abd53810026e0d878c0069aea">m_template_groups</a>.clear();</div>
<div class="line"><a id="l02771" name="l02771"></a><span class="lineno"> 2771</span>    <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.clear();</div>
<div class="line"><a id="l02772" name="l02772"></a><span class="lineno"> 2772</span> </div>
<div class="line"><a id="l02773" name="l02773"></a><span class="lineno"> 2773</span>    <a class="code hl_variable" href="classItem__factory.html#aad85da896b2ec191e4514e6d03ce74ef">gun_tools</a>.clear();</div>
<div class="line"><a id="l02774" name="l02774"></a><span class="lineno"> 2774</span>    <a class="code hl_variable" href="classItem__factory.html#acbc793301935e25dc30818dd974281b7">repair_actions</a>.clear();</div>
<div class="line"><a id="l02775" name="l02775"></a><span class="lineno"> 2775</span>    <a class="code hl_variable" href="classItem__factory.html#af052340e46eca62bd496455f9b345ed5">repair_tools</a>.clear();</div>
<div class="line"><a id="l02776" name="l02776"></a><span class="lineno"> 2776</span>    <a class="code hl_variable" href="classItem__factory.html#a884f46fe503c5e21917b3cb098383c99">tool_subtypes</a>.clear();</div>
<div class="line"><a id="l02777" name="l02777"></a><span class="lineno"> 2777</span> </div>
<div class="line"><a id="l02778" name="l02778"></a><span class="lineno"> 2778</span>    <a class="code hl_variable" href="item__factory_8cpp.html#a112454b48fbc4eb47cb271e5ab79e23f">item_blacklist</a>.clear();</div>
<div class="line"><a id="l02779" name="l02779"></a><span class="lineno"> 2779</span>    <a class="code hl_variable" href="classItem__factory.html#ac58203a04bf0d221f64ec46d6d82b96e">migrated_ammo</a>.clear();</div>
<div class="line"><a id="l02780" name="l02780"></a><span class="lineno"> 2780</span>    <a class="code hl_variable" href="classItem__factory.html#a777b712b7a0b03c6e0ad239ad29d7094">migrated_magazines</a>.clear();</div>
<div class="line"><a id="l02781" name="l02781"></a><span class="lineno"> 2781</span>    <a class="code hl_variable" href="classItem__factory.html#a8453c94f39f6cd4e081a0229a78108af">migrations</a>.clear();</div>
<div class="line"><a id="l02782" name="l02782"></a><span class="lineno"> 2782</span> </div>
<div class="line"><a id="l02783" name="l02783"></a><span class="lineno"> 2783</span>    <a class="code hl_variable" href="classItem__factory.html#a505d771e637afa6c26124010e3c561cf">frozen</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02784" name="l02784"></a><span class="lineno"> 2784</span>}</div>
<div class="line"><a id="l02785" name="l02785"></a><span class="lineno"> 2785</span> </div>
<div class="line"><a id="l02786" name="l02786"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#ae98d0f25e1999f011e4a584df52f401d"> 2786</a></span><span class="keyword">static</span> std::string <a class="code hl_function" href="item__factory_8cpp.html#ae98d0f25e1999f011e4a584df52f401d">to_string</a>( <a class="code hl_enumeration" href="classItem__group.html#ae51de1ef43540d3d8671f68faaa88ea0">Item_group::Type</a> t )</div>
<div class="line"><a id="l02787" name="l02787"></a><span class="lineno"> 2787</span>{</div>
<div class="line"><a id="l02788" name="l02788"></a><span class="lineno"> 2788</span>    <span class="keywordflow">switch</span>( t ) {</div>
<div class="line"><a id="l02789" name="l02789"></a><span class="lineno"> 2789</span>        <span class="keywordflow">case</span> Item_group::Type::G_COLLECTION:</div>
<div class="line"><a id="l02790" name="l02790"></a><span class="lineno"> 2790</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;collection&quot;</span>;</div>
<div class="line"><a id="l02791" name="l02791"></a><span class="lineno"> 2791</span>        <span class="keywordflow">case</span> Item_group::Type::G_DISTRIBUTION:</div>
<div class="line"><a id="l02792" name="l02792"></a><span class="lineno"> 2792</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;distribution&quot;</span>;</div>
<div class="line"><a id="l02793" name="l02793"></a><span class="lineno"> 2793</span>    }</div>
<div class="line"><a id="l02794" name="l02794"></a><span class="lineno"> 2794</span> </div>
<div class="line"><a id="l02795" name="l02795"></a><span class="lineno"> 2795</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;BUGGED&quot;</span>;</div>
<div class="line"><a id="l02796" name="l02796"></a><span class="lineno"> 2796</span>}</div>
<div class="line"><a id="l02797" name="l02797"></a><span class="lineno"> 2797</span> </div>
<div class="line"><a id="l02798" name="l02798"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#a356c60d571b20148e3b3c8f6bbf1f5cc"> 2798</a></span><span class="keyword">static</span> <a class="code hl_class" href="classItem__group.html">Item_group</a> *<a class="code hl_function" href="item__factory_8cpp.html#a356c60d571b20148e3b3c8f6bbf1f5cc">make_group_or_throw</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">item_group_id</a> &amp;<a class="code hl_typedef" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a>,</div>
<div class="line"><a id="l02799" name="l02799"></a><span class="lineno"> 2799</span>                                        std::unique_ptr&lt;Item_spawn_data&gt; &amp;isd,</div>
<div class="line"><a id="l02800" name="l02800"></a><span class="lineno"> 2800</span>                                        <a class="code hl_enumeration" href="classItem__group.html#ae51de1ef43540d3d8671f68faaa88ea0">Item_group::Type</a> t, <span class="keywordtype">int</span> ammo_chance, <span class="keywordtype">int</span> magazine_chance )</div>
<div class="line"><a id="l02801" name="l02801"></a><span class="lineno"> 2801</span>{</div>
<div class="line"><a id="l02802" name="l02802"></a><span class="lineno"> 2802</span>    <a class="code hl_class" href="classItem__group.html">Item_group</a> *ig = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classItem__group.html">Item_group</a> *<span class="keyword">&gt;</span>( isd.get() );</div>
<div class="line"><a id="l02803" name="l02803"></a><span class="lineno"> 2803</span>    <span class="keywordflow">if</span>( ig == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l02804" name="l02804"></a><span class="lineno"> 2804</span>        isd.reset( ig = <span class="keyword">new</span> <a class="code hl_class" href="classItem__group.html">Item_group</a>( t, 100, ammo_chance, magazine_chance ) );</div>
<div class="line"><a id="l02805" name="l02805"></a><span class="lineno"> 2805</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ig-&gt;<a class="code hl_variable" href="classItem__group.html#a3a1bbf94696c51af4bcfcb1f56619600">type</a> != t ) {</div>
<div class="line"><a id="l02806" name="l02806"></a><span class="lineno"> 2806</span>        <span class="keywordflow">throw</span> std::runtime_error( <span class="stringliteral">&quot;item group \&quot;&quot;</span> + <a class="code hl_typedef" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a>.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() + <span class="stringliteral">&quot;\&quot; already defined with type \&quot;&quot;</span> +</div>
<div class="line"><a id="l02807" name="l02807"></a><span class="lineno"> 2807</span>                                  <a class="code hl_function" href="item__factory_8cpp.html#ae98d0f25e1999f011e4a584df52f401d">to_string</a>( ig-&gt;<a class="code hl_variable" href="classItem__group.html#a3a1bbf94696c51af4bcfcb1f56619600">type</a> ) + <span class="stringliteral">&quot;\&quot;&quot;</span> );</div>
<div class="line"><a id="l02808" name="l02808"></a><span class="lineno"> 2808</span>    }</div>
<div class="line"><a id="l02809" name="l02809"></a><span class="lineno"> 2809</span>    <span class="keywordflow">return</span> ig;</div>
<div class="line"><a id="l02810" name="l02810"></a><span class="lineno"> 2810</span>}</div>
<div class="line"><a id="l02811" name="l02811"></a><span class="lineno"> 2811</span> </div>
<div class="line"><a id="l02812" name="l02812"></a><span class="lineno"> 2812</span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l02813" name="l02813"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#ad98ce0506dfd02682ad8dfc72c6d97f7"> 2813</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="item__factory_8cpp.html#ad98ce0506dfd02682ad8dfc72c6d97f7">load_min_max</a>( std::pair&lt;T, T&gt; &amp;pa, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;<a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>, <span class="keyword">const</span> std::string &amp;<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> )</div>
<div class="line"><a id="l02814" name="l02814"></a><span class="lineno"> 2814</span>{</div>
<div class="line"><a id="l02815" name="l02815"></a><span class="lineno"> 2815</span>    <span class="keywordtype">bool</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02816" name="l02816"></a><span class="lineno"> 2816</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.has_array( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> ) ) {</div>
<div class="line"><a id="l02817" name="l02817"></a><span class="lineno"> 2817</span>        <span class="comment">// An array means first is min, second entry is max. Both are mandatory.</span></div>
<div class="line"><a id="l02818" name="l02818"></a><span class="lineno"> 2818</span>        <a class="code hl_class" href="classJsonArray.html">JsonArray</a> arr = <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.get_array( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> );</div>
<div class="line"><a id="l02819" name="l02819"></a><span class="lineno"> 2819</span>        <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> |= arr.<a class="code hl_function" href="classJsonArray.html#a513b7a4eb1438938d9806d9446d90803">read_next</a>( pa.first );</div>
<div class="line"><a id="l02820" name="l02820"></a><span class="lineno"> 2820</span>        <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> |= arr.<a class="code hl_function" href="classJsonArray.html#a513b7a4eb1438938d9806d9446d90803">read_next</a>( pa.second );</div>
<div class="line"><a id="l02821" name="l02821"></a><span class="lineno"> 2821</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02822" name="l02822"></a><span class="lineno"> 2822</span>        <span class="comment">// Not an array, should be a single numeric value, which is set as min and max.</span></div>
<div class="line"><a id="l02823" name="l02823"></a><span class="lineno"> 2823</span>        <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> |= <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.read( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>, pa.first );</div>
<div class="line"><a id="l02824" name="l02824"></a><span class="lineno"> 2824</span>        <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> |= <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.read( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>, pa.second );</div>
<div class="line"><a id="l02825" name="l02825"></a><span class="lineno"> 2825</span>    }</div>
<div class="line"><a id="l02826" name="l02826"></a><span class="lineno"> 2826</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> |= <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.read( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> + <span class="stringliteral">&quot;-min&quot;</span>, pa.first );</div>
<div class="line"><a id="l02827" name="l02827"></a><span class="lineno"> 2827</span>    <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> |= <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.read( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> + <span class="stringliteral">&quot;-max&quot;</span>, pa.second );</div>
<div class="line"><a id="l02828" name="l02828"></a><span class="lineno"> 2828</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l02829" name="l02829"></a><span class="lineno"> 2829</span>}</div>
<div class="line"><a id="l02830" name="l02830"></a><span class="lineno"> 2830</span> </div>
<div class="line"><a id="l02831" name="l02831"></a><span class="lineno"><a class="line" href="classItem__factory.html#aa41ab9d10965da89dfd956fe97586570"> 2831</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classItem__factory.html#aa41ab9d10965da89dfd956fe97586570">Item_factory::load_sub_ref</a>( std::unique_ptr&lt;Item_spawn_data&gt; &amp;<a class="code hl_function" href="fmtlib__format_8h.html#a36b7e236fa4242d8655b508bbebb697f">ptr</a>, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;<a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>,</div>
<div class="line"><a id="l02832" name="l02832"></a><span class="lineno"> 2832</span>                                 <span class="keyword">const</span> std::string &amp;<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>, <span class="keyword">const</span> <a class="code hl_class" href="classItem__group.html">Item_group</a> &amp;parent )</div>
<div class="line"><a id="l02833" name="l02833"></a><span class="lineno"> 2833</span>{</div>
<div class="line"><a id="l02834" name="l02834"></a><span class="lineno"> 2834</span>    <span class="keyword">const</span> std::string iname( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> + <span class="stringliteral">&quot;-item&quot;</span> );</div>
<div class="line"><a id="l02835" name="l02835"></a><span class="lineno"> 2835</span>    <span class="keyword">const</span> std::string gname( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> + <span class="stringliteral">&quot;-group&quot;</span> );</div>
<div class="line"><a id="l02836" name="l02836"></a><span class="lineno"> 2836</span>    std::vector&lt; std::pair&lt;const std::string, bool&gt; &gt;</div>
<div class="line"><a id="l02837" name="l02837"></a><span class="lineno"> 2837</span>    entries; <span class="comment">// pair.second is true for groups, false for items</span></div>
<div class="line"><a id="l02838" name="l02838"></a><span class="lineno"> 2838</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> prob = 100;</div>
<div class="line"><a id="l02839" name="l02839"></a><span class="lineno"> 2839</span> </div>
<div class="line"><a id="l02840" name="l02840"></a><span class="lineno"> 2840</span>    <span class="keyword">auto</span> get_array = [&amp;obj, &amp;<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>, &amp;entries]( <span class="keyword">const</span> std::string &amp; arr_name, <span class="keyword">const</span> <span class="keywordtype">bool</span> isgroup ) {</div>
<div class="line"><a id="l02841" name="l02841"></a><span class="lineno"> 2841</span>        <span class="keywordflow">if</span>( !obj.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( arr_name ) ) {</div>
<div class="line"><a id="l02842" name="l02842"></a><span class="lineno"> 2842</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02843" name="l02843"></a><span class="lineno"> 2843</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> != <span class="stringliteral">&quot;contents&quot;</span> ) {</div>
<div class="line"><a id="l02844" name="l02844"></a><span class="lineno"> 2844</span>            obj.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;You can&#39;t use an array for &#39;%s&#39;&quot;</span>, arr_name ) );</div>
<div class="line"><a id="l02845" name="l02845"></a><span class="lineno"> 2845</span>        }</div>
<div class="line"><a id="l02846" name="l02846"></a><span class="lineno"> 2846</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> : obj.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( arr_name ) ) {</div>
<div class="line"><a id="l02847" name="l02847"></a><span class="lineno"> 2847</span>            entries.emplace_back( <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a>, isgroup );</div>
<div class="line"><a id="l02848" name="l02848"></a><span class="lineno"> 2848</span>        }</div>
<div class="line"><a id="l02849" name="l02849"></a><span class="lineno"> 2849</span>    };</div>
<div class="line"><a id="l02850" name="l02850"></a><span class="lineno"> 2850</span>    get_array( iname, <span class="keyword">false</span> );</div>
<div class="line"><a id="l02851" name="l02851"></a><span class="lineno"> 2851</span>    get_array( gname, <span class="keyword">true</span> );</div>
<div class="line"><a id="l02852" name="l02852"></a><span class="lineno"> 2852</span> </div>
<div class="line"><a id="l02853" name="l02853"></a><span class="lineno"> 2853</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> ) ) {</div>
<div class="line"><a id="l02854" name="l02854"></a><span class="lineno"> 2854</span>        obj.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;This has been a TODO: since 2014.  Use &#39;%s&#39; and/or &#39;%s&#39; instead.&quot;</span>,</div>
<div class="line"><a id="l02855" name="l02855"></a><span class="lineno"> 2855</span>                                        iname, gname ) );</div>
<div class="line"><a id="l02856" name="l02856"></a><span class="lineno"> 2856</span>        <span class="comment">// TODO: !</span></div>
<div class="line"><a id="l02857" name="l02857"></a><span class="lineno"> 2857</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02858" name="l02858"></a><span class="lineno"> 2858</span>    }</div>
<div class="line"><a id="l02859" name="l02859"></a><span class="lineno"> 2859</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( iname ) ) {</div>
<div class="line"><a id="l02860" name="l02860"></a><span class="lineno"> 2860</span>        entries.push_back( std::make_pair( obj.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( iname ), <span class="keyword">false</span> ) );</div>
<div class="line"><a id="l02861" name="l02861"></a><span class="lineno"> 2861</span>    }</div>
<div class="line"><a id="l02862" name="l02862"></a><span class="lineno"> 2862</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( gname ) ) {</div>
<div class="line"><a id="l02863" name="l02863"></a><span class="lineno"> 2863</span>        entries.push_back( std::make_pair( obj.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( gname ), <span class="keyword">true</span> ) );</div>
<div class="line"><a id="l02864" name="l02864"></a><span class="lineno"> 2864</span>    }</div>
<div class="line"><a id="l02865" name="l02865"></a><span class="lineno"> 2865</span> </div>
<div class="line"><a id="l02866" name="l02866"></a><span class="lineno"> 2866</span>    <span class="keywordflow">if</span>( entries.size() &gt; 1 &amp;&amp; <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> != <span class="stringliteral">&quot;contents&quot;</span> ) {</div>
<div class="line"><a id="l02867" name="l02867"></a><span class="lineno"> 2867</span>        obj.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;You can only use one of &#39;%s&#39; and &#39;%s&#39;&quot;</span>, iname, gname ) );</div>
<div class="line"><a id="l02868" name="l02868"></a><span class="lineno"> 2868</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02869" name="l02869"></a><span class="lineno"> 2869</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( entries.size() == 1 ) {</div>
<div class="line"><a id="l02870" name="l02870"></a><span class="lineno"> 2870</span>        <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = entries.front().second ? Single_item_creator::Type::S_ITEM_GROUP :</div>
<div class="line"><a id="l02871" name="l02871"></a><span class="lineno"> 2871</span>                          Single_item_creator::Type::S_ITEM;</div>
<div class="line"><a id="l02872" name="l02872"></a><span class="lineno"> 2872</span>        <a class="code hl_class" href="classSingle__item__creator.html">Single_item_creator</a> *<a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <span class="keyword">new</span> <a class="code hl_class" href="classSingle__item__creator.html">Single_item_creator</a>( entries.front().first, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, prob );</div>
<div class="line"><a id="l02873" name="l02873"></a><span class="lineno"> 2873</span>        <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;inherit_ammo_mag_chances( parent.<a class="code hl_variable" href="classItem__group.html#ad7abcff1b113168d2050f50ff7215d47">with_ammo</a>, parent.<a class="code hl_variable" href="classItem__group.html#a1e517bd3c204c8b302a902762b71c92c">with_magazine</a> );</div>
<div class="line"><a id="l02874" name="l02874"></a><span class="lineno"> 2874</span>        <a class="code hl_function" href="fmtlib__format_8h.html#a36b7e236fa4242d8655b508bbebb697f">ptr</a>.reset( <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> );</div>
<div class="line"><a id="l02875" name="l02875"></a><span class="lineno"> 2875</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02876" name="l02876"></a><span class="lineno"> 2876</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( entries.empty() ) {</div>
<div class="line"><a id="l02877" name="l02877"></a><span class="lineno"> 2877</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02878" name="l02878"></a><span class="lineno"> 2878</span>    }</div>
<div class="line"><a id="l02879" name="l02879"></a><span class="lineno"> 2879</span>    <a class="code hl_class" href="classItem__group.html">Item_group</a> *<a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <span class="keyword">new</span> <a class="code hl_class" href="classItem__group.html">Item_group</a>( Item_group::Type::G_COLLECTION, prob, parent.<a class="code hl_variable" href="classItem__group.html#ad7abcff1b113168d2050f50ff7215d47">with_ammo</a>,</div>
<div class="line"><a id="l02880" name="l02880"></a><span class="lineno"> 2880</span>                                         parent.<a class="code hl_variable" href="classItem__group.html#a1e517bd3c204c8b302a902762b71c92c">with_magazine</a> );</div>
<div class="line"><a id="l02881" name="l02881"></a><span class="lineno"> 2881</span>    <a class="code hl_function" href="fmtlib__format_8h.html#a36b7e236fa4242d8655b508bbebb697f">ptr</a>.reset( <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> );</div>
<div class="line"><a id="l02882" name="l02882"></a><span class="lineno"> 2882</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : entries ) {</div>
<div class="line"><a id="l02883" name="l02883"></a><span class="lineno"> 2883</span>        <span class="keywordflow">if</span>( elem.second ) {</div>
<div class="line"><a id="l02884" name="l02884"></a><span class="lineno"> 2884</span>            <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;add_group_entry( <a class="code hl_typedef" href="type__id_8h.html#ab297382ed4c098c03ee2b8d70cd8e483">item_group_id</a>( elem.first ), prob );</div>
<div class="line"><a id="l02885" name="l02885"></a><span class="lineno"> 2885</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02886" name="l02886"></a><span class="lineno"> 2886</span>            <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>-&gt;add_item_entry( <a class="code hl_variable" href="classItem__factory.html#af00b5574c94f15a4fec4fb91de966594">itype_id</a>( elem.first ), prob );</div>
<div class="line"><a id="l02887" name="l02887"></a><span class="lineno"> 2887</span>        }</div>
<div class="line"><a id="l02888" name="l02888"></a><span class="lineno"> 2888</span>    }</div>
<div class="line"><a id="l02889" name="l02889"></a><span class="lineno"> 2889</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02890" name="l02890"></a><span class="lineno"> 2890</span>}</div>
<div class="line"><a id="l02891" name="l02891"></a><span class="lineno"> 2891</span> </div>
<div class="line"><a id="l02892" name="l02892"></a><span class="lineno"><a class="line" href="classItem__factory.html#a5d7cc0f3baf766f9cc990a6fe1d87553"> 2892</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classItem__factory.html#a5d7cc0f3baf766f9cc990a6fe1d87553">Item_factory::load_string</a>( std::vector&lt;std::string&gt; &amp;vec, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;<a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>,</div>
<div class="line"><a id="l02893" name="l02893"></a><span class="lineno"> 2893</span>                                <span class="keyword">const</span> std::string &amp;<a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> )</div>
<div class="line"><a id="l02894" name="l02894"></a><span class="lineno"> 2894</span>{</div>
<div class="line"><a id="l02895" name="l02895"></a><span class="lineno"> 2895</span>    <span class="keywordtype">bool</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02896" name="l02896"></a><span class="lineno"> 2896</span>    std::string temp;</div>
<div class="line"><a id="l02897" name="l02897"></a><span class="lineno"> 2897</span> </div>
<div class="line"><a id="l02898" name="l02898"></a><span class="lineno"> 2898</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> ) ) {</div>
<div class="line"><a id="l02899" name="l02899"></a><span class="lineno"> 2899</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::string <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> : obj.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> ) ) {</div>
<div class="line"><a id="l02900" name="l02900"></a><span class="lineno"> 2900</span>            <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> |= <span class="keyword">true</span>;</div>
<div class="line"><a id="l02901" name="l02901"></a><span class="lineno"> 2901</span>            vec.push_back( <a class="code hl_function" href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a> );</div>
<div class="line"><a id="l02902" name="l02902"></a><span class="lineno"> 2902</span>        }</div>
<div class="line"><a id="l02903" name="l02903"></a><span class="lineno"> 2903</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a> ) ) {</div>
<div class="line"><a id="l02904" name="l02904"></a><span class="lineno"> 2904</span>        <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a> |= obj.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>, temp );</div>
<div class="line"><a id="l02905" name="l02905"></a><span class="lineno"> 2905</span>        vec.push_back( temp );</div>
<div class="line"><a id="l02906" name="l02906"></a><span class="lineno"> 2906</span>    }</div>
<div class="line"><a id="l02907" name="l02907"></a><span class="lineno"> 2907</span> </div>
<div class="line"><a id="l02908" name="l02908"></a><span class="lineno"> 2908</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l02909" name="l02909"></a><span class="lineno"> 2909</span>}</div>
<div class="line"><a id="l02910" name="l02910"></a><span class="lineno"> 2910</span> </div>
<div class="line"><a id="l02911" name="l02911"></a><span class="lineno"><a class="line" href="classItem__factory.html#aefd91edb7e8066d7fa9ca292d83d3309"> 2911</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#aefd91edb7e8066d7fa9ca292d83d3309">Item_factory::add_entry</a>( <a class="code hl_class" href="classItem__group.html">Item_group</a> &amp;ig, <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;<a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a> )</div>
<div class="line"><a id="l02912" name="l02912"></a><span class="lineno"> 2912</span>{</div>
<div class="line"><a id="l02913" name="l02913"></a><span class="lineno"> 2913</span>    std::unique_ptr&lt;Item_group&gt; gptr;</div>
<div class="line"><a id="l02914" name="l02914"></a><span class="lineno"> 2914</span>    <span class="keywordtype">int</span> <a class="code hl_typedef" href="namespaceunits.html#a9389a1cd90e210edaa722e6cfb1f880d">probability</a> = obj.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;prob&quot;</span>, 100 );</div>
<div class="line"><a id="l02915" name="l02915"></a><span class="lineno"> 2915</span>    <a class="code hl_class" href="classJsonArray.html">JsonArray</a> jarr;</div>
<div class="line"><a id="l02916" name="l02916"></a><span class="lineno"> 2916</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;collection&quot;</span> ) ) {</div>
<div class="line"><a id="l02917" name="l02917"></a><span class="lineno"> 2917</span>        gptr = std::make_unique&lt;Item_group&gt;( <a class="code hl_enumvalue" href="classItem__group.html#ae51de1ef43540d3d8671f68faaa88ea0a876684fee2fb3551378e4fcea7a3757d">Item_group::G_COLLECTION</a>, <a class="code hl_typedef" href="namespaceunits.html#a9389a1cd90e210edaa722e6cfb1f880d">probability</a>, ig.<a class="code hl_variable" href="classItem__group.html#ad7abcff1b113168d2050f50ff7215d47">with_ammo</a>,</div>
<div class="line"><a id="l02918" name="l02918"></a><span class="lineno"> 2918</span>                                             ig.<a class="code hl_variable" href="classItem__group.html#a1e517bd3c204c8b302a902762b71c92c">with_magazine</a> );</div>
<div class="line"><a id="l02919" name="l02919"></a><span class="lineno"> 2919</span>        jarr = obj.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;collection&quot;</span> );</div>
<div class="line"><a id="l02920" name="l02920"></a><span class="lineno"> 2920</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;distribution&quot;</span> ) ) {</div>
<div class="line"><a id="l02921" name="l02921"></a><span class="lineno"> 2921</span>        gptr = std::make_unique&lt;Item_group&gt;( <a class="code hl_enumvalue" href="classItem__group.html#ae51de1ef43540d3d8671f68faaa88ea0a17cdc67b4430f8aecea238b1930a237c">Item_group::G_DISTRIBUTION</a>, <a class="code hl_typedef" href="namespaceunits.html#a9389a1cd90e210edaa722e6cfb1f880d">probability</a>, ig.<a class="code hl_variable" href="classItem__group.html#ad7abcff1b113168d2050f50ff7215d47">with_ammo</a>,</div>
<div class="line"><a id="l02922" name="l02922"></a><span class="lineno"> 2922</span>                                             ig.<a class="code hl_variable" href="classItem__group.html#a1e517bd3c204c8b302a902762b71c92c">with_magazine</a> );</div>
<div class="line"><a id="l02923" name="l02923"></a><span class="lineno"> 2923</span>        jarr = obj.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;distribution&quot;</span> );</div>
<div class="line"><a id="l02924" name="l02924"></a><span class="lineno"> 2924</span>    }</div>
<div class="line"><a id="l02925" name="l02925"></a><span class="lineno"> 2925</span>    <span class="keywordflow">if</span>( gptr ) {</div>
<div class="line"><a id="l02926" name="l02926"></a><span class="lineno"> 2926</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> job2 : jarr ) {</div>
<div class="line"><a id="l02927" name="l02927"></a><span class="lineno"> 2927</span>            <a class="code hl_function" href="classItem__factory.html#aefd91edb7e8066d7fa9ca292d83d3309">add_entry</a>( *gptr, job2 );</div>
<div class="line"><a id="l02928" name="l02928"></a><span class="lineno"> 2928</span>        }</div>
<div class="line"><a id="l02929" name="l02929"></a><span class="lineno"> 2929</span>        ig.<a class="code hl_function" href="classItem__group.html#a965bd73c404d73be5951fdcc919f4ce4">add_entry</a>( <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( gptr ) );</div>
<div class="line"><a id="l02930" name="l02930"></a><span class="lineno"> 2930</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02931" name="l02931"></a><span class="lineno"> 2931</span>    }</div>
<div class="line"><a id="l02932" name="l02932"></a><span class="lineno"> 2932</span> </div>
<div class="line"><a id="l02933" name="l02933"></a><span class="lineno"> 2933</span>    std::unique_ptr&lt;Single_item_creator&gt; sptr;</div>
<div class="line"><a id="l02934" name="l02934"></a><span class="lineno"> 2934</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;item&quot;</span> ) ) {</div>
<div class="line"><a id="l02935" name="l02935"></a><span class="lineno"> 2935</span>        sptr = std::make_unique&lt;Single_item_creator&gt;(</div>
<div class="line"><a id="l02936" name="l02936"></a><span class="lineno"> 2936</span>                   obj.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;item&quot;</span> ), <a class="code hl_enumvalue" href="classSingle__item__creator.html#aee007d93bc2db77d2035c62fa80369f4ad5f29c3eb32ab68f2eaa1e5914a05e26">Single_item_creator::S_ITEM</a>, <a class="code hl_typedef" href="namespaceunits.html#a9389a1cd90e210edaa722e6cfb1f880d">probability</a> );</div>
<div class="line"><a id="l02937" name="l02937"></a><span class="lineno"> 2937</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;group&quot;</span> ) ) {</div>
<div class="line"><a id="l02938" name="l02938"></a><span class="lineno"> 2938</span>        sptr = std::make_unique&lt;Single_item_creator&gt;(</div>
<div class="line"><a id="l02939" name="l02939"></a><span class="lineno"> 2939</span>                   obj.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;group&quot;</span> ), <a class="code hl_enumvalue" href="classSingle__item__creator.html#aee007d93bc2db77d2035c62fa80369f4a4520ad5a177a9f1fb52ff38220bfc684">Single_item_creator::S_ITEM_GROUP</a>, <a class="code hl_typedef" href="namespaceunits.html#a9389a1cd90e210edaa722e6cfb1f880d">probability</a> );</div>
<div class="line"><a id="l02940" name="l02940"></a><span class="lineno"> 2940</span>    }</div>
<div class="line"><a id="l02941" name="l02941"></a><span class="lineno"> 2941</span>    <span class="keywordflow">if</span>( !sptr ) {</div>
<div class="line"><a id="l02942" name="l02942"></a><span class="lineno"> 2942</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02943" name="l02943"></a><span class="lineno"> 2943</span>    }</div>
<div class="line"><a id="l02944" name="l02944"></a><span class="lineno"> 2944</span> </div>
<div class="line"><a id="l02945" name="l02945"></a><span class="lineno"> 2945</span>    <a class="code hl_class" href="classItem__modifier.html">Item_modifier</a> modifier;</div>
<div class="line"><a id="l02946" name="l02946"></a><span class="lineno"> 2946</span>    <span class="keywordtype">bool</span> use_modifier = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02947" name="l02947"></a><span class="lineno"> 2947</span>    use_modifier |= <a class="code hl_function" href="item__factory_8cpp.html#ad98ce0506dfd02682ad8dfc72c6d97f7">load_min_max</a>( modifier.<a class="code hl_variable" href="classItem__modifier.html#a2ebb01079005737a9969e3974a3f4202">damage</a>, obj, <span class="stringliteral">&quot;damage&quot;</span> );</div>
<div class="line"><a id="l02948" name="l02948"></a><span class="lineno"> 2948</span>    use_modifier |= <a class="code hl_function" href="item__factory_8cpp.html#ad98ce0506dfd02682ad8dfc72c6d97f7">load_min_max</a>( modifier.<a class="code hl_variable" href="classItem__modifier.html#a3483befcea35a8740a31ec5349ddf7a5">dirt</a>, obj, <span class="stringliteral">&quot;dirt&quot;</span> );</div>
<div class="line"><a id="l02949" name="l02949"></a><span class="lineno"> 2949</span>    modifier.<a class="code hl_variable" href="classItem__modifier.html#a2ebb01079005737a9969e3974a3f4202">damage</a>.first *= <a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a>;</div>
<div class="line"><a id="l02950" name="l02950"></a><span class="lineno"> 2950</span>    modifier.<a class="code hl_variable" href="classItem__modifier.html#a2ebb01079005737a9969e3974a3f4202">damage</a>.second *= <a class="code hl_variable" href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a>;</div>
<div class="line"><a id="l02951" name="l02951"></a><span class="lineno"> 2951</span>    use_modifier |= <a class="code hl_function" href="item__factory_8cpp.html#ad98ce0506dfd02682ad8dfc72c6d97f7">load_min_max</a>( modifier.<a class="code hl_variable" href="classItem__modifier.html#a7f9abd149a2d2734f7dd0f71b7c2957a">charges</a>, obj, <span class="stringliteral">&quot;charges&quot;</span> );</div>
<div class="line"><a id="l02952" name="l02952"></a><span class="lineno"> 2952</span>    use_modifier |= <a class="code hl_function" href="item__factory_8cpp.html#ad98ce0506dfd02682ad8dfc72c6d97f7">load_min_max</a>( modifier.<a class="code hl_variable" href="classItem__modifier.html#a52ce9168146a3480610954de3bd4b0e9">count</a>, obj, <span class="stringliteral">&quot;count&quot;</span> );</div>
<div class="line"><a id="l02953" name="l02953"></a><span class="lineno"> 2953</span>    use_modifier |= <a class="code hl_function" href="classItem__factory.html#aa41ab9d10965da89dfd956fe97586570">load_sub_ref</a>( modifier.<a class="code hl_variable" href="classItem__modifier.html#af2fc2ffec0292c47cd45d020b71b4d71">ammo</a>, obj, <span class="stringliteral">&quot;ammo&quot;</span>, ig );</div>
<div class="line"><a id="l02954" name="l02954"></a><span class="lineno"> 2954</span>    use_modifier |= <a class="code hl_function" href="classItem__factory.html#aa41ab9d10965da89dfd956fe97586570">load_sub_ref</a>( modifier.<a class="code hl_variable" href="classItem__modifier.html#abc5594f7806fc9daa8abba7183b593d1">container</a>, obj, <span class="stringliteral">&quot;container&quot;</span>, ig );</div>
<div class="line"><a id="l02955" name="l02955"></a><span class="lineno"> 2955</span>    use_modifier |= <a class="code hl_function" href="classItem__factory.html#aa41ab9d10965da89dfd956fe97586570">load_sub_ref</a>( modifier.<a class="code hl_variable" href="classItem__modifier.html#ac9f143ebb9e6bbded754cc3e7dcde6b0">contents</a>, obj, <span class="stringliteral">&quot;contents&quot;</span>, ig );</div>
<div class="line"><a id="l02956" name="l02956"></a><span class="lineno"> 2956</span>    use_modifier |= <a class="code hl_function" href="classItem__factory.html#a5d7cc0f3baf766f9cc990a6fe1d87553">load_string</a>( modifier.<a class="code hl_variable" href="classItem__modifier.html#a8700d88bdf8537630b996cd3292f57c5">custom_flags</a>, obj, <span class="stringliteral">&quot;custom-flags&quot;</span> );</div>
<div class="line"><a id="l02957" name="l02957"></a><span class="lineno"> 2957</span>    <span class="keywordflow">if</span>( use_modifier ) {</div>
<div class="line"><a id="l02958" name="l02958"></a><span class="lineno"> 2958</span>        sptr-&gt;modifier.emplace( <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( modifier ) );</div>
<div class="line"><a id="l02959" name="l02959"></a><span class="lineno"> 2959</span>    }</div>
<div class="line"><a id="l02960" name="l02960"></a><span class="lineno"> 2960</span>    ig.<a class="code hl_function" href="classItem__group.html#a965bd73c404d73be5951fdcc919f4ce4">add_entry</a>( <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( sptr ) );</div>
<div class="line"><a id="l02961" name="l02961"></a><span class="lineno"> 2961</span>}</div>
<div class="line"><a id="l02962" name="l02962"></a><span class="lineno"> 2962</span> </div>
<div class="line"><a id="l02963" name="l02963"></a><span class="lineno"> 2963</span><span class="comment">// Load an item group from JSON</span></div>
<div class="line"><a id="l02964" name="l02964"></a><span class="lineno"><a class="line" href="classItem__factory.html#a79a031be684872453957ecfb19876fd9"> 2964</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a79a031be684872453957ecfb19876fd9">Item_factory::load_item_group</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jsobj )</div>
<div class="line"><a id="l02965" name="l02965"></a><span class="lineno"> 2965</span>{</div>
<div class="line"><a id="l02966" name="l02966"></a><span class="lineno"> 2966</span>    <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">item_group_id</a> <a class="code hl_typedef" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a> = <a class="code hl_typedef" href="type__id_8h.html#ab297382ed4c098c03ee2b8d70cd8e483">item_group_id</a>( jsobj.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;id&quot;</span> ) );</div>
<div class="line"><a id="l02967" name="l02967"></a><span class="lineno"> 2967</span>    <span class="keyword">const</span> std::string subtype = jsobj.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;subtype&quot;</span>, <span class="stringliteral">&quot;old&quot;</span> );</div>
<div class="line"><a id="l02968" name="l02968"></a><span class="lineno"> 2968</span>    <a class="code hl_function" href="classItem__factory.html#a79a031be684872453957ecfb19876fd9">load_item_group</a>( jsobj, <a class="code hl_typedef" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a>, subtype );</div>
<div class="line"><a id="l02969" name="l02969"></a><span class="lineno"> 2969</span>}</div>
<div class="line"><a id="l02970" name="l02970"></a><span class="lineno"> 2970</span> </div>
<div class="line"><a id="l02971" name="l02971"></a><span class="lineno"><a class="line" href="classItem__factory.html#a91c751b57ad3fb59ea454d3b73a80a2b"> 2971</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a79a031be684872453957ecfb19876fd9">Item_factory::load_item_group</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonArray.html">JsonArray</a> &amp;entries, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">item_group_id</a> &amp;<a class="code hl_typedef" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a>,</div>
<div class="line"><a id="l02972" name="l02972"></a><span class="lineno"> 2972</span>                                    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_collection, <span class="keyword">const</span> <span class="keywordtype">int</span> ammo_chance, <span class="keyword">const</span> <span class="keywordtype">int</span> magazine_chance )</div>
<div class="line"><a id="l02973" name="l02973"></a><span class="lineno"> 2973</span>{</div>
<div class="line"><a id="l02974" name="l02974"></a><span class="lineno"> 2974</span>    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = is_collection ? <a class="code hl_enumvalue" href="classItem__group.html#ae51de1ef43540d3d8671f68faaa88ea0a876684fee2fb3551378e4fcea7a3757d">Item_group::G_COLLECTION</a> : <a class="code hl_enumvalue" href="classItem__group.html#ae51de1ef43540d3d8671f68faaa88ea0a17cdc67b4430f8aecea238b1930a237c">Item_group::G_DISTRIBUTION</a>;</div>
<div class="line"><a id="l02975" name="l02975"></a><span class="lineno"> 2975</span>    std::unique_ptr&lt;Item_spawn_data&gt; &amp;isd = <a class="code hl_variable" href="classItem__factory.html#a1aec789abd53810026e0d878c0069aea">m_template_groups</a>[<a class="code hl_typedef" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a>];</div>
<div class="line"><a id="l02976" name="l02976"></a><span class="lineno"> 2976</span>    <a class="code hl_class" href="classItem__group.html">Item_group</a> *<span class="keyword">const</span> ig = <a class="code hl_function" href="item__factory_8cpp.html#a356c60d571b20148e3b3c8f6bbf1f5cc">make_group_or_throw</a>( <a class="code hl_typedef" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a>, isd, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, ammo_chance, magazine_chance );</div>
<div class="line"><a id="l02977" name="l02977"></a><span class="lineno"> 2977</span> </div>
<div class="line"><a id="l02978" name="l02978"></a><span class="lineno"> 2978</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> subobj : entries ) {</div>
<div class="line"><a id="l02979" name="l02979"></a><span class="lineno"> 2979</span>        <a class="code hl_function" href="classItem__factory.html#aefd91edb7e8066d7fa9ca292d83d3309">add_entry</a>( *ig, subobj );</div>
<div class="line"><a id="l02980" name="l02980"></a><span class="lineno"> 2980</span>    }</div>
<div class="line"><a id="l02981" name="l02981"></a><span class="lineno"> 2981</span>}</div>
<div class="line"><a id="l02982" name="l02982"></a><span class="lineno"> 2982</span> </div>
<div class="line"><a id="l02983" name="l02983"></a><span class="lineno"><a class="line" href="classItem__factory.html#a5dceedf1e6abac6ccf5c445e0ff68254"> 2983</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a79a031be684872453957ecfb19876fd9">Item_factory::load_item_group</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jsobj, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">item_group_id</a> &amp;<a class="code hl_typedef" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a>,</div>
<div class="line"><a id="l02984" name="l02984"></a><span class="lineno"> 2984</span>                                    <span class="keyword">const</span> std::string &amp;subtype )</div>
<div class="line"><a id="l02985" name="l02985"></a><span class="lineno"> 2985</span>{</div>
<div class="line"><a id="l02986" name="l02986"></a><span class="lineno"> 2986</span>    std::unique_ptr&lt;Item_spawn_data&gt; &amp;isd = <a class="code hl_variable" href="classItem__factory.html#a1aec789abd53810026e0d878c0069aea">m_template_groups</a>[<a class="code hl_typedef" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a>];</div>
<div class="line"><a id="l02987" name="l02987"></a><span class="lineno"> 2987</span> </div>
<div class="line"><a id="l02988" name="l02988"></a><span class="lineno"> 2988</span>    <a class="code hl_enumeration" href="classItem__group.html#ae51de1ef43540d3d8671f68faaa88ea0">Item_group::Type</a> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = <a class="code hl_enumvalue" href="classItem__group.html#ae51de1ef43540d3d8671f68faaa88ea0a876684fee2fb3551378e4fcea7a3757d">Item_group::G_COLLECTION</a>;</div>
<div class="line"><a id="l02989" name="l02989"></a><span class="lineno"> 2989</span>    <span class="keywordflow">if</span>( subtype == <span class="stringliteral">&quot;old&quot;</span> || subtype == <span class="stringliteral">&quot;distribution&quot;</span> ) {</div>
<div class="line"><a id="l02990" name="l02990"></a><span class="lineno"> 2990</span>        <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = <a class="code hl_enumvalue" href="classItem__group.html#ae51de1ef43540d3d8671f68faaa88ea0a17cdc67b4430f8aecea238b1930a237c">Item_group::G_DISTRIBUTION</a>;</div>
<div class="line"><a id="l02991" name="l02991"></a><span class="lineno"> 2991</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( subtype != <span class="stringliteral">&quot;collection&quot;</span> ) {</div>
<div class="line"><a id="l02992" name="l02992"></a><span class="lineno"> 2992</span>        jsobj.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;unknown item group type&quot;</span>, <span class="stringliteral">&quot;subtype&quot;</span> );</div>
<div class="line"><a id="l02993" name="l02993"></a><span class="lineno"> 2993</span>    }</div>
<div class="line"><a id="l02994" name="l02994"></a><span class="lineno"> 2994</span>    <a class="code hl_class" href="classItem__group.html">Item_group</a> *ig = <a class="code hl_function" href="item__factory_8cpp.html#a356c60d571b20148e3b3c8f6bbf1f5cc">make_group_or_throw</a>( <a class="code hl_typedef" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a>, isd, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, jsobj.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;ammo&quot;</span>, 0 ),</div>
<div class="line"><a id="l02995" name="l02995"></a><span class="lineno"> 2995</span>                                          jsobj.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;magazine&quot;</span>, 0 ) );</div>
<div class="line"><a id="l02996" name="l02996"></a><span class="lineno"> 2996</span> </div>
<div class="line"><a id="l02997" name="l02997"></a><span class="lineno"> 2997</span>    <span class="keywordflow">if</span>( subtype == <span class="stringliteral">&quot;old&quot;</span> ) {</div>
<div class="line"><a id="l02998" name="l02998"></a><span class="lineno"> 2998</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonValue.html">JsonValue</a> entry : jsobj.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;items&quot;</span> ) ) {</div>
<div class="line"><a id="l02999" name="l02999"></a><span class="lineno"> 2999</span>            <span class="keywordflow">if</span>( entry.test_object() ) {</div>
<div class="line"><a id="l03000" name="l03000"></a><span class="lineno"> 3000</span>                <a class="code hl_class" href="classJsonObject.html">JsonObject</a> subobj = entry.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>();</div>
<div class="line"><a id="l03001" name="l03001"></a><span class="lineno"> 3001</span>                <a class="code hl_function" href="classItem__factory.html#aefd91edb7e8066d7fa9ca292d83d3309">add_entry</a>( *ig, subobj );</div>
<div class="line"><a id="l03002" name="l03002"></a><span class="lineno"> 3002</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03003" name="l03003"></a><span class="lineno"> 3003</span>                <a class="code hl_class" href="classJsonArray.html">JsonArray</a> pair = entry.<a class="code hl_function" href="classJsonArray.html#a4976d590ed48ab2fb2bae15259442584">get_array</a>();</div>
<div class="line"><a id="l03004" name="l03004"></a><span class="lineno"> 3004</span>                ig-&gt;<a class="code hl_function" href="classItem__group.html#a9b7b7ef9100fb33586d18b31989f6485">add_item_entry</a>( <a class="code hl_variable" href="classItem__factory.html#af00b5574c94f15a4fec4fb91de966594">itype_id</a>( pair.<a class="code hl_function" href="classJsonArray.html#a700c41c564ba2ed69e3c9766ac22ad30">get_string</a>( 0 ) ), pair.<a class="code hl_function" href="classJsonArray.html#a2912072ab7426208b75322976717bce4">get_int</a>( 1 ) );</div>
<div class="line"><a id="l03005" name="l03005"></a><span class="lineno"> 3005</span>            }</div>
<div class="line"><a id="l03006" name="l03006"></a><span class="lineno"> 3006</span>        }</div>
<div class="line"><a id="l03007" name="l03007"></a><span class="lineno"> 3007</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03008" name="l03008"></a><span class="lineno"> 3008</span>    }</div>
<div class="line"><a id="l03009" name="l03009"></a><span class="lineno"> 3009</span> </div>
<div class="line"><a id="l03010" name="l03010"></a><span class="lineno"> 3010</span>    <span class="keywordflow">if</span>( jsobj.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;entries&quot;</span> ) ) {</div>
<div class="line"><a id="l03011" name="l03011"></a><span class="lineno"> 3011</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> subobj : jsobj.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;entries&quot;</span> ) ) {</div>
<div class="line"><a id="l03012" name="l03012"></a><span class="lineno"> 3012</span>            <a class="code hl_function" href="classItem__factory.html#aefd91edb7e8066d7fa9ca292d83d3309">add_entry</a>( *ig, subobj );</div>
<div class="line"><a id="l03013" name="l03013"></a><span class="lineno"> 3013</span>        }</div>
<div class="line"><a id="l03014" name="l03014"></a><span class="lineno"> 3014</span>    }</div>
<div class="line"><a id="l03015" name="l03015"></a><span class="lineno"> 3015</span>    <span class="keywordflow">if</span>( jsobj.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;items&quot;</span> ) ) {</div>
<div class="line"><a id="l03016" name="l03016"></a><span class="lineno"> 3016</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonValue.html">JsonValue</a> entry : jsobj.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;items&quot;</span> ) ) {</div>
<div class="line"><a id="l03017" name="l03017"></a><span class="lineno"> 3017</span>            <span class="keywordflow">if</span>( entry.test_string() ) {</div>
<div class="line"><a id="l03018" name="l03018"></a><span class="lineno"> 3018</span>                ig-&gt;<a class="code hl_function" href="classItem__group.html#a9b7b7ef9100fb33586d18b31989f6485">add_item_entry</a>( <a class="code hl_variable" href="classItem__factory.html#af00b5574c94f15a4fec4fb91de966594">itype_id</a>( entry.get_string() ), 100 );</div>
<div class="line"><a id="l03019" name="l03019"></a><span class="lineno"> 3019</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( entry.test_array() ) {</div>
<div class="line"><a id="l03020" name="l03020"></a><span class="lineno"> 3020</span>                <a class="code hl_class" href="classJsonArray.html">JsonArray</a> subitem = entry.<a class="code hl_function" href="classJsonArray.html#a4976d590ed48ab2fb2bae15259442584">get_array</a>();</div>
<div class="line"><a id="l03021" name="l03021"></a><span class="lineno"> 3021</span>                ig-&gt;<a class="code hl_function" href="classItem__group.html#a9b7b7ef9100fb33586d18b31989f6485">add_item_entry</a>( <a class="code hl_variable" href="classItem__factory.html#af00b5574c94f15a4fec4fb91de966594">itype_id</a>( subitem.<a class="code hl_function" href="classJsonArray.html#a700c41c564ba2ed69e3c9766ac22ad30">get_string</a>( 0 ) ), subitem.<a class="code hl_function" href="classJsonArray.html#a2912072ab7426208b75322976717bce4">get_int</a>( 1 ) );</div>
<div class="line"><a id="l03022" name="l03022"></a><span class="lineno"> 3022</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03023" name="l03023"></a><span class="lineno"> 3023</span>                <a class="code hl_class" href="classJsonObject.html">JsonObject</a> subobj = entry.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>();</div>
<div class="line"><a id="l03024" name="l03024"></a><span class="lineno"> 3024</span>                <a class="code hl_function" href="classItem__factory.html#aefd91edb7e8066d7fa9ca292d83d3309">add_entry</a>( *ig, subobj );</div>
<div class="line"><a id="l03025" name="l03025"></a><span class="lineno"> 3025</span>            }</div>
<div class="line"><a id="l03026" name="l03026"></a><span class="lineno"> 3026</span>        }</div>
<div class="line"><a id="l03027" name="l03027"></a><span class="lineno"> 3027</span>    }</div>
<div class="line"><a id="l03028" name="l03028"></a><span class="lineno"> 3028</span>    <span class="keywordflow">if</span>( jsobj.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;groups&quot;</span> ) ) {</div>
<div class="line"><a id="l03029" name="l03029"></a><span class="lineno"> 3029</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonValue.html">JsonValue</a> entry : jsobj.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;groups&quot;</span> ) ) {</div>
<div class="line"><a id="l03030" name="l03030"></a><span class="lineno"> 3030</span>            <span class="keywordflow">if</span>( entry.test_string() ) {</div>
<div class="line"><a id="l03031" name="l03031"></a><span class="lineno"> 3031</span>                ig-&gt;<a class="code hl_function" href="classItem__group.html#a019a83a394df1cb15681f8c56d075bf1">add_group_entry</a>( <a class="code hl_typedef" href="type__id_8h.html#ab297382ed4c098c03ee2b8d70cd8e483">item_group_id</a>( entry.get_string() ), 100 );</div>
<div class="line"><a id="l03032" name="l03032"></a><span class="lineno"> 3032</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( entry.test_array() ) {</div>
<div class="line"><a id="l03033" name="l03033"></a><span class="lineno"> 3033</span>                <a class="code hl_class" href="classJsonArray.html">JsonArray</a> subitem = entry.<a class="code hl_function" href="classJsonArray.html#a4976d590ed48ab2fb2bae15259442584">get_array</a>();</div>
<div class="line"><a id="l03034" name="l03034"></a><span class="lineno"> 3034</span>                ig-&gt;<a class="code hl_function" href="classItem__group.html#a019a83a394df1cb15681f8c56d075bf1">add_group_entry</a>( <a class="code hl_typedef" href="type__id_8h.html#ab297382ed4c098c03ee2b8d70cd8e483">item_group_id</a>( subitem.<a class="code hl_function" href="classJsonArray.html#a700c41c564ba2ed69e3c9766ac22ad30">get_string</a>( 0 ) ), subitem.<a class="code hl_function" href="classJsonArray.html#a2912072ab7426208b75322976717bce4">get_int</a>( 1 ) );</div>
<div class="line"><a id="l03035" name="l03035"></a><span class="lineno"> 3035</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03036" name="l03036"></a><span class="lineno"> 3036</span>                <a class="code hl_class" href="classJsonObject.html">JsonObject</a> subobj = entry.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>();</div>
<div class="line"><a id="l03037" name="l03037"></a><span class="lineno"> 3037</span>                <a class="code hl_function" href="classItem__factory.html#aefd91edb7e8066d7fa9ca292d83d3309">add_entry</a>( *ig, subobj );</div>
<div class="line"><a id="l03038" name="l03038"></a><span class="lineno"> 3038</span>            }</div>
<div class="line"><a id="l03039" name="l03039"></a><span class="lineno"> 3039</span>        }</div>
<div class="line"><a id="l03040" name="l03040"></a><span class="lineno"> 3040</span>    }</div>
<div class="line"><a id="l03041" name="l03041"></a><span class="lineno"> 3041</span>}</div>
<div class="line"><a id="l03042" name="l03042"></a><span class="lineno"> 3042</span> </div>
<div class="line"><a id="l03043" name="l03043"></a><span class="lineno"><a class="line" href="classItem__factory.html#aae6f2de3b22ec1d07a5743ddb129b14f"> 3043</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#aae6f2de3b22ec1d07a5743ddb129b14f">Item_factory::set_use_methods_from_json</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo, <span class="keyword">const</span> std::string &amp;<a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a>,</div>
<div class="line"><a id="l03044" name="l03044"></a><span class="lineno"> 3044</span>        std::map&lt;std::string, use_function&gt; &amp;use_methods )</div>
<div class="line"><a id="l03045" name="l03045"></a><span class="lineno"> 3045</span>{</div>
<div class="line"><a id="l03046" name="l03046"></a><span class="lineno"> 3046</span>    <span class="keywordflow">if</span>( !jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> ) ) {</div>
<div class="line"><a id="l03047" name="l03047"></a><span class="lineno"> 3047</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03048" name="l03048"></a><span class="lineno"> 3048</span>    }</div>
<div class="line"><a id="l03049" name="l03049"></a><span class="lineno"> 3049</span> </div>
<div class="line"><a id="l03050" name="l03050"></a><span class="lineno"> 3050</span>    use_methods.clear();</div>
<div class="line"><a id="l03051" name="l03051"></a><span class="lineno"> 3051</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> ) ) {</div>
<div class="line"><a id="l03052" name="l03052"></a><span class="lineno"> 3052</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonValue.html">JsonValue</a> entry : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> ) ) {</div>
<div class="line"><a id="l03053" name="l03053"></a><span class="lineno"> 3053</span>            <span class="keywordflow">if</span>( entry.test_string() ) {</div>
<div class="line"><a id="l03054" name="l03054"></a><span class="lineno"> 3054</span>                std::string <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = entry.get_string();</div>
<div class="line"><a id="l03055" name="l03055"></a><span class="lineno"> 3055</span>                <a class="code hl_function" href="classItem__factory.html#a74be8fac6c7cb1dc966f98069741955d">emplace_usage</a>( use_methods, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> );</div>
<div class="line"><a id="l03056" name="l03056"></a><span class="lineno"> 3056</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( entry.test_object() ) {</div>
<div class="line"><a id="l03057" name="l03057"></a><span class="lineno"> 3057</span>                <span class="keyword">auto</span> obj = entry.get_object();</div>
<div class="line"><a id="l03058" name="l03058"></a><span class="lineno"> 3058</span>                std::pair&lt;std::string, use_function&gt; fun = <a class="code hl_function" href="classItem__factory.html#ae858c09c799baa5ab83217cbab2a9b0b">usage_from_object</a>( obj );</div>
<div class="line"><a id="l03059" name="l03059"></a><span class="lineno"> 3059</span>                <span class="keywordflow">if</span>( fun.second ) {</div>
<div class="line"><a id="l03060" name="l03060"></a><span class="lineno"> 3060</span>                    use_methods.insert( fun );</div>
<div class="line"><a id="l03061" name="l03061"></a><span class="lineno"> 3061</span>                }</div>
<div class="line"><a id="l03062" name="l03062"></a><span class="lineno"> 3062</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03063" name="l03063"></a><span class="lineno"> 3063</span>                entry.throw_error( <span class="stringliteral">&quot;array element is neither string nor object.&quot;</span> );</div>
<div class="line"><a id="l03064" name="l03064"></a><span class="lineno"> 3064</span>            }</div>
<div class="line"><a id="l03065" name="l03065"></a><span class="lineno"> 3065</span>        }</div>
<div class="line"><a id="l03066" name="l03066"></a><span class="lineno"> 3066</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03067" name="l03067"></a><span class="lineno"> 3067</span>        <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">has_string</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> ) ) {</div>
<div class="line"><a id="l03068" name="l03068"></a><span class="lineno"> 3068</span>            std::string <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> );</div>
<div class="line"><a id="l03069" name="l03069"></a><span class="lineno"> 3069</span>            <a class="code hl_function" href="classItem__factory.html#a74be8fac6c7cb1dc966f98069741955d">emplace_usage</a>( use_methods, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> );</div>
<div class="line"><a id="l03070" name="l03070"></a><span class="lineno"> 3070</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a49ff0ef5ec58e2cf47dcaa551eb2b472">has_object</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> ) ) {</div>
<div class="line"><a id="l03071" name="l03071"></a><span class="lineno"> 3071</span>            <span class="keyword">auto</span> obj = jo.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> );</div>
<div class="line"><a id="l03072" name="l03072"></a><span class="lineno"> 3072</span>            std::pair&lt;std::string, use_function&gt; fun = <a class="code hl_function" href="classItem__factory.html#ae858c09c799baa5ab83217cbab2a9b0b">usage_from_object</a>( obj );</div>
<div class="line"><a id="l03073" name="l03073"></a><span class="lineno"> 3073</span>            <span class="keywordflow">if</span>( fun.second ) {</div>
<div class="line"><a id="l03074" name="l03074"></a><span class="lineno"> 3074</span>                use_methods.insert( fun );</div>
<div class="line"><a id="l03075" name="l03075"></a><span class="lineno"> 3075</span>            }</div>
<div class="line"><a id="l03076" name="l03076"></a><span class="lineno"> 3076</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03077" name="l03077"></a><span class="lineno"> 3077</span>            jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;member &#39;use_action&#39; is neither string nor object.&quot;</span> );</div>
<div class="line"><a id="l03078" name="l03078"></a><span class="lineno"> 3078</span>        }</div>
<div class="line"><a id="l03079" name="l03079"></a><span class="lineno"> 3079</span> </div>
<div class="line"><a id="l03080" name="l03080"></a><span class="lineno"> 3080</span>    }</div>
<div class="line"><a id="l03081" name="l03081"></a><span class="lineno"> 3081</span>}</div>
<div class="line"><a id="l03082" name="l03082"></a><span class="lineno"> 3082</span> </div>
<div class="line"><a id="l03083" name="l03083"></a><span class="lineno"> 3083</span><span class="comment">// Helper to safely look up and store iuse actions.</span></div>
<div class="line"><a id="l03084" name="l03084"></a><span class="lineno"><a class="line" href="classItem__factory.html#a74be8fac6c7cb1dc966f98069741955d"> 3084</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classItem__factory.html#a74be8fac6c7cb1dc966f98069741955d">Item_factory::emplace_usage</a>( std::map&lt;std::string, use_function&gt; &amp;container,</div>
<div class="line"><a id="l03085" name="l03085"></a><span class="lineno"> 3085</span>                                  <span class="keyword">const</span> std::string &amp;iuse_id )</div>
<div class="line"><a id="l03086" name="l03086"></a><span class="lineno"> 3086</span>{</div>
<div class="line"><a id="l03087" name="l03087"></a><span class="lineno"> 3087</span>    <a class="code hl_struct" href="structuse__function.html">use_function</a> fun = <a class="code hl_function" href="classItem__factory.html#a4e652a1bb11e1fa9ca38fdd48db25bb7">usage_from_string</a>( iuse_id );</div>
<div class="line"><a id="l03088" name="l03088"></a><span class="lineno"> 3088</span>    <span class="keywordflow">if</span>( fun ) {</div>
<div class="line"><a id="l03089" name="l03089"></a><span class="lineno"> 3089</span>        container.emplace( iuse_id, fun );</div>
<div class="line"><a id="l03090" name="l03090"></a><span class="lineno"> 3090</span>    }</div>
<div class="line"><a id="l03091" name="l03091"></a><span class="lineno"> 3091</span>}</div>
<div class="line"><a id="l03092" name="l03092"></a><span class="lineno"> 3092</span> </div>
<div class="line"><a id="l03093" name="l03093"></a><span class="lineno"><a class="line" href="classItem__factory.html#ae858c09c799baa5ab83217cbab2a9b0b"> 3093</a></span>std::pair&lt;std::string, use_function&gt; <a class="code hl_function" href="classItem__factory.html#ae858c09c799baa5ab83217cbab2a9b0b">Item_factory::usage_from_object</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;<a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a> )</div>
<div class="line"><a id="l03094" name="l03094"></a><span class="lineno"> 3094</span>{</div>
<div class="line"><a id="l03095" name="l03095"></a><span class="lineno"> 3095</span>    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = obj.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;type&quot;</span> );</div>
<div class="line"><a id="l03096" name="l03096"></a><span class="lineno"> 3096</span> </div>
<div class="line"><a id="l03097" name="l03097"></a><span class="lineno"> 3097</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <span class="stringliteral">&quot;repair_item&quot;</span> ) {</div>
<div class="line"><a id="l03098" name="l03098"></a><span class="lineno"> 3098</span>        <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = obj.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;item_action_type&quot;</span> );</div>
<div class="line"><a id="l03099" name="l03099"></a><span class="lineno"> 3099</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classItem__factory.html#a3d5734050655293211857b8ca87f59c2">has_iuse</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> ) ) {</div>
<div class="line"><a id="l03100" name="l03100"></a><span class="lineno"> 3100</span>            <a class="code hl_function" href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">add_actor</a>( std::make_unique&lt;repair_item_actor&gt;( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> ) );</div>
<div class="line"><a id="l03101" name="l03101"></a><span class="lineno"> 3101</span>            <a class="code hl_variable" href="classItem__factory.html#acbc793301935e25dc30818dd974281b7">repair_actions</a>.insert( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> );</div>
<div class="line"><a id="l03102" name="l03102"></a><span class="lineno"> 3102</span>        }</div>
<div class="line"><a id="l03103" name="l03103"></a><span class="lineno"> 3103</span>    }</div>
<div class="line"><a id="l03104" name="l03104"></a><span class="lineno"> 3104</span> </div>
<div class="line"><a id="l03105" name="l03105"></a><span class="lineno"> 3105</span>    <a class="code hl_struct" href="structuse__function.html">use_function</a> method = <a class="code hl_function" href="classItem__factory.html#a4e652a1bb11e1fa9ca38fdd48db25bb7">usage_from_string</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> );</div>
<div class="line"><a id="l03106" name="l03106"></a><span class="lineno"> 3106</span> </div>
<div class="line"><a id="l03107" name="l03107"></a><span class="lineno"> 3107</span>    <span class="keywordflow">if</span>( !method.<a class="code hl_function" href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">get_actor_ptr</a>() ) {</div>
<div class="line"><a id="l03108" name="l03108"></a><span class="lineno"> 3108</span>        <span class="keywordflow">return</span> std::make_pair( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <a class="code hl_struct" href="structuse__function.html">use_function</a>() );</div>
<div class="line"><a id="l03109" name="l03109"></a><span class="lineno"> 3109</span>    }</div>
<div class="line"><a id="l03110" name="l03110"></a><span class="lineno"> 3110</span> </div>
<div class="line"><a id="l03111" name="l03111"></a><span class="lineno"> 3111</span>    method.<a class="code hl_function" href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">get_actor_ptr</a>()-&gt;<a class="code hl_function" href="classiuse__actor.html#aa93b616e6f6e450b098209ad19ae78c4">load</a>( obj );</div>
<div class="line"><a id="l03112" name="l03112"></a><span class="lineno"> 3112</span>    <span class="keywordflow">return</span> std::make_pair( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, method );</div>
<div class="line"><a id="l03113" name="l03113"></a><span class="lineno"> 3113</span>}</div>
<div class="line"><a id="l03114" name="l03114"></a><span class="lineno"> 3114</span> </div>
<div class="line"><a id="l03115" name="l03115"></a><span class="lineno"><a class="line" href="classItem__factory.html#a4e652a1bb11e1fa9ca38fdd48db25bb7"> 3115</a></span><a class="code hl_struct" href="structuse__function.html">use_function</a> <a class="code hl_function" href="classItem__factory.html#a4e652a1bb11e1fa9ca38fdd48db25bb7">Item_factory::usage_from_string</a>( <span class="keyword">const</span> std::string &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> )<span class="keyword"> const</span></div>
<div class="line"><a id="l03116" name="l03116"></a><span class="lineno"> 3116</span><span class="keyword"></span>{</div>
<div class="line"><a id="l03117" name="l03117"></a><span class="lineno"> 3117</span>    <span class="keyword">auto</span> func = <a class="code hl_variable" href="classItem__factory.html#ab8879bd7c6bf52cc867d21e003773171">iuse_function_list</a>.find( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> );</div>
<div class="line"><a id="l03118" name="l03118"></a><span class="lineno"> 3118</span>    <span class="keywordflow">if</span>( func != <a class="code hl_variable" href="classItem__factory.html#ab8879bd7c6bf52cc867d21e003773171">iuse_function_list</a>.end() ) {</div>
<div class="line"><a id="l03119" name="l03119"></a><span class="lineno"> 3119</span>        <span class="keywordflow">return</span> func-&gt;second;</div>
<div class="line"><a id="l03120" name="l03120"></a><span class="lineno"> 3120</span>    }</div>
<div class="line"><a id="l03121" name="l03121"></a><span class="lineno"> 3121</span> </div>
<div class="line"><a id="l03122" name="l03122"></a><span class="lineno"> 3122</span>    <span class="comment">// Otherwise, return a hardcoded function we know exists (hopefully)</span></div>
<div class="line"><a id="l03123" name="l03123"></a><span class="lineno"> 3123</span>    <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Received unrecognized iuse function %s, using iuse::none instead&quot;</span>, <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>.c_str() );</div>
<div class="line"><a id="l03124" name="l03124"></a><span class="lineno"> 3124</span>    <span class="keywordflow">return</span> <a class="code hl_struct" href="structuse__function.html">use_function</a>();</div>
<div class="line"><a id="l03125" name="l03125"></a><span class="lineno"> 3125</span>}</div>
<div class="line"><a id="l03126" name="l03126"></a><span class="lineno"> 3126</span> </div>
<div class="line"><a id="l03127" name="l03127"></a><span class="lineno"> 3127</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespaceio.html">io</a></div>
<div class="line"><a id="l03128" name="l03128"></a><span class="lineno"> 3128</span>{</div>
<div class="line"><a id="l03129" name="l03129"></a><span class="lineno"> 3129</span><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a id="l03130" name="l03130"></a><span class="lineno"><a class="line" href="namespaceio.html#a57b37d327637c1542d4437e52152265f"> 3130</a></span>std::string <a class="code hl_function" href="namespaceio.html#a57b37d327637c1542d4437e52152265f">enum_to_string&lt;phase_id&gt;</a>( <a class="code hl_enumeration" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5">phase_id</a> data )</div>
<div class="line"><a id="l03131" name="l03131"></a><span class="lineno"> 3131</span>{</div>
<div class="line"><a id="l03132" name="l03132"></a><span class="lineno"> 3132</span>    <span class="keywordflow">switch</span>( data ) {</div>
<div class="line"><a id="l03133" name="l03133"></a><span class="lineno"> 3133</span>        <span class="comment">// *INDENT-OFF*</span></div>
<div class="line"><a id="l03134" name="l03134"></a><span class="lineno"> 3134</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a01ff92f3183a47a53bc0d332249d0b0b">PNULL</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;null&quot;</span>;</div>
<div class="line"><a id="l03135" name="l03135"></a><span class="lineno"> 3135</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;liquid&quot;</span>;</div>
<div class="line"><a id="l03136" name="l03136"></a><span class="lineno"> 3136</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a1b45f84e1f6603b52e5ef442836df9af">SOLID</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;solid&quot;</span>;</div>
<div class="line"><a id="l03137" name="l03137"></a><span class="lineno"> 3137</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a9584dc4fcb96c51dda36a881a6dbb212">GAS</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;gas&quot;</span>;</div>
<div class="line"><a id="l03138" name="l03138"></a><span class="lineno"> 3138</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5ab71e27670a073794779085ea4f4e6bf1">PLASMA</a>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;plasma&quot;</span>;</div>
<div class="line"><a id="l03139" name="l03139"></a><span class="lineno"> 3139</span>        <span class="comment">// *INDENT-ON*</span></div>
<div class="line"><a id="l03140" name="l03140"></a><span class="lineno"> 3140</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a485b4fa6a2fb6ffaa30c321aacbe4275">num_phases</a>:</div>
<div class="line"><a id="l03141" name="l03141"></a><span class="lineno"> 3141</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03142" name="l03142"></a><span class="lineno"> 3142</span>    }</div>
<div class="line"><a id="l03143" name="l03143"></a><span class="lineno"> 3143</span>    <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid phase&quot;</span> );</div>
<div class="line"><a id="l03144" name="l03144"></a><span class="lineno"> 3144</span>    <a class="code hl_enumvalue" href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa5bb94a1c12413a2e5d14deabab29f2aa">abort</a>();</div>
<div class="line"><a id="l03145" name="l03145"></a><span class="lineno"> 3145</span>}</div>
<div class="line"><a id="l03146" name="l03146"></a><span class="lineno"> 3146</span>} <span class="comment">// namespace io</span></div>
<div class="line"><a id="l03147" name="l03147"></a><span class="lineno"> 3147</span> </div>
<div class="line"><a id="l03148" name="l03148"></a><span class="lineno"><a class="line" href="item__factory_8cpp.html#af75903aaf526ac4beef1c4d46a449759"> 3148</a></span><a class="code hl_class" href="classstring__id.html">item_category_id</a> <a class="code hl_function" href="item__factory_8cpp.html#af75903aaf526ac4beef1c4d46a449759">calc_category</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> &amp;<a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a> )</div>
<div class="line"><a id="l03149" name="l03149"></a><span class="lineno"> 3149</span>{</div>
<div class="line"><a id="l03150" name="l03150"></a><span class="lineno"> 3150</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.artifact ) {</div>
<div class="line"><a id="l03151" name="l03151"></a><span class="lineno"> 3151</span>        <span class="keywordflow">return</span> <a class="code hl_typedef" href="type__id_8h.html#a6e9edc884a79795c312ad6d426dda223">item_category_id</a>( <span class="stringliteral">&quot;artifacts&quot;</span> );</div>
<div class="line"><a id="l03152" name="l03152"></a><span class="lineno"> 3152</span>    }</div>
<div class="line"><a id="l03153" name="l03153"></a><span class="lineno"> 3153</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.gun &amp;&amp; !<a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.gunmod ) {</div>
<div class="line"><a id="l03154" name="l03154"></a><span class="lineno"> 3154</span>        <span class="keywordflow">return</span> <a class="code hl_typedef" href="type__id_8h.html#a6e9edc884a79795c312ad6d426dda223">item_category_id</a>( <span class="stringliteral">&quot;guns&quot;</span> );</div>
<div class="line"><a id="l03155" name="l03155"></a><span class="lineno"> 3155</span>    }</div>
<div class="line"><a id="l03156" name="l03156"></a><span class="lineno"> 3156</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.magazine ) {</div>
<div class="line"><a id="l03157" name="l03157"></a><span class="lineno"> 3157</span>        <span class="keywordflow">return</span> <a class="code hl_typedef" href="type__id_8h.html#a6e9edc884a79795c312ad6d426dda223">item_category_id</a>( <span class="stringliteral">&quot;magazines&quot;</span> );</div>
<div class="line"><a id="l03158" name="l03158"></a><span class="lineno"> 3158</span>    }</div>
<div class="line"><a id="l03159" name="l03159"></a><span class="lineno"> 3159</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.ammo ) {</div>
<div class="line"><a id="l03160" name="l03160"></a><span class="lineno"> 3160</span>        <span class="keywordflow">return</span> <a class="code hl_typedef" href="type__id_8h.html#a6e9edc884a79795c312ad6d426dda223">item_category_id</a>( <span class="stringliteral">&quot;ammo&quot;</span> );</div>
<div class="line"><a id="l03161" name="l03161"></a><span class="lineno"> 3161</span>    }</div>
<div class="line"><a id="l03162" name="l03162"></a><span class="lineno"> 3162</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.tool ) {</div>
<div class="line"><a id="l03163" name="l03163"></a><span class="lineno"> 3163</span>        <span class="keywordflow">return</span> <a class="code hl_typedef" href="type__id_8h.html#a6e9edc884a79795c312ad6d426dda223">item_category_id</a>( <span class="stringliteral">&quot;tools&quot;</span> );</div>
<div class="line"><a id="l03164" name="l03164"></a><span class="lineno"> 3164</span>    }</div>
<div class="line"><a id="l03165" name="l03165"></a><span class="lineno"> 3165</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.armor ) {</div>
<div class="line"><a id="l03166" name="l03166"></a><span class="lineno"> 3166</span>        <span class="keywordflow">return</span> <a class="code hl_typedef" href="type__id_8h.html#a6e9edc884a79795c312ad6d426dda223">item_category_id</a>( <span class="stringliteral">&quot;clothing&quot;</span> );</div>
<div class="line"><a id="l03167" name="l03167"></a><span class="lineno"> 3167</span>    }</div>
<div class="line"><a id="l03168" name="l03168"></a><span class="lineno"> 3168</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.comestible ) {</div>
<div class="line"><a id="l03169" name="l03169"></a><span class="lineno"> 3169</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.comestible-&gt;comesttype == <span class="stringliteral">&quot;MED&quot;</span> ?</div>
<div class="line"><a id="l03170" name="l03170"></a><span class="lineno"> 3170</span>               <a class="code hl_typedef" href="type__id_8h.html#a6e9edc884a79795c312ad6d426dda223">item_category_id</a>( <span class="stringliteral">&quot;drugs&quot;</span> ) : <a class="code hl_typedef" href="type__id_8h.html#a6e9edc884a79795c312ad6d426dda223">item_category_id</a>( <span class="stringliteral">&quot;food&quot;</span> );</div>
<div class="line"><a id="l03171" name="l03171"></a><span class="lineno"> 3171</span>    }</div>
<div class="line"><a id="l03172" name="l03172"></a><span class="lineno"> 3172</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.book ) {</div>
<div class="line"><a id="l03173" name="l03173"></a><span class="lineno"> 3173</span>        <span class="keywordflow">return</span> <a class="code hl_typedef" href="type__id_8h.html#a6e9edc884a79795c312ad6d426dda223">item_category_id</a>( <span class="stringliteral">&quot;books&quot;</span> );</div>
<div class="line"><a id="l03174" name="l03174"></a><span class="lineno"> 3174</span>    }</div>
<div class="line"><a id="l03175" name="l03175"></a><span class="lineno"> 3175</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.gunmod ) {</div>
<div class="line"><a id="l03176" name="l03176"></a><span class="lineno"> 3176</span>        <span class="keywordflow">return</span> <a class="code hl_typedef" href="type__id_8h.html#a6e9edc884a79795c312ad6d426dda223">item_category_id</a>( <span class="stringliteral">&quot;mods&quot;</span> );</div>
<div class="line"><a id="l03177" name="l03177"></a><span class="lineno"> 3177</span>    }</div>
<div class="line"><a id="l03178" name="l03178"></a><span class="lineno"> 3178</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.bionic ) {</div>
<div class="line"><a id="l03179" name="l03179"></a><span class="lineno"> 3179</span>        <span class="keywordflow">return</span> <a class="code hl_typedef" href="type__id_8h.html#a6e9edc884a79795c312ad6d426dda223">item_category_id</a>( <span class="stringliteral">&quot;bionics&quot;</span> );</div>
<div class="line"><a id="l03180" name="l03180"></a><span class="lineno"> 3180</span>    }</div>
<div class="line"><a id="l03181" name="l03181"></a><span class="lineno"> 3181</span> </div>
<div class="line"><a id="l03182" name="l03182"></a><span class="lineno"> 3182</span>    <span class="keywordtype">bool</span> weap = std::any_of( <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.melee.begin(), <a class="code hl_function" href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">obj</a>.melee.end(), []( <span class="keywordtype">int</span> qty ) {</div>
<div class="line"><a id="l03183" name="l03183"></a><span class="lineno"> 3183</span>        return qty &gt; MELEE_STAT;</div>
<div class="line"><a id="l03184" name="l03184"></a><span class="lineno"> 3184</span>    } );</div>
<div class="line"><a id="l03185" name="l03185"></a><span class="lineno"> 3185</span> </div>
<div class="line"><a id="l03186" name="l03186"></a><span class="lineno"> 3186</span>    <span class="keywordflow">return</span> weap ? <a class="code hl_typedef" href="type__id_8h.html#a6e9edc884a79795c312ad6d426dda223">item_category_id</a>( <span class="stringliteral">&quot;weapons&quot;</span> ) : <a class="code hl_typedef" href="type__id_8h.html#a6e9edc884a79795c312ad6d426dda223">item_category_id</a>( <span class="stringliteral">&quot;other&quot;</span> );</div>
<div class="line"><a id="l03187" name="l03187"></a><span class="lineno"> 3187</span>}</div>
<div class="line"><a id="l03188" name="l03188"></a><span class="lineno"> 3188</span> </div>
<div class="line"><a id="l03189" name="l03189"></a><span class="lineno"><a class="line" href="classItem__factory.html#a4efc5a2a2d3268fc306894a60d7fd488"> 3189</a></span>std::vector&lt;item_group_id&gt; <a class="code hl_function" href="classItem__factory.html#a4efc5a2a2d3268fc306894a60d7fd488">Item_factory::get_all_group_names</a>()</div>
<div class="line"><a id="l03190" name="l03190"></a><span class="lineno"> 3190</span>{</div>
<div class="line"><a id="l03191" name="l03191"></a><span class="lineno"> 3191</span>    std::vector&lt;item_group_id&gt; rval;</div>
<div class="line"><a id="l03192" name="l03192"></a><span class="lineno"> 3192</span>    <span class="keywordflow">for</span>( GroupMap::value_type &amp;group_pair : <a class="code hl_variable" href="classItem__factory.html#a1aec789abd53810026e0d878c0069aea">m_template_groups</a> ) {</div>
<div class="line"><a id="l03193" name="l03193"></a><span class="lineno"> 3193</span>        rval.push_back( <a class="code hl_typedef" href="type__id_8h.html#ab297382ed4c098c03ee2b8d70cd8e483">item_group_id</a>( group_pair.first ) );</div>
<div class="line"><a id="l03194" name="l03194"></a><span class="lineno"> 3194</span>    }</div>
<div class="line"><a id="l03195" name="l03195"></a><span class="lineno"> 3195</span>    <span class="keywordflow">return</span> rval;</div>
<div class="line"><a id="l03196" name="l03196"></a><span class="lineno"> 3196</span>}</div>
<div class="line"><a id="l03197" name="l03197"></a><span class="lineno"> 3197</span> </div>
<div class="line"><a id="l03198" name="l03198"></a><span class="lineno"><a class="line" href="classItem__factory.html#a2afd77ca9e222b8fe844c19534e171b9"> 3198</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classItem__factory.html#a2afd77ca9e222b8fe844c19534e171b9">Item_factory::add_item_to_group</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">item_group_id</a> &amp;<a class="code hl_typedef" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a>, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;item_id,</div>
<div class="line"><a id="l03199" name="l03199"></a><span class="lineno"> 3199</span>                                      <span class="keywordtype">int</span> chance )</div>
<div class="line"><a id="l03200" name="l03200"></a><span class="lineno"> 3200</span>{</div>
<div class="line"><a id="l03201" name="l03201"></a><span class="lineno"> 3201</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classItem__factory.html#a1aec789abd53810026e0d878c0069aea">m_template_groups</a>.find( <a class="code hl_typedef" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a> ) == <a class="code hl_variable" href="classItem__factory.html#a1aec789abd53810026e0d878c0069aea">m_template_groups</a>.end() ) {</div>
<div class="line"><a id="l03202" name="l03202"></a><span class="lineno"> 3202</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03203" name="l03203"></a><span class="lineno"> 3203</span>    }</div>
<div class="line"><a id="l03204" name="l03204"></a><span class="lineno"> 3204</span>    <a class="code hl_class" href="classItem__spawn__data.html">Item_spawn_data</a> &amp;group_to_access = *<a class="code hl_variable" href="classItem__factory.html#a1aec789abd53810026e0d878c0069aea">m_template_groups</a>[<a class="code hl_typedef" href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">group_id</a>];</div>
<div class="line"><a id="l03205" name="l03205"></a><span class="lineno"> 3205</span>    <span class="keywordflow">if</span>( group_to_access.<a class="code hl_function" href="classItem__spawn__data.html#ab2efbdf5fd166c9e011f583d5314f77e">has_item</a>( item_id ) ) {</div>
<div class="line"><a id="l03206" name="l03206"></a><span class="lineno"> 3206</span>        group_to_access.<a class="code hl_function" href="classItem__spawn__data.html#ad01293ea18b453019c45be22ad562bce">remove_item</a>( item_id );</div>
<div class="line"><a id="l03207" name="l03207"></a><span class="lineno"> 3207</span>    }</div>
<div class="line"><a id="l03208" name="l03208"></a><span class="lineno"> 3208</span> </div>
<div class="line"><a id="l03209" name="l03209"></a><span class="lineno"> 3209</span>    <a class="code hl_class" href="classItem__group.html">Item_group</a> *ig = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classItem__group.html">Item_group</a> *<span class="keyword">&gt;</span>( &amp;group_to_access );</div>
<div class="line"><a id="l03210" name="l03210"></a><span class="lineno"> 3210</span>    <span class="keywordflow">if</span>( chance != 0 &amp;&amp; ig != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l03211" name="l03211"></a><span class="lineno"> 3211</span>        <span class="comment">// Only re-add if chance != 0</span></div>
<div class="line"><a id="l03212" name="l03212"></a><span class="lineno"> 3212</span>        ig-&gt;<a class="code hl_function" href="classItem__group.html#a9b7b7ef9100fb33586d18b31989f6485">add_item_entry</a>( item_id, chance );</div>
<div class="line"><a id="l03213" name="l03213"></a><span class="lineno"> 3213</span>    }</div>
<div class="line"><a id="l03214" name="l03214"></a><span class="lineno"> 3214</span> </div>
<div class="line"><a id="l03215" name="l03215"></a><span class="lineno"> 3215</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03216" name="l03216"></a><span class="lineno"> 3216</span>}</div>
<div class="line"><a id="l03217" name="l03217"></a><span class="lineno"> 3217</span> </div>
<div class="line"><a id="l03218" name="l03218"></a><span class="lineno"><a class="line" href="namespaceitem__group.html#a7cf722822ed58d63e5b2c1714ae6fc4b"> 3218</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespaceitem__group.html#a7cf722822ed58d63e5b2c1714ae6fc4b">item_group::debug_spawn</a>()</div>
<div class="line"><a id="l03219" name="l03219"></a><span class="lineno"> 3219</span>{</div>
<div class="line"><a id="l03220" name="l03220"></a><span class="lineno"> 3220</span>    std::vector&lt;item_group_id&gt; groups = <a class="code hl_variable" href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a>-&gt;get_all_group_names();</div>
<div class="line"><a id="l03221" name="l03221"></a><span class="lineno"> 3221</span>    <a class="code hl_class" href="classuilist.html">uilist</a> menu;</div>
<div class="line"><a id="l03222" name="l03222"></a><span class="lineno"> 3222</span>    menu.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Test which group?&quot;</span> );</div>
<div class="line"><a id="l03223" name="l03223"></a><span class="lineno"> 3223</span>    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; groups.size(); i++ ) {</div>
<div class="line"><a id="l03224" name="l03224"></a><span class="lineno"> 3224</span>        menu.<a class="code hl_variable" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>.emplace_back( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( i ), <span class="keyword">true</span>, -2, groups[i].str() );</div>
<div class="line"><a id="l03225" name="l03225"></a><span class="lineno"> 3225</span>    }</div>
<div class="line"><a id="l03226" name="l03226"></a><span class="lineno"> 3226</span>    <span class="keywordflow">while</span>( <span class="keyword">true</span> ) {</div>
<div class="line"><a id="l03227" name="l03227"></a><span class="lineno"> 3227</span>        menu.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l03228" name="l03228"></a><span class="lineno"> 3228</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> index = menu.<a class="code hl_variable" href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">ret</a>;</div>
<div class="line"><a id="l03229" name="l03229"></a><span class="lineno"> 3229</span>        <span class="keywordflow">if</span>( index &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( groups.size() ) || index &lt; 0 ) {</div>
<div class="line"><a id="l03230" name="l03230"></a><span class="lineno"> 3230</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l03231" name="l03231"></a><span class="lineno"> 3231</span>        }</div>
<div class="line"><a id="l03232" name="l03232"></a><span class="lineno"> 3232</span>        <span class="comment">// Spawn items from the group 100 times</span></div>
<div class="line"><a id="l03233" name="l03233"></a><span class="lineno"> 3233</span>        std::map&lt;std::string, int&gt; itemnames;</div>
<div class="line"><a id="l03234" name="l03234"></a><span class="lineno"> 3234</span>        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> = 0; <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> &lt; 100; <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>++ ) {</div>
<div class="line"><a id="l03235" name="l03235"></a><span class="lineno"> 3235</span>            <span class="keyword">const</span> <span class="keyword">auto</span> items = <a class="code hl_function" href="namespaceitem__group.html#ad15629f772f27e1d19c90fe9de23ae99">items_from</a>( groups[index], <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a id="l03236" name="l03236"></a><span class="lineno"> 3236</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;it : items ) {</div>
<div class="line"><a id="l03237" name="l03237"></a><span class="lineno"> 3237</span>                itemnames[it.display_name()]++;</div>
<div class="line"><a id="l03238" name="l03238"></a><span class="lineno"> 3238</span>            }</div>
<div class="line"><a id="l03239" name="l03239"></a><span class="lineno"> 3239</span>        }</div>
<div class="line"><a id="l03240" name="l03240"></a><span class="lineno"> 3240</span>        <span class="comment">// Invert the map to get sorting!</span></div>
<div class="line"><a id="l03241" name="l03241"></a><span class="lineno"> 3241</span>        std::multimap&lt;int, std::string&gt; itemnames2;</div>
<div class="line"><a id="l03242" name="l03242"></a><span class="lineno"> 3242</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : itemnames ) {</div>
<div class="line"><a id="l03243" name="l03243"></a><span class="lineno"> 3243</span>            itemnames2.insert( std::pair&lt;int, std::string&gt;( e.second, e.first ) );</div>
<div class="line"><a id="l03244" name="l03244"></a><span class="lineno"> 3244</span>        }</div>
<div class="line"><a id="l03245" name="l03245"></a><span class="lineno"> 3245</span>        <a class="code hl_class" href="classuilist.html">uilist</a> menu2;</div>
<div class="line"><a id="l03246" name="l03246"></a><span class="lineno"> 3246</span>        menu2.<a class="code hl_variable" href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">text</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Result of 100 spawns:&quot;</span> );</div>
<div class="line"><a id="l03247" name="l03247"></a><span class="lineno"> 3247</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : itemnames2 ) {</div>
<div class="line"><a id="l03248" name="l03248"></a><span class="lineno"> 3248</span>            menu2.<a class="code hl_variable" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>.emplace_back( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( menu2.<a class="code hl_variable" href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">entries</a>.size() ), <span class="keyword">true</span>, -2,</div>
<div class="line"><a id="l03249" name="l03249"></a><span class="lineno"> 3249</span>                                        <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%d x %s&quot;</span> ), e.first, e.second ) );</div>
<div class="line"><a id="l03250" name="l03250"></a><span class="lineno"> 3250</span>        }</div>
<div class="line"><a id="l03251" name="l03251"></a><span class="lineno"> 3251</span>        menu2.<a class="code hl_function" href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">query</a>();</div>
<div class="line"><a id="l03252" name="l03252"></a><span class="lineno"> 3252</span>    }</div>
<div class="line"><a id="l03253" name="l03253"></a><span class="lineno"> 3253</span>}</div>
<div class="line"><a id="l03254" name="l03254"></a><span class="lineno"> 3254</span> </div>
<div class="line"><a id="l03255" name="l03255"></a><span class="lineno"><a class="line" href="classItem__factory.html#a838f908ffe40039c138823e86103788a"> 3255</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classItem__factory.html#a838f908ffe40039c138823e86103788a">Item_factory::has_template</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a id="l03256" name="l03256"></a><span class="lineno"> 3256</span><span class="keyword"></span>{</div>
<div class="line"><a id="l03257" name="l03257"></a><span class="lineno"> 3257</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.count( <span class="keywordtype">id</span> ) || <a class="code hl_variable" href="classItem__factory.html#aeadd69bbf3c9c3aca9ba3c5b1d36765d">m_runtimes</a>.count( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l03258" name="l03258"></a><span class="lineno"> 3258</span>}</div>
<div class="line"><a id="l03259" name="l03259"></a><span class="lineno"> 3259</span> </div>
<div class="line"><a id="l03260" name="l03260"></a><span class="lineno"><a class="line" href="classItem__factory.html#a45af979c36e201b79655109aaa5687d8"> 3260</a></span>std::vector&lt;const itype *&gt; <a class="code hl_function" href="classItem__factory.html#a45af979c36e201b79655109aaa5687d8">Item_factory::all</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l03261" name="l03261"></a><span class="lineno"> 3261</span><span class="keyword"></span>{</div>
<div class="line"><a id="l03262" name="l03262"></a><span class="lineno"> 3262</span>    assert( <a class="code hl_variable" href="classItem__factory.html#a505d771e637afa6c26124010e3c561cf">frozen</a> );</div>
<div class="line"><a id="l03263" name="l03263"></a><span class="lineno"> 3263</span> </div>
<div class="line"><a id="l03264" name="l03264"></a><span class="lineno"> 3264</span>    std::vector&lt;const itype *&gt; res;</div>
<div class="line"><a id="l03265" name="l03265"></a><span class="lineno"> 3265</span>    res.reserve( <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a>.size() + <a class="code hl_variable" href="classItem__factory.html#aeadd69bbf3c9c3aca9ba3c5b1d36765d">m_runtimes</a>.size() );</div>
<div class="line"><a id="l03266" name="l03266"></a><span class="lineno"> 3266</span> </div>
<div class="line"><a id="l03267" name="l03267"></a><span class="lineno"> 3267</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a> ) {</div>
<div class="line"><a id="l03268" name="l03268"></a><span class="lineno"> 3268</span>        res.push_back( &amp;e.second );</div>
<div class="line"><a id="l03269" name="l03269"></a><span class="lineno"> 3269</span>    }</div>
<div class="line"><a id="l03270" name="l03270"></a><span class="lineno"> 3270</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : <a class="code hl_variable" href="classItem__factory.html#aeadd69bbf3c9c3aca9ba3c5b1d36765d">m_runtimes</a> ) {</div>
<div class="line"><a id="l03271" name="l03271"></a><span class="lineno"> 3271</span>        res.push_back( e.second.get() );</div>
<div class="line"><a id="l03272" name="l03272"></a><span class="lineno"> 3272</span>    }</div>
<div class="line"><a id="l03273" name="l03273"></a><span class="lineno"> 3273</span> </div>
<div class="line"><a id="l03274" name="l03274"></a><span class="lineno"> 3274</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l03275" name="l03275"></a><span class="lineno"> 3275</span>}</div>
<div class="line"><a id="l03276" name="l03276"></a><span class="lineno"> 3276</span> </div>
<div class="line"><a id="l03277" name="l03277"></a><span class="lineno"><a class="line" href="classItem__factory.html#a9a99b5d15414c972aafe2d6733d10413"> 3277</a></span>std::vector&lt;const itype *&gt; <a class="code hl_function" href="classItem__factory.html#a9a99b5d15414c972aafe2d6733d10413">Item_factory::get_runtime_types</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l03278" name="l03278"></a><span class="lineno"> 3278</span><span class="keyword"></span>{</div>
<div class="line"><a id="l03279" name="l03279"></a><span class="lineno"> 3279</span>    std::vector&lt;const itype *&gt; res;</div>
<div class="line"><a id="l03280" name="l03280"></a><span class="lineno"> 3280</span>    res.reserve( <a class="code hl_variable" href="classItem__factory.html#aeadd69bbf3c9c3aca9ba3c5b1d36765d">m_runtimes</a>.size() );</div>
<div class="line"><a id="l03281" name="l03281"></a><span class="lineno"> 3281</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : <a class="code hl_variable" href="classItem__factory.html#aeadd69bbf3c9c3aca9ba3c5b1d36765d">m_runtimes</a> ) {</div>
<div class="line"><a id="l03282" name="l03282"></a><span class="lineno"> 3282</span>        res.push_back( e.second.get() );</div>
<div class="line"><a id="l03283" name="l03283"></a><span class="lineno"> 3283</span>    }</div>
<div class="line"><a id="l03284" name="l03284"></a><span class="lineno"> 3284</span> </div>
<div class="line"><a id="l03285" name="l03285"></a><span class="lineno"> 3285</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l03286" name="l03286"></a><span class="lineno"> 3286</span>}</div>
<div class="line"><a id="l03287" name="l03287"></a><span class="lineno"> 3287</span><span class="comment"></span> </div>
<div class="line"><a id="l03288" name="l03288"></a><span class="lineno"> 3288</span><span class="comment">/** Find all templates matching the UnaryPredicate function */</span></div>
<div class="line"><a id="l03289" name="l03289"></a><span class="lineno"><a class="line" href="classItem__factory.html#a2fe4e054d71cc25acff45c3ddd3989ec"> 3289</a></span>std::vector&lt;const itype *&gt; <a class="code hl_function" href="classItem__factory.html#a2fe4e054d71cc25acff45c3ddd3989ec">Item_factory::find</a>( <span class="keyword">const</span> std::function&lt;<span class="keywordtype">bool</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> &amp; )&gt; &amp;func )</div>
<div class="line"><a id="l03290" name="l03290"></a><span class="lineno"> 3290</span>{</div>
<div class="line"><a id="l03291" name="l03291"></a><span class="lineno"> 3291</span>    assert( <a class="code hl_variable" href="classItem__factory.html#a505d771e637afa6c26124010e3c561cf">frozen</a> );</div>
<div class="line"><a id="l03292" name="l03292"></a><span class="lineno"> 3292</span> </div>
<div class="line"><a id="l03293" name="l03293"></a><span class="lineno"> 3293</span>    std::vector&lt;const itype *&gt; res;</div>
<div class="line"><a id="l03294" name="l03294"></a><span class="lineno"> 3294</span> </div>
<div class="line"><a id="l03295" name="l03295"></a><span class="lineno"> 3295</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : <a class="code hl_variable" href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">m_templates</a> ) {</div>
<div class="line"><a id="l03296" name="l03296"></a><span class="lineno"> 3296</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *i = &amp;e.second;</div>
<div class="line"><a id="l03297" name="l03297"></a><span class="lineno"> 3297</span>        <span class="keywordflow">if</span>( func( *i ) ) {</div>
<div class="line"><a id="l03298" name="l03298"></a><span class="lineno"> 3298</span>            res.push_back( i );</div>
<div class="line"><a id="l03299" name="l03299"></a><span class="lineno"> 3299</span>        }</div>
<div class="line"><a id="l03300" name="l03300"></a><span class="lineno"> 3300</span>    }</div>
<div class="line"><a id="l03301" name="l03301"></a><span class="lineno"> 3301</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : <a class="code hl_variable" href="classItem__factory.html#aeadd69bbf3c9c3aca9ba3c5b1d36765d">m_runtimes</a> ) {</div>
<div class="line"><a id="l03302" name="l03302"></a><span class="lineno"> 3302</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *i = e.second.get();</div>
<div class="line"><a id="l03303" name="l03303"></a><span class="lineno"> 3303</span>        <span class="keywordflow">if</span>( func( *i ) ) {</div>
<div class="line"><a id="l03304" name="l03304"></a><span class="lineno"> 3304</span>            res.push_back( i );</div>
<div class="line"><a id="l03305" name="l03305"></a><span class="lineno"> 3305</span>        }</div>
<div class="line"><a id="l03306" name="l03306"></a><span class="lineno"> 3306</span>    }</div>
<div class="line"><a id="l03307" name="l03307"></a><span class="lineno"> 3307</span> </div>
<div class="line"><a id="l03308" name="l03308"></a><span class="lineno"> 3308</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><a id="l03309" name="l03309"></a><span class="lineno"> 3309</span>}</div>
<div class="line"><a id="l03310" name="l03310"></a><span class="lineno"> 3310</span> </div>
<div class="line"><a id="l03311" name="l03311"></a><span class="lineno"><a class="line" href="classItem__factory.html#a1b355982d0b9d84eb452427e6b37ffed"> 3311</a></span><a class="code hl_class" href="classstring__id.html">itype_id</a> <a class="code hl_function" href="classItem__factory.html#a1b355982d0b9d84eb452427e6b37ffed">Item_factory::create_artifact_id</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l03312" name="l03312"></a><span class="lineno"> 3312</span><span class="keyword"></span>{</div>
<div class="line"><a id="l03313" name="l03313"></a><span class="lineno"> 3313</span>    <a class="code hl_class" href="classstring__id.html">itype_id</a> <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>;</div>
<div class="line"><a id="l03314" name="l03314"></a><span class="lineno"> 3314</span>    <span class="keywordtype">int</span> i = <a class="code hl_variable" href="classItem__factory.html#aeadd69bbf3c9c3aca9ba3c5b1d36765d">m_runtimes</a>.size();</div>
<div class="line"><a id="l03315" name="l03315"></a><span class="lineno"> 3315</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l03316" name="l03316"></a><span class="lineno"> 3316</span>        <span class="keywordtype">id</span> = <a class="code hl_variable" href="classItem__factory.html#af00b5574c94f15a4fec4fb91de966594">itype_id</a>( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <span class="stringliteral">&quot;artifact_%d&quot;</span>, i ) );</div>
<div class="line"><a id="l03317" name="l03317"></a><span class="lineno"> 3317</span>        ++i;</div>
<div class="line"><a id="l03318" name="l03318"></a><span class="lineno"> 3318</span>    } <span class="keywordflow">while</span>( <a class="code hl_function" href="classItem__factory.html#a838f908ffe40039c138823e86103788a">has_template</a>( <span class="keywordtype">id</span> ) );</div>
<div class="line"><a id="l03319" name="l03319"></a><span class="lineno"> 3319</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>;</div>
<div class="line"><a id="l03320" name="l03320"></a><span class="lineno"> 3320</span>}</div>
<div class="line"><a id="l03321" name="l03321"></a><span class="lineno"> 3321</span> </div>
<div class="line"><a id="l03322" name="l03322"></a><span class="lineno"><a class="line" href="classItem__factory.html#a6cfca92f8358a8a4a749fcb8088bfb0d"> 3322</a></span>std::list&lt;itype_id&gt; <a class="code hl_function" href="classItem__factory.html#a6cfca92f8358a8a4a749fcb8088bfb0d">Item_factory::subtype_replacement</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;base )<span class="keyword"> const</span></div>
<div class="line"><a id="l03323" name="l03323"></a><span class="lineno"> 3323</span><span class="keyword"></span>{</div>
<div class="line"><a id="l03324" name="l03324"></a><span class="lineno"> 3324</span>    std::list&lt;itype_id&gt; <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l03325" name="l03325"></a><span class="lineno"> 3325</span>    <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.push_back( base );</div>
<div class="line"><a id="l03326" name="l03326"></a><span class="lineno"> 3326</span>    <span class="keyword">const</span> <span class="keyword">auto</span> replacements = <a class="code hl_variable" href="classItem__factory.html#a884f46fe503c5e21917b3cb098383c99">tool_subtypes</a>.find( base );</div>
<div class="line"><a id="l03327" name="l03327"></a><span class="lineno"> 3327</span>    <span class="keywordflow">if</span>( replacements != <a class="code hl_variable" href="classItem__factory.html#a884f46fe503c5e21917b3cb098383c99">tool_subtypes</a>.end() ) {</div>
<div class="line"><a id="l03328" name="l03328"></a><span class="lineno"> 3328</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.insert( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.end(), replacements-&gt;second.begin(), replacements-&gt;second.end() );</div>
<div class="line"><a id="l03329" name="l03329"></a><span class="lineno"> 3329</span>    }</div>
<div class="line"><a id="l03330" name="l03330"></a><span class="lineno"> 3330</span> </div>
<div class="line"><a id="l03331" name="l03331"></a><span class="lineno"> 3331</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l03332" name="l03332"></a><span class="lineno"> 3332</span>}</div>
<div class="ttc" id="aaddiction_8cpp_html_ab5328bd41c98cc6d16d9968701845479"><div class="ttname"><a href="addiction_8cpp.html#ab5328bd41c98cc6d16d9968701845479">addiction_type</a></div><div class="ttdeci">add_type addiction_type(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="addiction_8cpp_source.html#l00333">addiction.cpp:333</a></div></div>
<div class="ttc" id="aaddiction_8h_html"><div class="ttname"><a href="addiction_8h.html">addiction.h</a></div></div>
<div class="ttc" id="aammo_8h_html"><div class="ttname"><a href="ammo_8h.html">ammo.h</a></div></div>
<div class="ttc" id="aartifact_8h_html"><div class="ttname"><a href="artifact_8h.html">artifact.h</a></div></div>
<div class="ttc" id="aartifact_8h_html_a4abd5689a3239540154244d74ac6cc03a642a5378b378d82b562da629b805bfb7"><div class="ttname"><a href="artifact_8h.html#a4abd5689a3239540154244d74ac6cc03a642a5378b378d82b562da629b805bfb7">ARTC_NULL</a></div><div class="ttdeci">@ ARTC_NULL</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00063">artifact.h:63</a></div></div>
<div class="ttc" id="aartifact_8h_html_ada74042dbacb2f0db9c7e7f24dab29f2ab2546d47b244252708f0df89bb640f26"><div class="ttname"><a href="artifact_8h.html#ada74042dbacb2f0db9c7e7f24dab29f2ab2546d47b244252708f0df89bb640f26">ACR_NULL</a></div><div class="ttdeci">@ ACR_NULL</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8h_source.html#l00079">artifact.h:79</a></div></div>
<div class="ttc" id="aassign_8h_html"><div class="ttname"><a href="assign_8h.html">assign.h</a></div></div>
<div class="ttc" id="aassign_8h_html_abefce6b21ce60d9d6dc6037cf5ed5973"><div class="ttname"><a href="assign_8h.html#abefce6b21ce60d9d6dc6037cf5ed5973">is_strict_enabled</a></div><div class="ttdeci">bool is_strict_enabled(const std::string &amp;src)</div><div class="ttdoc">Check whether strict checks are enabled for given mod.</div><div class="ttdef"><b>Definition:</b> <a href="mod__manager_8cpp_source.html#l00368">mod_manager.cpp:368</a></div></div>
<div class="ttc" id="abodypart_8cpp_html_ad42c8031522b92ad3c31e55b0a4a71fa"><div class="ttname"><a href="bodypart_8cpp.html#ad42c8031522b92ad3c31e55b0a4a71fa">get_body_part_token</a></div><div class="ttdeci">body_part get_body_part_token(const std::string &amp;id)</div><div class="ttdoc">Returns the matching body_part token from the corresponding body_part string.</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00180">bodypart.cpp:180</a></div></div>
<div class="ttc" id="abodypart_8h_html"><div class="ttname"><a href="bodypart_8h.html">bodypart.h</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a184f1b627fd11fb607e76b2d30dadfbb"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a184f1b627fd11fb607e76b2d30dadfbb">bp_foot_l</a></div><div class="ttdeci">@ bp_foot_l</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00050">bodypart.h:50</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a202ad82497ebf8867cdcd6ee15085d16"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a202ad82497ebf8867cdcd6ee15085d16">bp_leg_r</a></div><div class="ttdeci">@ bp_leg_r</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00049">bodypart.h:49</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a2806629e65a2c2eb5d8049e29e77910e"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2806629e65a2c2eb5d8049e29e77910e">bp_hand_l</a></div><div class="ttdeci">@ bp_hand_l</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00046">bodypart.h:46</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a441080ba1d3930d38f635658d9b28e01"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a441080ba1d3930d38f635658d9b28e01">bp_arm_l</a></div><div class="ttdeci">@ bp_arm_l</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00044">bodypart.h:44</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a44506e97ae9648354f97d530a3be61b8"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a44506e97ae9648354f97d530a3be61b8">bp_leg_l</a></div><div class="ttdeci">@ bp_leg_l</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00048">bodypart.h:48</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a54721306a0e05318b6d0440349c1a0fb"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a54721306a0e05318b6d0440349c1a0fb">bp_hand_r</a></div><div class="ttdeci">@ bp_hand_r</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00047">bodypart.h:47</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980ac094b1c6f96ebbd604928cfd2fad0ab7"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac094b1c6f96ebbd604928cfd2fad0ab7">bp_foot_r</a></div><div class="ttdeci">@ bp_foot_r</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00051">bodypart.h:51</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980ae5f21c7494ad730a0c6abf6957976cb3"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ae5f21c7494ad730a0c6abf6957976cb3">bp_arm_r</a></div><div class="ttdeci">@ bp_arm_r</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00045">bodypart.h:45</a></div></div>
<div class="ttc" id="acached__options_8cpp_html_a16e6bc0b3300c5fb311e7f3571fb67c7"><div class="ttname"><a href="cached__options_8cpp.html#a16e6bc0b3300c5fb311e7f3571fb67c7">json_report_strict</a></div><div class="ttdeci">bool json_report_strict</div><div class="ttdoc">Report extra problems in JSONs.</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00006">cached_options.cpp:6</a></div></div>
<div class="ttc" id="acalendar_8h_html"><div class="ttname"><a href="calendar_8h.html">calendar.h</a></div></div>
<div class="ttc" id="acata__utility_8h_html"><div class="ttname"><a href="cata__utility_8h.html">cata_utility.h</a></div></div>
<div class="ttc" id="acata__utility_8h_html_ad7f4be1b8ffc52a0be18e72d041241af"><div class="ttname"><a href="cata__utility_8h.html#ad7f4be1b8ffc52a0be18e72d041241af">erase_if</a></div><div class="ttdeci">bool erase_if(Col &amp;set, Pred predicate)</div><div class="ttdoc">Erases elements from a set that match given predicate function.</div><div class="ttdef"><b>Definition:</b> <a href="cata__utility_8h_source.html#l00233">cata_utility.h:233</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a39fb4edcfa1147eb588946ebf1286f41"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a39fb4edcfa1147eb588946ebf1286f41">cata_variant_type::matype_id</a></div><div class="ttdeci">@ matype_id</div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4ad38d4c395846ba5367acc27e08bc248d">cata_variant_type::skill_id</a></div><div class="ttdeci">@ skill_id</div></div>
<div class="ttc" id="acatacharset_8cpp_html_a7616a48a4b48437c60b6683439a8f3e2"><div class="ttname"><a href="catacharset_8cpp.html#a7616a48a4b48437c60b6683439a8f3e2">utf8_width</a></div><div class="ttdeci">int utf8_width(const char *s, const bool ignore_tags)</div><div class="ttdef"><b>Definition:</b> <a href="catacharset_8cpp_source.html#l00142">catacharset.cpp:142</a></div></div>
<div class="ttc" id="acatacharset_8h_html"><div class="ttname"><a href="catacharset_8h.html">catacharset.h</a></div></div>
<div class="ttc" id="aclassDynamicDataLoader_html_adca1972b6d79ffd55d6d7ca1a0c329b9"><div class="ttname"><a href="classDynamicDataLoader.html#adca1972b6d79ffd55d6d7ca1a0c329b9">DynamicDataLoader::get_instance</a></div><div class="ttdeci">static DynamicDataLoader &amp; get_instance()</div><div class="ttdoc">Returns the single instance of this class.</div><div class="ttdef"><b>Definition:</b> <a href="init_8cpp_source.html#l00114">init.cpp:114</a></div></div>
<div class="ttc" id="aclassDynamicDataLoader_html_adf725674a5fcd11a4e8a248e14717d27"><div class="ttname"><a href="classDynamicDataLoader.html#adf725674a5fcd11a4e8a248e14717d27">DynamicDataLoader::load_deferred</a></div><div class="ttdeci">void load_deferred(deferred_json &amp;data)</div><div class="ttdoc">Loads and then removes entries from.</div><div class="ttdef"><b>Definition:</b> <a href="init_8cpp_source.html#l00153">init.cpp:153</a></div></div>
<div class="ttc" id="aclassDynamicDataLoader_html_ae7720100aeff1549501c1eff641d29dd"><div class="ttname"><a href="classDynamicDataLoader.html#ae7720100aeff1549501c1eff641d29dd">DynamicDataLoader::deferred_json</a></div><div class="ttdeci">std::list&lt; std::pair&lt; json_source_location, std::string &gt; &gt; deferred_json</div><div class="ttdoc">JSON data dependent upon as-yet unparsed definitions first: JSON source location, second: source iden...</div><div class="ttdef"><b>Definition:</b> <a href="init_8h_source.html#l00067">init.h:67</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a06d9c7312db07df1a2e0cb97ad8a8dae"><div class="ttname"><a href="classItem__factory.html#a06d9c7312db07df1a2e0cb97ad8a8dae">Item_factory::set_allergy_flags</a></div><div class="ttdeci">static void set_allergy_flags(itype &amp;item_template)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02315">item_factory.cpp:2315</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a0fa9fec95230279d35c9ddfcde2acc28"><div class="ttname"><a href="classItem__factory.html#a0fa9fec95230279d35c9ddfcde2acc28">Item_factory::load_container</a></div><div class="ttdeci">void load_container(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02152">item_factory.cpp:2152</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a145484f308dc79d43ea1b6eff2b4f2cc"><div class="ttname"><a href="classItem__factory.html#a145484f308dc79d43ea1b6eff2b4f2cc">Item_factory::migrate_id</a></div><div class="ttdeci">itype_id migrate_id(const itype_id &amp;id)</div><div class="ttdoc">Applies any migration of the item id.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02677">item_factory.cpp:2677</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a14cf9956758d3839da52943c37acb663"><div class="ttname"><a href="classItem__factory.html#a14cf9956758d3839da52943c37acb663">Item_factory::load_toolmod</a></div><div class="ttdeci">void load_toolmod(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01967">item_factory.cpp:1967</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a1aec789abd53810026e0d878c0069aea"><div class="ttname"><a href="classItem__factory.html#a1aec789abd53810026e0d878c0069aea">Item_factory::m_template_groups</a></div><div class="ttdeci">GroupMap m_template_groups</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00251">item_factory.h:251</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a1b355982d0b9d84eb452427e6b37ffed"><div class="ttname"><a href="classItem__factory.html#a1b355982d0b9d84eb452427e6b37ffed">Item_factory::create_artifact_id</a></div><div class="ttdeci">itype_id create_artifact_id() const</div><div class="ttdoc">Create a new (and currently unused) item type id.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l03311">item_factory.cpp:3311</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a1c35056fa9be3e2a54f3e0d64891ff01"><div class="ttname"><a href="classItem__factory.html#a1c35056fa9be3e2a54f3e0d64891ff01">Item_factory::load_bionic</a></div><div class="ttdeci">void load_bionic(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02296">item_factory.cpp:2296</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a2575b508d2fea4ba82af973171d6f45a"><div class="ttname"><a href="classItem__factory.html#a2575b508d2fea4ba82af973171d6f45a">Item_factory::npc_implied_flags</a></div><div class="ttdeci">static void npc_implied_flags(itype &amp;item_template)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02371">item_factory.cpp:2371</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a2afd77ca9e222b8fe844c19534e171b9"><div class="ttname"><a href="classItem__factory.html#a2afd77ca9e222b8fe844c19534e171b9">Item_factory::add_item_to_group</a></div><div class="ttdeci">bool add_item_to_group(const item_group_id &amp;group_id, const itype_id &amp;item_id, int chance)</div><div class="ttdoc">Sets the chance of the specified item in the group.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l03198">item_factory.cpp:3198</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a2fe4e054d71cc25acff45c3ddd3989ec"><div class="ttname"><a href="classItem__factory.html#a2fe4e054d71cc25acff45c3ddd3989ec">Item_factory::find</a></div><div class="ttdeci">std::vector&lt; const itype * &gt; find(const std::function&lt; bool(const itype &amp;)&gt; &amp;func)</div><div class="ttdoc">Find all item templates (both static and runtime) matching UnaryPredicate function.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l03289">item_factory.cpp:3289</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a301f489c5195fee4690db8f40ae42170"><div class="ttname"><a href="classItem__factory.html#a301f489c5195fee4690db8f40ae42170">Item_factory::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Reset the item factory.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02757">item_factory.cpp:2757</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a30cede55b74649c2c130566e132b2852"><div class="ttname"><a href="classItem__factory.html#a30cede55b74649c2c130566e132b2852">Item_factory::register_cached_uses</a></div><div class="ttdeci">void register_cached_uses(const itype &amp;obj)</div><div class="ttdoc">Registers the item as having repair actions (if it has any).</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00567">item_factory.cpp:567</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a36d00fe876facfc0a24280fa1a326772"><div class="ttname"><a href="classItem__factory.html#a36d00fe876facfc0a24280fa1a326772">Item_factory::set_properties_from_json</a></div><div class="ttdeci">void set_properties_from_json(const JsonObject &amp;jo, const std::string &amp;member, itype &amp;def)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02741">item_factory.cpp:2741</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a3804571719b38b513c078ad2506cb1db"><div class="ttname"><a href="classItem__factory.html#a3804571719b38b513c078ad2506cb1db">Item_factory::finalize_post</a></div><div class="ttdeci">void finalize_post(itype &amp;obj)</div><div class="ttdoc">Applies part of finalization that depends on other items.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00582">item_factory.cpp:582</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a3a3eb479a017482c757e4b3c9a347c72"><div class="ttname"><a href="classItem__factory.html#a3a3eb479a017482c757e4b3c9a347c72">Item_factory::load_magazine</a></div><div class="ttdeci">void load_magazine(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02256">item_factory.cpp:2256</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a3d5734050655293211857b8ca87f59c2"><div class="ttname"><a href="classItem__factory.html#a3d5734050655293211857b8ca87f59c2">Item_factory::has_iuse</a></div><div class="ttdeci">bool has_iuse(const item_action_id &amp;type) const</div><div class="ttdoc">Check if an iuse is known to the Item_factory.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00218">item_factory.h:218</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a417909e28d2d1b631af25f5086130adf"><div class="ttname"><a href="classItem__factory.html#a417909e28d2d1b631af25f5086130adf">Item_factory::load_engine</a></div><div class="ttdeci">void load_engine(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01722">item_factory.cpp:1722</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a45af979c36e201b79655109aaa5687d8"><div class="ttname"><a href="classItem__factory.html#a45af979c36e201b79655109aaa5687d8">Item_factory::all</a></div><div class="ttdeci">std::vector&lt; const itype * &gt; all() const</div><div class="ttdoc">Get all item templates (both static and runtime)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l03260">item_factory.cpp:3260</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a4e652a1bb11e1fa9ca38fdd48db25bb7"><div class="ttname"><a href="classItem__factory.html#a4e652a1bb11e1fa9ca38fdd48db25bb7">Item_factory::usage_from_string</a></div><div class="ttdeci">use_function usage_from_string(const std::string &amp;type) const</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l03115">item_factory.cpp:3115</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a4efc5a2a2d3268fc306894a60d7fd488"><div class="ttname"><a href="classItem__factory.html#a4efc5a2a2d3268fc306894a60d7fd488">Item_factory::get_all_group_names</a></div><div class="ttdeci">std::vector&lt; item_group_id &gt; get_all_group_names()</div><div class="ttdoc">Returns the idents of all item groups that are known.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l03189">item_factory.cpp:3189</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a505d771e637afa6c26124010e3c561cf"><div class="ttname"><a href="classItem__factory.html#a505d771e637afa6c26124010e3c561cf">Item_factory::frozen</a></div><div class="ttdeci">bool frozen</div><div class="ttdoc">Set at finalization and prevents alterations to the static item templates.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00242">item_factory.h:242</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a5085a97eaa9f1337fda54892483718ef"><div class="ttname"><a href="classItem__factory.html#a5085a97eaa9f1337fda54892483718ef">Item_factory::add_item_type</a></div><div class="ttdeci">void add_item_type(const itype &amp;def)</div><div class="ttdoc">Add a passed in itype to the collection of item types.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00835">item_factory.cpp:835</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a5199d46088632adcd91fc3b89187041a"><div class="ttname"><a href="classItem__factory.html#a5199d46088632adcd91fc3b89187041a">Item_factory::load</a></div><div class="ttdeci">void load(islot_tool &amp;slot, const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01883">item_factory.cpp:1883</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a5228d89089a41c368b340915326bd7a6"><div class="ttname"><a href="classItem__factory.html#a5228d89089a41c368b340915326bd7a6">Item_factory::load_gunmod</a></div><div class="ttdeci">void load_gunmod(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02226">item_factory.cpp:2226</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a58862a6393021df8c1616e0ed83aae30"><div class="ttname"><a href="classItem__factory.html#a58862a6393021df8c1616e0ed83aae30">Item_factory::load_wheel</a></div><div class="ttdeci">void load_wheel(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01737">item_factory.cpp:1737</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a5d7cc0f3baf766f9cc990a6fe1d87553"><div class="ttname"><a href="classItem__factory.html#a5d7cc0f3baf766f9cc990a6fe1d87553">Item_factory::load_string</a></div><div class="ttdeci">bool load_string(std::vector&lt; std::string &gt; &amp;vec, const JsonObject &amp;obj, const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02892">item_factory.cpp:2892</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a5e5bb18ff8e530d750a009e5458e7dca"><div class="ttname"><a href="classItem__factory.html#a5e5bb18ff8e530d750a009e5458e7dca">Item_factory::finalize</a></div><div class="ttdeci">void finalize()</div><div class="ttdoc">called after all JSON has been read and performs any necessary cleanup tasks</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00632">item_factory.cpp:632</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a615b7ac9ef1e02f1858f976583706109"><div class="ttname"><a href="classItem__factory.html#a615b7ac9ef1e02f1858f976583706109">Item_factory::check_ammo_type</a></div><div class="ttdeci">bool check_ammo_type(std::string &amp;msg, const ammotype &amp;ammo) const</div><div class="ttdoc">Checks that ammo is listed in ammunition_type::name().</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01094">item_factory.cpp:1094</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a62bd969ef95b44af511ba6ea0db8c7b4"><div class="ttname"><a href="classItem__factory.html#a62bd969ef95b44af511ba6ea0db8c7b4">Item_factory::load_book</a></div><div class="ttdeci">void load_book(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02005">item_factory.cpp:2005</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a648a5e87def27dd301a2cd2db6b60f8d"><div class="ttname"><a href="classItem__factory.html#a648a5e87def27dd301a2cd2db6b60f8d">Item_factory::load_slot</a></div><div class="ttdeci">void load_slot(cata::value_ptr&lt; SlotType &gt; &amp;slotptr, const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdoc">Load the data of the slot struct.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01575">item_factory.cpp:1575</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a6b88cfdaf12efb71de87696714ee237c"><div class="ttname"><a href="classItem__factory.html#a6b88cfdaf12efb71de87696714ee237c">Item_factory::load_fuel</a></div><div class="ttdeci">void load_fuel(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01765">item_factory.cpp:1765</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a6cfca92f8358a8a4a749fcb8088bfb0d"><div class="ttname"><a href="classItem__factory.html#a6cfca92f8358a8a4a749fcb8088bfb0d">Item_factory::subtype_replacement</a></div><div class="ttdeci">std::list&lt; itype_id &gt; subtype_replacement(const itype_id &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l03322">item_factory.cpp:3322</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a71118bb9471dcf03a0ac69f45dacb346"><div class="ttname"><a href="classItem__factory.html#a71118bb9471dcf03a0ac69f45dacb346">Item_factory::load_basic_info</a></div><div class="ttdeci">void load_basic_info(const JsonObject &amp;jo, itype &amp;def, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02400">item_factory.cpp:2400</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a74be8fac6c7cb1dc966f98069741955d"><div class="ttname"><a href="classItem__factory.html#a74be8fac6c7cb1dc966f98069741955d">Item_factory::emplace_usage</a></div><div class="ttdeci">void emplace_usage(std::map&lt; std::string, use_function &gt; &amp;container, const std::string &amp;iuse_id)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l03084">item_factory.cpp:3084</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a76b46768155780dca9f2a872e75fddea"><div class="ttname"><a href="classItem__factory.html#a76b46768155780dca9f2a872e75fddea">Item_factory::delete_qualities_from_json</a></div><div class="ttdeci">void delete_qualities_from_json(const JsonObject &amp;jo, const std::string &amp;member, itype &amp;def)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02730">item_factory.cpp:2730</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a777b712b7a0b03c6e0ad239ad29d7094"><div class="ttname"><a href="classItem__factory.html#a777b712b7a0b03c6e0ad239ad29d7094">Item_factory::migrated_magazines</a></div><div class="ttdeci">std::unordered_map&lt; itype_id, itype_id &gt; migrated_magazines</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00254">item_factory.h:254</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a78c867f6a9f3fd09db30e3c3e3d4303f"><div class="ttname"><a href="classItem__factory.html#a78c867f6a9f3fd09db30e3c3e3d4303f">Item_factory::m_abstracts</a></div><div class="ttdeci">std::map&lt; itype_id, itype &gt; m_abstracts</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00244">item_factory.h:244</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a79a031be684872453957ecfb19876fd9"><div class="ttname"><a href="classItem__factory.html#a79a031be684872453957ecfb19876fd9">Item_factory::load_item_group</a></div><div class="ttdeci">void load_item_group(const JsonObject &amp;jsobj)</div><div class="ttdoc">Callback for the init system (DynamicDataLoader), loads an item group definitions.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02964">item_factory.cpp:2964</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a7baab0d89393eb43d382389bd63d98b2"><div class="ttname"><a href="classItem__factory.html#a7baab0d89393eb43d382389bd63d98b2">Item_factory::load_item_blacklist</a></div><div class="ttdeci">void load_item_blacklist(const JsonObject &amp;json)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00766">item_factory.cpp:766</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a7cd4dd0d32f16602b6ef248a5a6510ca"><div class="ttname"><a href="classItem__factory.html#a7cd4dd0d32f16602b6ef248a5a6510ca">Item_factory::find_template</a></div><div class="ttdeci">const itype * find_template(const itype_id &amp;id) const</div><div class="ttdoc">Returns the itype with the given id.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01524">item_factory.cpp:1524</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a838f908ffe40039c138823e86103788a"><div class="ttname"><a href="classItem__factory.html#a838f908ffe40039c138823e86103788a">Item_factory::has_template</a></div><div class="ttdeci">bool has_template(const itype_id &amp;id) const</div><div class="ttdoc">Check if an item type is known to the Item_factory.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l03255">item_factory.cpp:3255</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a839d4e378b9e255c14e1b64f0404b785"><div class="ttname"><a href="classItem__factory.html#a839d4e378b9e255c14e1b64f0404b785">Item_factory::load_slot_optional</a></div><div class="ttdeci">void load_slot_optional(cata::value_ptr&lt; SlotType &gt; &amp;slotptr, const JsonObject &amp;jo, const std::string &amp;member, const std::string &amp;src)</div><div class="ttdoc">Load item the item slot if present in json.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01585">item_factory.cpp:1585</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a8453c94f39f6cd4e081a0229a78108af"><div class="ttname"><a href="classItem__factory.html#a8453c94f39f6cd4e081a0229a78108af">Item_factory::migrations</a></div><div class="ttdeci">std::map&lt; itype_id, migration &gt; migrations</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00365">item_factory.h:365</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a884f46fe503c5e21917b3cb098383c99"><div class="ttname"><a href="classItem__factory.html#a884f46fe503c5e21917b3cb098383c99">Item_factory::tool_subtypes</a></div><div class="ttdeci">std::map&lt; itype_id, std::set&lt; itype_id &gt; &gt; tool_subtypes</div><div class="ttdoc">Contains the tool subtype mappings for crafting (i.e.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00371">item_factory.h:371</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a89b9af1728de9b96004db5a7ceb5e0fc"><div class="ttname"><a href="classItem__factory.html#a89b9af1728de9b96004db5a7ceb5e0fc">Item_factory::load_armor</a></div><div class="ttdeci">void load_armor(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01833">item_factory.cpp:1833</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a8b49fe019e92adc0e8ae3cebdbdf7c75"><div class="ttname"><a href="classItem__factory.html#a8b49fe019e92adc0e8ae3cebdbdf7c75">Item_factory::finalize_pre</a></div><div class="ttdeci">void finalize_pre(itype &amp;obj)</div><div class="ttdoc">Applies part of finalization that don't depend on other items.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00165">item_factory.cpp:165</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a8bbec0a6c1ee7ec9e858faadb20f2dc8"><div class="ttname"><a href="classItem__factory.html#a8bbec0a6c1ee7ec9e858faadb20f2dc8">Item_factory::~Item_factory</a></div><div class="ttdeci">~Item_factory()</div></div>
<div class="ttc" id="aclassItem__factory_html_a8de179e11040e0fa2d66ad9c8a5c9fd5"><div class="ttname"><a href="classItem__factory.html#a8de179e11040e0fa2d66ad9c8a5c9fd5">Item_factory::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02763">item_factory.cpp:2763</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a95c2001cf13c3a43d0d260dfff6f070c"><div class="ttname"><a href="classItem__factory.html#a95c2001cf13c3a43d0d260dfff6f070c">Item_factory::load_definition</a></div><div class="ttdeci">bool load_definition(const JsonObject &amp;jo, const std::string &amp;src, itype &amp;def)</div><div class="ttdoc">Called before creating a new template and handles inheritance via copy-from May defer instantiation o...</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01613">item_factory.cpp:1613</a></div></div>
<div class="ttc" id="aclassItem__factory_html_a9a99b5d15414c972aafe2d6733d10413"><div class="ttname"><a href="classItem__factory.html#a9a99b5d15414c972aafe2d6733d10413">Item_factory::get_runtime_types</a></div><div class="ttdeci">std::vector&lt; const itype * &gt; get_runtime_types() const</div><div class="ttdoc">Get item types created at runtime.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l03277">item_factory.cpp:3277</a></div></div>
<div class="ttc" id="aclassItem__factory_html_aa273b2378a5f068c3a3695d150e09ee0"><div class="ttname"><a href="classItem__factory.html#aa273b2378a5f068c3a3695d150e09ee0">Item_factory::check_definitions</a></div><div class="ttdeci">void check_definitions() const</div><div class="ttdoc">Check consistency of itype and item group definitions, for example valid material,...</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01115">item_factory.cpp:1115</a></div></div>
<div class="ttc" id="aclassItem__factory_html_aa41ab9d10965da89dfd956fe97586570"><div class="ttname"><a href="classItem__factory.html#aa41ab9d10965da89dfd956fe97586570">Item_factory::load_sub_ref</a></div><div class="ttdeci">bool load_sub_ref(std::unique_ptr&lt; Item_spawn_data &gt; &amp;ptr, const JsonObject &amp;obj, const std::string &amp;name, const Item_group &amp;parent)</div><div class="ttdoc">Helper function for Item_group loading.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02831">item_factory.cpp:2831</a></div></div>
<div class="ttc" id="aclassItem__factory_html_aa8803d050f39c239c1fb55873cbe699c"><div class="ttname"><a href="classItem__factory.html#aa8803d050f39c239c1fb55873cbe699c">Item_factory::m_templates</a></div><div class="ttdeci">std::unordered_map&lt; itype_id, itype &gt; m_templates</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00246">item_factory.h:246</a></div></div>
<div class="ttc" id="aclassItem__factory_html_aad85da896b2ec191e4514e6d03ce74ef"><div class="ttname"><a href="classItem__factory.html#aad85da896b2ec191e4514e6d03ce74ef">Item_factory::gun_tools</a></div><div class="ttdeci">std::set&lt; itype_id &gt; gun_tools</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00377">item_factory.h:377</a></div></div>
<div class="ttc" id="aclassItem__factory_html_aae6f2de3b22ec1d07a5743ddb129b14f"><div class="ttname"><a href="classItem__factory.html#aae6f2de3b22ec1d07a5743ddb129b14f">Item_factory::set_use_methods_from_json</a></div><div class="ttdeci">void set_use_methods_from_json(const JsonObject &amp;jo, const std::string &amp;member, std::map&lt; std::string, use_function &gt; &amp;use_methods)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l03043">item_factory.cpp:3043</a></div></div>
<div class="ttc" id="aclassItem__factory_html_ab5504ee5dc212f7d52508bab8c323dae"><div class="ttname"><a href="classItem__factory.html#ab5504ee5dc212f7d52508bab8c323dae">Item_factory::get_group</a></div><div class="ttdeci">Item_spawn_data * get_group(const item_group_id &amp;item_group_id)</div><div class="ttdoc">Get the item group object.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01561">item_factory.cpp:1561</a></div></div>
<div class="ttc" id="aclassItem__factory_html_ab6bd27c42a0bb631ea90d9745c3c031b"><div class="ttname"><a href="classItem__factory.html#ab6bd27c42a0bb631ea90d9745c3c031b">Item_factory::add_actor</a></div><div class="ttdeci">void add_actor(std::unique_ptr&lt; iuse_actor &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00829">item_factory.cpp:829</a></div></div>
<div class="ttc" id="aclassItem__factory_html_ab809a0f986be4cd520b8bb238ff9e717"><div class="ttname"><a href="classItem__factory.html#ab809a0f986be4cd520b8bb238ff9e717">Item_factory::load_comestible</a></div><div class="ttdeci">void load_comestible(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02142">item_factory.cpp:2142</a></div></div>
<div class="ttc" id="aclassItem__factory_html_ab8879bd7c6bf52cc867d21e003773171"><div class="ttname"><a href="classItem__factory.html#ab8879bd7c6bf52cc867d21e003773171">Item_factory::iuse_function_list</a></div><div class="ttdeci">std::map&lt; item_action_id, use_function &gt; iuse_function_list</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00358">item_factory.h:358</a></div></div>
<div class="ttc" id="aclassItem__factory_html_abb78d901e4aaf49cbab604e32cff3890"><div class="ttname"><a href="classItem__factory.html#abb78d901e4aaf49cbab604e32cff3890">Item_factory::load_pet_armor</a></div><div class="ttdeci">void load_pet_armor(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01842">item_factory.cpp:1842</a></div></div>
<div class="ttc" id="aclassItem__factory_html_abd06b53e691181b7d01994bb8f498351"><div class="ttname"><a href="classItem__factory.html#abd06b53e691181b7d01994bb8f498351">Item_factory::migrate_item</a></div><div class="ttdeci">void migrate_item(const itype_id &amp;id, item &amp;obj)</div><div class="ttdoc">Applies any migrations to an instance of an item.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02683">item_factory.cpp:2683</a></div></div>
<div class="ttc" id="aclassItem__factory_html_abd13937eb5ca9022bed121004829e4fd"><div class="ttname"><a href="classItem__factory.html#abd13937eb5ca9022bed121004829e4fd">Item_factory::set_qualities_from_json</a></div><div class="ttdeci">void set_qualities_from_json(const JsonObject &amp;jo, const std::string &amp;member, itype &amp;def)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02705">item_factory.cpp:2705</a></div></div>
<div class="ttc" id="aclassItem__factory_html_abe743c41bb52871c5a2d347450f7b3ce"><div class="ttname"><a href="classItem__factory.html#abe743c41bb52871c5a2d347450f7b3ce">Item_factory::load_tool_armor</a></div><div class="ttdeci">void load_tool_armor(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01976">item_factory.cpp:1976</a></div></div>
<div class="ttc" id="aclassItem__factory_html_ac58203a04bf0d221f64ec46d6d82b96e"><div class="ttname"><a href="classItem__factory.html#ac58203a04bf0d221f64ec46d6d82b96e">Item_factory::migrated_ammo</a></div><div class="ttdeci">std::unordered_map&lt; itype_id, ammotype &gt; migrated_ammo</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00253">item_factory.h:253</a></div></div>
<div class="ttc" id="aclassItem__factory_html_ac5dfadf99cb6b3dc5c41722cc51a3745"><div class="ttname"><a href="classItem__factory.html#ac5dfadf99cb6b3dc5c41722cc51a3745">Item_factory::load_tool</a></div><div class="ttdeci">void load_tool(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01920">item_factory.cpp:1920</a></div></div>
<div class="ttc" id="aclassItem__factory_html_ac619360e4e3eb14fa8374642b5500965"><div class="ttname"><a href="classItem__factory.html#ac619360e4e3eb14fa8374642b5500965">Item_factory::extend_qualities_from_json</a></div><div class="ttdeci">void extend_qualities_from_json(const JsonObject &amp;jo, const std::string &amp;member, itype &amp;def)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02722">item_factory.cpp:2722</a></div></div>
<div class="ttc" id="aclassItem__factory_html_acbc793301935e25dc30818dd974281b7"><div class="ttname"><a href="classItem__factory.html#acbc793301935e25dc30818dd974281b7">Item_factory::repair_actions</a></div><div class="ttdeci">std::set&lt; std::string &gt; repair_actions</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00379">item_factory.h:379</a></div></div>
<div class="ttc" id="aclassItem__factory_html_adc0a0f21e98dce2bdc061a5fdd8675df"><div class="ttname"><a href="classItem__factory.html#adc0a0f21e98dce2bdc061a5fdd8675df">Item_factory::add_iuse</a></div><div class="ttdeci">void add_iuse(const std::string &amp;type, use_function_pointer f)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00817">item_factory.cpp:817</a></div></div>
<div class="ttc" id="aclassItem__factory_html_adcad005219724b3e6f1227ea3ebfdb2e"><div class="ttname"><a href="classItem__factory.html#adcad005219724b3e6f1227ea3ebfdb2e">Item_factory::load_generic</a></div><div class="ttdeci">void load_generic(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02305">item_factory.cpp:2305</a></div></div>
<div class="ttc" id="aclassItem__factory_html_ae6ee03edfb0eafee710569d8c6983c7d"><div class="ttname"><a href="classItem__factory.html#ae6ee03edfb0eafee710569d8c6983c7d">Item_factory::load_battery</a></div><div class="ttdeci">void load_battery(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02271">item_factory.cpp:2271</a></div></div>
<div class="ttc" id="aclassItem__factory_html_ae858c09c799baa5ab83217cbab2a9b0b"><div class="ttname"><a href="classItem__factory.html#ae858c09c799baa5ab83217cbab2a9b0b">Item_factory::usage_from_object</a></div><div class="ttdeci">std::pair&lt; std::string, use_function &gt; usage_from_object(const JsonObject &amp;obj)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l03093">item_factory.cpp:3093</a></div></div>
<div class="ttc" id="aclassItem__factory_html_aeadd69bbf3c9c3aca9ba3c5b1d36765d"><div class="ttname"><a href="classItem__factory.html#aeadd69bbf3c9c3aca9ba3c5b1d36765d">Item_factory::m_runtimes</a></div><div class="ttdeci">std::map&lt; itype_id, std::unique_ptr&lt; itype &gt; &gt; m_runtimes</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00248">item_factory.h:248</a></div></div>
<div class="ttc" id="aclassItem__factory_html_aec35ae92aa379ec2424d61507bf2e949"><div class="ttname"><a href="classItem__factory.html#aec35ae92aa379ec2424d61507bf2e949">Item_factory::load_gun</a></div><div class="ttdeci">void load_gun(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01824">item_factory.cpp:1824</a></div></div>
<div class="ttc" id="aclassItem__factory_html_aedaca7435165e868da9cbd2e7b026466"><div class="ttname"><a href="classItem__factory.html#aedaca7435165e868da9cbd2e7b026466">Item_factory::finalize_item_blacklist</a></div><div class="ttdeci">void finalize_item_blacklist()</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00671">item_factory.cpp:671</a></div></div>
<div class="ttc" id="aclassItem__factory_html_aefd91edb7e8066d7fa9ca292d83d3309"><div class="ttname"><a href="classItem__factory.html#aefd91edb7e8066d7fa9ca292d83d3309">Item_factory::add_entry</a></div><div class="ttdeci">void add_entry(Item_group &amp;ig, const JsonObject &amp;obj)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02911">item_factory.cpp:2911</a></div></div>
<div class="ttc" id="aclassItem__factory_html_af00b5574c94f15a4fec4fb91de966594"><div class="ttname"><a href="classItem__factory.html#af00b5574c94f15a4fec4fb91de966594">Item_factory::itype_id</a></div><div class="ttdeci">friend itype_id</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00062">item_factory.h:62</a></div></div>
<div class="ttc" id="aclassItem__factory_html_af052340e46eca62bd496455f9b345ed5"><div class="ttname"><a href="classItem__factory.html#af052340e46eca62bd496455f9b345ed5">Item_factory::repair_tools</a></div><div class="ttdeci">std::set&lt; itype_id &gt; repair_tools</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00374">item_factory.h:374</a></div></div>
<div class="ttc" id="aclassItem__factory_html_af6a176b9f3d6dc48b5ba9cf8d415f754"><div class="ttname"><a href="classItem__factory.html#af6a176b9f3d6dc48b5ba9cf8d415f754">Item_factory::load_migration</a></div><div class="ttdeci">void load_migration(const JsonObject &amp;jo)</div><div class="ttdoc">Migrations transform items loaded from legacy saves.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02654">item_factory.cpp:2654</a></div></div>
<div class="ttc" id="aclassItem__factory_html_af73e102368fa0e54940e7ccd69b8c6d7"><div class="ttname"><a href="classItem__factory.html#af73e102368fa0e54940e7ccd69b8c6d7">Item_factory::init</a></div><div class="ttdeci">void init()</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00851">item_factory.cpp:851</a></div></div>
<div class="ttc" id="aclassItem__factory_html_afe2020ce7c7301f4a3b8b5595c0bc27c"><div class="ttname"><a href="classItem__factory.html#afe2020ce7c7301f4a3b8b5595c0bc27c">Item_factory::load_ammo</a></div><div class="ttdeci">void load_ammo(const JsonObject &amp;jo, const std::string &amp;src)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01697">item_factory.cpp:1697</a></div></div>
<div class="ttc" id="aclassItem__factory_html_afe8c8beaa42a135b40cbdc5dcfbd989d"><div class="ttname"><a href="classItem__factory.html#afe8c8beaa42a135b40cbdc5dcfbd989d">Item_factory::Item_factory</a></div><div class="ttdeci">Item_factory()</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00773">item_factory.cpp:773</a></div></div>
<div class="ttc" id="aclassItem__group_html"><div class="ttname"><a href="classItem__group.html">Item_group</a></div><div class="ttdoc">This is a list of item spawns.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00250">item_group.h:251</a></div></div>
<div class="ttc" id="aclassItem__group_html_a019a83a394df1cb15681f8c56d075bf1"><div class="ttname"><a href="classItem__group.html#a019a83a394df1cb15681f8c56d075bf1">Item_group::add_group_entry</a></div><div class="ttdeci">void add_group_entry(const item_group_id &amp;groupid, int probability)</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8cpp_source.html#l00451">item_group.cpp:451</a></div></div>
<div class="ttc" id="aclassItem__group_html_a1e517bd3c204c8b302a902762b71c92c"><div class="ttname"><a href="classItem__group.html#a1e517bd3c204c8b302a902762b71c92c">Item_group::with_magazine</a></div><div class="ttdeci">const int with_magazine</div><div class="ttdoc">Every item in this group has this chance [0-100%] for items to spawn with their default magazine (if ...</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00304">item_group.h:304</a></div></div>
<div class="ttc" id="aclassItem__group_html_a3a1bbf94696c51af4bcfcb1f56619600"><div class="ttname"><a href="classItem__group.html#a3a1bbf94696c51af4bcfcb1f56619600">Item_group::type</a></div><div class="ttdeci">const Type type</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00262">item_group.h:262</a></div></div>
<div class="ttc" id="aclassItem__group_html_a965bd73c404d73be5951fdcc919f4ce4"><div class="ttname"><a href="classItem__group.html#a965bd73c404d73be5951fdcc919f4ce4">Item_group::add_entry</a></div><div class="ttdeci">void add_entry(std::unique_ptr&lt; Item_spawn_data &gt; ptr)</div><div class="ttdoc">Once the relevant data has been read from JSON, this function is always called (either from Item_fact...</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8cpp_source.html#l00457">item_group.cpp:457</a></div></div>
<div class="ttc" id="aclassItem__group_html_a9b7b7ef9100fb33586d18b31989f6485"><div class="ttname"><a href="classItem__group.html#a9b7b7ef9100fb33586d18b31989f6485">Item_group::add_item_entry</a></div><div class="ttdeci">void add_item_entry(const itype_id &amp;itemid, int probability)</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8cpp_source.html#l00445">item_group.cpp:445</a></div></div>
<div class="ttc" id="aclassItem__group_html_ad7abcff1b113168d2050f50ff7215d47"><div class="ttname"><a href="classItem__group.html#ad7abcff1b113168d2050f50ff7215d47">Item_group::with_ammo</a></div><div class="ttdeci">const int with_ammo</div><div class="ttdoc">These aren't directly used.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00302">item_group.h:302</a></div></div>
<div class="ttc" id="aclassItem__group_html_ae51de1ef43540d3d8671f68faaa88ea0"><div class="ttname"><a href="classItem__group.html#ae51de1ef43540d3d8671f68faaa88ea0">Item_group::Type</a></div><div class="ttdeci">Type</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00254">item_group.h:254</a></div></div>
<div class="ttc" id="aclassItem__group_html_ae51de1ef43540d3d8671f68faaa88ea0a17cdc67b4430f8aecea238b1930a237c"><div class="ttname"><a href="classItem__group.html#ae51de1ef43540d3d8671f68faaa88ea0a17cdc67b4430f8aecea238b1930a237c">Item_group::G_DISTRIBUTION</a></div><div class="ttdeci">@ G_DISTRIBUTION</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00257">item_group.h:256</a></div></div>
<div class="ttc" id="aclassItem__group_html_ae51de1ef43540d3d8671f68faaa88ea0a876684fee2fb3551378e4fcea7a3757d"><div class="ttname"><a href="classItem__group.html#ae51de1ef43540d3d8671f68faaa88ea0a876684fee2fb3551378e4fcea7a3757d">Item_group::G_COLLECTION</a></div><div class="ttdeci">@ G_COLLECTION</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00255">item_group.h:255</a></div></div>
<div class="ttc" id="aclassItem__modifier_html"><div class="ttname"><a href="classItem__modifier.html">Item_modifier</a></div><div class="ttdoc">Creates a single item, but can change various aspects of the created item.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00150">item_group.h:151</a></div></div>
<div class="ttc" id="aclassItem__modifier_html_a2ebb01079005737a9969e3974a3f4202"><div class="ttname"><a href="classItem__modifier.html#a2ebb01079005737a9969e3974a3f4202">Item_modifier::damage</a></div><div class="ttdeci">std::pair&lt; int, int &gt; damage</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00153">item_group.h:153</a></div></div>
<div class="ttc" id="aclassItem__modifier_html_a3483befcea35a8740a31ec5349ddf7a5"><div class="ttname"><a href="classItem__modifier.html#a3483befcea35a8740a31ec5349ddf7a5">Item_modifier::dirt</a></div><div class="ttdeci">std::pair&lt; int, int &gt; dirt</div><div class="ttdoc">Charges to spawn the item with, if this turns out to be negative, the default charges are used.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00159">item_group.h:159</a></div></div>
<div class="ttc" id="aclassItem__modifier_html_a52ce9168146a3480610954de3bd4b0e9"><div class="ttname"><a href="classItem__modifier.html#a52ce9168146a3480610954de3bd4b0e9">Item_modifier::count</a></div><div class="ttdeci">std::pair&lt; int, int &gt; count</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00154">item_group.h:154</a></div></div>
<div class="ttc" id="aclassItem__modifier_html_a7f9abd149a2d2734f7dd0f71b7c2957a"><div class="ttname"><a href="classItem__modifier.html#a7f9abd149a2d2734f7dd0f71b7c2957a">Item_modifier::charges</a></div><div class="ttdeci">std::pair&lt; int, int &gt; charges</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00160">item_group.h:160</a></div></div>
<div class="ttc" id="aclassItem__modifier_html_a8700d88bdf8537630b996cd3292f57c5"><div class="ttname"><a href="classItem__modifier.html#a8700d88bdf8537630b996cd3292f57c5">Item_modifier::custom_flags</a></div><div class="ttdeci">std::vector&lt; std::string &gt; custom_flags</div><div class="ttdoc">Custom flags to be added to the item.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00184">item_group.h:184</a></div></div>
<div class="ttc" id="aclassItem__modifier_html_abc5594f7806fc9daa8abba7183b593d1"><div class="ttname"><a href="classItem__modifier.html#abc5594f7806fc9daa8abba7183b593d1">Item_modifier::container</a></div><div class="ttdeci">std::unique_ptr&lt; Item_spawn_data &gt; container</div><div class="ttdoc">Item should spawn inside this container, can be NULL, if item should not spawn in a container.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00175">item_group.h:175</a></div></div>
<div class="ttc" id="aclassItem__modifier_html_ac9f143ebb9e6bbded754cc3e7dcde6b0"><div class="ttname"><a href="classItem__modifier.html#ac9f143ebb9e6bbded754cc3e7dcde6b0">Item_modifier::contents</a></div><div class="ttdeci">std::unique_ptr&lt; Item_spawn_data &gt; contents</div><div class="ttdoc">This is used to create the contents of an item.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00179">item_group.h:179</a></div></div>
<div class="ttc" id="aclassItem__modifier_html_af2fc2ffec0292c47cd45d020b71b4d71"><div class="ttname"><a href="classItem__modifier.html#af2fc2ffec0292c47cd45d020b71b4d71">Item_modifier::ammo</a></div><div class="ttdeci">std::unique_ptr&lt; Item_spawn_data &gt; ammo</div><div class="ttdoc">Ammo for guns.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00165">item_group.h:165</a></div></div>
<div class="ttc" id="aclassItem__spawn__data_html"><div class="ttname"><a href="classItem__spawn__data.html">Item_spawn_data</a></div><div class="ttdoc">Base interface for item spawn.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00104">item_group.h:105</a></div></div>
<div class="ttc" id="aclassItem__spawn__data_html_ab2efbdf5fd166c9e011f583d5314f77e"><div class="ttname"><a href="classItem__spawn__data.html#ab2efbdf5fd166c9e011f583d5314f77e">Item_spawn_data::has_item</a></div><div class="ttdeci">virtual bool has_item(const itype_id &amp;itemid) const =0</div></div>
<div class="ttc" id="aclassItem__spawn__data_html_ad01293ea18b453019c45be22ad562bce"><div class="ttname"><a href="classItem__spawn__data.html#ad01293ea18b453019c45be22ad562bce">Item_spawn_data::remove_item</a></div><div class="ttdeci">virtual bool remove_item(const itype_id &amp;itemid)=0</div><div class="ttdoc">For item blacklisted, remove the given item from this and all linked groups.</div></div>
<div class="ttc" id="aclassJsonArray_html"><div class="ttname"><a href="classJsonArray.html">JsonArray</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l01028">json.h:1029</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a0b9f2991ca4cbc0d3181d1c87314067d"><div class="ttname"><a href="classJsonArray.html#a0b9f2991ca4cbc0d3181d1c87314067d">JsonArray::next_string</a></div><div class="ttdeci">std::string next_string()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00541">json.cpp:541</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a12e952546232a62428cb2a1741364006"><div class="ttname"><a href="classJsonArray.html#a12e952546232a62428cb2a1741364006">JsonArray::has_more</a></div><div class="ttdeci">bool has_more() const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00484">json.cpp:484</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a2912072ab7426208b75322976717bce4"><div class="ttname"><a href="classJsonArray.html#a2912072ab7426208b75322976717bce4">JsonArray::get_int</a></div><div class="ttdeci">int get_int(size_t index) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00577">json.cpp:577</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a4976d590ed48ab2fb2bae15259442584"><div class="ttname"><a href="classJsonArray.html#a4976d590ed48ab2fb2bae15259442584">JsonArray::get_array</a></div><div class="ttdeci">JsonArray get_array(size_t index) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00598">json.cpp:598</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a513b7a4eb1438938d9806d9446d90803"><div class="ttname"><a href="classJsonArray.html#a513b7a4eb1438938d9806d9446d90803">JsonArray::read_next</a></div><div class="ttdeci">bool read_next(T &amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l01113">json.h:1113</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a700c41c564ba2ed69e3c9766ac22ad30"><div class="ttname"><a href="classJsonArray.html#a700c41c564ba2ed69e3c9766ac22ad30">JsonArray::get_string</a></div><div class="ttdeci">std::string get_string(size_t index) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00591">json.cpp:591</a></div></div>
<div class="ttc" id="aclassJsonArray_html_a73e7d8a8c8669d242ae0013bf46a4b85"><div class="ttname"><a href="classJsonArray.html#a73e7d8a8c8669d242ae0013bf46a4b85">JsonArray::empty</a></div><div class="ttdeci">bool empty()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00492">json.cpp:492</a></div></div>
<div class="ttc" id="aclassJsonIn_html"><div class="ttname"><a href="classJsonIn.html">JsonIn</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00176">json.h:177</a></div></div>
<div class="ttc" id="aclassJsonIn_html_a4d4bca74241c07362969d5ef19be4882"><div class="ttname"><a href="classJsonIn.html#a4d4bca74241c07362969d5ef19be4882">JsonIn::get_enum_value</a></div><div class="ttdeci">E get_enum_value()</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00243">json.h:243</a></div></div>
<div class="ttc" id="aclassJsonIn_html_a70443f07b40c2a0ab1aee1e0418a1faf"><div class="ttname"><a href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">JsonIn::start_array</a></div><div class="ttdeci">void start_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01373">json.cpp:1373</a></div></div>
<div class="ttc" id="aclassJsonIn_html_adb53515d72e6e0457ae3266ace12d5e5"><div class="ttname"><a href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">JsonIn::end_array</a></div><div class="ttdeci">bool end_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01389">json.cpp:1389</a></div></div>
<div class="ttc" id="aclassJsonIn_html_af988f122efed0696d9d05f649e57c9b2"><div class="ttname"><a href="classJsonIn.html#af988f122efed0696d9d05f649e57c9b2">JsonIn::get_object</a></div><div class="ttdeci">JsonObject get_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01364">json.cpp:1364</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00831">json.h:832</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a0cd609c1bb7527609e6025d54f427a5c"><div class="ttname"><a href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">JsonObject::get_object</a></div><div class="ttdeci">JsonObject get_object(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00361">json.cpp:361</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a19d83d03e3d5cc6905bcb850d80a1f05"><div class="ttname"><a href="classJsonObject.html#a19d83d03e3d5cc6905bcb850d80a1f05">JsonObject::has_string</a></div><div class="ttdeci">bool has_string(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00405">json.cpp:405</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a20e3b6cc495cde67e4a178ae6f6e17d7"><div class="ttname"><a href="classJsonObject.html#a20e3b6cc495cde67e4a178ae6f6e17d7">JsonObject::get_float</a></div><div class="ttdeci">double get_float(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00298">json.cpp:298</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a49ff0ef5ec58e2cf47dcaa551eb2b472"><div class="ttname"><a href="classJsonObject.html#a49ff0ef5ec58e2cf47dcaa551eb2b472">JsonObject::has_object</a></div><div class="ttdeci">bool has_object(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00425">json.cpp:425</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a539477c9a10480af15673eb73be9c482"><div class="ttname"><a href="classJsonObject.html#a539477c9a10480af15673eb73be9c482">JsonObject::get_source_location</a></div><div class="ttdeci">json_source_location get_source_location() const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00249">json.cpp:249</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a5a52ac1f583a3db5af2c12faa46868ed"><div class="ttname"><a href="classJsonObject.html#a5a52ac1f583a3db5af2c12faa46868ed">JsonObject::get_tags</a></div><div class="ttdeci">std::set&lt; T &gt; get_tags(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l01329">json.h:1329</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a69f62f59b5e39da6059b7c3cf8b12421"><div class="ttname"><a href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00332">json.cpp:332</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a6f04277ed5262b016bc4b4642b14d866"><div class="ttname"><a href="classJsonObject.html#a6f04277ed5262b016bc4b4642b14d866">JsonObject::has_int</a></div><div class="ttdeci">bool has_int(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00928">json.h:928</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a82c84e4f6eb744e24a0a60cb0ed88491"><div class="ttname"><a href="classJsonObject.html#a82c84e4f6eb744e24a0a60cb0ed88491">JsonObject::get_string_array</a></div><div class="ttdeci">std::vector&lt; std::string &gt; get_string_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00352">json.cpp:352</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a887d230c6a42ef2a6cf72c0e040cd4e3"><div class="ttname"><a href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">JsonObject::has_member</a></div><div class="ttdeci">bool has_member(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00181">json.cpp:181</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a96b6d1b9cf7bda4fc9cd177a99e0631c"><div class="ttname"><a href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">JsonObject::get_string</a></div><div class="ttdeci">std::string get_string(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00314">json.cpp:314</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a985f8f01dd1105c10a318d04b710d413"><div class="ttname"><a href="classJsonObject.html#a985f8f01dd1105c10a318d04b710d413">JsonObject::get_raw</a></div><div class="ttdeci">JsonIn * get_raw(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00241">json.cpp:241</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a99e64f59bc5e72e7572125064b68da29"><div class="ttname"><a href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">JsonObject::get_int</a></div><div class="ttdeci">int get_int(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00282">json.cpp:282</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a9e628525564a9e7ef3755c10e0c9fac4"><div class="ttname"><a href="classJsonObject.html#a9e628525564a9e7ef3755c10e0c9fac4">JsonObject::get_bool</a></div><div class="ttdeci">bool get_bool(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00266">json.cpp:266</a></div></div>
<div class="ttc" id="aclassJsonObject_html_aa92b5eb23f6b39645877d79fbef784a0"><div class="ttname"><a href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00415">json.cpp:415</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae00cc01f914207318896e0e45ece96aa"><div class="ttname"><a href="classJsonObject.html#ae00cc01f914207318896e0e45ece96aa">JsonObject::get_enum_value</a></div><div class="ttdeci">E get_enum_value(const std::string &amp;name, const E fallback) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00895">json.h:895</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae00f195360e3783cf50527cf07344202"><div class="ttname"><a href="classJsonObject.html#ae00f195360e3783cf50527cf07344202">JsonObject::allow_omitted_members</a></div><div class="ttdeci">void allow_omitted_members() const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00150">json.cpp:150</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae66d47f9cb4993dfaf79819ec2aff2f8"><div class="ttname"><a href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">JsonObject::read</a></div><div class="ttdeci">bool read(const std::string &amp;name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00944">json.h:944</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae7bcdb4ec8ab2c64e607b411cb98d00c"><div class="ttname"><a href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">JsonObject::throw_error</a></div><div class="ttdeci">void throw_error(std::string err) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00233">json.cpp:233</a></div></div>
<div class="ttc" id="aclassJsonValue_html"><div class="ttname"><a href="classJsonValue.html">JsonValue</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l01126">json.h:1127</a></div></div>
<div class="ttc" id="aclassSingle__item__creator_html"><div class="ttname"><a href="classSingle__item__creator.html">Single_item_creator</a></div><div class="ttdoc">Basic item creator.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00215">item_group.h:216</a></div></div>
<div class="ttc" id="aclassSingle__item__creator_html_aee007d93bc2db77d2035c62fa80369f4a4520ad5a177a9f1fb52ff38220bfc684"><div class="ttname"><a href="classSingle__item__creator.html#aee007d93bc2db77d2035c62fa80369f4a4520ad5a177a9f1fb52ff38220bfc684">Single_item_creator::S_ITEM_GROUP</a></div><div class="ttdeci">@ S_ITEM_GROUP</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00219">item_group.h:219</a></div></div>
<div class="ttc" id="aclassSingle__item__creator_html_aee007d93bc2db77d2035c62fa80369f4ad5f29c3eb32ab68f2eaa1e5914a05e26"><div class="ttname"><a href="classSingle__item__creator.html#aee007d93bc2db77d2035c62fa80369f4ad5f29c3eb32ab68f2eaa1e5914a05e26">Single_item_creator::S_ITEM</a></div><div class="ttdeci">@ S_ITEM</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8h_source.html#l00220">item_group.h:220</a></div></div>
<div class="ttc" id="aclassSkill_html_ad7cfc5378563d3512234329907b03ad6"><div class="ttname"><a href="classSkill.html#ad7cfc5378563d3512234329907b03ad6">Skill::is_combat_skill</a></div><div class="ttdeci">bool is_combat_skill() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8cpp_source.html#l00211">skill.cpp:211</a></div></div>
<div class="ttc" id="aclassammunition__type_html_a78e84b57881c38e74df1c0b58a804ca0"><div class="ttname"><a href="classammunition__type.html#a78e84b57881c38e74df1c0b58a804ca0">ammunition_type::default_ammotype</a></div><div class="ttdeci">const itype_id &amp; default_ammotype() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo_8h_source.html#l00021">ammo.h:21</a></div></div>
<div class="ttc" id="aclassbody__part__set_html"><div class="ttname"><a href="classbody__part__set.html">body_part_set</a></div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00198">bodypart.h:199</a></div></div>
<div class="ttc" id="aclassbody__part__set_html_a6e283702940781efa731615116bdd070"><div class="ttname"><a href="classbody__part__set.html#a6e283702940781efa731615116bdd070">body_part_set::set</a></div><div class="ttdeci">void set(const body_part &amp;bp)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00240">bodypart.h:240</a></div></div>
<div class="ttc" id="aclasscata_1_1value__ptr_html"><div class="ttname"><a href="classcata_1_1value__ptr.html">cata::value_ptr</a></div><div class="ttdoc">This class is essentially a copyable unique pointer.</div><div class="ttdef"><b>Definition:</b> <a href="value__ptr_8h_source.html#l00018">value_ptr.h:19</a></div></div>
<div class="ttc" id="aclasscauterize__actor_html"><div class="ttname"><a href="classcauterize__actor.html">cauterize_actor</a></div><div class="ttdoc">Cauterizes a wounded/masochistic survivor.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00649">iuse_actor.h:650</a></div></div>
<div class="ttc" id="aclasscauterize__actor_html_aac2426aa73535b85217a71d20f56336c"><div class="ttname"><a href="classcauterize__actor.html#aac2426aa73535b85217a71d20f56336c">cauterize_actor::flame</a></div><div class="ttdeci">bool flame</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00653">iuse_actor.h:653</a></div></div>
<div class="ttc" id="aclasscauterize__actor_html_ad883303c444394c0775c69bf7b151896"><div class="ttname"><a href="classcauterize__actor.html#ad883303c444394c0775c69bf7b151896">cauterize_actor::clone</a></div><div class="ttdeci">std::unique_ptr&lt; iuse_actor &gt; clone() const override</div><div class="ttdoc">Returns a deep copy of this object.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l01894">iuse_actor.cpp:1894</a></div></div>
<div class="ttc" id="aclassgun__modifier__data_html"><div class="ttname"><a href="classgun__modifier__data.html">gun_modifier_data</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00045">itype.h:46</a></div></div>
<div class="ttc" id="aclassgun__type__type_html"><div class="ttname"><a href="classgun__type__type.html">gun_type_type</a></div><div class="ttdoc">The type of gun. The second &quot;_type&quot; suffix is only to distinguish it from item::gun_type.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00547">itype.h:548</a></div></div>
<div class="ttc" id="aclassgun__type__type_html_a5a9b6db967244ebdea433abcc8cfb019"><div class="ttname"><a href="classgun__type__type.html#a5a9b6db967244ebdea433abcc8cfb019">gun_type_type::name_</a></div><div class="ttdeci">std::string name_</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00550">itype.h:550</a></div></div>
<div class="ttc" id="aclassinput__manager_html_a56fd029f8ad1ca3dcd864a6bb5537045"><div class="ttname"><a href="classinput__manager.html#a56fd029f8ad1ca3dcd864a6bb5537045">input_manager::pump_events</a></div><div class="ttdeci">void pump_events()</div><div class="ttdoc">Resize &amp; refresh if necessary, process all pending window events, and ignore keypresses.</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00252">ncurses_def.cpp:252</a></div></div>
<div class="ttc" id="aclassint__id_html_a315169d32cce4267b7c8dceff4b0d1d7"><div class="ttname"><a href="classint__id.html#a315169d32cce4267b7c8dceff4b0d1d7">int_id::obj</a></div><div class="ttdeci">const ammo_effect &amp; obj() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00026">ammo_effect.cpp:26</a></div></div>
<div class="ttc" id="aclassislot__milling_html"><div class="ttname"><a href="classislot__milling.html">islot_milling</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00829">itype.h:830</a></div></div>
<div class="ttc" id="aclassislot__milling_html_aa8ae9e815c2a51ce3d78ee40b95c18d7"><div class="ttname"><a href="classislot__milling.html#aa8ae9e815c2a51ce3d78ee40b95c18d7">islot_milling::into_</a></div><div class="ttdeci">itype_id into_</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00832">itype.h:832</a></div></div>
<div class="ttc" id="aclassislot__milling_html_af210f6fffa11c0a99e20a3c38f981877"><div class="ttname"><a href="classislot__milling.html#af210f6fffa11c0a99e20a3c38f981877">islot_milling::conversion_rate_</a></div><div class="ttdeci">int conversion_rate_</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00833">itype.h:833</a></div></div>
<div class="ttc" id="aclassitem__contents_html_a064a367d5f7f43b4b17fa67b5e27ccc8"><div class="ttname"><a href="classitem__contents.html#a064a367d5f7f43b4b17fa67b5e27ccc8">item_contents::back</a></div><div class="ttdeci">item &amp; back()</div><div class="ttdoc">this is an artifact of the previous code using back() everywhere for contents.</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00200">item_contents.cpp:200</a></div></div>
<div class="ttc" id="aclassitem__contents_html_a5e997e52152db4538caa749a601c7829"><div class="ttname"><a href="classitem__contents.html#a5e997e52152db4538caa749a601c7829">item_contents::migrate_item</a></div><div class="ttdeci">void migrate_item(item &amp;obj, const std::set&lt; itype_id &gt; &amp;migrations)</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00094">item_contents.cpp:94</a></div></div>
<div class="ttc" id="aclassitem__contents_html_ad5b1250d9699aa489bbfcf3e5689581b"><div class="ttname"><a href="classitem__contents.html#ad5b1250d9699aa489bbfcf3e5689581b">item_contents::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="item__contents_8cpp_source.html#l00016">item_contents.cpp:16</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00176">item.h:177</a></div></div>
<div class="ttc" id="aclassitem_html_a4afe851abb42cbff0857065860f96e0e"><div class="ttname"><a href="classitem.html#a4afe851abb42cbff0857065860f96e0e">item::contents</a></div><div class="ttdeci">item_contents contents</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02158">item.h:2158</a></div></div>
<div class="ttc" id="aclassitem_html_a6bfb92ab5d41e0eb3a1da160fac71b0e"><div class="ttname"><a href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">item::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02196">item.h:2196</a></div></div>
<div class="ttc" id="aclassitem_html_a723753bab4cc789e3ec186846c9916a3"><div class="ttname"><a href="classitem.html#a723753bab4cc789e3ec186846c9916a3">item::is_container</a></div><div class="ttdeci">bool is_container() const</div><div class="ttdoc">Whether this is container.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06599">item.cpp:6599</a></div></div>
<div class="ttc" id="aclassitem_html_aaf0e79cb1bc190daa4804cfd62f279c4"><div class="ttname"><a href="classitem.html#aaf0e79cb1bc190daa4804cfd62f279c4">item::set_flag</a></div><div class="ttdeci">item &amp; set_flag(const std::string &amp;flag)</div><div class="ttdoc">Idempotent filter setting an item specific flag.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05251">item.cpp:5251</a></div></div>
<div class="ttc" id="aclassitem_html_abc27dc693d588feea7812432929fb5a9"><div class="ttname"><a href="classitem.html#abc27dc693d588feea7812432929fb5a9">item::charges_per_volume</a></div><div class="ttdeci">int charges_per_volume(const units::volume &amp;vol) const</div><div class="ttdoc">Number of (charges of) this item that fit into the given volume.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00864">item.cpp:864</a></div></div>
<div class="ttc" id="aclassitem_html_acbc651b09ebafad57974d0cfa04b8e5d"><div class="ttname"><a href="classitem.html#acbc651b09ebafad57974d0cfa04b8e5d">item::get_container_capacity</a></div><div class="ttdeci">units::volume get_container_capacity() const</div><div class="ttdoc">It returns the total capacity (volume) of the container for liquids.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08270">item.cpp:8270</a></div></div>
<div class="ttc" id="aclassiuse__actor_html"><div class="ttname"><a href="classiuse__actor.html">iuse_actor</a></div><div class="ttdef"><b>Definition:</b> <a href="iuse_8h_source.html#l00256">iuse.h:257</a></div></div>
<div class="ttc" id="aclassiuse__actor_html_a012da399f97dd64e29a78e477a202b8e"><div class="ttname"><a href="classiuse__actor.html#a012da399f97dd64e29a78e477a202b8e">iuse_actor::is_valid</a></div><div class="ttdeci">virtual bool is_valid() const</div><div class="ttdoc">Returns whether the actor is valid (exists in the generator).</div><div class="ttdef"><b>Definition:</b> <a href="item__action_8cpp_source.html#l00355">item_action.cpp:355</a></div></div>
<div class="ttc" id="aclassiuse__actor_html_a5bfc0cc8ea9046eb540641ff464af80c"><div class="ttname"><a href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">iuse_actor::type</a></div><div class="ttdeci">const std::string type</div><div class="ttdoc">The type of the action.</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8h_source.html#l00266">iuse.h:266</a></div></div>
<div class="ttc" id="aclassiuse__actor_html_aa93b616e6f6e450b098209ad19ae78c4"><div class="ttname"><a href="classiuse__actor.html#aa93b616e6f6e450b098209ad19ae78c4">iuse_actor::load</a></div><div class="ttdeci">virtual void load(const JsonObject &amp;jo)=0</div></div>
<div class="ttc" id="aclassiuse__actor_html_ae7123b9e8ee6610ef1694f0451f05624"><div class="ttname"><a href="classiuse__actor.html#ae7123b9e8ee6610ef1694f0451f05624">iuse_actor::finalize</a></div><div class="ttdeci">virtual void finalize(const itype_id &amp;)</div><div class="ttdoc">Finalizes the actor.</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8h_source.html#l00299">iuse.h:299</a></div></div>
<div class="ttc" id="aclassiuse__function__wrapper__with__info_html"><div class="ttname"><a href="classiuse__function__wrapper__with__info.html">iuse_function_wrapper_with_info</a></div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00797">item_factory.cpp:798</a></div></div>
<div class="ttc" id="aclassiuse__function__wrapper__with__info_html_a55772ed44db593932a66d8dbb1df9b60"><div class="ttname"><a href="classiuse__function__wrapper__with__info.html#a55772ed44db593932a66d8dbb1df9b60">iuse_function_wrapper_with_info::clone</a></div><div class="ttdeci">std::unique_ptr&lt; iuse_actor &gt; clone() const override</div><div class="ttdoc">Returns a deep copy of this object.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00809">item_factory.cpp:809</a></div></div>
<div class="ttc" id="aclassiuse__function__wrapper__with__info_html_a64fbbedc2b63cd82698382063062100c"><div class="ttname"><a href="classiuse__function__wrapper__with__info.html#a64fbbedc2b63cd82698382063062100c">iuse_function_wrapper_with_info::iuse_function_wrapper_with_info</a></div><div class="ttdeci">iuse_function_wrapper_with_info(const std::string &amp;type, const use_function_pointer f, const std::string &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00802">item_factory.cpp:802</a></div></div>
<div class="ttc" id="aclassiuse__function__wrapper__with__info_html_ac6ddb29b1953bf940ddb7cd66c600c50"><div class="ttname"><a href="classiuse__function__wrapper__with__info.html#ac6ddb29b1953bf940ddb7cd66c600c50">iuse_function_wrapper_with_info::info_string</a></div><div class="ttdeci">std::string info_string</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00800">item_factory.cpp:800</a></div></div>
<div class="ttc" id="aclassiuse__function__wrapper__with__info_html_ac7251a721d717c0d4dc94a2fbdacb74c"><div class="ttname"><a href="classiuse__function__wrapper__with__info.html#ac7251a721d717c0d4dc94a2fbdacb74c">iuse_function_wrapper_with_info::info</a></div><div class="ttdeci">void info(const item &amp;, std::vector&lt; iteminfo &gt; &amp;info) const override</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00806">item_factory.cpp:806</a></div></div>
<div class="ttc" id="aclassiuse__function__wrapper_html"><div class="ttname"><a href="classiuse__function__wrapper.html">iuse_function_wrapper</a></div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00778">item_factory.cpp:779</a></div></div>
<div class="ttc" id="aclassiuse__function__wrapper_html_a69f7b029c0d7b4140b5c00be73d4db53"><div class="ttname"><a href="classiuse__function__wrapper.html#a69f7b029c0d7b4140b5c00be73d4db53">iuse_function_wrapper::load</a></div><div class="ttdeci">void load(const JsonObject &amp;) override</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00794">item_factory.cpp:794</a></div></div>
<div class="ttc" id="aclassiuse__function__wrapper_html_a74c817212fe7295498d2db73d32d7571"><div class="ttname"><a href="classiuse__function__wrapper.html#a74c817212fe7295498d2db73d32d7571">iuse_function_wrapper::clone</a></div><div class="ttdeci">std::unique_ptr&lt; iuse_actor &gt; clone() const override</div><div class="ttdoc">Returns a deep copy of this object.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00790">item_factory.cpp:790</a></div></div>
<div class="ttc" id="aclassiuse__function__wrapper_html_a790e34b4fd4125f190c32a9dc98ccff5"><div class="ttname"><a href="classiuse__function__wrapper.html#a790e34b4fd4125f190c32a9dc98ccff5">iuse_function_wrapper::cpp_function</a></div><div class="ttdeci">use_function_pointer cpp_function</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00781">item_factory.cpp:781</a></div></div>
<div class="ttc" id="aclassiuse__function__wrapper_html_a80f39eb840b43da8872bc263f6c7c5a5"><div class="ttname"><a href="classiuse__function__wrapper.html#a80f39eb840b43da8872bc263f6c7c5a5">iuse_function_wrapper::~iuse_function_wrapper</a></div><div class="ttdeci">~iuse_function_wrapper() override=default</div></div>
<div class="ttc" id="aclassiuse__function__wrapper_html_acc5cdc93d5bb1db95395388e9b96e217"><div class="ttname"><a href="classiuse__function__wrapper.html#acc5cdc93d5bb1db95395388e9b96e217">iuse_function_wrapper::iuse_function_wrapper</a></div><div class="ttdeci">iuse_function_wrapper(const std::string &amp;type, const use_function_pointer f)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00783">item_factory.cpp:783</a></div></div>
<div class="ttc" id="aclassiuse__function__wrapper_html_add83c24909c359671068297f6add891e"><div class="ttname"><a href="classiuse__function__wrapper.html#add83c24909c359671068297f6add891e">iuse_function_wrapper::use</a></div><div class="ttdeci">int use(player &amp;p, item &amp;it, bool a, const tripoint &amp;pos) const override</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00787">item_factory.cpp:787</a></div></div>
<div class="ttc" id="aclassmaterial__type_html_a0dd54050e24e7c791639cc3d9442508d"><div class="ttname"><a href="classmaterial__type.html#a0dd54050e24e7c791639cc3d9442508d">material_type::latent_heat</a></div><div class="ttdeci">float latent_heat() const</div><div class="ttdef"><b>Definition:</b> <a href="material_8cpp_source.html#l00236">material.cpp:236</a></div></div>
<div class="ttc" id="aclassmaterial__type_html_a1f9688b434099cbdc6dccf4426701107"><div class="ttname"><a href="classmaterial__type.html#a1f9688b434099cbdc6dccf4426701107">material_type::specific_heat_solid</a></div><div class="ttdeci">float specific_heat_solid() const</div><div class="ttdef"><b>Definition:</b> <a href="material_8cpp_source.html#l00231">material.cpp:231</a></div></div>
<div class="ttc" id="aclassmaterial__type_html_a7cb70041cbe988b4f256330e0d6dce46"><div class="ttname"><a href="classmaterial__type.html#a7cb70041cbe988b4f256330e0d6dce46">material_type::specific_heat_liquid</a></div><div class="ttdeci">float specific_heat_liquid() const</div><div class="ttdef"><b>Definition:</b> <a href="material_8cpp_source.html#l00226">material.cpp:226</a></div></div>
<div class="ttc" id="aclassmaterial__type_html_aac8146cf872ebf4b21852158e118131b"><div class="ttname"><a href="classmaterial__type.html#aac8146cf872ebf4b21852158e118131b">material_type::vitamin</a></div><div class="ttdeci">double vitamin(const vitamin_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="material_8h_source.html#l00111">material.h:111</a></div></div>
<div class="ttc" id="aclassmigration_html"><div class="ttname"><a href="classmigration.html">migration</a></div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00041">item_factory.h:42</a></div></div>
<div class="ttc" id="aclassmigration_html_a54cc839649038a8ade6d36bc989085a1"><div class="ttname"><a href="classmigration.html#a54cc839649038a8ade6d36bc989085a1">migration::id</a></div><div class="ttdeci">itype_id id</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00044">item_factory.h:44</a></div></div>
<div class="ttc" id="aclassmigration_html_a5c35db4ea0aebaa6e9a25afff515aca9"><div class="ttname"><a href="classmigration.html#a5c35db4ea0aebaa6e9a25afff515aca9">migration::flags</a></div><div class="ttdeci">std::set&lt; std::string &gt; flags</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00046">item_factory.h:46</a></div></div>
<div class="ttc" id="aclassmigration_html_a6bcb17cf9235afca2336fd0126df4400"><div class="ttname"><a href="classmigration.html#a6bcb17cf9235afca2336fd0126df4400">migration::contents</a></div><div class="ttdeci">std::set&lt; itype_id &gt; contents</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00048">item_factory.h:48</a></div></div>
<div class="ttc" id="aclassmigration_html_aaf442da2e18d7ebaf62c81c53bc4c6fa"><div class="ttname"><a href="classmigration.html#aaf442da2e18d7ebaf62c81c53bc4c6fa">migration::replace</a></div><div class="ttdeci">itype_id replace</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00045">item_factory.h:45</a></div></div>
<div class="ttc" id="aclassmigration_html_ae36a7ab4c592ed88f6b1b7e61728a48e"><div class="ttname"><a href="classmigration.html#ae36a7ab4c592ed88f6b1b7e61728a48e">migration::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8h_source.html#l00047">item_factory.h:47</a></div></div>
<div class="ttc" id="aclassplayer_html"><div class="ttname"><a href="classplayer.html">player</a></div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00090">player.h:91</a></div></div>
<div class="ttc" id="aclassrecipe__dictionary_html_ad49f5c9ba2c66330d4ad3daf00c2b781"><div class="ttname"><a href="classrecipe__dictionary.html#ad49f5c9ba2c66330d4ad3daf00c2b781">recipe_dictionary::delete_if</a></div><div class="ttdeci">static void delete_if(const std::function&lt; bool(const recipe &amp;)&gt; &amp;pred)</div><div class="ttdoc">Remove all recipes matching the predicate.</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00496">recipe_dictionary.cpp:496</a></div></div>
<div class="ttc" id="aclassrecipe_html"><div class="ttname"><a href="classrecipe.html">recipe</a></div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00034">recipe.h:35</a></div></div>
<div class="ttc" id="aclassrecipe_html_a334fe87cf6e3da5ad075fcabeae44c7c"><div class="ttname"><a href="classrecipe.html#a334fe87cf6e3da5ad075fcabeae44c7c">recipe::description</a></div><div class="ttdeci">translation description</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00057">recipe.h:57</a></div></div>
<div class="ttc" id="aclassrecipe_html_a6d093b9e0722a56fda25fa0170d9076b"><div class="ttname"><a href="classrecipe.html#a6d093b9e0722a56fda25fa0170d9076b">recipe::will_be_blacklisted</a></div><div class="ttdeci">bool will_be_blacklisted() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00619">recipe.cpp:619</a></div></div>
<div class="ttc" id="aclassrecipe_html_a9cd5575d444e1e4224f1aadd6f74357e"><div class="ttname"><a href="classrecipe.html#a9cd5575d444e1e4224f1aadd6f74357e">recipe::obsolete</a></div><div class="ttdeci">bool obsolete</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00052">recipe.h:52</a></div></div>
<div class="ttc" id="aclassrecipe_html_acef4205b638841f8e1980005728fcf90"><div class="ttname"><a href="classrecipe.html#acef4205b638841f8e1980005728fcf90">recipe::is_blueprint</a></div><div class="ttdeci">bool is_blueprint() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00680">recipe.cpp:680</a></div></div>
<div class="ttc" id="aclassrecipe_html_ad47b2208779717bbaa2f43fc1a6408b0"><div class="ttname"><a href="classrecipe.html#ad47b2208779717bbaa2f43fc1a6408b0">recipe::result</a></div><div class="ttdeci">const itype_id &amp; result() const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00048">recipe.h:48</a></div></div>
<div class="ttc" id="aclassrelic_html"><div class="ttname"><a href="classrelic.html">relic</a></div><div class="ttdef"><b>Definition:</b> <a href="relic_8h_source.html#l00018">relic.h:19</a></div></div>
<div class="ttc" id="aclassrelic_html_a15d22c31a5670a4ae3ee33300436336c"><div class="ttname"><a href="classrelic.html#a15d22c31a5670a4ae3ee33300436336c">relic::load</a></div><div class="ttdeci">void load(const JsonObject &amp;jo)</div><div class="ttdef"><b>Definition:</b> <a href="relic_8cpp_source.html#l00028">relic.cpp:28</a></div></div>
<div class="ttc" id="aclassrepair__item__actor_html"><div class="ttname"><a href="classrepair__item__actor.html">repair_item_actor</a></div><div class="ttdoc">Repair an item.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00933">iuse_actor.h:934</a></div></div>
<div class="ttc" id="aclassshape_html"><div class="ttname"><a href="classshape.html">shape</a></div><div class="ttdoc">Class describing shapes in 3D space.</div><div class="ttdef"><b>Definition:</b> <a href="shape_8h_source.html#l00021">shape.h:22</a></div></div>
<div class="ttc" id="aclasssnippet__library_html_a04775bb228b86633909183ba39d274d8"><div class="ttname"><a href="classsnippet__library.html#a04775bb228b86633909183ba39d274d8">snippet_library::has_category</a></div><div class="ttdeci">bool has_category(const std::string &amp;category) const</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00079">text_snippets.cpp:79</a></div></div>
<div class="ttc" id="aclasssnippet__library_html_a55d727b514e4af846a131fa956763637"><div class="ttname"><a href="classsnippet__library.html#a55d727b514e4af846a131fa956763637">snippet_library::add_snippets_from_json</a></div><div class="ttdeci">void add_snippets_from_json(const std::string &amp;category, const JsonArray &amp;jarr)</div><div class="ttdoc">Load all snippet definitions in the json array into given category.</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00028">text_snippets.cpp:28</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id</a></div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00196">string_id.h:197</a></div></div>
<div class="ttc" id="aclassstring__id_html_a19aea01aa4a1f53aac09acc978f67cf8"><div class="ttname"><a href="classstring__id.html#a19aea01aa4a1f53aac09acc978f67cf8">string_id::c_str</a></div><div class="ttdeci">const char * c_str() const</div><div class="ttdoc">Interface to the plain C-string of the id.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00247">string_id.h:247</a></div></div>
<div class="ttc" id="aclassstring__id_html_a3ca78345025397b3d3ac22729ba1684b"><div class="ttname"><a href="classstring__id.html#a3ca78345025397b3d3ac22729ba1684b">string_id::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Returns whether this represents the id of the null-object (in which case it's the null-id).</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00317">string_id.h:317</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00058">achievement.cpp:58</a></div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00065">achievement.cpp:65</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa7dabc565f0c067e1a237ea224b18f93"><div class="ttname"><a href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00255">string_id.h:255</a></div></div>
<div class="ttc" id="aclassstring__id_html_ac180a60056901aaf79f5c4b728a257bd"><div class="ttname"><a href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">string_id::is_empty</a></div><div class="ttdeci">bool is_empty() const</div><div class="ttdoc">Returns whether this id is empty.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00298">string_id.h:298</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae29dd8ed38d2b5eb443a65ad46f10b2d"><div class="ttname"><a href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; itype &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; itype &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="aclasstime__duration_html_a4694c27b90feb607344d0605cfa50db8"><div class="ttname"><a href="classtime__duration.html#a4694c27b90feb607344d0605cfa50db8">time_duration::units</a></div><div class="ttdeci">static const std::vector&lt; std::pair&lt; std::string, time_duration &gt; &gt; units</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00335">calendar.h:335</a></div></div>
<div class="ttc" id="aclasstranslation_html"><div class="ttname"><a href="classtranslation.html">translation</a></div><div class="ttdoc">Class for storing translation context and raw string for deferred translation.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00151">translations.h:152</a></div></div>
<div class="ttc" id="aclassuilist_html"><div class="ttname"><a href="classuilist.html">uilist</a></div><div class="ttdoc">uilist: scrolling vertical list menu</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00186">ui.h:187</a></div></div>
<div class="ttc" id="aclassuilist_html_a0baa34622db6972a59d47d478bfd21d6"><div class="ttname"><a href="classuilist.html#a0baa34622db6972a59d47d478bfd21d6">uilist::ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00412">ui.h:412</a></div></div>
<div class="ttc" id="aclassuilist_html_af59dd3fdde04746dbc5cb52b355577ce"><div class="ttname"><a href="classuilist.html#af59dd3fdde04746dbc5cb52b355577ce">uilist::text</a></div><div class="ttdeci">std::string text</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00320">ui.h:320</a></div></div>
<div class="ttc" id="aclassuilist_html_af5fc2972d43a795c49a632dbcf58132b"><div class="ttname"><a href="classuilist.html#af5fc2972d43a795c49a632dbcf58132b">uilist::entries</a></div><div class="ttdeci">std::vector&lt; uilist_entry &gt; entries</div><div class="ttdef"><b>Definition:</b> <a href="ui_8h_source.html#l00323">ui.h:323</a></div></div>
<div class="ttc" id="aclassvitamin_html_abed8d50d1b8805a7f7ce49ce09ab1b7a"><div class="ttname"><a href="classvitamin.html#abed8d50d1b8805a7f7ce49ce09ab1b7a">vitamin::all</a></div><div class="ttdeci">static const std::map&lt; vitamin_id, vitamin &gt; &amp; all()</div><div class="ttdoc">Get all currently loaded vitamins.</div><div class="ttdef"><b>Definition:</b> <a href="vitamin_8cpp_source.html#l00098">vitamin.cpp:98</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a9c642a659e1cb963f62f59195839a014"><div class="ttname"><a href="color_8cpp.html#a9c642a659e1cb963f62f59195839a014">color_from_string</a></div><div class="ttdeci">nc_color color_from_string(const std::string &amp;color, const report_color_error color_error)</div><div class="ttdoc">Given the name of a foreground color, returns the nc_color value that matches.</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00562">color.cpp:562</a></div></div>
<div class="ttc" id="acolor_8h_html"><div class="ttname"><a href="color_8h.html">color.h</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023"><div class="ttname"><a href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">item_consumption_t::tool</a></div><div class="ttdeci">@ tool</div></div>
<div class="ttc" id="adamage_8cpp_html_a4ee1d4ba518b2becb0d1041a010ce7f5"><div class="ttname"><a href="damage_8cpp.html#a4ee1d4ba518b2becb0d1041a010ce7f5">load_damage_instance</a></div><div class="ttdeci">damage_instance load_damage_instance(const JsonObject &amp;jo)</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00356">damage.cpp:356</a></div></div>
<div class="ttc" id="adamage_8h_html"><div class="ttname"><a href="damage_8h.html">damage.h</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa12e559f29e023db673e9251b9337d8dd">DT_STAB</a></div><div class="ttdeci">@ DT_STAB</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00027">damage.h:27</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a></div><div class="ttdeci">@ DT_BASH</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00024">damage.h:24</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa72a55d767311e078564d195eefa4cafc">DT_NULL</a></div><div class="ttdeci">@ DT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00021">damage.h:21</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8ff698c0509e78ff65c7c7ec899b4f51">DT_CUT</a></div><div class="ttdeci">@ DT_CUT</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00025">damage.h:25</a></div></div>
<div class="ttc" id="adebug_8h_html"><div class="ttname"><a href="debug_8h.html">debug.h</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="aenum__conversions_8h_html"><div class="ttname"><a href="enum__conversions_8h.html">enum_conversions.h</a></div></div>
<div class="ttc" id="aenums_8h_html"><div class="ttname"><a href="enums_8h.html">enums.h</a></div></div>
<div class="ttc" id="aenums_8h_html_aa80f2d4c1530c674e2976ea897d02ec0a1798d33bd4670133e7d8d2c2609b7cb8"><div class="ttname"><a href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a1798d33bd4670133e7d8d2c2609b7cb8">WAIST_LAYER</a></div><div class="ttdeci">@ WAIST_LAYER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00222">enums.h:222</a></div></div>
<div class="ttc" id="aenums_8h_html_aa80f2d4c1530c674e2976ea897d02ec0a282cebee3086bff2b441079fabb0fb78"><div class="ttname"><a href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a282cebee3086bff2b441079fabb0fb78">UNDERWEAR_LAYER</a></div><div class="ttdeci">@ UNDERWEAR_LAYER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00218">enums.h:218</a></div></div>
<div class="ttc" id="aenums_8h_html_aa80f2d4c1530c674e2976ea897d02ec0a46c73803e6b0befade99fd510c81a860"><div class="ttname"><a href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a46c73803e6b0befade99fd510c81a860">REGULAR_LAYER</a></div><div class="ttdeci">@ REGULAR_LAYER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00220">enums.h:220</a></div></div>
<div class="ttc" id="aenums_8h_html_aa80f2d4c1530c674e2976ea897d02ec0a6f2948421e2b71cc1b6919b2bc52b8e0"><div class="ttname"><a href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a6f2948421e2b71cc1b6919b2bc52b8e0">BELTED_LAYER</a></div><div class="ttdeci">@ BELTED_LAYER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00226">enums.h:226</a></div></div>
<div class="ttc" id="aenums_8h_html_aa80f2d4c1530c674e2976ea897d02ec0a72cee25119b7b609ebf592aec969a2bd"><div class="ttname"><a href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0a72cee25119b7b609ebf592aec969a2bd">PERSONAL_LAYER</a></div><div class="ttdeci">@ PERSONAL_LAYER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00216">enums.h:216</a></div></div>
<div class="ttc" id="aenums_8h_html_aa80f2d4c1530c674e2976ea897d02ec0aac956a1c8054985cc7855e3d4718df12"><div class="ttname"><a href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0aac956a1c8054985cc7855e3d4718df12">AURA_LAYER</a></div><div class="ttdeci">@ AURA_LAYER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00228">enums.h:228</a></div></div>
<div class="ttc" id="aenums_8h_html_aa80f2d4c1530c674e2976ea897d02ec0aedecd660b78c8063a26ae7a4f3e7f170"><div class="ttname"><a href="enums_8h.html#aa80f2d4c1530c674e2976ea897d02ec0aedecd660b78c8063a26ae7a4f3e7f170">OUTER_LAYER</a></div><div class="ttdeci">@ OUTER_LAYER</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00224">enums.h:224</a></div></div>
<div class="ttc" id="aenums_8h_html_ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab"><div class="ttname"><a href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a></div><div class="ttdeci">@ type</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00075">enums.h:75</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5">phase_id</a></div><div class="ttdeci">phase_id</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00174">enums.h:174</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a01ff92f3183a47a53bc0d332249d0b0b"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a01ff92f3183a47a53bc0d332249d0b0b">PNULL</a></div><div class="ttdeci">@ PNULL</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00175">enums.h:175</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a1b45f84e1f6603b52e5ef442836df9af"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a1b45f84e1f6603b52e5ef442836df9af">SOLID</a></div><div class="ttdeci">@ SOLID</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00175">enums.h:175</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a485b4fa6a2fb6ffaa30c321aacbe4275"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a485b4fa6a2fb6ffaa30c321aacbe4275">num_phases</a></div><div class="ttdeci">@ num_phases</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00176">enums.h:175</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a9584dc4fcb96c51dda36a881a6dbb212"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a9584dc4fcb96c51dda36a881a6dbb212">GAS</a></div><div class="ttdeci">@ GAS</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00175">enums.h:175</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a></div><div class="ttdeci">@ LIQUID</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00175">enums.h:175</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5ab71e27670a073794779085ea4f4e6bf1"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5ab71e27670a073794779085ea4f4e6bf1">PLASMA</a></div><div class="ttdeci">@ PLASMA</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00175">enums.h:175</a></div></div>
<div class="ttc" id="aexplosion_8cpp_html_ab8a73ef7725c30dd1cd66ed921df48d8"><div class="ttname"><a href="explosion_8cpp.html#ab8a73ef7725c30dd1cd66ed921df48d8">load_explosion_data</a></div><div class="ttdeci">explosion_data load_explosion_data(const JsonObject &amp;jo)</div><div class="ttdef"><b>Definition:</b> <a href="explosion_8cpp_source.html#l00121">explosion.cpp:121</a></div></div>
<div class="ttc" id="aexplosion_8h_html"><div class="ttname"><a href="explosion_8h.html">explosion.h</a></div></div>
<div class="ttc" id="aflag_8h_html"><div class="ttname"><a href="flag_8h.html">flag.h</a></div></div>
<div class="ttc" id="aflat__set_8h_html"><div class="ttname"><a href="flat__set_8h.html">flat_set.h</a></div></div>
<div class="ttc" id="afmtlib__format_8h_html_a36b7e236fa4242d8655b508bbebb697f"><div class="ttname"><a href="fmtlib__format_8h.html#a36b7e236fa4242d8655b508bbebb697f">ptr</a></div><div class="ttdeci">const void * ptr(const T *p)</div><div class="ttdoc">\rst Converts p to const void* for pointer formatting.</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format_8h_source.html#l04100">fmtlib_format.h:4100</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00276">game.cpp:276</a></div></div>
<div class="ttc" id="agame__constants_8h_html"><div class="ttname"><a href="game__constants_8h.html">game_constants.h</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a8226e8a134603e5bc06df05efd13d8d1"><div class="ttname"><a href="game__constants_8h.html#a8226e8a134603e5bc06df05efd13d8d1">MAX_RECOIL</a></div><div class="ttdeci">constexpr double MAX_RECOIL</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00127">game_constants.h:127</a></div></div>
<div class="ttc" id="agame__constants_8h_html_ae9c0ec5b4724c15132efddb8862ca652"><div class="ttname"><a href="game__constants_8h.html#ae9c0ec5b4724c15132efddb8862ca652">MAX_SKILL</a></div><div class="ttdeci">static constexpr int MAX_SKILL</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00110">game_constants.h:110</a></div></div>
<div class="ttc" id="ageneric__factory_8h_html"><div class="ttname"><a href="generic__factory_8h.html">generic_factory.h</a></div><div class="ttdoc">Helper for loading from JSON.</div></div>
<div class="ttc" id="ageneric__factory_8h_html_a0a177c754c5ba89ac6c543656b0652cc"><div class="ttname"><a href="generic__factory_8h.html#a0a177c754c5ba89ac6c543656b0652cc">mandatory</a></div><div class="ttdeci">void mandatory(const JsonObject &amp;jo, const bool was_loaded, const std::string &amp;name, MemberType &amp;member)</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00611">generic_factory.h:611</a></div></div>
<div class="ttc" id="ageneric__factory_8h_html_a6bc35b9738f0a0a68ccc6b4cfc7918f1"><div class="ttname"><a href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a></div><div class="ttdeci">void optional(const JsonObject &amp;jo, const bool was_loaded, const std::string &amp;name, MemberType &amp;member)</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00791">generic_factory.h:791</a></div></div>
<div class="ttc" id="agroup__UI_html_ga7604af7545244003f0a52ac87ce37979"><div class="ttname"><a href="group__UI.html#ga7604af7545244003f0a52ac87ce37979">uilist::query</a></div><div class="ttdeci">void query(bool loop=true, int timeout=-1)</div><div class="ttdoc">Handle input and update display.</div><div class="ttdef"><b>Definition:</b> <a href="ui_8cpp_source.html#l00838">ui.cpp:838</a></div></div>
<div class="ttc" id="ainit_8h_html"><div class="ttname"><a href="init_8h.html">init.h</a></div></div>
<div class="ttc" id="ainput_8cpp_html_af16c50890fa8503efa899fc3b6de56d7"><div class="ttname"><a href="input_8cpp.html#af16c50890fa8503efa899fc3b6de56d7">inp_mngr</a></div><div class="ttdeci">input_manager inp_mngr</div><div class="ttdef"><b>Definition:</b> <a href="input_8cpp_source.html#l00109">input.cpp:109</a></div></div>
<div class="ttc" id="ainput_8h_html"><div class="ttname"><a href="input_8h.html">input.h</a></div></div>
<div class="ttc" id="aitem_8h_html"><div class="ttname"><a href="item_8h.html">item.h</a></div></div>
<div class="ttc" id="aitem__contents_8h_html"><div class="ttname"><a href="item__contents_8h.html">item_contents.h</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a00f2750af5bac1a8820a02582018dd36"><div class="ttname"><a href="item__factory_8cpp.html#a00f2750af5bac1a8820a02582018dd36">hflesh_to_flesh</a></div><div class="ttdeci">static void hflesh_to_flesh(itype &amp;item_template)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02359">item_factory.cpp:2359</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a0e987240fca9e226501b6c99ad0dd4a4"><div class="ttname"><a href="item__factory_8cpp.html#a0e987240fca9e226501b6c99ad0dd4a4">gun_mode_REACH</a></div><div class="ttdeci">static const gun_mode_id gun_mode_REACH(&quot;REACH&quot;)</div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a0f4fe4bd5d4a6c971b938f573f015886"><div class="ttname"><a href="item__factory_8cpp.html#a0f4fe4bd5d4a6c971b938f573f015886">ammo_effect_SMOKE</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_SMOKE(&quot;SMOKE&quot;)</div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a112454b48fbc4eb47cb271e5ab79e23f"><div class="ttname"><a href="item__factory_8cpp.html#a112454b48fbc4eb47cb271e5ab79e23f">item_blacklist</a></div><div class="ttdeci">static std::set&lt; itype_id &gt; item_blacklist</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00062">item_factory.cpp:60</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a13605b401b65f4ffbe3657a5387c0da7"><div class="ttname"><a href="item__factory_8cpp.html#a13605b401b65f4ffbe3657a5387c0da7">load_optional_enum_array</a></div><div class="ttdeci">void load_optional_enum_array(std::vector&lt; E &gt; &amp;vec, const JsonObject &amp;jo, const std::string &amp;member)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01596">item_factory.cpp:1596</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a2b7fab813a40f0f449553428a86ffd7e"><div class="ttname"><a href="item__factory_8cpp.html#a2b7fab813a40f0f449553428a86ffd7e">ammo_effect_EXPLOSIVE_SMALL</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_EXPLOSIVE_SMALL(&quot;EXPLOSIVE_SMALL&quot;)</div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a2bda59803270eafcc3ca16fb9169bbd1"><div class="ttname"><a href="item__factory_8cpp.html#a2bda59803270eafcc3ca16fb9169bbd1">assign_coverage_from_json</a></div><div class="ttdeci">static bool assign_coverage_from_json(const JsonObject &amp;jo, const std::string &amp;key, body_part_set &amp;parts, bool &amp;sided)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00124">item_factory.cpp:124</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a356c60d571b20148e3b3c8f6bbf1f5cc"><div class="ttname"><a href="item__factory_8cpp.html#a356c60d571b20148e3b3c8f6bbf1f5cc">make_group_or_throw</a></div><div class="ttdeci">static Item_group * make_group_or_throw(const item_group_id &amp;group_id, std::unique_ptr&lt; Item_spawn_data &gt; &amp;isd, Item_group::Type t, int ammo_chance, int magazine_chance)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02798">item_factory.cpp:2798</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a35987c8e1f8377a55abe84dfd8521e6c"><div class="ttname"><a href="item__factory_8cpp.html#a35987c8e1f8377a55abe84dfd8521e6c">ammo_effect_EXPLOSIVE_BIG</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_EXPLOSIVE_BIG(&quot;EXPLOSIVE_BIG&quot;)</div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a4a0f387b756b27806acd612df7589c57"><div class="ttname"><a href="item__factory_8cpp.html#a4a0f387b756b27806acd612df7589c57">ammo_effect_SMOKE_BIG</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_SMOKE_BIG(&quot;SMOKE_BIG&quot;)</div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a506fc166f774a4ac78c54dd998286ef1"><div class="ttname"><a href="item__factory_8cpp.html#a506fc166f774a4ac78c54dd998286ef1">ammo_effect_INCENDIARY</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_INCENDIARY(&quot;INCENDIARY&quot;)</div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a5a281cbfa05ef1e322550d893c9bc112"><div class="ttname"><a href="item__factory_8cpp.html#a5a281cbfa05ef1e322550d893c9bc112">ammo_effect_FLASHBANG</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_FLASHBANG(&quot;FLASHBANG&quot;)</div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a62fc9d4e4ca8f0e62b4556f5f65b666c"><div class="ttname"><a href="item__factory_8cpp.html#a62fc9d4e4ca8f0e62b4556f5f65b666c">item_controller</a></div><div class="ttdeci">std::unique_ptr&lt; Item_factory &gt; item_controller</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00085">item_factory.cpp:85</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a935ebfdbd5a30733394eecf55e582230"><div class="ttname"><a href="item__factory_8cpp.html#a935ebfdbd5a30733394eecf55e582230">ammo_effect_FRAG</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_FRAG(&quot;FRAG&quot;)</div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a9910cca816b92f0a565dc6bc764889a6"><div class="ttname"><a href="item__factory_8cpp.html#a9910cca816b92f0a565dc6bc764889a6">item_is_blacklisted</a></div><div class="ttdeci">bool item_is_blacklisted(const itype_id &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00106">item_factory.cpp:106</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a9a14651232a3655ccf2d7c41efb7f857"><div class="ttname"><a href="item__factory_8cpp.html#a9a14651232a3655ccf2d7c41efb7f857">assign</a></div><div class="ttdeci">static void assign(const JsonObject &amp;jo, const std::string &amp;name, std::map&lt; gun_mode_id, gun_modifier_data &gt; &amp;mods)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00111">item_factory.cpp:111</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a9c21005f31e0aa8c574e3a02f2d265db"><div class="ttname"><a href="item__factory_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a></div><div class="ttdeci">static DynamicDataLoader::deferred_json deferred</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00064">item_factory.cpp:64</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a9eb96e4a86c3afc10c7787c6d893e7a1"><div class="ttname"><a href="item__factory_8cpp.html#a9eb96e4a86c3afc10c7787c6d893e7a1">ammo_effect_NAPALM_BIG</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_NAPALM_BIG(&quot;NAPALM_BIG&quot;)</div></div>
<div class="ttc" id="aitem__factory_8cpp_html_aa4c9f0b19a1528d31cf326fc1a172845"><div class="ttname"><a href="item__factory_8cpp.html#aa4c9f0b19a1528d31cf326fc1a172845">ammo_effect_NAPALM</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_NAPALM(&quot;NAPALM&quot;)</div></div>
<div class="ttc" id="aitem__factory_8cpp_html_aa80a3605aa9b7b995ec5ed9a3ac81e5e"><div class="ttname"><a href="item__factory_8cpp.html#aa80a3605aa9b7b995ec5ed9a3ac81e5e">flag_MELEE_GUNMOD</a></div><div class="ttdeci">static const flag_str_id flag_MELEE_GUNMOD(&quot;MELEE_GUNMOD&quot;)</div></div>
<div class="ttc" id="aitem__factory_8cpp_html_aac5abe3e4bd613b31a66a3a04df87a87"><div class="ttname"><a href="item__factory_8cpp.html#aac5abe3e4bd613b31a66a3a04df87a87">ammo_effect_EXPLOSIVE</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_EXPLOSIVE(&quot;EXPLOSIVE&quot;)</div></div>
<div class="ttc" id="aitem__factory_8cpp_html_ac64aed96a4f4dc3983187fef3798be7d"><div class="ttname"><a href="item__factory_8cpp.html#ac64aed96a4f4dc3983187fef3798be7d">ammo_effect_EXPLOSIVE_HUGE</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_EXPLOSIVE_HUGE(&quot;EXPLOSIVE_HUGE&quot;)</div></div>
<div class="ttc" id="aitem__factory_8cpp_html_acdd8191d56041e5767d8168b564a948d"><div class="ttname"><a href="item__factory_8cpp.html#acdd8191d56041e5767d8168b564a948d">ammo_effect_COOKOFF</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_COOKOFF(&quot;COOKOFF&quot;)</div></div>
<div class="ttc" id="aitem__factory_8cpp_html_ad98ce0506dfd02682ad8dfc72c6d97f7"><div class="ttname"><a href="item__factory_8cpp.html#ad98ce0506dfd02682ad8dfc72c6d97f7">load_min_max</a></div><div class="ttdeci">bool load_min_max(std::pair&lt; T, T &gt; &amp;pa, const JsonObject &amp;obj, const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02813">item_factory.cpp:2813</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_ae98d0f25e1999f011e4a584df52f401d"><div class="ttname"><a href="item__factory_8cpp.html#ae98d0f25e1999f011e4a584df52f401d">to_string</a></div><div class="ttdeci">static std::string to_string(Item_group::Type t)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l02786">item_factory.cpp:2786</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_af27066fbeaeb6ef423c4926c5cf8e4cb"><div class="ttname"><a href="item__factory_8cpp.html#af27066fbeaeb6ef423c4926c5cf8e4cb">ammo_effect_TOXICGAS</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_TOXICGAS(&quot;TOXICGAS&quot;)</div></div>
<div class="ttc" id="aitem__factory_8cpp_html_af75903aaf526ac4beef1c4d46a449759"><div class="ttname"><a href="item__factory_8cpp.html#af75903aaf526ac4beef1c4d46a449759">calc_category</a></div><div class="ttdeci">static item_category_id calc_category(const itype &amp;obj)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l03148">item_factory.cpp:3148</a></div></div>
<div class="ttc" id="aitem__factory_8h_html"><div class="ttname"><a href="item__factory_8h.html">item_factory.h</a></div></div>
<div class="ttc" id="aitem__group_8h_html"><div class="ttname"><a href="item__group_8h.html">item_group.h</a></div></div>
<div class="ttc" id="aitype_8h_html_afc401f615ea14e8e1ee24cf7068b7716"><div class="ttname"><a href="itype_8h.html#afc401f615ea14e8e1ee24cf7068b7716">condition_type</a></div><div class="ttdeci">condition_type</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00807">itype.h:807</a></div></div>
<div class="ttc" id="aiuse_8h_html_a59efaa82fd2f094db6220de779c55072"><div class="ttname"><a href="iuse_8h.html#a59efaa82fd2f094db6220de779c55072">use_function_pointer</a></div><div class="ttdeci">int(*)(player *, item *, bool, const tripoint &amp;) use_function_pointer</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8h_source.html#l00254">iuse.h:254</a></div></div>
<div class="ttc" id="aiuse__actor_8h_html"><div class="ttname"><a href="iuse__actor_8h.html">iuse_actor.h</a></div></div>
<div class="ttc" id="ajson_8h_html"><div class="ttname"><a href="json_8h.html">json.h</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a188caae18b60b66f9f44214c7e28ac1f"><div class="ttname"><a href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a></div><div class="ttdeci">constexpr double a</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01030">magic.cpp:1030</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a6753ecfe87da659675b18c2f81d6ec12"><div class="ttname"><a href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a></div><div class="ttdeci">constexpr double c</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01032">magic.cpp:1032</a></div></div>
<div class="ttc" id="amagic_8cpp_html_aa93a189fb7bbbf87be54bcc7bd11bb6f"><div class="ttname"><a href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a></div><div class="ttdeci">constexpr double b</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01031">magic.cpp:1031</a></div></div>
<div class="ttc" id="amapgen_8cpp_html_a90f1f53dc044e93e7f7f9314cef1bd45"><div class="ttname"><a href="mapgen_8cpp.html#a90f1f53dc044e93e7f7f9314cef1bd45">line</a></div><div class="ttdeci">void line(map *m, const ter_id &amp;type, const point &amp;p1, const point &amp;p2)</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l06462">mapgen.cpp:6462</a></div></div>
<div class="ttc" id="amaterial_8h_html"><div class="ttname"><a href="material_8h.html">material.h</a></div></div>
<div class="ttc" id="anamespaceammo__effects_html"><div class="ttname"><a href="namespaceammo__effects.html">ammo_effects</a></div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8h_source.html#l00056">ammo_effect.h:57</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02recipe__groups_8cpp_03_html_ad3ae3cc26f6d2a1604cf7ec01d4a3dfe"><div class="ttname"><a href="namespaceanonymous__namespace_02recipe__groups_8cpp_03.html#ad3ae3cc26f6d2a1604cf7ec01d4a3dfe">anonymous_namespace{recipe_groups.cpp}::group_id</a></div><div class="ttdeci">string_id&lt; recipe_group_data &gt; group_id</div><div class="ttdef"><b>Definition:</b> <a href="recipe__groups_8cpp_source.html#l00023">recipe_groups.cpp:23</a></div></div>
<div class="ttc" id="anamespaceavatar__action_html_a76ba74774376a08222b8cdcce08f7304"><div class="ttname"><a href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">avatar_action::move</a></div><div class="ttdeci">bool move(avatar &amp;you, map &amp;m, const tripoint &amp;d)</div><div class="ttdef"><b>Definition:</b> <a href="avatar__action_8cpp_source.html#l00093">avatar_action.cpp:93</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a04fa69b1c0952a34dc4a7d26b3f9f786"><div class="ttname"><a href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">base_camps::id</a></div><div class="ttdeci">const std::string id</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00087">basecamp.h:87</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00036">calendar.cpp:36</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
<div class="ttc" id="anamespacecata_html_a097b137e977a6b843c0dada2c8b19611"><div class="ttname"><a href="namespacecata.html#a097b137e977a6b843c0dada2c8b19611">cata::swap</a></div><div class="ttdeci">void swap(colony&lt; element_type, element_allocator_type, element_skipfield_type &gt; &amp;a, colony&lt; element_type, element_allocator_type, element_skipfield_type &gt; &amp;b) COLONY_NOEXCEPT_SWAP(element_allocator_type)</div><div class="ttdoc">Swaps colony A's contents with that of colony B.</div><div class="ttdef"><b>Definition:</b> <a href="colony_8h_source.html#l03496">colony.h:3496</a></div></div>
<div class="ttc" id="anamespacecata_html_ad05314667ac5d05f984aeeef26b9a87f"><div class="ttname"><a href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a></div><div class="ttdeci">static constexpr nullopt_t nullopt</div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00022">optional.h:22</a></div></div>
<div class="ttc" id="anamespacedetail_1_1digits_html_aad69d2373aa047bdd9e81494bf3da5ae"><div class="ttname"><a href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">detail::digits::result</a></div><div class="ttdeci">result</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format-inl_8h_source.html#l01626">fmtlib_format-inl.h:1626</a></div></div>
<div class="ttc" id="anamespacedetail_html_ad06b74f7502b63cbab323bba1ca3f72b"><div class="ttname"><a href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">detail::find</a></div><div class="ttdeci">FMT_CONSTEXPR bool find(Ptr first, Ptr last, T value, Ptr &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format_8h_source.html#l03355">fmtlib_format.h:3355</a></div></div>
<div class="ttc" id="anamespaceio_html"><div class="ttname"><a href="namespaceio.html">io</a></div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00070">achievement.cpp:71</a></div></div>
<div class="ttc" id="anamespaceio_html_a57b37d327637c1542d4437e52152265f"><div class="ttname"><a href="namespaceio.html#a57b37d327637c1542d4437e52152265f">io::enum_to_string&lt; phase_id &gt;</a></div><div class="ttdeci">std::string enum_to_string&lt; phase_id &gt;(phase_id data)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l03130">item_factory.cpp:3130</a></div></div>
<div class="ttc" id="anamespaceitem__group_html_a7cf722822ed58d63e5b2c1714ae6fc4b"><div class="ttname"><a href="namespaceitem__group.html#a7cf722822ed58d63e5b2c1714ae6fc4b">item_group::debug_spawn</a></div><div class="ttdeci">void debug_spawn()</div><div class="ttdoc">Shows an menu to debug the item groups.</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l03218">item_factory.cpp:3218</a></div></div>
<div class="ttc" id="anamespaceitem__group_html_ad15629f772f27e1d19c90fe9de23ae99"><div class="ttname"><a href="namespaceitem__group.html#ad15629f772f27e1d19c90fe9de23ae99">item_group::items_from</a></div><div class="ttdeci">ItemList items_from(const item_group_id &amp;group_id, const time_point &amp;birthday)</div><div class="ttdoc">Create items from the given group.</div><div class="ttdef"><b>Definition:</b> <a href="item__group_8cpp_source.html#l00574">item_group.cpp:574</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a04894d33896efed432019fa928a6dba6"><div class="ttname"><a href="namespaceiuse.html#a04894d33896efed432019fa928a6dba6">iuse::firecracker_act</a></div><div class="ttdeci">int firecracker_act(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03883">iuse.cpp:3883</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a07b07d9e1b2e068106e3a2c779d3362c"><div class="ttname"><a href="namespaceiuse.html#a07b07d9e1b2e068106e3a2c779d3362c">iuse::seed</a></div><div class="ttdeci">int seed(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l06000">iuse.cpp:6000</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a07ece949cc39ee555a5475d2dd8b25cb"><div class="ttname"><a href="namespaceiuse.html#a07ece949cc39ee555a5475d2dd8b25cb">iuse::unpack_item</a></div><div class="ttdeci">int unpack_item(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02020">iuse.cpp:2020</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a0a673629edd47e63203956d4eb0a4fbb"><div class="ttname"><a href="namespaceiuse.html#a0a673629edd47e63203956d4eb0a4fbb">iuse::multicooker</a></div><div class="ttdeci">int multicooker(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l08391">iuse.cpp:8391</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a0abf562e890b6164e4165e8401b684f1"><div class="ttname"><a href="namespaceiuse.html#a0abf562e890b6164e4165e8401b684f1">iuse::pheromone</a></div><div class="ttdeci">int pheromone(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03917">iuse.cpp:3917</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a0dd2935dd8aacfee3d6fa8a6da61ec0a"><div class="ttname"><a href="namespaceiuse.html#a0dd2935dd8aacfee3d6fa8a6da61ec0a">iuse::feedbird</a></div><div class="ttdeci">int feedbird(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01643">iuse.cpp:1643</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a0e0b76a96337dcd8208d5a0f524bf47e"><div class="ttname"><a href="namespaceiuse.html#a0e0b76a96337dcd8208d5a0f524bf47e">iuse::purify_smart</a></div><div class="ttdeci">int purify_smart(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01183">iuse.cpp:1183</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a0f13dd0b3a12c9b168adb4f5248951a6"><div class="ttname"><a href="namespaceiuse.html#a0f13dd0b3a12c9b168adb4f5248951a6">iuse::can_goo</a></div><div class="ttdeci">int can_goo(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03492">iuse.cpp:3492</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a103a17ef4f7cf59720b027142cccbe27"><div class="ttname"><a href="namespaceiuse.html#a103a17ef4f7cf59720b027142cccbe27">iuse::bell</a></div><div class="ttdeci">int bell(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05979">iuse.cpp:5979</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a124c8bc78a42f9cf06fcb801c9f4427c"><div class="ttname"><a href="namespaceiuse.html#a124c8bc78a42f9cf06fcb801c9f4427c">iuse::siphon</a></div><div class="ttdeci">int siphon(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02980">iuse.cpp:2980</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a128984aa7ad2a8433c238101d5294153"><div class="ttname"><a href="namespaceiuse.html#a128984aa7ad2a8433c238101d5294153">iuse::ecs_lajatang_off</a></div><div class="ttdeci">int ecs_lajatang_off(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03106">iuse.cpp:3106</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a1508cdd524e97a79a754d9a7390ea42a"><div class="ttname"><a href="namespaceiuse.html#a1508cdd524e97a79a754d9a7390ea42a">iuse::antiparasitic</a></div><div class="ttdeci">int antiparasitic(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00731">iuse.cpp:731</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a171b17b4631be6ffc30047e17ffc1fcd"><div class="ttname"><a href="namespaceiuse.html#a171b17b4631be6ffc30047e17ffc1fcd">iuse::blech_because_unclean</a></div><div class="ttdeci">int blech_because_unclean(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01057">iuse.cpp:1057</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a18a8b4f435350b8f4a9759c173dca6d0"><div class="ttname"><a href="namespaceiuse.html#a18a8b4f435350b8f4a9759c173dca6d0">iuse::toolmod_attach</a></div><div class="ttdeci">int toolmod_attach(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05933">iuse.cpp:5933</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a18ded3f37f4b03f690f1d23e5b4f0a50"><div class="ttname"><a href="namespaceiuse.html#a18ded3f37f4b03f690f1d23e5b4f0a50">iuse::mind_splicer</a></div><div class="ttdeci">int mind_splicer(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04667">iuse.cpp:4667</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a1c55d9f8022241b470d2d2e3f26ccbb3"><div class="ttname"><a href="namespaceiuse.html#a1c55d9f8022241b470d2d2e3f26ccbb3">iuse::meth</a></div><div class="ttdeci">int meth(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00819">iuse.cpp:819</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a1ed26c836be484fe8abed447dd276260"><div class="ttname"><a href="namespaceiuse.html#a1ed26c836be484fe8abed447dd276260">iuse::hacksaw</a></div><div class="ttdeci">int hacksaw(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04957">iuse.cpp:4957</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a1f7fc7ed967ceab8eb255f38489ee5ed"><div class="ttname"><a href="namespaceiuse.html#a1f7fc7ed967ceab8eb255f38489ee5ed">iuse::pickaxe</a></div><div class="ttdeci">int pickaxe(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03289">iuse.cpp:3289</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a2060aa4647487f823f8e42e88fc214ea"><div class="ttname"><a href="namespaceiuse.html#a2060aa4647487f823f8e42e88fc214ea">iuse::granade</a></div><div class="ttdeci">int granade(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03567">iuse.cpp:3567</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a209a352e9bc73b4ce037af586b937ff1"><div class="ttname"><a href="namespaceiuse.html#a209a352e9bc73b4ce037af586b937ff1">iuse::boltcutters</a></div><div class="ttdeci">int boltcutters(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05034">iuse.cpp:5034</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a21c8e65ced80f9b26011bc78dfa450a6"><div class="ttname"><a href="namespaceiuse.html#a21c8e65ced80f9b26011bc78dfa450a6">iuse::mininuke</a></div><div class="ttdeci">int mininuke(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03900">iuse.cpp:3900</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a22da5acc314b6ca1dc7ada0c3c1944a5"><div class="ttname"><a href="namespaceiuse.html#a22da5acc314b6ca1dc7ada0c3c1944a5">iuse::artifact</a></div><div class="ttdeci">int artifact(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05172">iuse.cpp:5172</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a2364cfd5d8ad12ee1d3a3279dc355226"><div class="ttname"><a href="namespaceiuse.html#a2364cfd5d8ad12ee1d3a3279dc355226">iuse::cable_attach</a></div><div class="ttdeci">int cable_attach(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l08818">iuse.cpp:8818</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a25067961208e9644f6b186dd97ef8bcc"><div class="ttname"><a href="namespaceiuse.html#a25067961208e9644f6b186dd97ef8bcc">iuse::strong_antibiotic</a></div><div class="ttdeci">int strong_antibiotic(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09527">iuse.cpp:9527</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a265cb6538afad686f4da6f07de495e79"><div class="ttname"><a href="namespaceiuse.html#a265cb6538afad686f4da6f07de495e79">iuse::dogfood</a></div><div class="ttdeci">int dogfood(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01628">iuse.cpp:1628</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a272725ca02e576b08c783708015487e6"><div class="ttname"><a href="namespaceiuse.html#a272725ca02e576b08c783708015487e6">iuse::carver_off</a></div><div class="ttdeci">int carver_off(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03115">iuse.cpp:3115</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a29ce35e5e1cfa3e2a9efeb389f8e38b2"><div class="ttname"><a href="namespaceiuse.html#a29ce35e5e1cfa3e2a9efeb389f8e38b2">iuse::vortex</a></div><div class="ttdeci">int vortex(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04535">iuse.cpp:4535</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a2a7f7b04683cbec09580da469a10ccb0"><div class="ttname"><a href="namespaceiuse.html#a2a7f7b04683cbec09580da469a10ccb0">iuse::mycus</a></div><div class="ttdeci">int mycus(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01433">iuse.cpp:1433</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a2c21ebb318f0a7e236a6b52d1333d0ba"><div class="ttname"><a href="namespaceiuse.html#a2c21ebb318f0a7e236a6b52d1333d0ba">iuse::report_grid_connections</a></div><div class="ttdeci">int report_grid_connections(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09715">iuse.cpp:9715</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a2df3e8c930f47701ebe2a6a17538b584"><div class="ttname"><a href="namespaceiuse.html#a2df3e8c930f47701ebe2a6a17538b584">iuse::oxytorch</a></div><div class="ttdeci">int oxytorch(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04856">iuse.cpp:4856</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a2e3fd5647a64b6f33536703155750854"><div class="ttname"><a href="namespaceiuse.html#a2e3fd5647a64b6f33536703155750854">iuse::tazer2</a></div><div class="ttdeci">int tazer2(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04045">iuse.cpp:4045</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a2ff458256cc3dd93ea9a65ff36ee556d"><div class="ttname"><a href="namespaceiuse.html#a2ff458256cc3dd93ea9a65ff36ee556d">iuse::coin_flip</a></div><div class="ttdeci">int coin_flip(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09630">iuse.cpp:9630</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a2ffd5b9b676f359ad3b6a8db314d28a0"><div class="ttname"><a href="namespaceiuse.html#a2ffd5b9b676f359ad3b6a8db314d28a0">iuse::spray_can</a></div><div class="ttdeci">int spray_can(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05508">iuse.cpp:5508</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a30188170d193c1e90671e4b938926b87"><div class="ttname"><a href="namespaceiuse.html#a30188170d193c1e90671e4b938926b87">iuse::circsaw_on</a></div><div class="ttdeci">int circsaw_on(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03227">iuse.cpp:3227</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a30740d88ad8e8394d665d9006f20eacc"><div class="ttname"><a href="namespaceiuse.html#a30740d88ad8e8394d665d9006f20eacc">iuse::water_purifier</a></div><div class="ttdeci">int water_purifier(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02091">iuse.cpp:2091</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a31feaa639847b8a1e5974e026eb785b5"><div class="ttname"><a href="namespaceiuse.html#a31feaa639847b8a1e5974e026eb785b5">iuse::craft</a></div><div class="ttdeci">int craft(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09539">iuse.cpp:9539</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a32e8ce410f0d48d5d30ad5a75ec274e5"><div class="ttname"><a href="namespaceiuse.html#a32e8ce410f0d48d5d30ad5a75ec274e5">iuse::e_combatsaw_off</a></div><div class="ttdeci">int e_combatsaw_off(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03070">iuse.cpp:3070</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a35959c8acb23336c61771b360564c4d1"><div class="ttname"><a href="namespaceiuse.html#a35959c8acb23336c61771b360564c4d1">iuse::plantblech</a></div><div class="ttdeci">int plantblech(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01073">iuse.cpp:1073</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a3795d77ec24e87e31270b733722b971f"><div class="ttname"><a href="namespaceiuse.html#a3795d77ec24e87e31270b733722b971f">iuse::capture_monster_veh</a></div><div class="ttdeci">int capture_monster_veh(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09211">iuse.cpp:9211</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a3842b28b642b547db964b32260af5010"><div class="ttname"><a href="namespaceiuse.html#a3842b28b642b547db964b32260af5010">iuse::datura</a></div><div class="ttdeci">int datura(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00958">iuse.cpp:958</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a385737dae1ad9a403ea7946dea63a601"><div class="ttname"><a href="namespaceiuse.html#a385737dae1ad9a403ea7946dea63a601">iuse::wash_soft_items</a></div><div class="ttdeci">int wash_soft_items(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09391">iuse.cpp:9391</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a39a54f099f8fd5fbb811aa05bad58e02"><div class="ttname"><a href="namespaceiuse.html#a39a54f099f8fd5fbb811aa05bad58e02">iuse::arrow_flammable</a></div><div class="ttdeci">int arrow_flammable(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03778">iuse.cpp:3778</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a3b71f85b22913d8683ec1464ec8bec41"><div class="ttname"><a href="namespaceiuse.html#a3b71f85b22913d8683ec1464ec8bec41">iuse::firecracker</a></div><div class="ttdeci">int firecracker(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03866">iuse.cpp:3866</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a3bdece1a07a33641fa483176a9bd0175"><div class="ttname"><a href="namespaceiuse.html#a3bdece1a07a33641fa483176a9bd0175">iuse::tazer</a></div><div class="ttdeci">int tazer(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03976">iuse.cpp:3976</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a3c1d4a10bd7e29e546ba40ab02b3d765"><div class="ttname"><a href="namespaceiuse.html#a3c1d4a10bd7e29e546ba40ab02b3d765">iuse::noise_emitter_off</a></div><div class="ttdeci">int noise_emitter_off(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02250">iuse.cpp:2250</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a3ec4a9ae044aed6a9e99b59258a6fbda"><div class="ttname"><a href="namespaceiuse.html#a3ec4a9ae044aed6a9e99b59258a6fbda">iuse::remoteveh</a></div><div class="ttdeci">int remoteveh(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l08255">iuse.cpp:8255</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a3ed61e824f231f3b6855d8d3769f085a"><div class="ttname"><a href="namespaceiuse.html#a3ed61e824f231f3b6855d8d3769f085a">iuse::talking_doll</a></div><div class="ttdeci">int talking_doll(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05814">iuse.cpp:5814</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a3f435663e43863b4d83264dac8fbe9ad"><div class="ttname"><a href="namespaceiuse.html#a3f435663e43863b4d83264dac8fbe9ad">iuse::lumber</a></div><div class="ttdeci">int lumber(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04719">iuse.cpp:4719</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a418d7c8d1422f573f32df2253997b165"><div class="ttname"><a href="namespaceiuse.html#a418d7c8d1422f573f32df2253997b165">iuse::combatsaw_on</a></div><div class="ttdeci">int combatsaw_on(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03165">iuse.cpp:3165</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a4303a8a70c9ccc81c39d921ae2478692"><div class="ttname"><a href="namespaceiuse.html#a4303a8a70c9ccc81c39d921ae2478692">iuse::portable_game</a></div><div class="ttdeci">int portable_game(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04377">iuse.cpp:4377</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a44ada5d5014f5183d6be198a5b040138"><div class="ttname"><a href="namespaceiuse.html#a44ada5d5014f5183d6be198a5b040138">iuse::geiger</a></div><div class="ttdeci">int geiger(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03389">iuse.cpp:3389</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a46c01f7f882fde8bc12283b81cd5fbfb"><div class="ttname"><a href="namespaceiuse.html#a46c01f7f882fde8bc12283b81cd5fbfb">iuse::acidbomb_act</a></div><div class="ttdeci">int acidbomb_act(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03736">iuse.cpp:3736</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a46dea249d232934f987af8efb8320529"><div class="ttname"><a href="namespaceiuse.html#a46dea249d232934f987af8efb8320529">iuse::hand_crank</a></div><div class="ttdeci">int hand_crank(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04460">iuse.cpp:4460</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a4884a5f4a9818606704ceeffe78382a0"><div class="ttname"><a href="namespaceiuse.html#a4884a5f4a9818606704ceeffe78382a0">iuse::inhaler</a></div><div class="ttdeci">int inhaler(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00988">iuse.cpp:988</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a48fa1d77fe26dcfe0cfa5b8d1e38ce03"><div class="ttname"><a href="namespaceiuse.html#a48fa1d77fe26dcfe0cfa5b8d1e38ce03">iuse::marloss_seed</a></div><div class="ttdeci">int marloss_seed(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01404">iuse.cpp:1404</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a4945736059f06b41ffce6c4070f8f5e1"><div class="ttname"><a href="namespaceiuse.html#a4945736059f06b41ffce6c4070f8f5e1">iuse::granade_act</a></div><div class="ttdeci">int granade_act(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03576">iuse.cpp:3576</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a497ebac6fa2d17e0890765b80832299f"><div class="ttname"><a href="namespaceiuse.html#a497ebac6fa2d17e0890765b80832299f">iuse::chop_tree</a></div><div class="ttdeci">int chop_tree(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04767">iuse.cpp:4767</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a4a8ae9469156e13ca227dfa4f1e2c5eb"><div class="ttname"><a href="namespaceiuse.html#a4a8ae9469156e13ca227dfa4f1e2c5eb">iuse::wash_all_items</a></div><div class="ttdeci">int wash_all_items(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09433">iuse.cpp:9433</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a4abd33c9bed73fcf0455f67785ee29eb"><div class="ttname"><a href="namespaceiuse.html#a4abd33c9bed73fcf0455f67785ee29eb">iuse::noise_emitter_on</a></div><div class="ttdeci">int noise_emitter_on(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02261">iuse.cpp:2261</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a52fbad62e1ab810f627a8ef2a5bd0494"><div class="ttname"><a href="namespaceiuse.html#a52fbad62e1ab810f627a8ef2a5bd0494">iuse::marloss</a></div><div class="ttdeci">int marloss(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01392">iuse.cpp:1392</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a54ef0e8a9b1ce40de92f0baae5e54ca1"><div class="ttname"><a href="namespaceiuse.html#a54ef0e8a9b1ce40de92f0baae5e54ca1">iuse::note_bionics</a></div><div class="ttdeci">int note_bionics(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02275">iuse.cpp:2275</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a574c6a0371cf149b79ccf8fa062a44bf"><div class="ttname"><a href="namespaceiuse.html#a574c6a0371cf149b79ccf8fa062a44bf">iuse::oxygen_bottle</a></div><div class="ttdeci">int oxygen_bottle(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01002">iuse.cpp:1002</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a586262f32556678ff6eaaf4f41f7e783"><div class="ttname"><a href="namespaceiuse.html#a586262f32556678ff6eaaf4f41f7e783">iuse::directional_antenna</a></div><div class="ttdeci">int directional_antenna(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02129">iuse.cpp:2129</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a58988398abeae1dcbed6161a5326bad9"><div class="ttname"><a href="namespaceiuse.html#a58988398abeae1dcbed6161a5326bad9">iuse::cs_lajatang_off</a></div><div class="ttdeci">int cs_lajatang_off(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03097">iuse.cpp:3097</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a598d4b5bd2b0c73b1090325754726213"><div class="ttname"><a href="namespaceiuse.html#a598d4b5bd2b0c73b1090325754726213">iuse::hammer</a></div><div class="ttdeci">int hammer(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02359">iuse.cpp:2359</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a5c781aff4648bc9d49ee54de7a257b4a"><div class="ttname"><a href="namespaceiuse.html#a5c781aff4648bc9d49ee54de7a257b4a">iuse::honeycomb</a></div><div class="ttdeci">int honeycomb(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00465">iuse.cpp:465</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a5cbe783493c4bbb59042ea505639c06d"><div class="ttname"><a href="namespaceiuse.html#a5cbe783493c4bbb59042ea505639c06d">iuse::fishing_rod</a></div><div class="ttdeci">int fishing_rod(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01763">iuse.cpp:1763</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a5f2177dc204aa334562f3b16a2a090e8"><div class="ttname"><a href="namespaceiuse.html#a5f2177dc204aa334562f3b16a2a090e8">iuse::c4</a></div><div class="ttdeci">int c4(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03721">iuse.cpp:3721</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a61aded548c5a7c3c3d3acdffcd962fe2"><div class="ttname"><a href="namespaceiuse.html#a61aded548c5a7c3c3d3acdffcd962fe2">iuse::pack_cbm</a></div><div class="ttdeci">int pack_cbm(player *p, item *it, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02033">iuse.cpp:2033</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a6280558f691d61cad732f9ddd4a3fc08"><div class="ttname"><a href="namespaceiuse.html#a6280558f691d61cad732f9ddd4a3fc08">iuse::jackhammer</a></div><div class="ttdeci">int jackhammer(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03234">iuse.cpp:3234</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a6367cff497b3a461b608bf616d2358ff"><div class="ttname"><a href="namespaceiuse.html#a6367cff497b3a461b608bf616d2358ff">iuse::antifungal</a></div><div class="ttdeci">int antifungal(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00711">iuse.cpp:711</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a63bd00335278775136a06a2f6b73c8a3"><div class="ttname"><a href="namespaceiuse.html#a63bd00335278775136a06a2f6b73c8a3">iuse::poison</a></div><div class="ttdeci">int poison(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00875">iuse.cpp:875</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a64b41a4e8dbd3fca719eaea1625b85b0"><div class="ttname"><a href="namespaceiuse.html#a64b41a4e8dbd3fca719eaea1625b85b0">iuse::throwable_extinguisher_act</a></div><div class="ttdeci">int throwable_extinguisher_act(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03545">iuse.cpp:3545</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a65f04cd778ba18f8af92e04db0212ad9"><div class="ttname"><a href="namespaceiuse.html#a65f04cd778ba18f8af92e04db0212ad9">iuse::fungicide</a></div><div class="ttdeci">int fungicide(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00656">iuse.cpp:656</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a664125ee320f23c92c2bded4b241f8db"><div class="ttname"><a href="namespaceiuse.html#a664125ee320f23c92c2bded4b241f8db">iuse::trimmer_on</a></div><div class="ttdeci">int trimmer_on(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03220">iuse.cpp:3220</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a66d62c54b717d4e2fbc4490e0eddaba7"><div class="ttname"><a href="namespaceiuse.html#a66d62c54b717d4e2fbc4490e0eddaba7">iuse::feedcattle</a></div><div class="ttdeci">int feedcattle(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01638">iuse.cpp:1638</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a6747117d3ea0dfde6344594a9fd04cf9"><div class="ttname"><a href="namespaceiuse.html#a6747117d3ea0dfde6344594a9fd04cf9">iuse::anticonvulsant</a></div><div class="ttdeci">int anticonvulsant(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00776">iuse.cpp:776</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a6b3cb4163d22a16b914674ca4f07fd07"><div class="ttname"><a href="namespaceiuse.html#a6b3cb4163d22a16b914674ca4f07fd07">iuse::robotcontrol</a></div><div class="ttdeci">int robotcontrol(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l06018">iuse.cpp:6018</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a6c9da42d08bb6a46345ebd7793ccb840"><div class="ttname"><a href="namespaceiuse.html#a6c9da42d08bb6a46345ebd7793ccb840">iuse::weak_antibiotic</a></div><div class="ttdeci">int weak_antibiotic(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09515">iuse.cpp:9515</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a7018b6487f94b8e782bd6523f24da9da"><div class="ttname"><a href="namespaceiuse.html#a7018b6487f94b8e782bd6523f24da9da">iuse::gun_repair</a></div><div class="ttdeci">int gun_repair(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05834">iuse.cpp:5834</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a7125863340292afed6c2662c530bf362"><div class="ttname"><a href="namespaceiuse.html#a7125863340292afed6c2662c530bf362">iuse::rpgdie</a></div><div class="ttdeci">int rpgdie(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04223">iuse.cpp:4223</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a7379d0261888bcf0a4f2db556a36719a"><div class="ttname"><a href="namespaceiuse.html#a7379d0261888bcf0a4f2db556a36719a">iuse::e_combatsaw_on</a></div><div class="ttdeci">int e_combatsaw_on(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03172">iuse.cpp:3172</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a73c7d9cf354e1a3baefc57d6da88e84f"><div class="ttname"><a href="namespaceiuse.html#a73c7d9cf354e1a3baefc57d6da88e84f">iuse::thorazine</a></div><div class="ttdeci">int thorazine(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00915">iuse.cpp:915</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a791346a53fbb77e7bcffbebeab023965"><div class="ttname"><a href="namespaceiuse.html#a791346a53fbb77e7bcffbebeab023965">iuse::magic_8_ball</a></div><div class="ttdeci">int magic_8_ball(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09651">iuse.cpp:9651</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a7b3b50677802643bdcd63df07e94b514"><div class="ttname"><a href="namespaceiuse.html#a7b3b50677802643bdcd63df07e94b514">iuse::radio_off</a></div><div class="ttdeci">int radio_off(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02118">iuse.cpp:2118</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a7b9967bf92939e0eb7faf25298be0efd"><div class="ttname"><a href="namespaceiuse.html#a7b9967bf92939e0eb7faf25298be0efd">iuse::mp3_on</a></div><div class="ttdeci">int mp3_on(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04197">iuse.cpp:4197</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a7dcdbc04a40e253621e4e131cdb731ff"><div class="ttname"><a href="namespaceiuse.html#a7dcdbc04a40e253621e4e131cdb731ff">iuse::vaccine</a></div><div class="ttdeci">int vaccine(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00856">iuse.cpp:856</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a806d3629dd20d3cfa906b0a724018719"><div class="ttname"><a href="namespaceiuse.html#a806d3629dd20d3cfa906b0a724018719">iuse::toggle_heats_food</a></div><div class="ttdeci">int toggle_heats_food(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09689">iuse.cpp:9689</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a80802e0d819009a825a7e0d8cd5fbfb8"><div class="ttname"><a href="namespaceiuse.html#a80802e0d819009a825a7e0d8cd5fbfb8">iuse::radiocontrol</a></div><div class="ttdeci">int radiocontrol(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l08064">iuse.cpp:8064</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a817fb34ea6d9f331660be5f9f9d1d830"><div class="ttname"><a href="namespaceiuse.html#a817fb34ea6d9f331660be5f9f9d1d830">iuse::ehandcuffs</a></div><div class="ttdeci">int ehandcuffs(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l07778">iuse.cpp:7778</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a8471a6f7a1d97abed699bc34aa687061"><div class="ttname"><a href="namespaceiuse.html#a8471a6f7a1d97abed699bc34aa687061">iuse::elec_chainsaw_off</a></div><div class="ttdeci">int elec_chainsaw_off(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03088">iuse.cpp:3088</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a863654211e66d555c6103f873c006f5a"><div class="ttname"><a href="namespaceiuse.html#a863654211e66d555c6103f873c006f5a">iuse::directional_hologram</a></div><div class="ttdeci">int directional_hologram(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09181">iuse.cpp:9181</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a888aa172d5f857fd41531e78c95e8435"><div class="ttname"><a href="namespaceiuse.html#a888aa172d5f857fd41531e78c95e8435">iuse::dog_whistle</a></div><div class="ttdeci">int dog_whistle(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04563">iuse.cpp:4563</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a89f66093ce781aa4144ae0ad8669cd19"><div class="ttname"><a href="namespaceiuse.html#a89f66093ce781aa4144ae0ad8669cd19">iuse::dive_tank</a></div><div class="ttdeci">int dive_tank(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04246">iuse.cpp:4246</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a8a84e95e92cf71a5ab5a700d298f20bf"><div class="ttname"><a href="namespaceiuse.html#a8a84e95e92cf71a5ab5a700d298f20bf">iuse::solarpack_off</a></div><div class="ttdeci">int solarpack_off(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04323">iuse.cpp:4323</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a8c7fe40ae857aa6263fa8f733a0bf9e5"><div class="ttname"><a href="namespaceiuse.html#a8c7fe40ae857aa6263fa8f733a0bf9e5">iuse::rm13armor_off</a></div><div class="ttdeci">int rm13armor_off(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01978">iuse.cpp:1978</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a8d960e9090fe32957817e911bf30e3d1"><div class="ttname"><a href="namespaceiuse.html#a8d960e9090fe32957817e911bf30e3d1">iuse::blech</a></div><div class="ttdeci">int blech(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01023">iuse.cpp:1023</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a8f16cb027c9e2d876a8a6617c6b62463"><div class="ttname"><a href="namespaceiuse.html#a8f16cb027c9e2d876a8a6617c6b62463">iuse::mop</a></div><div class="ttdeci">int mop(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05088">iuse.cpp:5088</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a90743f549088ee917f6f482cf43c0ffe"><div class="ttname"><a href="namespaceiuse.html#a90743f549088ee917f6f482cf43c0ffe">iuse::portal</a></div><div class="ttdeci">int portal(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03962">iuse.cpp:3962</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a90826f05cd2d554a46e5c1aff7fd590b"><div class="ttname"><a href="namespaceiuse.html#a90826f05cd2d554a46e5c1aff7fd590b">iuse::dig</a></div><div class="ttdeci">int dig(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02707">iuse.cpp:2707</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a91d119f4dc993b2fed2b45b9dc173c23"><div class="ttname"><a href="namespaceiuse.html#a91d119f4dc993b2fed2b45b9dc173c23">iuse::radio_on</a></div><div class="ttdeci">int radio_on(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02163">iuse.cpp:2163</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a9430d817f535840cefa29014ad73a062"><div class="ttname"><a href="namespaceiuse.html#a9430d817f535840cefa29014ad73a062">iuse::crowbar</a></div><div class="ttdeci">int crowbar(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02418">iuse.cpp:2418</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a94ee528f750608e518c16f09103a997d"><div class="ttname"><a href="namespaceiuse.html#a94ee528f750608e518c16f09103a997d">iuse::contacts</a></div><div class="ttdeci">int contacts(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05784">iuse.cpp:5784</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a952ba3eee92726bda366cdf3b864b59f"><div class="ttname"><a href="namespaceiuse.html#a952ba3eee92726bda366cdf3b864b59f">iuse::catfood</a></div><div class="ttdeci">int catfood(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01633">iuse.cpp:1633</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a9a3cc0372f69cfd7f6554822d61a083e"><div class="ttname"><a href="namespaceiuse.html#a9a3cc0372f69cfd7f6554822d61a083e">iuse::weed_cake</a></div><div class="ttdeci">int weed_cake(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00795">iuse.cpp:795</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a9a4b8e2bc5d43e5e4c952c4c77e3db68"><div class="ttname"><a href="namespaceiuse.html#a9a4b8e2bc5d43e5e4c952c4c77e3db68">iuse::einktabletpc</a></div><div class="ttdeci">int einktabletpc(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l06369">iuse.cpp:6369</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a9ae5784c506dd050460a51b6585e636c"><div class="ttname"><a href="namespaceiuse.html#a9ae5784c506dd050460a51b6585e636c">iuse::meditate</a></div><div class="ttdeci">int meditate(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00896">iuse.cpp:896</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a9b8ee5b1d9c197dc1f5fba88d9fd5192"><div class="ttname"><a href="namespaceiuse.html#a9b8ee5b1d9c197dc1f5fba88d9fd5192">iuse::rm13armor_on</a></div><div class="ttdeci">int rm13armor_on(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02000">iuse.cpp:2000</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a9c619bed00bbbe6c9280aec8b8f9adc8"><div class="ttname"><a href="namespaceiuse.html#a9c619bed00bbbe6c9280aec8b8f9adc8">iuse::eyedrops</a></div><div class="ttdeci">int eyedrops(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00637">iuse.cpp:637</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a9da85c5459c545035b4400d4c32718d8"><div class="ttname"><a href="namespaceiuse.html#a9da85c5459c545035b4400d4c32718d8">iuse::report_grid_charge</a></div><div class="ttdeci">int report_grid_charge(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09704">iuse.cpp:9704</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a9f44ee8382c12410f19f4d321f18db29"><div class="ttname"><a href="namespaceiuse.html#a9f44ee8382c12410f19f4d321f18db29">iuse::tow_attach</a></div><div class="ttdeci">int tow_attach(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l08691">iuse.cpp:8691</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aa05b9253a87c0dbbd798894604c70ecd"><div class="ttname"><a href="namespaceiuse.html#aa05b9253a87c0dbbd798894604c70ecd">iuse::remove_all_mods</a></div><div class="ttdeci">int remove_all_mods(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01709">iuse.cpp:1709</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aa204865fbe45f6454539b3cb61ec6c92"><div class="ttname"><a href="namespaceiuse.html#aa204865fbe45f6454539b3cb61ec6c92">iuse::ecs_lajatang_on</a></div><div class="ttdeci">int ecs_lajatang_on(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03203">iuse.cpp:3203</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aa714299cbd68a62e2487f7fda3095a3e"><div class="ttname"><a href="namespaceiuse.html#aa714299cbd68a62e2487f7fda3095a3e">iuse::towel</a></div><div class="ttdeci">int towel(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05561">iuse.cpp:5561</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aa729b58c9beb6d8f34c626a6e81c8c79"><div class="ttname"><a href="namespaceiuse.html#aa729b58c9beb6d8f34c626a6e81c8c79">iuse::vibe</a></div><div class="ttdeci">int vibe(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04494">iuse.cpp:4494</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aa748624edacd9038fb86f038e61bb68a"><div class="ttname"><a href="namespaceiuse.html#aa748624edacd9038fb86f038e61bb68a">iuse::flumed</a></div><div class="ttdeci">int flumed(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00972">iuse.cpp:972</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aa99119c97dd4afb26a9ed0c0008c6491"><div class="ttname"><a href="namespaceiuse.html#aa99119c97dd4afb26a9ed0c0008c6491">iuse::trimmer_off</a></div><div class="ttdeci">int trimmer_off(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03124">iuse.cpp:3124</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aaba6d96d9fc6facbc0b8d5242355810e"><div class="ttname"><a href="namespaceiuse.html#aaba6d96d9fc6facbc0b8d5242355810e">iuse::capture_monster_act</a></div><div class="ttdeci">int capture_monster_act(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09265">iuse.cpp:9265</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aac318704559d836911f47277d6172208"><div class="ttname"><a href="namespaceiuse.html#aac318704559d836911f47277d6172208">iuse::sewage</a></div><div class="ttdeci">int sewage(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00451">iuse.cpp:451</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aaee7b018768871e7ee2a69adb30f148f"><div class="ttname"><a href="namespaceiuse.html#aaee7b018768871e7ee2a69adb30f148f">iuse::radiocar</a></div><div class="ttdeci">int radiocar(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l07893">iuse.cpp:7893</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aaf48bc6fd66cb1105785fa740913337f"><div class="ttname"><a href="namespaceiuse.html#aaf48bc6fd66cb1105785fa740913337f">iuse::shavekit</a></div><div class="ttdeci">int shavekit(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09074">iuse.cpp:9074</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ab198cffb01232a794d5ab08eeb586b3b"><div class="ttname"><a href="namespaceiuse.html#ab198cffb01232a794d5ab08eeb586b3b">iuse::prozac</a></div><div class="ttdeci">int prozac(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00937">iuse.cpp:937</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ab1b7f3a9546c3fcb8a3095b5eb1f08ff"><div class="ttname"><a href="namespaceiuse.html#ab1b7f3a9546c3fcb8a3095b5eb1f08ff">iuse::firecracker_pack</a></div><div class="ttdeci">int firecracker_pack(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03825">iuse.cpp:3825</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ab630d95172ee67696af5f138f0e2e85e"><div class="ttname"><a href="namespaceiuse.html#ab630d95172ee67696af5f138f0e2e85e">iuse::antibiotic</a></div><div class="ttdeci">int antibiotic(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00624">iuse.cpp:624</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ab65c4948655613af9808e56ee73a39fd"><div class="ttname"><a href="namespaceiuse.html#ab65c4948655613af9808e56ee73a39fd">iuse::fill_pit</a></div><div class="ttdeci">int fill_pit(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02869">iuse.cpp:2869</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ab68c2305f7ed2e6a979869a5208d1011"><div class="ttname"><a href="namespaceiuse.html#ab68c2305f7ed2e6a979869a5208d1011">iuse::camera</a></div><div class="ttdeci">int camera(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l07491">iuse.cpp:7491</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ab9c9e9d8e1c972f8d7e94f482aa692c3"><div class="ttname"><a href="namespaceiuse.html#ab9c9e9d8e1c972f8d7e94f482aa692c3">iuse::shocktonfa_off</a></div><div class="ttdeci">int shocktonfa_off(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04060">iuse.cpp:4060</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aba2ba2bb6fe17a1cfc06d4a8e4227d76"><div class="ttname"><a href="namespaceiuse.html#aba2ba2bb6fe17a1cfc06d4a8e4227d76">iuse::blood_draw</a></div><div class="ttdeci">int blood_draw(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04600">iuse.cpp:4600</a></div></div>
<div class="ttc" id="anamespaceiuse_html_abbada1cfe3e93f4e81d2a6abc0ae15d4"><div class="ttname"><a href="namespaceiuse.html#abbada1cfe3e93f4e81d2a6abc0ae15d4">iuse::disassemble</a></div><div class="ttdeci">int disassemble(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09600">iuse.cpp:9600</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ac13d2a221346c855be7a0c0c04d77895"><div class="ttname"><a href="namespaceiuse.html#ac13d2a221346c855be7a0c0c04d77895">iuse::teleport</a></div><div class="ttdeci">int teleport(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03474">iuse.cpp:3474</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ac37caf0eeb00410e5b3c961794cebdc0"><div class="ttname"><a href="namespaceiuse.html#ac37caf0eeb00410e5b3c961794cebdc0">iuse::cs_lajatang_on</a></div><div class="ttdeci">int cs_lajatang_on(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03193">iuse.cpp:3193</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ac4e2511a717575fe4666414db8138851"><div class="ttname"><a href="namespaceiuse.html#ac4e2511a717575fe4666414db8138851">iuse::antiasthmatic</a></div><div class="ttdeci">int antiasthmatic(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00867">iuse.cpp:867</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ac6176c97f6298823068e8c8b7f572348"><div class="ttname"><a href="namespaceiuse.html#ac6176c97f6298823068e8c8b7f572348">iuse::makemound</a></div><div class="ttdeci">int makemound(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02549">iuse.cpp:2549</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ac63015323a9e1403dbd85b0696d4ed87"><div class="ttname"><a href="namespaceiuse.html#ac63015323a9e1403dbd85b0696d4ed87">iuse::jet_injector</a></div><div class="ttdeci">int jet_injector(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05711">iuse.cpp:5711</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ac99884d7e0f78beb10cc7fe95cf13802"><div class="ttname"><a href="namespaceiuse.html#ac99884d7e0f78beb10cc7fe95cf13802">iuse::extinguisher</a></div><div class="ttdeci">int extinguisher(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01925">iuse.cpp:1925</a></div></div>
<div class="ttc" id="anamespaceiuse_html_acb63e796d6a12763147860706533963d"><div class="ttname"><a href="namespaceiuse.html#acb63e796d6a12763147860706533963d">iuse::ma_manual</a></div><div class="ttdeci">int ma_manual(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02343">iuse.cpp:2343</a></div></div>
<div class="ttc" id="anamespaceiuse_html_acd99c4f5ccc4748d40d40a3a71b61df2"><div class="ttname"><a href="namespaceiuse.html#acd99c4f5ccc4748d40d40a3a71b61df2">iuse::chop_logs</a></div><div class="ttdeci">int chop_logs(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04811">iuse.cpp:4811</a></div></div>
<div class="ttc" id="anamespaceiuse_html_acf3d05b40baec1712280885e0255dd0a"><div class="ttname"><a href="namespaceiuse.html#acf3d05b40baec1712280885e0255dd0a">iuse::hairkit</a></div><div class="ttdeci">int hairkit(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09089">iuse.cpp:9089</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ad13ddff79124dac8f631e85e07a3439d"><div class="ttname"><a href="namespaceiuse.html#ad13ddff79124dac8f631e85e07a3439d">iuse::purifier</a></div><div class="ttdeci">int purifier(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01129">iuse.cpp:1129</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ad22021d43df78368abfcf1b80f7f3974"><div class="ttname"><a href="namespaceiuse.html#ad22021d43df78368abfcf1b80f7f3974">iuse::adrenaline_injector</a></div><div class="ttdeci">int adrenaline_injector(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05688">iuse.cpp:5688</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ad35dc0573f2c10a79ad65cad73762f32"><div class="ttname"><a href="namespaceiuse.html#ad35dc0573f2c10a79ad65cad73762f32">iuse::clear_rubble</a></div><div class="ttdeci">int clear_rubble(player *, item *, bool, const tripoint &amp;)</div><div class="ttdoc">Explanation of ACT_CLEAR_RUBBLE activity values:</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02942">iuse.cpp:2942</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ad49f6d9afb7227451244b037b56f6c92"><div class="ttname"><a href="namespaceiuse.html#ad49f6d9afb7227451244b037b56f6c92">iuse::burrow</a></div><div class="ttdeci">int burrow(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03343">iuse.cpp:3343</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ad4ae1522fa6bd5a1dca74d08ad76c8e1"><div class="ttname"><a href="namespaceiuse.html#ad4ae1522fa6bd5a1dca74d08ad76c8e1">iuse::combatsaw_off</a></div><div class="ttdeci">int combatsaw_off(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03061">iuse.cpp:3061</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ad65d231a2d136f7e8f8c0b9529a3a8fe"><div class="ttname"><a href="namespaceiuse.html#ad65d231a2d136f7e8f8c0b9529a3a8fe">iuse::sleep</a></div><div class="ttdeci">int sleep(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00951">iuse.cpp:951</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ad6fc83e63c449fa4a2e8ca77a29c3c0d"><div class="ttname"><a href="namespaceiuse.html#ad6fc83e63c449fa4a2e8ca77a29c3c0d">iuse::firecracker_pack_act</a></div><div class="ttdeci">int firecracker_pack_act(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03843">iuse.cpp:3843</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ad79004baf98adccb8b9694bc30eb290d"><div class="ttname"><a href="namespaceiuse.html#ad79004baf98adccb8b9694bc30eb290d">iuse::chainsaw_off</a></div><div class="ttdeci">int chainsaw_off(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03079">iuse.cpp:3079</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ad7db7681ea89f6652b3528ed6afdaa04"><div class="ttname"><a href="namespaceiuse.html#ad7db7681ea89f6652b3528ed6afdaa04">iuse::elec_chainsaw_on</a></div><div class="ttdeci">int elec_chainsaw_on(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03186">iuse.cpp:3186</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ad931b414f7f1b3e14c6f188e282da137"><div class="ttname"><a href="namespaceiuse.html#ad931b414f7f1b3e14c6f188e282da137">iuse::solarpack</a></div><div class="ttdeci">int solarpack(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04294">iuse.cpp:4294</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ada4d2575fb6b27538bc74b94f116943f"><div class="ttname"><a href="namespaceiuse.html#ada4d2575fb6b27538bc74b94f116943f">iuse::wash_hard_items</a></div><div class="ttdeci">int wash_hard_items(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09412">iuse.cpp:9412</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ada78e14562e559ac1a3cc6f84f4c1604"><div class="ttname"><a href="namespaceiuse.html#ada78e14562e559ac1a3cc6f84f4c1604">iuse::molotov_lit</a></div><div class="ttdeci">int molotov_lit(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03800">iuse.cpp:3800</a></div></div>
<div class="ttc" id="anamespaceiuse_html_adbe3744c239129f7b6cdd7b9fdcddb53"><div class="ttname"><a href="namespaceiuse.html#adbe3744c239129f7b6cdd7b9fdcddb53">iuse::flusleep</a></div><div class="ttdeci">int flusleep(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00979">iuse.cpp:979</a></div></div>
<div class="ttc" id="anamespaceiuse_html_adc01ed1355e71cdf0856363b4ad907f5"><div class="ttname"><a href="namespaceiuse.html#adc01ed1355e71cdf0856363b4ad907f5">iuse::alcohol_medium</a></div><div class="ttdeci">int alcohol_medium(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00512">iuse.cpp:512</a></div></div>
<div class="ttc" id="anamespaceiuse_html_add705cd4049aa3d464aa38394e6deeaf"><div class="ttname"><a href="namespaceiuse.html#add705cd4049aa3d464aa38394e6deeaf">iuse::radglove</a></div><div class="ttdeci">int radglove(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05756">iuse.cpp:5756</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ae128a5b390f487c2ab93acbeadd86867"><div class="ttname"><a href="namespaceiuse.html#ae128a5b390f487c2ab93acbeadd86867">iuse::weather_tool</a></div><div class="ttdeci">int weather_tool(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09100">iuse.cpp:9100</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ae1a9869a841219f81c39c873d5c08e59"><div class="ttname"><a href="namespaceiuse.html#ae1a9869a841219f81c39c873d5c08e59">iuse::foodperson</a></div><div class="ttdeci">int foodperson(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l07874">iuse.cpp:7874</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ae1f228b25a574d88137059eb3ee009ee"><div class="ttname"><a href="namespaceiuse.html#ae1f228b25a574d88137059eb3ee009ee">iuse::radio_mod</a></div><div class="ttdeci">int radio_mod(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01648">iuse.cpp:1648</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ae706eba79724ccf3b4bc1cb14572df7d"><div class="ttname"><a href="namespaceiuse.html#ae706eba79724ccf3b4bc1cb14572df7d">iuse::autoclave</a></div><div class="ttdeci">int autoclave(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l08385">iuse.cpp:8385</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ae7092ba0c5ab6b366ce53e0d83e1733d"><div class="ttname"><a href="namespaceiuse.html#ae7092ba0c5ab6b366ce53e0d83e1733d">iuse::pack_item</a></div><div class="ttdeci">int pack_item(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02064">iuse.cpp:2064</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ae7605a2a35b7ba6d0353b3c7c74ae7f0"><div class="ttname"><a href="namespaceiuse.html#ae7605a2a35b7ba6d0353b3c7c74ae7f0">iuse::ecig</a></div><div class="ttdeci">int ecig(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00597">iuse.cpp:597</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ae84247499c1f9c3996f54bb5e849ffe5"><div class="ttname"><a href="namespaceiuse.html#ae84247499c1f9c3996f54bb5e849ffe5">iuse::mp3</a></div><div class="ttdeci">int mp3(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04111">iuse.cpp:4111</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ae8660f56fde38d1d448b20173f6e9ee4"><div class="ttname"><a href="namespaceiuse.html#ae8660f56fde38d1d448b20173f6e9ee4">iuse::alcohol_weak</a></div><div class="ttdeci">int alcohol_weak(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00507">iuse.cpp:507</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ae9e320388be1366adea2739dd390c18d"><div class="ttname"><a href="namespaceiuse.html#ae9e320388be1366adea2739dd390c18d">iuse::marloss_gel</a></div><div class="ttdeci">int marloss_gel(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01421">iuse.cpp:1421</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aea3836a0efda34a7f00ccbfbba7ade3e"><div class="ttname"><a href="namespaceiuse.html#aea3836a0efda34a7f00ccbfbba7ade3e">iuse::radiocaron</a></div><div class="ttdeci">int radiocaron(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l07970">iuse.cpp:7970</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aea803753a727c1825f333e9d4fc69eec"><div class="ttname"><a href="namespaceiuse.html#aea803753a727c1825f333e9d4fc69eec">iuse::smoking</a></div><div class="ttdeci">int smoking(player *, item *, bool, const tripoint &amp;)</div><div class="ttdoc">Entry point for intentional bodily intake of smoke via paper wrapped one time use items: cigars,...</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00530">iuse.cpp:530</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aead9366f186a44fcd9b0966c0d13a86a"><div class="ttname"><a href="namespaceiuse.html#aead9366f186a44fcd9b0966c0d13a86a">iuse::grenade_inc_act</a></div><div class="ttdeci">int grenade_inc_act(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03748">iuse.cpp:3748</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aec7231ff4cad991c6f9bc9bc88026446"><div class="ttname"><a href="namespaceiuse.html#aec7231ff4cad991c6f9bc9bc88026446">iuse::call_of_tindalos</a></div><div class="ttdeci">int call_of_tindalos(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04589">iuse.cpp:4589</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aecdc200d835fb6eaf207e84d2e5992a8"><div class="ttname"><a href="namespaceiuse.html#aecdc200d835fb6eaf207e84d2e5992a8">iuse::chew</a></div><div class="ttdeci">int chew(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01096">iuse.cpp:1096</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aee6388125347281819df5c608e1e2008"><div class="ttname"><a href="namespaceiuse.html#aee6388125347281819df5c608e1e2008">iuse::gunmod_attach</a></div><div class="ttdeci">int gunmod_attach(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05910">iuse.cpp:5910</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aee840b3e8d9e57e43bf850bb4fe1f32f"><div class="ttname"><a href="namespaceiuse.html#aee840b3e8d9e57e43bf850bb4fe1f32f">iuse::fish_trap</a></div><div class="ttdeci">int fish_trap(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01791">iuse.cpp:1791</a></div></div>
<div class="ttc" id="anamespaceiuse_html_aef454dfcb71a12f3fd7efa0d316ece43"><div class="ttname"><a href="namespaceiuse.html#aef454dfcb71a12f3fd7efa0d316ece43">iuse::chainsaw_on</a></div><div class="ttdeci">int chainsaw_on(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03179">iuse.cpp:3179</a></div></div>
<div class="ttc" id="anamespaceiuse_html_af0c1aa12219bb953dfbfb031e9528f95"><div class="ttname"><a href="namespaceiuse.html#af0c1aa12219bb953dfbfb031e9528f95">iuse::ladder</a></div><div class="ttdeci">int ladder(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09354">iuse.cpp:9354</a></div></div>
<div class="ttc" id="anamespaceiuse_html_af14ea02c85a46c46323b35c4b4702a5f"><div class="ttname"><a href="namespaceiuse.html#af14ea02c85a46c46323b35c4b4702a5f">iuse::unfold_generic</a></div><div class="ttdeci">int unfold_generic(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05634">iuse.cpp:5634</a></div></div>
<div class="ttc" id="anamespaceiuse_html_af1c729ba5eabe537c351f47be2a30324"><div class="ttname"><a href="namespaceiuse.html#af1c729ba5eabe537c351f47be2a30324">iuse::play_game</a></div><div class="ttdeci">int play_game(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09637">iuse.cpp:9637</a></div></div>
<div class="ttc" id="anamespaceiuse_html_af2324774ae58dc15ed929ec5b4f0bb7f"><div class="ttname"><a href="namespaceiuse.html#af2324774ae58dc15ed929ec5b4f0bb7f">iuse::xanax</a></div><div class="ttdeci">int xanax(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00471">iuse.cpp:471</a></div></div>
<div class="ttc" id="anamespaceiuse_html_af299bd5b5c92d4c4508f85fb461e91f8"><div class="ttname"><a href="namespaceiuse.html#af299bd5b5c92d4c4508f85fb461e91f8">iuse::alcohol_strong</a></div><div class="ttdeci">int alcohol_strong(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l00517">iuse.cpp:517</a></div></div>
<div class="ttc" id="anamespaceiuse_html_af2ea0157e8ffbf1b71fe439733308adc"><div class="ttname"><a href="namespaceiuse.html#af2ea0157e8ffbf1b71fe439733308adc">iuse::dig_channel</a></div><div class="ttdeci">int dig_channel(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l02803">iuse.cpp:2803</a></div></div>
<div class="ttc" id="anamespaceiuse_html_af5cf673b4a25124acdaf1e30265e8f19"><div class="ttname"><a href="namespaceiuse.html#af5cf673b4a25124acdaf1e30265e8f19">iuse::stimpack</a></div><div class="ttdeci">int stimpack(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05733">iuse.cpp:5733</a></div></div>
<div class="ttc" id="anamespaceiuse_html_af624c9900caf3fcac2aa28441f7e4061"><div class="ttname"><a href="namespaceiuse.html#af624c9900caf3fcac2aa28441f7e4061">iuse::carver_on</a></div><div class="ttdeci">int carver_on(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l03213">iuse.cpp:3213</a></div></div>
<div class="ttc" id="anamespaceiuse_html_af7900c10b8cf6614dfa61450516d107d"><div class="ttname"><a href="namespaceiuse.html#af7900c10b8cf6614dfa61450516d107d">iuse::shocktonfa_on</a></div><div class="ttdeci">int shocktonfa_on(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04084">iuse.cpp:4084</a></div></div>
<div class="ttc" id="anamespaceiuse_html_af9e8597a652893f2459d8db97ab11025"><div class="ttname"><a href="namespaceiuse.html#af9e8597a652893f2459d8db97ab11025">iuse::purify_iv</a></div><div class="ttdeci">int purify_iv(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l01141">iuse.cpp:1141</a></div></div>
<div class="ttc" id="anamespaceiuse_html_afb61c8d119bd0c545bc42c10d11d357b"><div class="ttname"><a href="namespaceiuse.html#afb61c8d119bd0c545bc42c10d11d357b">iuse::gasmask</a></div><div class="ttdeci">int gasmask(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l04337">iuse.cpp:4337</a></div></div>
<div class="ttc" id="anamespacemapgen__defer_html_a640e58e4d234e3f1e2ddbfff8fd665ce"><div class="ttname"><a href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">mapgen_defer::member</a></div><div class="ttdeci">std::string member</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l00407">mapgen.cpp:407</a></div></div>
<div class="ttc" id="anamespacematerials_html"><div class="ttname"><a href="namespacematerials.html">materials</a></div><div class="ttdef"><b>Definition:</b> <a href="material_8h_source.html#l00122">material.h:123</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a8ba958ccfad28c0a5572a04dd1428f32"><div class="ttname"><a href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a></div><div class="ttdeci">std::string name(type dir)</div><div class="ttdoc">Get Human readable name of a direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l04126">overmap.cpp:4126</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdoc">STL namespace.</div></div>
<div class="ttc" id="anamespaceto__cbc__migration_html_aa2388f961ff14499d847777a40741d59"><div class="ttname"><a href="namespaceto__cbc__migration.html#aa2388f961ff14499d847777a40741d59">to_cbc_migration::migrate</a></div><div class="ttdeci">static void migrate(cata::colony&lt; item &gt; &amp;stack)</div><div class="ttdoc">Merge old individual items into new count-by-charges items with same id.</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l02141">savegame_json.cpp:2141</a></div></div>
<div class="ttc" id="anamespaceunits_html_a9389a1cd90e210edaa722e6cfb1f880d"><div class="ttname"><a href="namespaceunits.html#a9389a1cd90e210edaa722e6cfb1f880d">units::probability</a></div><div class="ttdeci">quantity&lt; int, probability_in_one_in_million_tag &gt; probability</div><div class="ttdef"><b>Definition:</b> <a href="units__probability_8h_source.html#l00014">units_probability.h:14</a></div></div>
<div class="ttc" id="anamespaceunits_html_ad5064536a25fc0458ae37e5037d9bb57"><div class="ttname"><a href="namespaceunits.html#ad5064536a25fc0458ae37e5037d9bb57">units::energy_units</a></div><div class="ttdeci">static const std::vector&lt; std::pair&lt; std::string, energy &gt; &gt; energy_units</div><div class="ttdef"><b>Definition:</b> <a href="units_8h_source.html#l00074">units.h:74</a></div></div>
<div class="ttc" id="anamespaceunits_html_ae88f75884a4675d88f416f8fc6510558"><div class="ttname"><a href="namespaceunits.html#ae88f75884a4675d88f416f8fc6510558">units::from_milliliter</a></div><div class="ttdeci">constexpr quantity&lt; value_type, volume_in_milliliter_tag &gt; from_milliliter(const value_type v)</div><div class="ttdef"><b>Definition:</b> <a href="units__volume_8h_source.html#l00025">units_volume.h:25</a></div></div>
<div class="ttc" id="aoptional_8h_html"><div class="ttname"><a href="optional_8h.html">optional.h</a></div></div>
<div class="ttc" id="aoptions_8h_html"><div class="ttname"><a href="options_8h.html">options.h</a></div></div>
<div class="ttc" id="arecipe_8h_html"><div class="ttname"><a href="recipe_8h.html">recipe.h</a></div></div>
<div class="ttc" id="arecipe__dictionary_8cpp_html_a9fdb53bd54fb6dcc5f9b2e1e1b44570f"><div class="ttname"><a href="recipe__dictionary_8cpp.html#a9fdb53bd54fb6dcc5f9b2e1e1b44570f">recipe_dict</a></div><div class="ttdeci">recipe_dictionary recipe_dict</div><div class="ttdef"><b>Definition:</b> <a href="recipe__dictionary_8cpp_source.html#l00028">recipe_dictionary.cpp:28</a></div></div>
<div class="ttc" id="arecipe__dictionary_8h_html"><div class="ttname"><a href="recipe__dictionary_8h.html">recipe_dictionary.h</a></div></div>
<div class="ttc" id="arelic_8h_html"><div class="ttname"><a href="relic_8h.html">relic.h</a></div></div>
<div class="ttc" id="arequirements_8h_html"><div class="ttname"><a href="requirements_8h.html">requirements.h</a></div></div>
<div class="ttc" id="askill_8h_html"><div class="ttname"><a href="skill_8h.html">skill.h</a></div></div>
<div class="ttc" id="asounds_8cpp_html_ad9fe7b616a93a8209da903eba756237e"><div class="ttname"><a href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a></div><div class="ttdeci">activity_id act</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00075">sounds.cpp:75</a></div></div>
<div class="ttc" id="astomach_8h_html"><div class="ttname"><a href="stomach_8h.html">stomach.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html"><div class="ttname"><a href="string__formatter_8h.html">string_formatter.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a9b089d0b697443b096063219dab08ef5"><div class="ttname"><a href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a></div><div class="ttdeci">std::string string_format(std::string format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00418">string_formatter.h:418</a></div></div>
<div class="ttc" id="astring__id_8h_html"><div class="ttname"><a href="string__id_8h.html">string_id.h</a></div></div>
<div class="ttc" id="astring__utils_8cpp_html_a2a9cb822cf98b9560d7354cc9baef3ad"><div class="ttname"><a href="string__utils_8cpp.html#a2a9cb822cf98b9560d7354cc9baef3ad">string_starts_with</a></div><div class="ttdeci">bool string_starts_with(const std::string &amp;s1, const std::string &amp;s2)</div><div class="ttdoc">Returns true if s1 starts with s2.</div><div class="ttdef"><b>Definition:</b> <a href="string__utils_8cpp_source.html#l00079">string_utils.cpp:79</a></div></div>
<div class="ttc" id="astring__utils_8cpp_html_a34d7ffc8f91f1bdfed2b21d1411ad557"><div class="ttname"><a href="string__utils_8cpp.html#a34d7ffc8f91f1bdfed2b21d1411ad557">to_lower_case</a></div><div class="ttdeci">std::string to_lower_case(const std::string &amp;s)</div><div class="ttdoc">Converts the string to lower case.</div><div class="ttdef"><b>Definition:</b> <a href="string__utils_8cpp_source.html#l00241">string_utils.cpp:241</a></div></div>
<div class="ttc" id="astring__utils_8h_html"><div class="ttname"><a href="string__utils_8h.html">string_utils.h</a></div></div>
<div class="ttc" id="astructammo__effect_html_a3b5e910b5cdd574f6e6065cf9fc2fe2f"><div class="ttname"><a href="structammo__effect.html#a3b5e910b5cdd574f6e6065cf9fc2fe2f">ammo_effect::id</a></div><div class="ttdeci">string_id&lt; ammo_effect &gt; id</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8h_source.html#l00049">ammo_effect.h:49</a></div></div>
<div class="ttc" id="astructcommon__ranged__data_html_a497cd4533098e79f14f8a97fcec6ca1a"><div class="ttname"><a href="structcommon__ranged__data.html#a497cd4533098e79f14f8a97fcec6ca1a">common_ranged_data::dispersion</a></div><div class="ttdeci">int dispersion</div><div class="ttdoc">Dispersion &quot;bonus&quot; from gun.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00420">itype.h:420</a></div></div>
<div class="ttc" id="astructcommon__ranged__data_html_a94254f1acb94261bb47c4b7aaa3b0c89"><div class="ttname"><a href="structcommon__ranged__data.html#a94254f1acb94261bb47c4b7aaa3b0c89">common_ranged_data::damage</a></div><div class="ttdeci">damage_instance damage</div><div class="ttdoc">Damage, armor piercing and multipliers for each.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00412">itype.h:412</a></div></div>
<div class="ttc" id="astructcommon__ranged__data_html_af73392bcb456d04c3fdf1a413b6b3a9e"><div class="ttname"><a href="structcommon__ranged__data.html#af73392bcb456d04c3fdf1a413b6b3a9e">common_ranged_data::range</a></div><div class="ttdeci">int range</div><div class="ttdoc">Range bonus from gun.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00416">itype.h:416</a></div></div>
<div class="ttc" id="astructconditional__name_html"><div class="ttname"><a href="structconditional__name.html">conditional_name</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00819">itype.h:819</a></div></div>
<div class="ttc" id="astructconditional__name_html_a7f83a54f817bcd052f2a474d2d0c37a5"><div class="ttname"><a href="structconditional__name.html#a7f83a54f817bcd052f2a474d2d0c37a5">conditional_name::condition</a></div><div class="ttdeci">std::string condition</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00823">itype.h:823</a></div></div>
<div class="ttc" id="astructconditional__name_html_aae6859a6f0c56830765ae70546da4eda"><div class="ttname"><a href="structconditional__name.html#aae6859a6f0c56830765ae70546da4eda">conditional_name::name</a></div><div class="ttdeci">translation name</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00826">itype.h:826</a></div></div>
<div class="ttc" id="astructconditional__name_html_ac51a78e5f1662317a41ec1d63b903ece"><div class="ttname"><a href="structconditional__name.html#ac51a78e5f1662317a41ec1d63b903ece">conditional_name::type</a></div><div class="ttdeci">condition_type type</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00821">itype.h:821</a></div></div>
<div class="ttc" id="astructdamage__instance_html"><div class="ttname"><a href="structdamage__instance.html">damage_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00051">damage.h:51</a></div></div>
<div class="ttc" id="astructdamage__instance_html_a36067fd68baf04345d0c3626c67b8cac"><div class="ttname"><a href="structdamage__instance.html#a36067fd68baf04345d0c3626c67b8cac">damage_instance::add_damage</a></div><div class="ttdeci">void add_damage(damage_type dt, float amt, float arpen=0.0f, float arpen_mult=1.0f, float dmg_mult=1.0f)</div><div class="ttdoc">Adds damage to the instance.</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00041">damage.cpp:41</a></div></div>
<div class="ttc" id="astructdamage__instance_html_a4591412e4fb2bce72f920783a39fda91"><div class="ttname"><a href="structdamage__instance.html#a4591412e4fb2bce72f920783a39fda91">damage_instance::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00083">damage.cpp:83</a></div></div>
<div class="ttc" id="astructdamage__unit_html"><div class="ttname"><a href="structdamage__unit.html">damage_unit</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00035">damage.h:35</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a5937d5d78a6db9efaefb0bf9517377d3"><div class="ttname"><a href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">damage_unit::amount</a></div><div class="ttdeci">float amount</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00037">damage.h:37</a></div></div>
<div class="ttc" id="astructdamage__unit_html_ab4d1b13f7ebe2f16a43038e1441ec2b5"><div class="ttname"><a href="structdamage__unit.html#ab4d1b13f7ebe2f16a43038e1441ec2b5">damage_unit::res_pen</a></div><div class="ttdeci">float res_pen</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00038">damage.h:38</a></div></div>
<div class="ttc" id="astructfuel__explosion_html_a0f2b4cba3125d69012b4ef15d8936515"><div class="ttname"><a href="structfuel__explosion.html#a0f2b4cba3125d69012b4ef15d8936515">fuel_explosion::fuel_size_factor</a></div><div class="ttdeci">float fuel_size_factor</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00446">itype.h:446</a></div></div>
<div class="ttc" id="astructfuel__explosion_html_a98a2472758ae57ec83d9a0232d444474"><div class="ttname"><a href="structfuel__explosion.html#a98a2472758ae57ec83d9a0232d444474">fuel_explosion::explosion_chance_hot</a></div><div class="ttdeci">int explosion_chance_hot</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00442">itype.h:442</a></div></div>
<div class="ttc" id="astructfuel__explosion_html_aa919d40c33bd8f1021043c4e5b6fcad1"><div class="ttname"><a href="structfuel__explosion.html#aa919d40c33bd8f1021043c4e5b6fcad1">fuel_explosion::fiery_explosion</a></div><div class="ttdeci">bool fiery_explosion</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00445">itype.h:445</a></div></div>
<div class="ttc" id="astructfuel__explosion_html_ac753c9614f85226b83eba0a04b398394"><div class="ttname"><a href="structfuel__explosion.html#ac753c9614f85226b83eba0a04b398394">fuel_explosion::explosion_factor</a></div><div class="ttdeci">float explosion_factor</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00444">itype.h:444</a></div></div>
<div class="ttc" id="astructfuel__explosion_html_adc2ad7f2f7acfc0a66e874a774cfc627"><div class="ttname"><a href="structfuel__explosion.html#adc2ad7f2f7acfc0a66e874a774cfc627">fuel_explosion::explosion_chance_cold</a></div><div class="ttdeci">int explosion_chance_cold</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00443">itype.h:443</a></div></div>
<div class="ttc" id="astructislot__ammo_html_a3904c72b147fc5bb85bdf443dc61538d"><div class="ttname"><a href="structislot__ammo.html#a3904c72b147fc5bb85bdf443dc61538d">islot_ammo::loudness</a></div><div class="ttdeci">int loudness</div><div class="ttdoc">Base loudness of ammo (possibly modified by gun/gunmods).</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00710">itype.h:710</a></div></div>
<div class="ttc" id="astructislot__ammo_html_a405f6a825e91ef797ff7a9d25b3d8d74"><div class="ttname"><a href="structislot__ammo.html#a405f6a825e91ef797ff7a9d25b3d8d74">islot_ammo::force_stat_display</a></div><div class="ttdeci">cata::optional&lt; bool &gt; force_stat_display</div><div class="ttdoc">Some combat ammo might not have a damage value Set this to make it show as combat ammo anyway.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00733">itype.h:733</a></div></div>
<div class="ttc" id="astructislot__ammo_html_a4e55e746a4e82e094d70ed42f1cf1ac1"><div class="ttname"><a href="structislot__ammo.html#a4e55e746a4e82e094d70ed42f1cf1ac1">islot_ammo::dont_recover_one_in</a></div><div class="ttdeci">int dont_recover_one_in</div><div class="ttdoc">Chance to fail to recover the ammo used.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00695">itype.h:695</a></div></div>
<div class="ttc" id="astructislot__ammo_html_a50b0b4c535f2b4a412335f917110bd29"><div class="ttname"><a href="structislot__ammo.html#a50b0b4c535f2b4a412335f917110bd29">islot_ammo::was_loaded</a></div><div class="ttdeci">bool was_loaded</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00740">itype.h:740</a></div></div>
<div class="ttc" id="astructislot__ammo_html_a9bf197805d7d623f18b832dd3e5dc770"><div class="ttname"><a href="structislot__ammo.html#a9bf197805d7d623f18b832dd3e5dc770">islot_ammo::recoil</a></div><div class="ttdeci">int recoil</div><div class="ttdoc">Recoil (per shot), roughly equivalent to kinetic energy (in Joules)</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00713">itype.h:713</a></div></div>
<div class="ttc" id="astructislot__ammo_html_ab7743cd9372c97a6542ef4cda254bffe"><div class="ttname"><a href="structislot__ammo.html#ab7743cd9372c97a6542ef4cda254bffe">islot_ammo::load</a></div><div class="ttdeci">void load(const JsonObject &amp;jo)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01672">item_factory.cpp:1672</a></div></div>
<div class="ttc" id="astructislot__ammo_html_acd114e30cfafd26d8644a2b43d29ceb9"><div class="ttname"><a href="structislot__ammo.html#acd114e30cfafd26d8644a2b43d29ceb9">islot_ammo::drop</a></div><div class="ttdeci">itype_id drop</div><div class="ttdoc">Control chance for and state of any items dropped at ranged target.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00685">itype.h:685</a></div></div>
<div class="ttc" id="astructislot__ammo_html_ad7649b801b4ed0d8bec314b40f18f1db"><div class="ttname"><a href="structislot__ammo.html#ad7649b801b4ed0d8bec314b40f18f1db">islot_ammo::drop_active</a></div><div class="ttdeci">bool drop_active</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00687">itype.h:687</a></div></div>
<div class="ttc" id="astructislot__ammo_html_ad7743be28bd769a29d5856ed7263a49a"><div class="ttname"><a href="structislot__ammo.html#ad7743be28bd769a29d5856ed7263a49a">islot_ammo::def_charges</a></div><div class="ttdeci">int def_charges</div><div class="ttdoc">Default charges.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00700">itype.h:700</a></div></div>
<div class="ttc" id="astructislot__ammo_html_ad9a53dda94d7cfa1f8992582af96d503"><div class="ttname"><a href="structislot__ammo.html#ad9a53dda94d7cfa1f8992582af96d503">islot_ammo::deserialize</a></div><div class="ttdeci">void deserialize(JsonIn &amp;jsin)</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l01691">item_factory.cpp:1691</a></div></div>
<div class="ttc" id="astructislot__ammo_html_aea52c64dc518f9ccee1df8a98279ec3e"><div class="ttname"><a href="structislot__ammo.html#aea52c64dc518f9ccee1df8a98279ec3e">islot_ammo::casing</a></div><div class="ttdeci">cata::optional&lt; itype_id &gt; casing</div><div class="ttdoc">Type id of casings, if any.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00680">itype.h:680</a></div></div>
<div class="ttc" id="astructislot__ammo_html_afe620b203568fc02e11e1f4b546c912d"><div class="ttname"><a href="structislot__ammo.html#afe620b203568fc02e11e1f4b546c912d">islot_ammo::type</a></div><div class="ttdeci">ammotype type</div><div class="ttdoc">Ammo type, basically the &quot;form&quot; of the ammo that fits into the gun/tool.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00676">itype.h:676</a></div></div>
<div class="ttc" id="astructislot__armor_html"><div class="ttname"><a href="structislot__armor.html">islot_armor</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00233">itype.h:233</a></div></div>
<div class="ttc" id="astructislot__armor_html_a0da3d1bef6cc7dd66499906eadfaf57f"><div class="ttname"><a href="structislot__armor.html#a0da3d1bef6cc7dd66499906eadfaf57f">islot_armor::sided</a></div><div class="ttdeci">bool sided</div><div class="ttdoc">Whether this item can be worn on either side of the body.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00242">itype.h:242</a></div></div>
<div class="ttc" id="astructislot__armor_html_a2818da442fdeaf06512874cc9944a89b"><div class="ttname"><a href="structislot__armor.html#a2818da442fdeaf06512874cc9944a89b">islot_armor::warmth</a></div><div class="ttdeci">int warmth</div><div class="ttdoc">How much warmth this item provides.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00271">itype.h:271</a></div></div>
<div class="ttc" id="astructislot__armor_html_a3bf1982fb7e01dcb6f894a43fa689639"><div class="ttname"><a href="structislot__armor.html#a3bf1982fb7e01dcb6f894a43fa689639">islot_armor::env_resist</a></div><div class="ttdeci">int env_resist</div><div class="ttdoc">Resistance to environmental effects.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00263">itype.h:263</a></div></div>
<div class="ttc" id="astructislot__armor_html_a409d99d9509c3a12acf98e5d4da89b0c"><div class="ttname"><a href="structislot__armor.html#a409d99d9509c3a12acf98e5d4da89b0c">islot_armor::max_encumber</a></div><div class="ttdeci">int max_encumber</div><div class="ttdoc">When storage is full, how much it encumbers the player.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00250">itype.h:250</a></div></div>
<div class="ttc" id="astructislot__armor_html_a64d27e30e990bb8f4c0cf0aaa14f9979"><div class="ttname"><a href="structislot__armor.html#a64d27e30e990bb8f4c0cf0aaa14f9979">islot_armor::valid_mods</a></div><div class="ttdeci">std::vector&lt; std::string &gt; valid_mods</div><div class="ttdoc">Whitelisted clothing mods.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00288">itype.h:288</a></div></div>
<div class="ttc" id="astructislot__armor_html_a6c6b3bf062dd98af5bff4417bbfb6a0e"><div class="ttname"><a href="structislot__armor.html#a6c6b3bf062dd98af5bff4417bbfb6a0e">islot_armor::coverage</a></div><div class="ttdeci">int coverage</div><div class="ttdoc">Percentage of the body part area that this item covers.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00255">itype.h:255</a></div></div>
<div class="ttc" id="astructislot__armor_html_a733a3e21b8944c8f738adc9dc0c2db4f"><div class="ttname"><a href="structislot__armor.html#a733a3e21b8944c8f738adc9dc0c2db4f">islot_armor::weight_capacity_bonus</a></div><div class="ttdeci">units::mass weight_capacity_bonus</div><div class="ttdoc">Bonus to weight capacity.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00283">itype.h:283</a></div></div>
<div class="ttc" id="astructislot__armor_html_a87b0eca7d014fdb845b58be81257c95c"><div class="ttname"><a href="structislot__armor.html#a87b0eca7d014fdb845b58be81257c95c">islot_armor::env_resist_w_filter</a></div><div class="ttdeci">int env_resist_w_filter</div><div class="ttdoc">Environmental protection of a gas mask with installed filter.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00267">itype.h:267</a></div></div>
<div class="ttc" id="astructislot__armor_html_a9acc37fdb7909ae064f331d29ded7f68"><div class="ttname"><a href="structislot__armor.html#a9acc37fdb7909ae064f331d29ded7f68">islot_armor::covers</a></div><div class="ttdeci">body_part_set covers</div><div class="ttdoc">Bitfield of enum body_part TODO: document me.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00238">itype.h:238</a></div></div>
<div class="ttc" id="astructislot__armor_html_aa1099034fd74fdb71f3fae5ce17ea88e"><div class="ttname"><a href="structislot__armor.html#aa1099034fd74fdb71f3fae5ce17ea88e">islot_armor::encumber</a></div><div class="ttdeci">int encumber</div><div class="ttdoc">How much this item encumbers the player.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00246">itype.h:246</a></div></div>
<div class="ttc" id="astructislot__armor_html_abd747f7666386a848f2d6e432f46c72e"><div class="ttname"><a href="structislot__armor.html#abd747f7666386a848f2d6e432f46c72e">islot_armor::thickness</a></div><div class="ttdeci">int thickness</div><div class="ttdoc">TODO: document me.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00259">itype.h:259</a></div></div>
<div class="ttc" id="astructislot__armor_html_ae0b4e44bebd93c6731e50f905cd89241"><div class="ttname"><a href="structislot__armor.html#ae0b4e44bebd93c6731e50f905cd89241">islot_armor::weight_capacity_modifier</a></div><div class="ttdeci">float weight_capacity_modifier</div><div class="ttdoc">Factor modifiying weight capacity.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00279">itype.h:279</a></div></div>
<div class="ttc" id="astructislot__armor_html_afea4f5875d9a65ab246ad0d6e78e5332"><div class="ttname"><a href="structislot__armor.html#afea4f5875d9a65ab246ad0d6e78e5332">islot_armor::storage</a></div><div class="ttdeci">units::volume storage</div><div class="ttdoc">How much storage this items provides when worn.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00275">itype.h:275</a></div></div>
<div class="ttc" id="astructislot__artifact_html"><div class="ttname"><a href="structislot__artifact.html">islot_artifact</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00794">itype.h:794</a></div></div>
<div class="ttc" id="astructislot__artifact_html_a1c2f3a70258132c9e494226abdd44e1f"><div class="ttname"><a href="structislot__artifact.html#a1c2f3a70258132c9e494226abdd44e1f">islot_artifact::charge_type</a></div><div class="ttdeci">art_charge charge_type</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00795">itype.h:795</a></div></div>
<div class="ttc" id="astructislot__artifact_html_a38c43850edb8bb18583070d7be152ce7"><div class="ttname"><a href="structislot__artifact.html#a38c43850edb8bb18583070d7be152ce7">islot_artifact::dream_freq_met</a></div><div class="ttdeci">int dream_freq_met</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00804">itype.h:804</a></div></div>
<div class="ttc" id="astructislot__artifact_html_a4d6a77cfad45b2c7411acf568a0936ad"><div class="ttname"><a href="structislot__artifact.html#a4d6a77cfad45b2c7411acf568a0936ad">islot_artifact::effects_carried</a></div><div class="ttdeci">std::vector&lt; art_effect_passive &gt; effects_carried</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00799">itype.h:799</a></div></div>
<div class="ttc" id="astructislot__artifact_html_a5961a277aaa521741d838648c59ceb0d"><div class="ttname"><a href="structislot__artifact.html#a5961a277aaa521741d838648c59ceb0d">islot_artifact::charge_req</a></div><div class="ttdeci">art_charge_req charge_req</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00796">itype.h:796</a></div></div>
<div class="ttc" id="astructislot__artifact_html_a7421b6e2a49fd526a13c80bc49f1d060"><div class="ttname"><a href="structislot__artifact.html#a7421b6e2a49fd526a13c80bc49f1d060">islot_artifact::dream_msg_met</a></div><div class="ttdeci">std::vector&lt; std::string &gt; dream_msg_met</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00802">itype.h:802</a></div></div>
<div class="ttc" id="astructislot__artifact_html_a88a4d2320788560ce4bb10e1b9c99288"><div class="ttname"><a href="structislot__artifact.html#a88a4d2320788560ce4bb10e1b9c99288">islot_artifact::effects_wielded</a></div><div class="ttdeci">std::vector&lt; art_effect_passive &gt; effects_wielded</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00797">itype.h:797</a></div></div>
<div class="ttc" id="astructislot__artifact_html_a971395feba406d0920e27bdbb79980e3"><div class="ttname"><a href="structislot__artifact.html#a971395feba406d0920e27bdbb79980e3">islot_artifact::effects_worn</a></div><div class="ttdeci">std::vector&lt; art_effect_passive &gt; effects_worn</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00800">itype.h:800</a></div></div>
<div class="ttc" id="astructislot__artifact_html_aad6bad22aa9e83cfb1042333459deec4"><div class="ttname"><a href="structislot__artifact.html#aad6bad22aa9e83cfb1042333459deec4">islot_artifact::dream_freq_unmet</a></div><div class="ttdeci">int dream_freq_unmet</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00803">itype.h:803</a></div></div>
<div class="ttc" id="astructislot__artifact_html_ab845b4492177c9597bed1109527c84a7"><div class="ttname"><a href="structislot__artifact.html#ab845b4492177c9597bed1109527c84a7">islot_artifact::dream_msg_unmet</a></div><div class="ttdeci">std::vector&lt; std::string &gt; dream_msg_unmet</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00801">itype.h:801</a></div></div>
<div class="ttc" id="astructislot__artifact_html_acbc372e9a5ce7c3dc42a381de71e8436"><div class="ttname"><a href="structislot__artifact.html#acbc372e9a5ce7c3dc42a381de71e8436">islot_artifact::effects_activated</a></div><div class="ttdeci">std::vector&lt; art_effect_active &gt; effects_activated</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00798">itype.h:798</a></div></div>
<div class="ttc" id="astructislot__battery_html"><div class="ttname"><a href="structislot__battery.html">islot_battery</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00667">itype.h:667</a></div></div>
<div class="ttc" id="astructislot__battery_html_a76027fae51228598d6ddbd6946b0998e"><div class="ttname"><a href="structislot__battery.html#a76027fae51228598d6ddbd6946b0998e">islot_battery::max_capacity</a></div><div class="ttdeci">units::energy max_capacity</div><div class="ttdoc">Maximum energy the battery can store.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00669">itype.h:669</a></div></div>
<div class="ttc" id="astructislot__bionic_html"><div class="ttname"><a href="structislot__bionic.html">islot_bionic</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00746">itype.h:746</a></div></div>
<div class="ttc" id="astructislot__bionic_html_a2181146d61a333d94ec990f6a017e2e8"><div class="ttname"><a href="structislot__bionic.html#a2181146d61a333d94ec990f6a017e2e8">islot_bionic::id</a></div><div class="ttdeci">bionic_id id</div><div class="ttdoc">Id of the bionic, see bionics.cpp for its usage.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00754">itype.h:754</a></div></div>
<div class="ttc" id="astructislot__bionic_html_a93e7f9bf0f6de84ce4ef1a7a44b5137b"><div class="ttname"><a href="structislot__bionic.html#a93e7f9bf0f6de84ce4ef1a7a44b5137b">islot_bionic::installation_data</a></div><div class="ttdeci">itype_id installation_data</div><div class="ttdoc">Item with installation data that can be used to provide almost guaranteed successful install of corre...</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00762">itype.h:762</a></div></div>
<div class="ttc" id="astructislot__bionic_html_ad605efa5433b2babd68377b854514496"><div class="ttname"><a href="structislot__bionic.html#ad605efa5433b2babd68377b854514496">islot_bionic::difficulty</a></div><div class="ttdeci">int difficulty</div><div class="ttdoc">Arbitrary difficulty scale, see bionics.cpp for its usage.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00750">itype.h:750</a></div></div>
<div class="ttc" id="astructislot__bionic_html_ad9a120bc689e66669157f1503b5ac1c7"><div class="ttname"><a href="structislot__bionic.html#ad9a120bc689e66669157f1503b5ac1c7">islot_bionic::is_upgrade</a></div><div class="ttdeci">bool is_upgrade</div><div class="ttdoc">Whether this CBM is an upgrade of another.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00758">itype.h:758</a></div></div>
<div class="ttc" id="astructislot__book_html"><div class="ttname"><a href="structislot__book.html">islot_book</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00322">itype.h:322</a></div></div>
<div class="ttc" id="astructislot__book_html_a1947a27d73fd396cdbdab37f7b5132b2"><div class="ttname"><a href="structislot__book.html#a1947a27d73fd396cdbdab37f7b5132b2">islot_book::martial_art</a></div><div class="ttdeci">matype_id martial_art</div><div class="ttdoc">Which martial art it teaches.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00330">itype.h:330</a></div></div>
<div class="ttc" id="astructislot__book_html_a6eca476a412d945669fcb56e20d8ef97"><div class="ttname"><a href="structislot__book.html#a6eca476a412d945669fcb56e20d8ef97">islot_book::level</a></div><div class="ttdeci">int level</div><div class="ttdoc">The skill level the book provides.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00334">itype.h:334</a></div></div>
<div class="ttc" id="astructislot__book_html_a817f742eeee09070453b5f2d78d803be"><div class="ttname"><a href="structislot__book.html#a817f742eeee09070453b5f2d78d803be">islot_book::intel</a></div><div class="ttdeci">int intel</div><div class="ttdoc">Intelligence required to read it.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00346">itype.h:346</a></div></div>
<div class="ttc" id="astructislot__book_html_a86a3ae176a78c1eae14e7bebc74c2457"><div class="ttname"><a href="structislot__book.html#a86a3ae176a78c1eae14e7bebc74c2457">islot_book::skill</a></div><div class="ttdeci">skill_id skill</div><div class="ttdoc">Which skill it upgrades, if any.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00326">itype.h:326</a></div></div>
<div class="ttc" id="astructislot__book_html_a899cf37dd220cfce62e17e9f072ca9c5"><div class="ttname"><a href="structislot__book.html#a899cf37dd220cfce62e17e9f072ca9c5">islot_book::req</a></div><div class="ttdeci">int req</div><div class="ttdoc">The skill level required to understand it.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00338">itype.h:338</a></div></div>
<div class="ttc" id="astructislot__book_html_af2c1936ae43385beebd513e669134fe0"><div class="ttname"><a href="structislot__book.html#af2c1936ae43385beebd513e669134fe0">islot_book::fun</a></div><div class="ttdeci">int fun</div><div class="ttdoc">How fun reading this is, can be negative.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00342">itype.h:342</a></div></div>
<div class="ttc" id="astructislot__book_html_af38ad1046aa05d970b16bf2c78f884d5"><div class="ttname"><a href="structislot__book.html#af38ad1046aa05d970b16bf2c78f884d5">islot_book::time</a></div><div class="ttdeci">int time</div><div class="ttdoc">How long in minutes it takes to read.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00351">itype.h:351</a></div></div>
<div class="ttc" id="astructislot__book_html_aff68466212e42b423a136b0da1a59b38"><div class="ttname"><a href="structislot__book.html#aff68466212e42b423a136b0da1a59b38">islot_book::chapters</a></div><div class="ttdeci">int chapters</div><div class="ttdoc">Fun books have chapters; after all are read, the book is less fun.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00355">itype.h:355</a></div></div>
<div class="ttc" id="astructislot__brewable_html"><div class="ttname"><a href="structislot__brewable.html">islot_brewable</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00201">itype.h:201</a></div></div>
<div class="ttc" id="astructislot__brewable_html_a2b2829761162d5779c27729715db2be9"><div class="ttname"><a href="structislot__brewable.html#a2b2829761162d5779c27729715db2be9">islot_brewable::time</a></div><div class="ttdeci">time_duration time</div><div class="ttdoc">How long for this brew to ferment.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00206">itype.h:206</a></div></div>
<div class="ttc" id="astructislot__brewable_html_a38af7f6a2e9e235c3ef3ed323a04d15d"><div class="ttname"><a href="structislot__brewable.html#a38af7f6a2e9e235c3ef3ed323a04d15d">islot_brewable::results</a></div><div class="ttdeci">std::vector&lt; itype_id &gt; results</div><div class="ttdoc">What are the results of fermenting this item?</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00203">itype.h:203</a></div></div>
<div class="ttc" id="astructislot__comestible_html"><div class="ttname"><a href="structislot__comestible.html">islot_comestible</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00115">itype.h:115</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a05bbe585d97a715412285a5760538c3b"><div class="ttname"><a href="structislot__comestible.html#a05bbe585d97a715412285a5760538c3b">islot_comestible::rot_spawn_chance</a></div><div class="ttdeci">int rot_spawn_chance</div><div class="ttdoc">Chance the above monster group spawns.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00194">itype.h:194</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a16361ca226b5a14a285f37c2bf42bbcd"><div class="ttname"><a href="structislot__comestible.html#a16361ca226b5a14a285f37c2bf42bbcd">islot_comestible::monotony_penalty</a></div><div class="ttdeci">int monotony_penalty</div><div class="ttdoc">A penalty applied to fun for every time this food has been eaten in the last 48 hours.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00177">itype.h:177</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a1c8377aa26060ebc8c5a1c7c17567cef"><div class="ttname"><a href="structislot__comestible.html#a1c8377aa26060ebc8c5a1c7c17567cef">islot_comestible::comesttype</a></div><div class="ttdeci">std::string comesttype</div><div class="ttdoc">subtype, e.g.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00120">itype.h:120</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a27612b03ea67d70514178094dc2f285b"><div class="ttname"><a href="structislot__comestible.html#a27612b03ea67d70514178094dc2f285b">islot_comestible::parasites</a></div><div class="ttdeci">int parasites</div><div class="ttdoc">chance (odds) of becoming parasitised when eating (zero if never occurs)</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00160">itype.h:160</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a2a9550614166bc74108225c00700d651"><div class="ttname"><a href="structislot__comestible.html#a2a9550614166bc74108225c00700d651">islot_comestible::tool</a></div><div class="ttdeci">itype_id tool</div><div class="ttdoc">tool needed to consume (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00123">itype.h:123</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a4656f297a3ea96ffb9e20a6511287ec9"><div class="ttname"><a href="structislot__comestible.html#a4656f297a3ea96ffb9e20a6511287ec9">islot_comestible::radiation</a></div><div class="ttdeci">int radiation</div><div class="ttdoc">Amount of radiation you get from this comestible.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00163">itype.h:163</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a5c4074d0e4da169307309a8033e932fa"><div class="ttname"><a href="structislot__comestible.html#a5c4074d0e4da169307309a8033e932fa">islot_comestible::fun</a></div><div class="ttdeci">int fun</div><div class="ttdoc">effect on morale when consuming</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00198">itype.h:198</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a5e7afc63b23fe879daf961d2940ed404"><div class="ttname"><a href="structislot__comestible.html#a5e7afc63b23fe879daf961d2940ed404">islot_comestible::add</a></div><div class="ttdeci">add_type add</div><div class="ttdoc">effects of addiction</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00142">itype.h:142</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a62d9a7ef39da1a8b776d157409bcd6dd"><div class="ttname"><a href="structislot__comestible.html#a62d9a7ef39da1a8b776d157409bcd6dd">islot_comestible::freeze_point</a></div><div class="ttdeci">int freeze_point</div><div class="ttdoc">freezing point in degrees Fahrenheit, below this temperature item can freeze</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00166">itype.h:166</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a6c8e94119486b8d95ada79f334e40db8"><div class="ttname"><a href="structislot__comestible.html#a6c8e94119486b8d95ada79f334e40db8">islot_comestible::rot_spawn</a></div><div class="ttdeci">mongroup_id rot_spawn</div><div class="ttdoc">The monster group that is drawn from when the item rots away.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00191">itype.h:191</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a739c6014f1ffda885a896124f606e561"><div class="ttname"><a href="structislot__comestible.html#a739c6014f1ffda885a896124f606e561">islot_comestible::specific_heat_liquid</a></div><div class="ttdeci">float specific_heat_liquid</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00172">itype.h:172</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a82f9d567b3efb4a5f9a0665432f32094"><div class="ttname"><a href="structislot__comestible.html#a82f9d567b3efb4a5f9a0665432f32094">islot_comestible::fatigue_mod</a></div><div class="ttdeci">int fatigue_mod</div><div class="ttdoc">fatigue altering effect</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00148">itype.h:148</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a8d2d5bc1943adb27ea672d51011711c2"><div class="ttname"><a href="structislot__comestible.html#a8d2d5bc1943adb27ea672d51011711c2">islot_comestible::default_nutrition</a></div><div class="ttdeci">nutrients default_nutrition</div><div class="ttdoc">Nutrition values to use for this type when they aren't calculated from components.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00133">itype.h:133</a></div></div>
<div class="ttc" id="astructislot__comestible_html_a993552f78902a64ac85b99d973d2acaf"><div class="ttname"><a href="structislot__comestible.html#a993552f78902a64ac85b99d973d2acaf">islot_comestible::spoils</a></div><div class="ttdeci">time_duration spoils</div><div class="ttdoc">Time until becomes rotten at standard temperature, or zero if never spoils.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00136">itype.h:136</a></div></div>
<div class="ttc" id="astructislot__comestible_html_aa6e3e8f3028df292d4dcb27e1724818a"><div class="ttname"><a href="structislot__comestible.html#aa6e3e8f3028df292d4dcb27e1724818a">islot_comestible::cooks_like</a></div><div class="ttdeci">itype_id cooks_like</div><div class="ttdoc">Reference to other item that replaces this one as a component in recipe results.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00151">itype.h:151</a></div></div>
<div class="ttc" id="astructislot__comestible_html_aa8ccc76e6c3389ee17cbb14a7625bd39"><div class="ttname"><a href="structislot__comestible.html#aa8ccc76e6c3389ee17cbb14a7625bd39">islot_comestible::stim</a></div><div class="ttdeci">int stim</div><div class="ttdoc">stimulant effect</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00145">itype.h:145</a></div></div>
<div class="ttc" id="astructislot__comestible_html_ab52735fc196f803809913290565cf2b5"><div class="ttname"><a href="structislot__comestible.html#ab52735fc196f803809913290565cf2b5">islot_comestible::latent_heat</a></div><div class="ttdeci">float latent_heat</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00174">itype.h:174</a></div></div>
<div class="ttc" id="astructislot__comestible_html_ac6e8b1e155162975298976d220d5927a"><div class="ttname"><a href="structislot__comestible.html#ac6e8b1e155162975298976d220d5927a">islot_comestible::smoking_result</a></div><div class="ttdeci">itype_id smoking_result</div><div class="ttdoc">Reference to item that will be received after smoking current item.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00154">itype.h:154</a></div></div>
<div class="ttc" id="astructislot__comestible_html_aca5554772c9e19eb88c6e50b808b5b64"><div class="ttname"><a href="structislot__comestible.html#aca5554772c9e19eb88c6e50b808b5b64">islot_comestible::quench</a></div><div class="ttdeci">int quench</div><div class="ttdoc">effect on character thirst (may be negative)</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00129">itype.h:129</a></div></div>
<div class="ttc" id="astructislot__comestible_html_adeabb2a77d60418046b8793c940ca505"><div class="ttname"><a href="structislot__comestible.html#adeabb2a77d60418046b8793c940ca505">islot_comestible::def_charges</a></div><div class="ttdeci">int def_charges</div><div class="ttdoc">Defaults # of charges (drugs, loaf of bread? etc)</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00126">itype.h:126</a></div></div>
<div class="ttc" id="astructislot__comestible_html_aea71935dc37b7f711efb6f8d9ca5353d"><div class="ttname"><a href="structislot__comestible.html#aea71935dc37b7f711efb6f8d9ca5353d">islot_comestible::healthy</a></div><div class="ttdeci">int healthy</div><div class="ttdoc">TODO: add documentation.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00157">itype.h:157</a></div></div>
<div class="ttc" id="astructislot__comestible_html_aecc91e5454fc8c79df0fe6535690f246"><div class="ttname"><a href="structislot__comestible.html#aecc91e5454fc8c79df0fe6535690f246">islot_comestible::kcal_per_nutr</a></div><div class="ttdeci">static constexpr float kcal_per_nutr</div><div class="ttdoc">1 nutr ~= 8.7kcal (1 nutr/5min = 288 nutr/day at 2500kcal/day)</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00180">itype.h:180</a></div></div>
<div class="ttc" id="astructislot__comestible_html_af0c402e9f8df019dedb20f589e4e93c4"><div class="ttname"><a href="structislot__comestible.html#af0c402e9f8df019dedb20f589e4e93c4">islot_comestible::addict</a></div><div class="ttdeci">int addict</div><div class="ttdoc">addiction potential</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00139">itype.h:139</a></div></div>
<div class="ttc" id="astructislot__comestible_html_af16829f31a1d2c5a4a42a88ce92496c2"><div class="ttname"><a href="structislot__comestible.html#af16829f31a1d2c5a4a42a88ce92496c2">islot_comestible::contamination</a></div><div class="ttdeci">std::map&lt; diseasetype_id, int &gt; contamination</div><div class="ttdoc">List of diseases carried by this comestible and their associated probability.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00169">itype.h:169</a></div></div>
<div class="ttc" id="astructislot__comestible_html_af31717492158516482445bf13c446b0f"><div class="ttname"><a href="structislot__comestible.html#af31717492158516482445bf13c446b0f">islot_comestible::specific_heat_solid</a></div><div class="ttdeci">float specific_heat_solid</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00173">itype.h:173</a></div></div>
<div class="ttc" id="astructislot__container_html"><div class="ttname"><a href="structislot__container.html">islot_container</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00209">itype.h:209</a></div></div>
<div class="ttc" id="astructislot__container_html_a334c04f45db71597927588a4c5ddcd9f"><div class="ttname"><a href="structislot__container.html#a334c04f45db71597927588a4c5ddcd9f">islot_container::preserves</a></div><div class="ttdeci">bool preserves</div><div class="ttdoc">Contents do not spoil.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00225">itype.h:225</a></div></div>
<div class="ttc" id="astructislot__container_html_a46eae754ec55d20409156ede5eb53256"><div class="ttname"><a href="structislot__container.html#a46eae754ec55d20409156ede5eb53256">islot_container::seals</a></div><div class="ttdeci">bool seals</div><div class="ttdoc">Can be resealed.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00217">itype.h:217</a></div></div>
<div class="ttc" id="astructislot__container_html_a4d0811772aeaace91c05f187ab26fc31"><div class="ttname"><a href="structislot__container.html#a4d0811772aeaace91c05f187ab26fc31">islot_container::contains</a></div><div class="ttdeci">units::volume contains</div><div class="ttdoc">Inner volume of the container.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00213">itype.h:213</a></div></div>
<div class="ttc" id="astructislot__container_html_a62728b2a81f969db86b4bc5ad1e503c6"><div class="ttname"><a href="structislot__container.html#a62728b2a81f969db86b4bc5ad1e503c6">islot_container::unseals_into</a></div><div class="ttdeci">itype_id unseals_into</div><div class="ttdoc">If this is set to anything but &quot;null&quot;, changing this container's contents in any way will turn this i...</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00230">itype.h:230</a></div></div>
<div class="ttc" id="astructislot__container_html_ad0814924659609bb60903bd245054acf"><div class="ttname"><a href="structislot__container.html#ad0814924659609bb60903bd245054acf">islot_container::watertight</a></div><div class="ttdeci">bool watertight</div><div class="ttdoc">Can hold liquids.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00221">itype.h:221</a></div></div>
<div class="ttc" id="astructislot__engine_html"><div class="ttname"><a href="structislot__engine.html">islot_engine</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00423">itype.h:423</a></div></div>
<div class="ttc" id="astructislot__engine_html_a7a2d05356ad54a6dd180321a7172fec5"><div class="ttname"><a href="structislot__engine.html#a7a2d05356ad54a6dd180321a7172fec5">islot_engine::displacement</a></div><div class="ttdeci">int displacement</div><div class="ttdoc">for combustion engines the displacement (cc)</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00429">itype.h:429</a></div></div>
<div class="ttc" id="astructislot__fuel_html"><div class="ttname"><a href="structislot__fuel.html">islot_fuel</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00449">itype.h:449</a></div></div>
<div class="ttc" id="astructislot__fuel_html_a018def0ba1556795b8081efb90b8ddc5"><div class="ttname"><a href="structislot__fuel.html#a018def0ba1556795b8081efb90b8ddc5">islot_fuel::has_explode_data</a></div><div class="ttdeci">bool has_explode_data</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00454">itype.h:454</a></div></div>
<div class="ttc" id="astructislot__fuel_html_adf37f91495b36555446edb30cf77293a"><div class="ttname"><a href="structislot__fuel.html#adf37f91495b36555446edb30cf77293a">islot_fuel::energy</a></div><div class="ttdeci">float energy</div><div class="ttdoc">Energy of the fuel (kilojoules per charge)</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00452">itype.h:452</a></div></div>
<div class="ttc" id="astructislot__fuel_html_ae5ad096f517d3d576bc8148f3eb56bca"><div class="ttname"><a href="structislot__fuel.html#ae5ad096f517d3d576bc8148f3eb56bca">islot_fuel::explosion_data</a></div><div class="ttdeci">struct fuel_explosion explosion_data</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00453">itype.h:453</a></div></div>
<div class="ttc" id="astructislot__fuel_html_afe38279efca4aacfeef5afc89b463781"><div class="ttname"><a href="structislot__fuel.html#afe38279efca4aacfeef5afc89b463781">islot_fuel::pump_terrain</a></div><div class="ttdeci">std::string pump_terrain</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00455">itype.h:455</a></div></div>
<div class="ttc" id="astructislot__gun_html"><div class="ttname"><a href="structislot__gun.html">islot_gun</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00459">itype.h:459</a></div></div>
<div class="ttc" id="astructislot__gun_html_a014b797e92e543ea47be93a1d6771a90"><div class="ttname"><a href="structislot__gun.html#a014b797e92e543ea47be93a1d6771a90">islot_gun::blackpowder_tolerance</a></div><div class="ttdeci">int blackpowder_tolerance</div><div class="ttdoc">One in X chance for gun to require major cleanup after firing blackpowder shot.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00502">itype.h:502</a></div></div>
<div class="ttc" id="astructislot__gun_html_a03b65c9be10a9ade4b7c84b24b609c9c"><div class="ttname"><a href="structislot__gun.html#a03b65c9be10a9ade4b7c84b24b609c9c">islot_gun::loudness</a></div><div class="ttdeci">int loudness</div><div class="ttdoc">Modifies base loudness as provided by the currently loaded ammo.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00493">itype.h:493</a></div></div>
<div class="ttc" id="astructislot__gun_html_a0e24b86439c77b6e824a2a3e672980a9"><div class="ttname"><a href="structislot__gun.html#a0e24b86439c77b6e824a2a3e672980a9">islot_gun::burst</a></div><div class="ttdeci">int burst</div><div class="ttdoc">Burst size for AUTO mode (legacy field for items not migrated to specify modes )</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00534">itype.h:534</a></div></div>
<div class="ttc" id="astructislot__gun_html_a0e822d62253abf001dd4018374a98e40"><div class="ttname"><a href="structislot__gun.html#a0e822d62253abf001dd4018374a98e40">islot_gun::default_mods</a></div><div class="ttdeci">std::set&lt; itype_id &gt; default_mods</div><div class="ttdoc">Default mods, string is id of mod.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00528">itype.h:528</a></div></div>
<div class="ttc" id="astructislot__gun_html_a2d29bbe1ed9f259a916d19764646cfa2"><div class="ttname"><a href="structislot__gun.html#a2d29bbe1ed9f259a916d19764646cfa2">islot_gun::modes</a></div><div class="ttdeci">std::map&lt; gun_mode_id, gun_modifier_data &gt; modes</div><div class="ttdoc">Firing modes are supported by the gun.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00531">itype.h:531</a></div></div>
<div class="ttc" id="astructislot__gun_html_a2ef0c3807de1294df7fb8c425c48ef81"><div class="ttname"><a href="structislot__gun.html#a2ef0c3807de1294df7fb8c425c48ef81">islot_gun::barrel_length</a></div><div class="ttdeci">units::volume barrel_length</div><div class="ttdoc">Length of gun barrel, if positive allows sawing down of the barrel.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00510">itype.h:510</a></div></div>
<div class="ttc" id="astructislot__gun_html_a40255e8d661dc99204ed70dbe6013a02"><div class="ttname"><a href="structislot__gun.html#a40255e8d661dc99204ed70dbe6013a02">islot_gun::durability</a></div><div class="ttdeci">int durability</div><div class="ttdoc">Gun durability, affects gun being damaged during shooting.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00471">itype.h:471</a></div></div>
<div class="ttc" id="astructislot__gun_html_a544f0cb6bc9627268d120be64d70054e"><div class="ttname"><a href="structislot__gun.html#a544f0cb6bc9627268d120be64d70054e">islot_gun::skill_used</a></div><div class="ttdeci">skill_id skill_used</div><div class="ttdoc">What skill this gun uses.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00463">itype.h:463</a></div></div>
<div class="ttc" id="astructislot__gun_html_a5a7e4998071d2cd8f7ecd9504003968b"><div class="ttname"><a href="structislot__gun.html#a5a7e4998071d2cd8f7ecd9504003968b">islot_gun::clip</a></div><div class="ttdeci">int clip</div><div class="ttdoc">For guns with an integral magazine what is the capacity?</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00475">itype.h:475</a></div></div>
<div class="ttc" id="astructislot__gun_html_a68eca15622f086d544820aabcb2a865a"><div class="ttname"><a href="structislot__gun.html#a68eca15622f086d544820aabcb2a865a">islot_gun::min_cycle_recoil</a></div><div class="ttdeci">int min_cycle_recoil</div><div class="ttdoc">Minimum ammo recoil for gun to be able to fire more than once per attack.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00506">itype.h:506</a></div></div>
<div class="ttc" id="astructislot__gun_html_a7935d9d8bac12aee90f3b36c7130ee8d"><div class="ttname"><a href="structislot__gun.html#a7935d9d8bac12aee90f3b36c7130ee8d">islot_gun::built_in_mods</a></div><div class="ttdeci">std::set&lt; itype_id &gt; built_in_mods</div><div class="ttdoc">Built in mods.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00524">itype.h:524</a></div></div>
<div class="ttc" id="astructislot__gun_html_a815bf7350cfb03b311b04e3fb4f182c9"><div class="ttname"><a href="structislot__gun.html#a815bf7350cfb03b311b04e3fb4f182c9">islot_gun::handling</a></div><div class="ttdeci">int handling</div><div class="ttdoc">How easy is control of recoil? If unset value automatically derived from weapon type.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00537">itype.h:537</a></div></div>
<div class="ttc" id="astructislot__gun_html_a9683499f52bd5974a175972ea969373b"><div class="ttname"><a href="structislot__gun.html#a9683499f52bd5974a175972ea969373b">islot_gun::reload_noise</a></div><div class="ttdeci">std::string reload_noise</div><div class="ttdoc">Noise displayed when reloading the weapon.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00483">itype.h:483</a></div></div>
<div class="ttc" id="astructislot__gun_html_aa27b3944a18120340bd8f7e6c6ffe509"><div class="ttname"><a href="structislot__gun.html#aa27b3944a18120340bd8f7e6c6ffe509">islot_gun::ammo_effects</a></div><div class="ttdeci">std::set&lt; ammo_effect_str_id &gt; ammo_effects</div><div class="ttdoc">Effects that are applied to the ammo when fired.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00514">itype.h:514</a></div></div>
<div class="ttc" id="astructislot__gun_html_ab57c57baec7410ed509e4fee5120fecf"><div class="ttname"><a href="structislot__gun.html#ab57c57baec7410ed509e4fee5120fecf">islot_gun::ammo</a></div><div class="ttdeci">std::set&lt; ammotype &gt; ammo</div><div class="ttdoc">What type of ammo this gun uses.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00467">itype.h:467</a></div></div>
<div class="ttc" id="astructislot__gun_html_acae6c7b0619e281370014c6fb3ea1f54"><div class="ttname"><a href="structislot__gun.html#acae6c7b0619e281370014c6fb3ea1f54">islot_gun::valid_mod_locations</a></div><div class="ttdeci">std::map&lt; gunmod_location, int &gt; valid_mod_locations</div><div class="ttdoc">Location for gun mods.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00520">itype.h:520</a></div></div>
<div class="ttc" id="astructislot__gun_html_acedd47c3f7557f9b7b839af476c5989e"><div class="ttname"><a href="structislot__gun.html#acedd47c3f7557f9b7b839af476c5989e">islot_gun::reload_time</a></div><div class="ttdeci">int reload_time</div><div class="ttdoc">Reload time, in moves.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00479">itype.h:479</a></div></div>
<div class="ttc" id="astructislot__gun_html_ade59d069f3f719126fb885c6d61c4e3b"><div class="ttname"><a href="structislot__gun.html#ade59d069f3f719126fb885c6d61c4e3b">islot_gun::recoil</a></div><div class="ttdeci">int recoil</div><div class="ttdoc">Additional recoil applied per shot before effects of handling are considered.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00543">itype.h:543</a></div></div>
<div class="ttc" id="astructislot__gun_html_ae35086af4a0c6200e6e05c2c00d3719e"><div class="ttname"><a href="structislot__gun.html#ae35086af4a0c6200e6e05c2c00d3719e">islot_gun::sight_dispersion</a></div><div class="ttdeci">int sight_dispersion</div><div class="ttdoc">Maximum aim achievable using base weapon sights.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00490">itype.h:490</a></div></div>
<div class="ttc" id="astructislot__gun_html_ae9b01aff71774cf78fe209d439258c0a"><div class="ttname"><a href="structislot__gun.html#ae9b01aff71774cf78fe209d439258c0a">islot_gun::ups_charges</a></div><div class="ttdeci">int ups_charges</div><div class="ttdoc">If this uses UPS charges, how many (per shoot), 0 for no UPS charges at all.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00498">itype.h:498</a></div></div>
<div class="ttc" id="astructislot__gun_html_af061d17935624ae9c2404fa6050dd658"><div class="ttname"><a href="structislot__gun.html#af061d17935624ae9c2404fa6050dd658">islot_gun::reload_noise_volume</a></div><div class="ttdeci">int reload_noise_volume</div><div class="ttdoc">Volume of the noise made when reloading this weapon.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00487">itype.h:487</a></div></div>
<div class="ttc" id="astructislot__gunmod_html"><div class="ttname"><a href="structislot__gunmod.html">islot_gunmod</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00579">itype.h:579</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_a072bb97399a7ce73226d77671408d0fb"><div class="ttname"><a href="structislot__gunmod.html#a072bb97399a7ce73226d77671408d0fb">islot_gunmod::blacklist_mod</a></div><div class="ttdeci">std::set&lt; gunmod_location &gt; blacklist_mod</div><div class="ttdoc">Not compatable on weapons that have this mod slot.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00635">itype.h:635</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_a20f62eb4d6e250814ad0e51249ce9a86"><div class="ttname"><a href="structislot__gunmod.html#a20f62eb4d6e250814ad0e51249ce9a86">islot_gunmod::location</a></div><div class="ttdeci">gunmod_location location</div><div class="ttdoc">Where is this gunmod installed (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00581">itype.h:581</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_a21ed51df149d7a2618aa789e91a6469a"><div class="ttname"><a href="structislot__gunmod.html#a21ed51df149d7a2618aa789e91a6469a">islot_gunmod::reload_modifier</a></div><div class="ttdeci">int reload_modifier</div><div class="ttdoc">Percentage value change to the gun's loading time.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00620">itype.h:620</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_a26912068d3e61f67c23ed9fa4a59b18a"><div class="ttname"><a href="structislot__gunmod.html#a26912068d3e61f67c23ed9fa4a59b18a">islot_gunmod::usable</a></div><div class="ttdeci">std::unordered_set&lt; gun_type_type &gt; usable</div><div class="ttdoc">What kind of weapons can this gunmod be used with (e.g.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00584">itype.h:584</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_a2c64a6cd256743ea8dc6df58e3c4f1fa"><div class="ttname"><a href="structislot__gunmod.html#a2c64a6cd256743ea8dc6df58e3c4f1fa">islot_gunmod::ups_charges_modifier</a></div><div class="ttdeci">int ups_charges_modifier</div><div class="ttdoc">Increases base gun UPS consumption by this value per shot.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00606">itype.h:606</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_a68bd7a7bad991d610455edfea54d27f1"><div class="ttname"><a href="structislot__gunmod.html#a68bd7a7bad991d610455edfea54d27f1">islot_gunmod::loudness</a></div><div class="ttdeci">int loudness</div><div class="ttdoc">Modifies base loudness as provided by the currently loaded ammo.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00597">itype.h:597</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_a68e25ba70cbdc4cd7b5dcc674af50d4a"><div class="ttname"><a href="structislot__gunmod.html#a68e25ba70cbdc4cd7b5dcc674af50d4a">islot_gunmod::sight_dispersion</a></div><div class="ttdeci">int sight_dispersion</div><div class="ttdoc">If this value is set (non-negative), this gunmod functions as a sight.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00587">itype.h:587</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_a7c89f77c624e7b37f5ccb1856ec62de1"><div class="ttname"><a href="structislot__gunmod.html#a7c89f77c624e7b37f5ccb1856ec62de1">islot_gunmod::consume_divisor</a></div><div class="ttdeci">int consume_divisor</div><div class="ttdoc">Divsor to scale back gunmod consumption damage.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00626">itype.h:626</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_a7d484bba5d9bb2fe12574795ae457e96"><div class="ttname"><a href="structislot__gunmod.html#a7d484bba5d9bb2fe12574795ae457e96">islot_gunmod::consume_chance</a></div><div class="ttdeci">int consume_chance</div><div class="ttdoc">Percentage value change to the gun's loading time.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00623">itype.h:623</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_aa0768daa468887578a7a75bfe33e76c4"><div class="ttname"><a href="structislot__gunmod.html#aa0768daa468887578a7a75bfe33e76c4">islot_gunmod::ammo_effects</a></div><div class="ttdeci">std::set&lt; ammo_effect_str_id &gt; ammo_effects</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00614">itype.h:614</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_aba0e936d816935c8ef99a2a85aa544f1"><div class="ttname"><a href="structislot__gunmod.html#aba0e936d816935c8ef99a2a85aa544f1">islot_gunmod::install_time</a></div><div class="ttdeci">int install_time</div><div class="ttdoc">How many moves does this gunmod take to install?</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00600">itype.h:600</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_ac02f50551ca036e61e2b2000288f17e5"><div class="ttname"><a href="structislot__gunmod.html#ac02f50551ca036e61e2b2000288f17e5">islot_gunmod::weight_multiplier</a></div><div class="ttdeci">float weight_multiplier</div><div class="ttdoc">Increases gun weight by this many times.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00609">itype.h:609</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_ac88b997157e362e7482c8c40449160b3"><div class="ttname"><a href="structislot__gunmod.html#ac88b997157e362e7482c8c40449160b3">islot_gunmod::mode_modifier</a></div><div class="ttdeci">std::map&lt; gun_mode_id, gun_modifier_data &gt; mode_modifier</div><div class="ttdoc">Firing modes added to or replacing those of the base gun.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00612">itype.h:612</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_ad06e7c4614c48cbdd288a412b960c801"><div class="ttname"><a href="structislot__gunmod.html#ad06e7c4614c48cbdd288a412b960c801">islot_gunmod::handling</a></div><div class="ttdeci">int handling</div><div class="ttdoc">Relative adjustment to base gun handling.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00617">itype.h:617</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_ad6491ebaf19ac4876b97d0fdcb04d745"><div class="ttname"><a href="structislot__gunmod.html#ad6491ebaf19ac4876b97d0fdcb04d745">islot_gunmod::ups_charges_multiplier</a></div><div class="ttdeci">float ups_charges_multiplier</div><div class="ttdoc">Increases base gun UPS consumption by this many times per shot.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00603">itype.h:603</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_adb4f9f1f120f6bf93da91f9fc59b1608"><div class="ttname"><a href="structislot__gunmod.html#adb4f9f1f120f6bf93da91f9fc59b1608">islot_gunmod::aim_speed</a></div><div class="ttdeci">int aim_speed</div><div class="ttdoc">For sights (see sight_dispersion), this value affects time cost of aiming.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00594">itype.h:594</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_aed14da382a38340ce6f1c792a81be5fd"><div class="ttname"><a href="structislot__gunmod.html#aed14da382a38340ce6f1c792a81be5fd">islot_gunmod::add_mod</a></div><div class="ttdeci">std::map&lt; gunmod_location, int &gt; add_mod</div><div class="ttdoc">Additional gunmod slots to add to the gun.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00632">itype.h:632</a></div></div>
<div class="ttc" id="astructislot__gunmod_html_af4e90635c4d39324e910c4241acc47b4"><div class="ttname"><a href="structislot__gunmod.html#af4e90635c4d39324e910c4241acc47b4">islot_gunmod::min_str_required_mod</a></div><div class="ttdeci">int min_str_required_mod</div><div class="ttdoc">Modifies base strength required.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00629">itype.h:629</a></div></div>
<div class="ttc" id="astructislot__magazine_html"><div class="ttname"><a href="structislot__magazine.html">islot_magazine</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00638">itype.h:638</a></div></div>
<div class="ttc" id="astructislot__magazine_html_a16bc229e064cbd2b0e220454b1c69bae"><div class="ttname"><a href="structislot__magazine.html#a16bc229e064cbd2b0e220454b1c69bae">islot_magazine::default_ammo</a></div><div class="ttdeci">itype_id default_ammo</div><div class="ttdoc">Default type of ammo contained by a magazine (often set for ammo belts)</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00649">itype.h:649</a></div></div>
<div class="ttc" id="astructislot__magazine_html_a19202dda42527e83a0ba698c82c1aff3"><div class="ttname"><a href="structislot__magazine.html#a19202dda42527e83a0ba698c82c1aff3">islot_magazine::count</a></div><div class="ttdeci">int count</div><div class="ttdoc">Default amount of ammo contained by a magazine (often set for ammo belts)</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00646">itype.h:646</a></div></div>
<div class="ttc" id="astructislot__magazine_html_a5c7f9b986d888a0d644299600605e6e2"><div class="ttname"><a href="structislot__magazine.html#a5c7f9b986d888a0d644299600605e6e2">islot_magazine::linkage</a></div><div class="ttdeci">cata::optional&lt; itype_id &gt; linkage</div><div class="ttdoc">For ammo belts one linkage (of given type) is dropped for each unit of ammo consumed.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00661">itype.h:661</a></div></div>
<div class="ttc" id="astructislot__magazine_html_a7db228d74fdd18fe88ea593c2783717c"><div class="ttname"><a href="structislot__magazine.html#a7db228d74fdd18fe88ea593c2783717c">islot_magazine::type</a></div><div class="ttdeci">std::set&lt; ammotype &gt; type</div><div class="ttdoc">What type of ammo this magazine can be loaded with.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00640">itype.h:640</a></div></div>
<div class="ttc" id="astructislot__magazine_html_ac3606277253fb022dd15350f26aab5ae"><div class="ttname"><a href="structislot__magazine.html#ac3606277253fb022dd15350f26aab5ae">islot_magazine::reliability</a></div><div class="ttdeci">int reliability</div><div class="ttdoc">How reliable this magazine on a range of 0 to 10?</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00655">itype.h:655</a></div></div>
<div class="ttc" id="astructislot__magazine_html_ad3557cba493592b984da678f15b8c0c4"><div class="ttname"><a href="structislot__magazine.html#ad3557cba493592b984da678f15b8c0c4">islot_magazine::reload_time</a></div><div class="ttdeci">int reload_time</div><div class="ttdoc">How long it takes to load each unit of ammo into the magazine.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00658">itype.h:658</a></div></div>
<div class="ttc" id="astructislot__magazine_html_aee164cd4bbb906d4700375860e47763a"><div class="ttname"><a href="structislot__magazine.html#aee164cd4bbb906d4700375860e47763a">islot_magazine::capacity</a></div><div class="ttdeci">int capacity</div><div class="ttdoc">Capacity of magazine (in equivalent units to ammo charges)</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00643">itype.h:643</a></div></div>
<div class="ttc" id="astructislot__mod_html"><div class="ttname"><a href="structislot__mod.html">islot_mod</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00387">itype.h:387</a></div></div>
<div class="ttc" id="astructislot__mod_html_a0c8e7128d40c08fe0f60695e3c9cb872"><div class="ttname"><a href="structislot__mod.html#a0c8e7128d40c08fe0f60695e3c9cb872">islot_mod::magazine_adaptor</a></div><div class="ttdeci">std::map&lt; ammotype, std::set&lt; itype_id &gt; &gt; magazine_adaptor</div><div class="ttdoc">If non-empty replaces the compatible magazines for the parent item.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00395">itype.h:395</a></div></div>
<div class="ttc" id="astructislot__mod_html_ac3cd7bcf9a6092f5b363ffecf3cdce8b"><div class="ttname"><a href="structislot__mod.html#ac3cd7bcf9a6092f5b363ffecf3cdce8b">islot_mod::capacity_multiplier</a></div><div class="ttdeci">float capacity_multiplier</div><div class="ttdoc">Proportional adjustment of parent item ammo capacity.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00398">itype.h:398</a></div></div>
<div class="ttc" id="astructislot__mod_html_ac62eecc66c02b919489a98831deee8d0"><div class="ttname"><a href="structislot__mod.html#ac62eecc66c02b919489a98831deee8d0">islot_mod::acceptable_ammo</a></div><div class="ttdeci">std::set&lt; ammotype &gt; acceptable_ammo</div><div class="ttdoc">If non-empty restrict mod to items with those base (before modifiers) ammo types.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00389">itype.h:389</a></div></div>
<div class="ttc" id="astructislot__mod_html_aebafe50c80e3e1f74b2f27b2597fa162"><div class="ttname"><a href="structislot__mod.html#aebafe50c80e3e1f74b2f27b2597fa162">islot_mod::ammo_modifier</a></div><div class="ttdeci">std::set&lt; ammotype &gt; ammo_modifier</div><div class="ttdoc">If set modifies parent ammo to this type.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00392">itype.h:392</a></div></div>
<div class="ttc" id="astructislot__pet__armor_html"><div class="ttname"><a href="structislot__pet__armor.html">islot_pet_armor</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00291">itype.h:291</a></div></div>
<div class="ttc" id="astructislot__pet__armor_html_a07f4aee7ab982c02789d251c37fb5d27"><div class="ttname"><a href="structislot__pet__armor.html#a07f4aee7ab982c02789d251c37fb5d27">islot_pet_armor::env_resist_w_filter</a></div><div class="ttdeci">int env_resist_w_filter</div><div class="ttdoc">Environmental protection of a gas mask with installed filter.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00303">itype.h:303</a></div></div>
<div class="ttc" id="astructislot__pet__armor_html_a523c3f337d55e8b1e3bcc17dcf06f005"><div class="ttname"><a href="structislot__pet__armor.html#a523c3f337d55e8b1e3bcc17dcf06f005">islot_pet_armor::min_vol</a></div><div class="ttdeci">units::volume min_vol</div><div class="ttdoc">The minimum volume a pet can be and wear this armor.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00315">itype.h:315</a></div></div>
<div class="ttc" id="astructislot__pet__armor_html_a58a5e9a68c7ff82f6819c7b953a91988"><div class="ttname"><a href="structislot__pet__armor.html#a58a5e9a68c7ff82f6819c7b953a91988">islot_pet_armor::max_vol</a></div><div class="ttdeci">units::volume max_vol</div><div class="ttdoc">The maximum volume a pet can be and wear this armor.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00311">itype.h:311</a></div></div>
<div class="ttc" id="astructislot__pet__armor_html_a653d6c157e8e24b69e72d81e0144428a"><div class="ttname"><a href="structislot__pet__armor.html#a653d6c157e8e24b69e72d81e0144428a">islot_pet_armor::storage</a></div><div class="ttdeci">units::volume storage</div><div class="ttdoc">How much storage this items provides when worn.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00307">itype.h:307</a></div></div>
<div class="ttc" id="astructislot__pet__armor_html_a69eb93d013f3247adc7061adcad57f64"><div class="ttname"><a href="structislot__pet__armor.html#a69eb93d013f3247adc7061adcad57f64">islot_pet_armor::env_resist</a></div><div class="ttdeci">int env_resist</div><div class="ttdoc">Resistance to environmental effects.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00299">itype.h:299</a></div></div>
<div class="ttc" id="astructislot__pet__armor_html_a6a602800d0c7474c2cd0928a630a08fb"><div class="ttname"><a href="structislot__pet__armor.html#a6a602800d0c7474c2cd0928a630a08fb">islot_pet_armor::thickness</a></div><div class="ttdeci">int thickness</div><div class="ttdoc">TODO: document me.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00295">itype.h:295</a></div></div>
<div class="ttc" id="astructislot__pet__armor_html_ae024852dbd61504a928269da0766d3df"><div class="ttname"><a href="structislot__pet__armor.html#ae024852dbd61504a928269da0766d3df">islot_pet_armor::bodytype</a></div><div class="ttdeci">std::string bodytype</div><div class="ttdoc">What animal bodytype can wear this armor.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00319">itype.h:319</a></div></div>
<div class="ttc" id="astructislot__seed_html"><div class="ttname"><a href="structislot__seed.html">islot_seed</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00765">itype.h:765</a></div></div>
<div class="ttc" id="astructislot__seed_html_a716438e2fcc04356b120fa909f15f68c"><div class="ttname"><a href="structislot__seed.html#a716438e2fcc04356b120fa909f15f68c">islot_seed::fruit_id</a></div><div class="ttdeci">itype_id fruit_id</div><div class="ttdoc">Type id of the fruit item.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00781">itype.h:781</a></div></div>
<div class="ttc" id="astructislot__seed_html_a78d156b1edac50b5dca40ad9c2bc093e"><div class="ttname"><a href="structislot__seed.html#a78d156b1edac50b5dca40ad9c2bc093e">islot_seed::fruit_div</a></div><div class="ttdeci">int fruit_div</div><div class="ttdoc">Amount of harvested charges of fruits is divided by this number.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00773">itype.h:773</a></div></div>
<div class="ttc" id="astructislot__seed_html_a7eb466642b2a218be8e60deff15c1c1e"><div class="ttname"><a href="structislot__seed.html#a7eb466642b2a218be8e60deff15c1c1e">islot_seed::spawn_seeds</a></div><div class="ttdeci">bool spawn_seeds</div><div class="ttdoc">Whether to spawn seed items additionally to the fruit items.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00785">itype.h:785</a></div></div>
<div class="ttc" id="astructislot__seed_html_ac4df589eea513ab8d5e7ceee6fbf5949"><div class="ttname"><a href="structislot__seed.html#ac4df589eea513ab8d5e7ceee6fbf5949">islot_seed::grow</a></div><div class="ttdeci">time_duration grow</div><div class="ttdoc">Time it takes for a seed to grow (based of off a season length of 91 days).</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00769">itype.h:769</a></div></div>
<div class="ttc" id="astructislot__seed_html_ae36400254edc07d152c899f72c4c3cfb"><div class="ttname"><a href="structislot__seed.html#ae36400254edc07d152c899f72c4c3cfb">islot_seed::plant_name</a></div><div class="ttdeci">translation plant_name</div><div class="ttdoc">Name of the plant.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00777">itype.h:777</a></div></div>
<div class="ttc" id="astructislot__seed_html_aeaf44d52989cf1aba2bd0fbf17c37519"><div class="ttname"><a href="structislot__seed.html#aeaf44d52989cf1aba2bd0fbf17c37519">islot_seed::byproducts</a></div><div class="ttdeci">std::vector&lt; itype_id &gt; byproducts</div><div class="ttdoc">Additionally items (a list of their item ids) that will spawn when harvesting the plant.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00789">itype.h:789</a></div></div>
<div class="ttc" id="astructislot__tool_html"><div class="ttname"><a href="structislot__tool.html">islot_tool</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00097">itype.h:97</a></div></div>
<div class="ttc" id="astructislot__tool_html_a34cb657c095ea8da2fb8b97220a05c0e"><div class="ttname"><a href="structislot__tool.html#a34cb657c095ea8da2fb8b97220a05c0e">islot_tool::revert_msg</a></div><div class="ttdeci">std::string revert_msg</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00101">itype.h:101</a></div></div>
<div class="ttc" id="astructislot__tool_html_a469419f9c49e27d69483dec969debf17"><div class="ttname"><a href="structislot__tool.html#a469419f9c49e27d69483dec969debf17">islot_tool::max_charges</a></div><div class="ttdeci">int max_charges</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00105">itype.h:105</a></div></div>
<div class="ttc" id="astructislot__tool_html_a4906f4af3ef31373c2a1e9e0e3296b4d"><div class="ttname"><a href="structislot__tool.html#a4906f4af3ef31373c2a1e9e0e3296b4d">islot_tool::charges_per_use</a></div><div class="ttdeci">int charges_per_use</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00108">itype.h:108</a></div></div>
<div class="ttc" id="astructislot__tool_html_a5aa69741a40ee3d2f76571d1a844ccae"><div class="ttname"><a href="structislot__tool.html#a5aa69741a40ee3d2f76571d1a844ccae">islot_tool::revert_to</a></div><div class="ttdeci">cata::optional&lt; itype_id &gt; revert_to</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00100">itype.h:100</a></div></div>
<div class="ttc" id="astructislot__tool_html_a6cd35ec64bd5bd7978331d05f8047412"><div class="ttname"><a href="structislot__tool.html#a6cd35ec64bd5bd7978331d05f8047412">islot_tool::charge_factor</a></div><div class="ttdeci">int charge_factor</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00107">itype.h:107</a></div></div>
<div class="ttc" id="astructislot__tool_html_a8780d2075264bdd054885b688be4c396"><div class="ttname"><a href="structislot__tool.html#a8780d2075264bdd054885b688be4c396">islot_tool::subtype</a></div><div class="ttdeci">itype_id subtype</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00103">itype.h:103</a></div></div>
<div class="ttc" id="astructislot__tool_html_a8aa4479b0becffd3412a2f527f2b87f2"><div class="ttname"><a href="structislot__tool.html#a8aa4479b0becffd3412a2f527f2b87f2">islot_tool::ammo_id</a></div><div class="ttdeci">std::set&lt; ammotype &gt; ammo_id</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00098">itype.h:98</a></div></div>
<div class="ttc" id="astructislot__tool_html_a8e7ceab7bf9f3bfb9aa73d7f71a9b64f"><div class="ttname"><a href="structislot__tool.html#a8e7ceab7bf9f3bfb9aa73d7f71a9b64f">islot_tool::power_draw</a></div><div class="ttdeci">int power_draw</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00110">itype.h:110</a></div></div>
<div class="ttc" id="astructislot__tool_html_aa0d39d230129ee60303ce8bbe41ba0de"><div class="ttname"><a href="structislot__tool.html#aa0d39d230129ee60303ce8bbe41ba0de">islot_tool::def_charges</a></div><div class="ttdeci">int def_charges</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00106">itype.h:106</a></div></div>
<div class="ttc" id="astructislot__tool_html_ad319b9b8dede1688bad8bb5ea7881300"><div class="ttname"><a href="structislot__tool.html#ad319b9b8dede1688bad8bb5ea7881300">islot_tool::rand_charges</a></div><div class="ttdeci">std::vector&lt; int &gt; rand_charges</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00112">itype.h:112</a></div></div>
<div class="ttc" id="astructislot__tool_html_ae3e34c1446ddf54ab0008d4e14301d1a"><div class="ttname"><a href="structislot__tool.html#ae3e34c1446ddf54ab0008d4e14301d1a">islot_tool::turns_per_charge</a></div><div class="ttdeci">int turns_per_charge</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00109">itype.h:109</a></div></div>
<div class="ttc" id="astructislot__wheel_html"><div class="ttname"><a href="structislot__wheel.html">islot_wheel</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00432">itype.h:432</a></div></div>
<div class="ttc" id="astructislot__wheel_html_a5fe59de93b39ed7225971fb0e8bbf196"><div class="ttname"><a href="structislot__wheel.html#a5fe59de93b39ed7225971fb0e8bbf196">islot_wheel::diameter</a></div><div class="ttdeci">int diameter</div><div class="ttdoc">diameter of wheel (inches)</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00435">itype.h:435</a></div></div>
<div class="ttc" id="astructislot__wheel_html_aa9287b613c2f5776086c7bee270a1e15"><div class="ttname"><a href="structislot__wheel.html#aa9287b613c2f5776086c7bee270a1e15">islot_wheel::width</a></div><div class="ttdeci">int width</div><div class="ttdoc">width of wheel (inches)</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00438">itype.h:438</a></div></div>
<div class="ttc" id="astructitype_html"><div class="ttname"><a href="structitype.html">itype</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00836">itype.h:836</a></div></div>
<div class="ttc" id="astructitype_html_a025457dc0d2c2545e84cbb01533ed535"><div class="ttname"><a href="structitype.html#a025457dc0d2c2545e84cbb01533ed535">itype::min_dex</a></div><div class="ttdeci">int min_dex</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00940">itype.h:940</a></div></div>
<div class="ttc" id="astructitype_html_a0a5d70cf8c883cd69f606eead503f322"><div class="ttname"><a href="structitype.html#a0a5d70cf8c883cd69f606eead503f322">itype::snippet_category</a></div><div class="ttdeci">std::string snippet_category</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00909">itype.h:909</a></div></div>
<div class="ttc" id="astructitype_html_a14fcae616635cf3a66644e0d473a3622"><div class="ttname"><a href="structitype.html#a14fcae616635cf3a66644e0d473a3622">itype::rigid</a></div><div class="ttdeci">bool rigid</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00993">itype.h:993</a></div></div>
<div class="ttc" id="astructitype_html_a15ce9f3914d2afb7992e4683a0996791"><div class="ttname"><a href="structitype.html#a15ce9f3914d2afb7992e4683a0996791">itype::explosion</a></div><div class="ttdeci">explosion_data explosion</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00947">itype.h:947</a></div></div>
<div class="ttc" id="astructitype_html_a1f98e4086129c4db4a4903e7a6bdac72"><div class="ttname"><a href="structitype.html#a1f98e4086129c4db4a4903e7a6bdac72">itype::insulation_factor</a></div><div class="ttdeci">float insulation_factor</div><div class="ttdoc">How much insulation this item provides, either as a container, or as a vehicle base part.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01037">itype.h:1037</a></div></div>
<div class="ttc" id="astructitype_html_a203a347d8d0a2784baa916490e2f377a"><div class="ttname"><a href="structitype.html#a203a347d8d0a2784baa916490e2f377a">itype::min_int</a></div><div class="ttdeci">int min_int</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00941">itype.h:941</a></div></div>
<div class="ttc" id="astructitype_html_a22e5b87c820d8b3323ffb43788bfe17c"><div class="ttname"><a href="structitype.html#a22e5b87c820d8b3323ffb43788bfe17c">itype::m_to_hit</a></div><div class="ttdeci">int m_to_hit</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01000">itype.h:1000</a></div></div>
<div class="ttc" id="astructitype_html_a27af038e705697a2b9feff2a14e9cef5"><div class="ttname"><a href="structitype.html#a27af038e705697a2b9feff2a14e9cef5">itype::repairs_like</a></div><div class="ttdeci">itype_id repairs_like</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00907">itype.h:907</a></div></div>
<div class="ttc" id="astructitype_html_a2e3c835eaac65d9922f07f99f2f3cf5d"><div class="ttname"><a href="structitype.html#a2e3c835eaac65d9922f07f99f2f3cf5d">itype::countdown_action</a></div><div class="ttdeci">use_function countdown_action</div><div class="ttdoc">Action to take when countdown expires.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00958">itype.h:958</a></div></div>
<div class="ttc" id="astructitype_html_a2f3c2ed05de02f597358adea3d57ef56"><div class="ttname"><a href="structitype.html#a2f3c2ed05de02f597358adea3d57ef56">itype::damage_min</a></div><div class="ttdeci">int damage_min() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00893">itype.h:893</a></div></div>
<div class="ttc" id="astructitype_html_a2fd0fb8931b801aaeb42d19d9725c958"><div class="ttname"><a href="structitype.html#a2fd0fb8931b801aaeb42d19d9725c958">itype::was_loaded</a></div><div class="ttdeci">bool was_loaded</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00901">itype.h:901</a></div></div>
<div class="ttc" id="astructitype_html_a32ac824cb8437ef7a8288dafe6c6bfe1"><div class="ttname"><a href="structitype.html#a32ac824cb8437ef7a8288dafe6c6bfe1">itype::materials</a></div><div class="ttdeci">std::vector&lt; material_id &gt; materials</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00924">itype.h:924</a></div></div>
<div class="ttc" id="astructitype_html_a33aeb53774679283298d0202ae3e78ce"><div class="ttname"><a href="structitype.html#a33aeb53774679283298d0202ae3e78ce">itype::bionic</a></div><div class="ttdeci">cata::value_ptr&lt; islot_bionic &gt; bionic</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00863">itype.h:863</a></div></div>
<div class="ttc" id="astructitype_html_a3425c169f961247fd33daa19b98934ce"><div class="ttname"><a href="structitype.html#a3425c169f961247fd33daa19b98934ce">itype::min_per</a></div><div class="ttdeci">int min_per</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00942">itype.h:942</a></div></div>
<div class="ttc" id="astructitype_html_a37254c7bdbbddd208cc69e2338ab833b"><div class="ttname"><a href="structitype.html#a37254c7bdbbddd208cc69e2338ab833b">itype::pet_armor</a></div><div class="ttdeci">cata::value_ptr&lt; islot_pet_armor &gt; pet_armor</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00853">itype.h:853</a></div></div>
<div class="ttc" id="astructitype_html_a3743732759cbbb33229d4ccb8119f805"><div class="ttname"><a href="structitype.html#a3743732759cbbb33229d4ccb8119f805">itype::countdown_destroy</a></div><div class="ttdeci">bool countdown_destroy</div><div class="ttdoc">Is item destroyed after the countdown action is run?</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00952">itype.h:952</a></div></div>
<div class="ttc" id="astructitype_html_a37edee7dafc5711621f26844cab78cf6"><div class="ttname"><a href="structitype.html#a37edee7dafc5711621f26844cab78cf6">itype::gunmod</a></div><div class="ttdeci">cata::value_ptr&lt; islot_gunmod &gt; gunmod</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00860">itype.h:860</a></div></div>
<div class="ttc" id="astructitype_html_a3d7692cff108d3b8c59ca0847d25a45c"><div class="ttname"><a href="structitype.html#a3d7692cff108d3b8c59ca0847d25a45c">itype::phase</a></div><div class="ttdeci">phase_id phase</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00944">itype.h:944</a></div></div>
<div class="ttc" id="astructitype_html_a4025c470ee962b556a984ad5acbf9e63"><div class="ttname"><a href="structitype.html#a4025c470ee962b556a984ad5acbf9e63">itype::picture_id</a></div><div class="ttdeci">ascii_art_id picture_id</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00911">itype.h:911</a></div></div>
<div class="ttc" id="astructitype_html_a41038ca826de1713661d7edd6c1705d0"><div class="ttname"><a href="structitype.html#a41038ca826de1713661d7edd6c1705d0">itype::price</a></div><div class="ttdeci">units::money price</div><div class="ttdoc">Value before cataclysm.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00987">itype.h:987</a></div></div>
<div class="ttc" id="astructitype_html_a435567e9d513701c13586b96e289e33a"><div class="ttname"><a href="structitype.html#a435567e9d513701c13586b96e289e33a">itype::price_post</a></div><div class="ttdeci">units::money price_post</div><div class="ttdoc">Value after cataclysm, dependent upon practical usages.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00989">itype.h:989</a></div></div>
<div class="ttc" id="astructitype_html_a4e982ae6c205d1a157d2df129373eca3"><div class="ttname"><a href="structitype.html#a4e982ae6c205d1a157d2df129373eca3">itype::looks_like</a></div><div class="ttdeci">itype_id looks_like</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00904">itype.h:904</a></div></div>
<div class="ttc" id="astructitype_html_a4ecb806dae208ff275b4aa50ffcd3902"><div class="ttname"><a href="structitype.html#a4ecb806dae208ff275b4aa50ffcd3902">itype::weight</a></div><div class="ttdeci">units::mass weight</div><div class="ttdoc">Weight of item ( or each stack member )</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00967">itype.h:967</a></div></div>
<div class="ttc" id="astructitype_html_a4f35cdb60eb6c86a05235a2c31701595"><div class="ttname"><a href="structitype.html#a4f35cdb60eb6c86a05235a2c31701595">itype::container</a></div><div class="ttdeci">cata::value_ptr&lt; islot_container &gt; container</div><div class="ttdoc">Slots for various item type properties.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00848">itype.h:848</a></div></div>
<div class="ttc" id="astructitype_html_a531f460f3ba31cb3e433f7e585e1d4e5"><div class="ttname"><a href="structitype.html#a531f460f3ba31cb3e433f7e585e1d4e5">itype::stack_size</a></div><div class="ttdeci">int stack_size</div><div class="ttdoc">Number of items per above volume for count_by_charges items.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00984">itype.h:984</a></div></div>
<div class="ttc" id="astructitype_html_a5699c972f1a284761d3b0e1501fe8185"><div class="ttname"><a href="structitype.html#a5699c972f1a284761d3b0e1501fe8185">itype::integral_weight</a></div><div class="ttdeci">units::mass integral_weight</div><div class="ttdoc">Weight difference with the part it replaces for mods.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00969">itype.h:969</a></div></div>
<div class="ttc" id="astructitype_html_a5b106ac527c4c0b217fb2e3c704efce4"><div class="ttname"><a href="structitype.html#a5b106ac527c4c0b217fb2e3c704efce4">itype::layer</a></div><div class="ttdeci">layer_level layer</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01030">itype.h:1030</a></div></div>
<div class="ttc" id="astructitype_html_a5c286a821362f883c93b7d984ecae163"><div class="ttname"><a href="structitype.html#a5c286a821362f883c93b7d984ecae163">itype::wheel</a></div><div class="ttdeci">cata::value_ptr&lt; islot_wheel &gt; wheel</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00857">itype.h:857</a></div></div>
<div class="ttc" id="astructitype_html_a623ec8243b1e599086fa3a23c3179370"><div class="ttname"><a href="structitype.html#a623ec8243b1e599086fa3a23c3179370">itype::gun</a></div><div class="ttdeci">cata::value_ptr&lt; islot_gun &gt; gun</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00859">itype.h:859</a></div></div>
<div class="ttc" id="astructitype_html_a62a6e70840cb0e484f8d61e273f440f4"><div class="ttname"><a href="structitype.html#a62a6e70840cb0e484f8d61e273f440f4">itype::tool</a></div><div class="ttdeci">cata::value_ptr&lt; islot_tool &gt; tool</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00849">itype.h:849</a></div></div>
<div class="ttc" id="astructitype_html_a64d8b1399996d38b2ed54e1543dcef50"><div class="ttname"><a href="structitype.html#a64d8b1399996d38b2ed54e1543dcef50">itype::light_emission</a></div><div class="ttdeci">unsigned light_emission</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01002">itype.h:1002</a></div></div>
<div class="ttc" id="astructitype_html_a677f1de85e246b6f7e91a8ff70f3facf"><div class="ttname"><a href="structitype.html#a677f1de85e246b6f7e91a8ff70f3facf">itype::solar_efficiency</a></div><div class="ttdeci">float solar_efficiency</div><div class="ttdoc">Efficiency of solar energy conversion for solarpacks.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01042">itype.h:1042</a></div></div>
<div class="ttc" id="astructitype_html_a6e22c966e0816d5b8ad665f74fc6aeaa"><div class="ttname"><a href="structitype.html#a6e22c966e0816d5b8ad665f74fc6aeaa">itype::engine</a></div><div class="ttdeci">cata::value_ptr&lt; islot_engine &gt; engine</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00856">itype.h:856</a></div></div>
<div class="ttc" id="astructitype_html_a6e7d1eba2b391233d8da29ccde919fde"><div class="ttname"><a href="structitype.html#a6e7d1eba2b391233d8da29ccde919fde">itype::magazine_well</a></div><div class="ttdeci">units::volume magazine_well</div><div class="ttdoc">Volume above which the magazine starts to protrude from the item and add extra volume.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01028">itype.h:1028</a></div></div>
<div class="ttc" id="astructitype_html_a7099f3ad89573870d81ce764d6cccb04"><div class="ttname"><a href="structitype.html#a7099f3ad89573870d81ce764d6cccb04">itype::armor</a></div><div class="ttdeci">cata::value_ptr&lt; islot_armor &gt; armor</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00852">itype.h:852</a></div></div>
<div class="ttc" id="astructitype_html_a713cf194c7af78a6a101a6bfb26bc3a9"><div class="ttname"><a href="structitype.html#a713cf194c7af78a6a101a6bfb26bc3a9">itype::category_force</a></div><div class="ttdeci">item_category_id category_force</div><div class="ttdoc">If set via JSON forces item category to this (preventing automatic assignment)</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01005">itype.h:1005</a></div></div>
<div class="ttc" id="astructitype_html_a71434072aef9916ba0a62b7baa59a2b5"><div class="ttname"><a href="structitype.html#a71434072aef9916ba0a62b7baa59a2b5">itype::description</a></div><div class="ttdeci">translation description</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00910">itype.h:910</a></div></div>
<div class="ttc" id="astructitype_html_a71835820e6594955948ef1e8bc7bed68"><div class="ttname"><a href="structitype.html#a71835820e6594955948ef1e8bc7bed68">itype::faults</a></div><div class="ttdeci">std::set&lt; fault_id &gt; faults</div><div class="ttdoc">What faults (if any) can occur.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01019">itype.h:1019</a></div></div>
<div class="ttc" id="astructitype_html_a732c87e006a38b7dc35850450d588595"><div class="ttname"><a href="structitype.html#a732c87e006a38b7dc35850450d588595">itype::default_container</a></div><div class="ttdeci">cata::optional&lt; itype_id &gt; default_container</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00914">itype.h:914</a></div></div>
<div class="ttc" id="astructitype_html_a77df14c96eca8142e97b00a9e43f56cb"><div class="ttname"><a href="structitype.html#a77df14c96eca8142e97b00a9e43f56cb">itype::damage_min_</a></div><div class="ttdeci">int damage_min_</div><div class="ttdoc">Minimum and maximum amount of damage to an item (state of maximum repair).</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00878">itype.h:878</a></div></div>
<div class="ttc" id="astructitype_html_a7a44fbc429e7e78283c414cb0edcc97c"><div class="ttname"><a href="structitype.html#a7a44fbc429e7e78283c414cb0edcc97c">itype::charges_default</a></div><div class="ttdeci">int charges_default() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01080">itype.h:1080</a></div></div>
<div class="ttc" id="astructitype_html_a7cb80d77696cefb42ac6e75756b47e60"><div class="ttname"><a href="structitype.html#a7cb80d77696cefb42ac6e75756b47e60">itype::ammo</a></div><div class="ttdeci">cata::value_ptr&lt; islot_ammo &gt; ammo</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00864">itype.h:864</a></div></div>
<div class="ttc" id="astructitype_html_a7f957db922884120f5a9ce0d8789fdc4"><div class="ttname"><a href="structitype.html#a7f957db922884120f5a9ce0d8789fdc4">itype::mod</a></div><div class="ttdeci">cata::value_ptr&lt; islot_mod &gt; mod</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00855">itype.h:855</a></div></div>
<div class="ttc" id="astructitype_html_a82ca05abd5038bf680072963a3a97a7c"><div class="ttname"><a href="structitype.html#a82ca05abd5038bf680072963a3a97a7c">itype::name</a></div><div class="ttdeci">translation name</div><div class="ttdoc">unique string identifier for this type</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00887">itype.h:887</a></div></div>
<div class="ttc" id="astructitype_html_a88ab4cc3858d8bb86e21cf83d13cc4c0"><div class="ttname"><a href="structitype.html#a88ab4cc3858d8bb86e21cf83d13cc4c0">itype::qualities</a></div><div class="ttdeci">std::map&lt; quality_id, int &gt; qualities</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00916">itype.h:916</a></div></div>
<div class="ttc" id="astructitype_html_a88f1b039c08faacccaa9d637f894ee7f"><div class="ttname"><a href="structitype.html#a88f1b039c08faacccaa9d637f894ee7f">itype::thrown_damage</a></div><div class="ttdeci">damage_instance thrown_damage</div><div class="ttdoc">Base damage output when thrown.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00998">itype.h:998</a></div></div>
<div class="ttc" id="astructitype_html_a8f4b158de33b6320ba43249b005a2f94"><div class="ttname"><a href="structitype.html#a8f4b158de33b6320ba43249b005a2f94">itype::magazines</a></div><div class="ttdeci">std::map&lt; ammotype, std::set&lt; itype_id &gt; &gt; magazines</div><div class="ttdoc">Magazine types (if any) for each ammo type that can be used to reload this item.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01022">itype.h:1022</a></div></div>
<div class="ttc" id="astructitype_html_a9599d60ae3f70f8791bf108a4bde877b"><div class="ttname"><a href="structitype.html#a9599d60ae3f70f8791bf108a4bde877b">itype::fuel</a></div><div class="ttdeci">cata::value_ptr&lt; islot_fuel &gt; fuel</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00858">itype.h:858</a></div></div>
<div class="ttc" id="astructitype_html_a9bf7494805acc141b007ddade6a6313c"><div class="ttname"><a href="structitype.html#a9bf7494805acc141b007ddade6a6313c">itype::battery</a></div><div class="ttdeci">cata::value_ptr&lt; islot_battery &gt; battery</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00862">itype.h:862</a></div></div>
<div class="ttc" id="astructitype_html_a9d0d50c14b184fceddd1a13ee279a6fc"><div class="ttname"><a href="structitype.html#a9d0d50c14b184fceddd1a13ee279a6fc">itype::drop_action</a></div><div class="ttdeci">use_function drop_action</div><div class="ttdoc">Action to take BEFORE the item is placed on map.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00930">itype.h:930</a></div></div>
<div class="ttc" id="astructitype_html_a9defae7ba72f6d0af2e5629c4244f00e"><div class="ttname"><a href="structitype.html#a9defae7ba72f6d0af2e5629c4244f00e">itype::count_by_charges</a></div><div class="ttdeci">bool count_by_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01076">itype.h:1076</a></div></div>
<div class="ttc" id="astructitype_html_aa0615d0fb9ee03b0b7350fe1f334d77b"><div class="ttname"><a href="structitype.html#aa0615d0fb9ee03b0b7350fe1f334d77b">itype::damage_max</a></div><div class="ttdeci">int damage_max() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00896">itype.h:896</a></div></div>
<div class="ttc" id="astructitype_html_aa5c0438c1bc94ded4e950ad684463a72"><div class="ttname"><a href="structitype.html#aa5c0438c1bc94ded4e950ad684463a72">itype::integral_volume</a></div><div class="ttdeci">units::volume integral_volume</div><div class="ttdoc">Space consumed when integrated as part of another item (defaults to volume) CAUTION: value given is f...</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00981">itype.h:981</a></div></div>
<div class="ttc" id="astructitype_html_aa656fede37aaf975ab567bcc5c6a452e"><div class="ttname"><a href="structitype.html#aa656fede37aaf975ab567bcc5c6a452e">itype::comestible</a></div><div class="ttdeci">cata::value_ptr&lt; islot_comestible &gt; comestible</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00850">itype.h:850</a></div></div>
<div class="ttc" id="astructitype_html_ab018b62882b32eef884f4efd769c0993"><div class="ttname"><a href="structitype.html#ab018b62882b32eef884f4efd769c0993">itype::id</a></div><div class="ttdeci">itype_id id</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00883">itype.h:883</a></div></div>
<div class="ttc" id="astructitype_html_ab5a0c74951d7c96f34dbb6da4824f373"><div class="ttname"><a href="structitype.html#ab5a0c74951d7c96f34dbb6da4824f373">itype::milling_data</a></div><div class="ttdeci">cata::value_ptr&lt; islot_milling &gt; milling_data</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00868">itype.h:868</a></div></div>
<div class="ttc" id="astructitype_html_ab5c2a0ece3b013a4088b734cd34841d6"><div class="ttname"><a href="structitype.html#ab5c2a0ece3b013a4088b734cd34841d6">itype::magazine_default</a></div><div class="ttdeci">std::map&lt; ammotype, itype_id &gt; magazine_default</div><div class="ttdoc">Default magazine for each ammo type that can be used to reload this item.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01025">itype.h:1025</a></div></div>
<div class="ttc" id="astructitype_html_ab5ccbb62a76230f61c7047b0f4258ff4"><div class="ttname"><a href="structitype.html#ab5ccbb62a76230f61c7047b0f4258ff4">itype::relic_data</a></div><div class="ttdeci">cata::value_ptr&lt; relic &gt; relic_data</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00867">itype.h:867</a></div></div>
<div class="ttc" id="astructitype_html_ab8196084d50fd9a33d6d93c290501b4f"><div class="ttname"><a href="structitype.html#ab8196084d50fd9a33d6d93c290501b4f">itype::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00071">itype.cpp:71</a></div></div>
<div class="ttc" id="astructitype_html_aba9992b8bc80b65d4153370b3e0755ec"><div class="ttname"><a href="structitype.html#aba9992b8bc80b65d4153370b3e0755ec">itype::magazine</a></div><div class="ttdeci">cata::value_ptr&lt; islot_magazine &gt; magazine</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00861">itype.h:861</a></div></div>
<div class="ttc" id="astructitype_html_abc2596bacfc718fba56ab8076bab5d6b"><div class="ttname"><a href="structitype.html#abc2596bacfc718fba56ab8076bab5d6b">itype::get_id</a></div><div class="ttdeci">const itype_id &amp; get_id() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01072">itype.h:1072</a></div></div>
<div class="ttc" id="astructitype_html_abd1f0b721206f746d2a645b4ef6f804b"><div class="ttname"><a href="structitype.html#abd1f0b721206f746d2a645b4ef6f804b">itype::item_tags</a></div><div class="ttdeci">FlagsSetType item_tags</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01044">itype.h:1044</a></div></div>
<div class="ttc" id="astructitype_html_abd3ca12912367ae92d488864e09ea921"><div class="ttname"><a href="structitype.html#abd3ca12912367ae92d488864e09ea921">itype::volume</a></div><div class="ttdeci">units::volume volume</div><div class="ttdoc">Space occupied by items of this type CAUTION: value given is for a default-sized stack.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00976">itype.h:976</a></div></div>
<div class="ttc" id="astructitype_html_abef0d8869ced8040dc3004db7db39d57"><div class="ttname"><a href="structitype.html#abef0d8869ced8040dc3004db7db39d57">itype::min_skills</a></div><div class="ttdeci">std::map&lt; skill_id, int &gt; min_skills</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00938">itype.h:938</a></div></div>
<div class="ttc" id="astructitype_html_ac59fb8f044e4a3841db679ecf8e646a7"><div class="ttname"><a href="structitype.html#ac59fb8f044e4a3841db679ecf8e646a7">itype::src</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; itype_id, mod_id &gt; &gt; src</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00841">itype.h:841</a></div></div>
<div class="ttc" id="astructitype_html_ac93d9775de15087ba59da8d48e89cb6f"><div class="ttname"><a href="structitype.html#ac93d9775de15087ba59da8d48e89cb6f">itype::emits</a></div><div class="ttdeci">std::set&lt; emit_id &gt; emits</div><div class="ttdoc">Fields to emit when item is in active state.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00933">itype.h:933</a></div></div>
<div class="ttc" id="astructitype_html_acaa924a27717e1a4f5fa3fb17a84383c"><div class="ttname"><a href="structitype.html#acaa924a27717e1a4f5fa3fb17a84383c">itype::conditional_names</a></div><div class="ttdeci">std::vector&lt; conditional_name &gt; conditional_names</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00920">itype.h:920</a></div></div>
<div class="ttc" id="astructitype_html_acbc6974858332fd6933f71a304312d7f"><div class="ttname"><a href="structitype.html#acbc6974858332fd6933f71a304312d7f">itype::damage_scale</a></div><div class="ttdeci">static constexpr int damage_scale</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01010">itype.h:1010</a></div></div>
<div class="ttc" id="astructitype_html_aceefd307b3bf001fbbcb5fde7bbcdd88"><div class="ttname"><a href="structitype.html#aceefd307b3bf001fbbcb5fde7bbcdd88">itype::brewable</a></div><div class="ttdeci">cata::value_ptr&lt; islot_brewable &gt; brewable</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00851">itype.h:851</a></div></div>
<div class="ttc" id="astructitype_html_ad399e19889a6477a9f3f5a067a92c651"><div class="ttname"><a href="structitype.html#ad399e19889a6477a9f3f5a067a92c651">itype::artifact</a></div><div class="ttdeci">cata::value_ptr&lt; islot_artifact &gt; artifact</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00866">itype.h:866</a></div></div>
<div class="ttc" id="astructitype_html_ad3feb1bdd1db2f0b88ef6b74c25ef869"><div class="ttname"><a href="structitype.html#ad3feb1bdd1db2f0b88ef6b74c25ef869">itype::explode_in_fire</a></div><div class="ttdeci">bool explode_in_fire</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00949">itype.h:949</a></div></div>
<div class="ttc" id="astructitype_html_ad473e287663d24df88e80b82a0d55b31"><div class="ttname"><a href="structitype.html#ad473e287663d24df88e80b82a0d55b31">itype::damage_max_</a></div><div class="ttdeci">int damage_max_</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00879">itype.h:879</a></div></div>
<div class="ttc" id="astructitype_html_ad55b9f82e65f57e8cfb6ecc4fc0445cb"><div class="ttname"><a href="structitype.html#ad55b9f82e65f57e8cfb6ecc4fc0445cb">itype::seed</a></div><div class="ttdeci">cata::value_ptr&lt; islot_seed &gt; seed</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00865">itype.h:865</a></div></div>
<div class="ttc" id="astructitype_html_ad8c03a65fe401a2c39c5f76116a46164"><div class="ttname"><a href="structitype.html#ad8c03a65fe401a2c39c5f76116a46164">itype::min_str</a></div><div class="ttdeci">int min_str</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00939">itype.h:939</a></div></div>
<div class="ttc" id="astructitype_html_ada64ca1e7937118bb822cd9b0ea83497"><div class="ttname"><a href="structitype.html#ada64ca1e7937118bb822cd9b0ea83497">itype::properties</a></div><div class="ttdeci">std::map&lt; std::string, std::string &gt; properties</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00917">itype.h:917</a></div></div>
<div class="ttc" id="astructitype_html_adc032f577167e749b91124d76f56ddfe"><div class="ttname"><a href="structitype.html#adc032f577167e749b91124d76f56ddfe">itype::sym</a></div><div class="ttdeci">std::string sym</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01007">itype.h:1007</a></div></div>
<div class="ttc" id="astructitype_html_ae287a1f1bf88e79b98da2bb0893546a7"><div class="ttname"><a href="structitype.html#ae287a1f1bf88e79b98da2bb0893546a7">itype::melee</a></div><div class="ttdeci">std::array&lt; int, NUM_DT &gt; melee</div><div class="ttdoc">Damage output in melee for zero or more damage types.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00996">itype.h:996</a></div></div>
<div class="ttc" id="astructitype_html_ae2add2e58c239cd10a2ad4551d5c6fae"><div class="ttname"><a href="structitype.html#ae2add2e58c239cd10a2ad4551d5c6fae">itype::stackable_</a></div><div class="ttdeci">bool stackable_</div><div class="ttdoc">Can item be combined with other identical items?</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00873">itype.h:873</a></div></div>
<div class="ttc" id="astructitype_html_aec04d23e907e3ea3cd9cfb08369dffcd"><div class="ttname"><a href="structitype.html#aec04d23e907e3ea3cd9cfb08369dffcd">itype::book</a></div><div class="ttdeci">cata::value_ptr&lt; islot_book &gt; book</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00854">itype.h:854</a></div></div>
<div class="ttc" id="astructitype_html_af120b48958f64cb16301d76d95d57d6a"><div class="ttname"><a href="structitype.html#af120b48958f64cb16301d76d95d57d6a">itype::techniques</a></div><div class="ttdeci">std::set&lt; matec_id &gt; techniques</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00935">itype.h:935</a></div></div>
<div class="ttc" id="astructitype_html_af4a7035d85d1258ac55efae66eea72eb"><div class="ttname"><a href="structitype.html#af4a7035d85d1258ac55efae66eea72eb">itype::countdown_interval</a></div><div class="ttdeci">int countdown_interval</div><div class="ttdoc">Default countdown interval (if any) for item.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00955">itype.h:955</a></div></div>
<div class="ttc" id="astructitype_html_af4d6fc9396d1e09f23d2008f974ac757"><div class="ttname"><a href="structitype.html#af4d6fc9396d1e09f23d2008f974ac757">itype::color</a></div><div class="ttdeci">nc_color color</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01008">itype.h:1008</a></div></div>
<div class="ttc" id="astructitype_html_afa43bb71000c037c9918d907fdacf0b5"><div class="ttname"><a href="structitype.html#afa43bb71000c037c9918d907fdacf0b5">itype::use_methods</a></div><div class="ttdeci">std::map&lt; std::string, use_function &gt; use_methods</div><div class="ttdoc">Actions an instance can perform (if any) indexed by action type.</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00927">itype.h:927</a></div></div>
<div class="ttc" id="astructitype_html_afc46b586361661f16219f0a465b71c1d"><div class="ttname"><a href="structitype.html#afc46b586361661f16219f0a465b71c1d">itype::can_use</a></div><div class="ttdeci">bool can_use(const std::string &amp;iuse_name) const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8cpp_source.html#l00086">itype.cpp:86</a></div></div>
<div class="ttc" id="astructnutrients_html_a250b8d24985580cc4b6a640050bef208"><div class="ttname"><a href="structnutrients.html#a250b8d24985580cc4b6a640050bef208">nutrients::kcal</a></div><div class="ttdeci">int kcal</div><div class="ttdoc">amount of kcal this food has</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8h_source.html#l00018">stomach.h:18</a></div></div>
<div class="ttc" id="astructnutrients_html_a36c005a254fba5f37415d8ac6bdac04d"><div class="ttname"><a href="structnutrients.html#a36c005a254fba5f37415d8ac6bdac04d">nutrients::vitamins</a></div><div class="ttdeci">std::map&lt; vitamin_id, int &gt; vitamins</div><div class="ttdoc">vitamins potentially provided by this comestible (if any)</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8h_source.html#l00021">stomach.h:21</a></div></div>
<div class="ttc" id="astructrequirement__data_html"><div class="ttname"><a href="structrequirement__data.html">requirement_data</a></div><div class="ttdoc">The *_vector members represent list of alternatives requirements: alter_tool_comp_vector = { * { { a,...</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00215">requirements.h:215</a></div></div>
<div class="ttc" id="astructrequirement__data_html_a0cd7e0da2f3dd4412ac0bb2b4bce2c55"><div class="ttname"><a href="structrequirement__data.html#a0cd7e0da2f3dd4412ac0bb2b4bce2c55">requirement_data::all</a></div><div class="ttdeci">static const std::map&lt; requirement_id, requirement_data &gt; &amp; all()</div><div class="ttdoc">Get all currently loaded requirements.</div><div class="ttdef"><b>Definition:</b> <a href="requirements_8cpp_source.html#l00464">requirements.cpp:464</a></div></div>
<div class="ttc" id="astructtranslation_1_1plural__tag_html"><div class="ttname"><a href="structtranslation_1_1plural__tag.html">translation::plural_tag</a></div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00154">translations.h:154</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00147">point.h:147</a></div></div>
<div class="ttc" id="astructuse__function_html"><div class="ttname"><a href="structuse__function.html">use_function</a></div><div class="ttdef"><b>Definition:</b> <a href="iuse_8h_source.html#l00302">iuse.h:302</a></div></div>
<div class="ttc" id="astructuse__function_html_a4eb6f93aaedca07bd14fdd19e2c52f4a"><div class="ttname"><a href="structuse__function.html#a4eb6f93aaedca07bd14fdd19e2c52f4a">use_function::use_function</a></div><div class="ttdeci">use_function()=default</div></div>
<div class="ttc" id="astructuse__function_html_a8d0d0e5c09c76fee575b38ca99e3719e"><div class="ttname"><a href="structuse__function.html#a8d0d0e5c09c76fee575b38ca99e3719e">use_function::get_actor_ptr</a></div><div class="ttdeci">iuse_actor * get_actor_ptr()</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8h_source.html#l00314">iuse.h:314</a></div></div>
<div class="ttc" id="astructvehicle__item__spawn_html"><div class="ttname"><a href="structvehicle__item__spawn.html">vehicle_item_spawn</a></div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00357">veh_type.h:357</a></div></div>
<div class="ttc" id="astructvehicle__item__spawn_html_a8c77ce90bc86a9689cefa5b04e15ee3d"><div class="ttname"><a href="structvehicle__item__spawn.html#a8c77ce90bc86a9689cefa5b04e15ee3d">vehicle_item_spawn::item_ids</a></div><div class="ttdeci">std::vector&lt; itype_id &gt; item_ids</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00364">veh_type.h:364</a></div></div>
<div class="ttc" id="astructvehicle__prototype_html"><div class="ttname"><a href="structvehicle__prototype.html">vehicle_prototype</a></div><div class="ttdoc">Prototype of a vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00372">veh_type.h:372</a></div></div>
<div class="ttc" id="astructvehicle__prototype_html_a7eec43c8754c73355602b6a126e73293"><div class="ttname"><a href="structvehicle__prototype.html#a7eec43c8754c73355602b6a126e73293">vehicle_prototype::item_spawns</a></div><div class="ttdeci">std::vector&lt; vehicle_item_spawn &gt; item_spawns</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8h_source.html#l00393">veh_type.h:393</a></div></div>
<div class="ttc" id="astructvehicle__prototype_html_aa9c6ba9275a1d2202f266bd213a725a9"><div class="ttname"><a href="structvehicle__prototype.html#aa9c6ba9275a1d2202f266bd213a725a9">vehicle_prototype::get_all</a></div><div class="ttdeci">static std::vector&lt; vproto_id &gt; get_all()</div><div class="ttdef"><b>Definition:</b> <a href="veh__type_8cpp_source.html#l01156">veh_type.cpp:1156</a></div></div>
<div class="ttc" id="atext__snippets_8cpp_html_ac3fc11c159cd056aa15ad7c0b37b070a"><div class="ttname"><a href="text__snippets_8cpp.html#ac3fc11c159cd056aa15ad7c0b37b070a">SNIPPET</a></div><div class="ttdeci">snippet_library SNIPPET</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00012">text_snippets.cpp:12</a></div></div>
<div class="ttc" id="atext__snippets_8h_html"><div class="ttname"><a href="text__snippets_8h.html">text_snippets.h</a></div></div>
<div class="ttc" id="atext__style__check_8h_html_aa76eeb43e28d7c3407b22fd9b1c4c9abaf5300127f646a4550bc4a04fbe393e79"><div class="ttname"><a href="text__style__check_8h.html#aa76eeb43e28d7c3407b22fd9b1c4c9abaf5300127f646a4550bc4a04fbe393e79">text_style_fix::replacement</a></div><div class="ttdeci">@ replacement</div></div>
<div class="ttc" id="atranslations_8cpp_html_a7afa19f8e1a45d955fc6fbaa420a6760"><div class="ttname"><a href="translations_8cpp.html#a7afa19f8e1a45d955fc6fbaa420a6760">no_translation</a></div><div class="ttdeci">translation no_translation(const std::string &amp;str)</div><div class="ttdoc">Shorthand for translation::no_translation.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00405">translations.cpp:405</a></div></div>
<div class="ttc" id="atranslations_8h_html"><div class="ttname"><a href="translations_8h.html">translations.h</a></div></div>
<div class="ttc" id="atranslations_8h_html_a0b3ab525ec6b450b2487e7644255fa7c"><div class="ttname"><a href="translations_8h.html#a0b3ab525ec6b450b2487e7644255fa7c">translate_marker</a></div><div class="ttdeci">#define translate_marker(x)</div><div class="ttdoc">Marks a string literal to be extracted for translation.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00030">translations.h:30</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
<div class="ttc" id="atype__id_8h_html_a15c813836397fb5a5747fa15b5c82d84"><div class="ttname"><a href="type__id_8h.html#a15c813836397fb5a5747fa15b5c82d84">matec_id</a></div><div class="ttdeci">string_id&lt; ma_technique &gt; matec_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00089">type_id.h:89</a></div></div>
<div class="ttc" id="atype__id_8h_html_a462e78d510851b30d4f5795c409c7467"><div class="ttname"><a href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a></div><div class="ttdeci">string_id&lt; quality &gt; quality_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00181">type_id.h:181</a></div></div>
<div class="ttc" id="atype__id_8h_html_a4a240e1107e45f10d64b78f1b5f58d59"><div class="ttname"><a href="type__id_8h.html#a4a240e1107e45f10d64b78f1b5f58d59">ammotype</a></div><div class="ttdeci">string_id&lt; ammunition_type &gt; ammotype</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00012">type_id.h:12</a></div></div>
<div class="ttc" id="atype__id_8h_html_a569ce0271cf4ab170e63bb05658be142"><div class="ttname"><a href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a></div><div class="ttdeci">string_id&lt; material_type &gt; material_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00092">type_id.h:92</a></div></div>
<div class="ttc" id="atype__id_8h_html_a62a00ee11c034c0eaf855dc51bf92337"><div class="ttname"><a href="type__id_8h.html#a62a00ee11c034c0eaf855dc51bf92337">oter_str_id</a></div><div class="ttdeci">string_id&lt; oter_t &gt; oter_str_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00121">type_id.h:121</a></div></div>
<div class="ttc" id="atype__id_8h_html_a6e9edc884a79795c312ad6d426dda223"><div class="ttname"><a href="type__id_8h.html#a6e9edc884a79795c312ad6d426dda223">item_category_id</a></div><div class="ttdeci">string_id&lt; item_category &gt; item_category_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00074">type_id.h:74</a></div></div>
<div class="ttc" id="atype__id_8h_html_a7d1934ae1f3ab6bea8bd75f88070482d"><div class="ttname"><a href="type__id_8h.html#a7d1934ae1f3ab6bea8bd75f88070482d">recipe_id</a></div><div class="ttdeci">string_id&lt; recipe &gt; recipe_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00140">type_id.h:140</a></div></div>
<div class="ttc" id="atype__id_8h_html_a8174d98bb32e389bd2e1ab691167f7b9"><div class="ttname"><a href="type__id_8h.html#a8174d98bb32e389bd2e1ab691167f7b9">gun_mode_id</a></div><div class="ttdeci">string_id&lt; gun_mode &gt; gun_mode_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00068">type_id.h:68</a></div></div>
<div class="ttc" id="atype__id_8h_html_ab297382ed4c098c03ee2b8d70cd8e483"><div class="ttname"><a href="type__id_8h.html#ab297382ed4c098c03ee2b8d70cd8e483">item_group_id</a></div><div class="ttdeci">string_id&lt; Item_group &gt; item_group_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00077">type_id.h:77</a></div></div>
<div class="ttc" id="atype__id_8h_html_ae4abc6ea4de371540f13f8466e463264"><div class="ttname"><a href="type__id_8h.html#ae4abc6ea4de371540f13f8466e463264">mongroup_id</a></div><div class="ttdeci">string_id&lt; MonsterGroup &gt; mongroup_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00105">type_id.h:105</a></div></div>
<div class="ttc" id="atype__id_8h_html_affe9d743c1ec4cbbb991c70437ac67ed"><div class="ttname"><a href="type__id_8h.html#affe9d743c1ec4cbbb991c70437ac67ed">diseasetype_id</a></div><div class="ttdeci">string_id&lt; disease_type &gt; diseasetype_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00048">type_id.h:48</a></div></div>
<div class="ttc" id="aui_8h_html"><div class="ttname"><a href="ui_8h.html">ui.h</a></div></div>
<div class="ttc" id="aunits_8h_html"><div class="ttname"><a href="units_8h.html">units.h</a></div></div>
<div class="ttc" id="avalue__ptr_8h_html"><div class="ttname"><a href="value__ptr_8h.html">value_ptr.h</a></div></div>
<div class="ttc" id="aveh__type_8h_html"><div class="ttname"><a href="veh__type_8h.html">veh_type.h</a></div></div>
<div class="ttc" id="avehicle_8h_html_a120e32a2f241b5f666c5189a2f405eeaa5bb94a1c12413a2e5d14deabab29f2aa"><div class="ttname"><a href="vehicle_8h.html#a120e32a2f241b5f666c5189a2f405eeaa5bb94a1c12413a2e5d14deabab29f2aa">autodrive_result::abort</a></div><div class="ttdeci">@ abort</div></div>
<div class="ttc" id="avitamin_8h_html"><div class="ttname"><a href="vitamin_8h.html">vitamin.h</a></div></div>
<div class="ttc" id="avitamin_8h_html_a1614a36ad4442e08210a822735541012a6332547a7029263c6caae02ab40dc0d3"><div class="ttname"><a href="vitamin_8h.html#a1614a36ad4442e08210a822735541012a6332547a7029263c6caae02ab40dc0d3">VITAMIN</a></div><div class="ttdeci">@ VITAMIN</div><div class="ttdef"><b>Definition:</b> <a href="vitamin_8h_source.html#l00019">vitamin.h:19</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="item__factory_8cpp.html">item_factory.cpp</a></li>
    <li class="footer">Generated on Fri Dec 2 2022 15:20:51 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
