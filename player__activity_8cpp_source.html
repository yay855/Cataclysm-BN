<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: src/player_activity.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('player__activity_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">player_activity.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="player__activity_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#include &quot;<a class="code" href="player__activity_8h.html">player_activity.h</a>&quot;</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &quot;<a class="code" href="activity__actor_8h.html">activity_actor.h</a>&quot;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &quot;<a class="code" href="activity__handlers_8h.html">activity_handlers.h</a>&quot;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &quot;<a class="code" href="activity__type_8h.html">activity_type.h</a>&quot;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &quot;<a class="code" href="avatar_8h.html">avatar.h</a>&quot;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &quot;<a class="code" href="calendar_8h.html">calendar.h</a>&quot;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="character_8h.html">character.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="character__turn_8h.html">character_turn.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="color_8h.html">color.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="construction_8h.html">construction.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="construction__partial_8h.html">construction_partial.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="crafting_8h.html">crafting.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="distraction__manager_8h.html">distraction_manager.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="item_8h.html">item.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="itype_8h.html">itype.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="map_8h.html">map.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="player_8h.html">player.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="recipe_8h.html">recipe.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="rng_8h.html">rng.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="skill_8h.html">skill.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="sounds_8h.html">sounds.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="string__formatter_8h.html">string_formatter.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="string__id_8h.html">string_id.h</a>&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;<a class="code" href="translations_8h.html">translations.h</a>&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="value__ptr_8h.html">value_ptr.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno"><a class="line" href="player__activity_8cpp.html#acdc2d231ebdbf7d9571d84ebe9993c5f">   34</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">activity_id</a> <a class="code hl_variable" href="player__activity_8cpp.html#acdc2d231ebdbf7d9571d84ebe9993c5f">ACT_FIRSTAID</a>( <span class="stringliteral">&quot;ACT_FIRSTAID&quot;</span> );</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="player__activity_8cpp.html#a42d6b7855ec8abf909a933f7f2d10b71">   35</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">activity_id</a> <a class="code hl_variable" href="player__activity_8cpp.html#a42d6b7855ec8abf909a933f7f2d10b71">ACT_GAME</a>( <span class="stringliteral">&quot;ACT_GAME&quot;</span> );</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno"><a class="line" href="player__activity_8cpp.html#af0f6a1c716782ccc53519e943b63c61d">   36</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">activity_id</a> <a class="code hl_variable" href="player__activity_8cpp.html#af0f6a1c716782ccc53519e943b63c61d">ACT_PICKAXE</a>( <span class="stringliteral">&quot;ACT_PICKAXE&quot;</span> );</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno"><a class="line" href="player__activity_8cpp.html#a6711fd78d3e82221c6fe213bf91bf80c">   37</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">activity_id</a> <a class="code hl_variable" href="player__activity_8cpp.html#a6711fd78d3e82221c6fe213bf91bf80c">ACT_START_FIRE</a>( <span class="stringliteral">&quot;ACT_START_FIRE&quot;</span> );</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="player__activity_8cpp.html#a4e1de2690242373f2205a99a8d032098">   38</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">activity_id</a> <a class="code hl_variable" href="player__activity_8cpp.html#a4e1de2690242373f2205a99a8d032098">ACT_HAND_CRANK</a>( <span class="stringliteral">&quot;ACT_HAND_CRANK&quot;</span> );</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="player__activity_8cpp.html#acb4abc5eb29a421c42368040e27a6520">   39</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">activity_id</a> <a class="code hl_variable" href="player__activity_8cpp.html#acb4abc5eb29a421c42368040e27a6520">ACT_VIBE</a>( <span class="stringliteral">&quot;ACT_VIBE&quot;</span> );</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="player__activity_8cpp.html#a59d58bc26d449fa251d2dc52e814cd59">   40</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">activity_id</a> <a class="code hl_variable" href="player__activity_8cpp.html#a59d58bc26d449fa251d2dc52e814cd59">ACT_OXYTORCH</a>( <span class="stringliteral">&quot;ACT_OXYTORCH&quot;</span> );</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="player__activity_8cpp.html#a63532169a015e803e57202c5af8ce838">   41</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">activity_id</a> <a class="code hl_variable" href="player__activity_8cpp.html#a63532169a015e803e57202c5af8ce838">ACT_FISH</a>( <span class="stringliteral">&quot;ACT_FISH&quot;</span> );</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="player__activity_8cpp.html#af6b1d6ef23b0cf8236b3b845203ca506">   42</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">activity_id</a> <a class="code hl_variable" href="player__activity_8cpp.html#af6b1d6ef23b0cf8236b3b845203ca506">ACT_ATM</a>( <span class="stringliteral">&quot;ACT_ATM&quot;</span> );</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="player__activity_8cpp.html#a573323959b411f59620f6e0733141ac9">   43</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">activity_id</a> <a class="code hl_variable" href="player__activity_8cpp.html#a573323959b411f59620f6e0733141ac9">ACT_GUNMOD_ADD</a>( <span class="stringliteral">&quot;ACT_GUNMOD_ADD&quot;</span> );</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span> </div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno"><a class="line" href="classplayer__activity.html#a158270689df786c1d7813a7f50dcadda">   45</a></span><a class="code hl_function" href="classplayer__activity.html#a158270689df786c1d7813a7f50dcadda">player_activity::player_activity</a>() : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>( <a class="code hl_class" href="classstring__id.html">activity_id</a>::NULL_ID() ) { }</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span> </div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="classplayer__activity.html#a788de4351c63833dbebf9da4ac0cb975">   47</a></span><a class="code hl_function" href="classplayer__activity.html#a158270689df786c1d7813a7f50dcadda">player_activity::player_activity</a>( <a class="code hl_class" href="classstring__id.html">activity_id</a> t, <span class="keywordtype">int</span> turns, <span class="keywordtype">int</span> Index, <span class="keywordtype">int</span> pos,</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>                                  <span class="keyword">const</span> std::string &amp;name_in ) :</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>( t ), moves_total( turns ), moves_left( turns ),</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    index( Index ),</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    position( pos ), <a class="code hl_function" href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">name</a>( name_in ),</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    placement( <a class="code hl_variable" href="point_8h.html#afa8693bb804568b71fece8ab73d959bf">tripoint_min</a> ), auto_resume( false )</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>{</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>}</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span> </div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="classplayer__activity.html#a085a03cf8f66f5a006390fa05c3e1dac">   56</a></span><a class="code hl_function" href="classplayer__activity.html#a158270689df786c1d7813a7f50dcadda">player_activity::player_activity</a>( <span class="keyword">const</span> <a class="code hl_class" href="classactivity__actor.html">activity_actor</a> &amp;actor ) : <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>( actor.get_type() ),</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    actor( actor.clone() ), moves_total( 0 ), moves_left( 0 )</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>{</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>}</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><a class="code hl_function" href="classplayer__activity.html#a8fb5e5e8822200169cf87488aa8a9b83">player_activity::~player_activity</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span> </div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="classplayer__activity.html#a5fdeb1c50af92421688a5a28157856ea">   63</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classplayer__activity.html#a5fdeb1c50af92421688a5a28157856ea">player_activity::migrate_item_position</a>( <a class="code hl_class" href="classCharacter.html">Character</a> &amp;guy )</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>{</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> simple_action_replace =</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#acdc2d231ebdbf7d9571d84ebe9993c5f">ACT_FIRSTAID</a> || <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#a42d6b7855ec8abf909a933f7f2d10b71">ACT_GAME</a> ||</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#af0f6a1c716782ccc53519e943b63c61d">ACT_PICKAXE</a> || <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#a6711fd78d3e82221c6fe213bf91bf80c">ACT_START_FIRE</a> ||</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#a4e1de2690242373f2205a99a8d032098">ACT_HAND_CRANK</a> || <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#acb4abc5eb29a421c42368040e27a6520">ACT_VIBE</a> ||</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#a59d58bc26d449fa251d2dc52e814cd59">ACT_OXYTORCH</a> || <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#a63532169a015e803e57202c5af8ce838">ACT_FISH</a> ||</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#af6b1d6ef23b0cf8236b3b845203ca506">ACT_ATM</a>;</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    <span class="keywordflow">if</span>( simple_action_replace ) {</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>        <a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( <a class="code hl_class" href="classitem__location.html">item_location</a>( guy, &amp;guy.<a class="code hl_function" href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">i_at</a>( <a class="code hl_variable" href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">position</a> ) ) );</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_variable" href="player__activity_8cpp.html#a573323959b411f59620f6e0733141ac9">ACT_GUNMOD_ADD</a> ) {</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>        <span class="comment">// this activity has two indices; &quot;position&quot; = gun and &quot;values[0]&quot; = mod</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>        <a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( <a class="code hl_class" href="classitem__location.html">item_location</a>( guy, &amp;guy.<a class="code hl_function" href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">i_at</a>( <a class="code hl_variable" href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">position</a> ) ) );</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>        <a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.push_back( <a class="code hl_class" href="classitem__location.html">item_location</a>( guy, &amp;guy.<a class="code hl_function" href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">i_at</a>( <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>[0] ) ) );</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    }</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>}</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span> </div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">   81</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">player_activity::set_to_null</a>()</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>{</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> = <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">activity_id::NULL_ID</a>();</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <a class="code hl_function" href="namespacesfx.html#a649e58c2b2476c8a814dfe94e865ec3e">sfx::end_activity_sounds</a>(); <span class="comment">// kill activity sounds when activity is nullified</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>}</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="classplayer__activity.html#a35ae80d8cdad27d0c568b85accf03745">   87</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classplayer__activity.html#a35ae80d8cdad27d0c568b85accf03745">player_activity::rooted</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a8c7737b83f50f87dbc1e0c4a920f8834">rooted</a>();</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>}</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span> </div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno"><a class="line" href="classplayer__activity.html#a0f57b22b4b9af424c55ef8d2610c76aa">   92</a></span>std::string <a class="code hl_function" href="classplayer__activity.html#a0f57b22b4b9af424c55ef8d2610c76aa">player_activity::get_stop_phrase</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#ad92938fe43dae0b166b017a0d4afde61">stop_phrase</a>();</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>}</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span> </div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="classplayer__activity.html#a5cb0c0038d5644696ece4789dd514c2a">   97</a></span><span class="keyword">const</span> <a class="code hl_class" href="classtranslation.html">translation</a> &amp;<a class="code hl_function" href="classplayer__activity.html#a5cb0c0038d5644696ece4789dd514c2a">player_activity::get_verb</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a895de2408ed81a8aaa60df8e2e64265e">verb</a>();</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>}</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span> </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno"><a class="line" href="classplayer__activity.html#ad71857a82b50cc853a4084a44aef5e96">  102</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classplayer__activity.html#ad71857a82b50cc853a4084a44aef5e96">player_activity::get_value</a>( <span class="keywordtype">size_t</span> index, <span class="keywordtype">int</span> def )<span class="keyword"> const</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a> &lt; <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.size() ? <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>[<a class="code hl_variable" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a>] : def;</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>}</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> </div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno"><a class="line" href="classplayer__activity.html#a6d8cbb948cfc71aae1198f5ca0db7dd1">  107</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classplayer__activity.html#a6d8cbb948cfc71aae1198f5ca0db7dd1">player_activity::is_suspendable</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a54a8507ca430b5e4673d376790928459">suspendable</a>();</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>}</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span> </div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="classplayer__activity.html#ae44b657c59940e256aeb15e73bf2be1d">  112</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classplayer__activity.html#ae44b657c59940e256aeb15e73bf2be1d">player_activity::is_multi_type</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#aa5ac16650391c20842e0f091df5c3e05">multi_activity</a>();</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>}</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno"><a class="line" href="classplayer__activity.html#aab3f4af03e8a3be4f8c97af561e8ffeb">  117</a></span>std::string <a class="code hl_function" href="classplayer__activity.html#aab3f4af03e8a3be4f8c97af561e8ffeb">player_activity::get_str_value</a>( <span class="keywordtype">size_t</span> index, <span class="keyword">const</span> std::string &amp;def )<span class="keyword"> const</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a> &lt; <a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a>.size() ? <a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a>[<a class="code hl_variable" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a>] : def;</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>}</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span> </div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno"><a class="line" href="player__activity_8cpp.html#a95360d3991a20508af04cf9afd413252">  122</a></span><span class="keyword">static</span> std::string <a class="code hl_function" href="player__activity_8cpp.html#a95360d3991a20508af04cf9afd413252">craft_progress_message</a>( <span class="keyword">const</span> <a class="code hl_class" href="classavatar.html">avatar</a> &amp;u, <span class="keyword">const</span> <a class="code hl_class" href="classplayer__activity.html">player_activity</a> &amp;<a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> )</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>{</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_function" href="namespaceiuse.html#a31feaa639847b8a1e5974e026eb785b5">craft</a> = <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.targets.front().get_item();</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="namespaceiuse.html#a31feaa639847b8a1e5974e026eb785b5">craft</a> == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>        <span class="comment">// Should never happen (?)</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%sâ€¦&quot;</span> ), <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.get_verb().translated() );</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    }</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span> </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="comment">// Horrid copypaste warning! TODO: Functions</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="keyword">const</span> <a class="code hl_class" href="classrecipe.html">recipe</a> &amp;rec = <a class="code hl_function" href="namespaceiuse.html#a31feaa639847b8a1e5974e026eb785b5">craft</a>-&gt;get_making();</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> bench_pos = <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.coords.front();</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="comment">// Ugly</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <a class="code hl_enumeration" href="crafting_8h.html#aa5f7f30378264d4adcf8b4a0ceb3b207">bench_type</a> bench_t = <a class="code hl_enumeration" href="crafting_8h.html#aa5f7f30378264d4adcf8b4a0ceb3b207">bench_type</a>( <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values[1] );</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span> </div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structbench__location.html">bench_location</a> bench{bench_t, bench_pos};</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span> </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> light_mult = <a class="code hl_function" href="crafting_8cpp.html#a6582cc1f2797909d958c3123c33cf414">lighting_crafting_speed_multiplier</a>( u, rec );</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> bench_mult = <a class="code hl_function" href="crafting_8cpp.html#a0a4980f8517a4d5d4f65621c3355d1d9">workbench_crafting_speed_multiplier</a>( *<a class="code hl_function" href="namespaceiuse.html#a31feaa639847b8a1e5974e026eb785b5">craft</a>, bench );</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_struct" href="structmorale__mult.html">morale_mult</a> = <a class="code hl_function" href="crafting_8cpp.html#abf0d69303949f94ba7e0d2fc49d8eb1f">morale_crafting_speed_multiplier</a>( u, rec );</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> assistants = u.<a class="code hl_function" href="classplayer.html#a39537c9669f9a81b8ac7e52ea9aae0dd">available_assistant_count</a>( <a class="code hl_function" href="namespaceiuse.html#a31feaa639847b8a1e5974e026eb785b5">craft</a>-&gt;get_making() );</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> base_total_moves = std::max( 1, rec.<a class="code hl_function" href="classrecipe.html#ae553a7e929ae8776eb5a8c19422ec83b">batch_time</a>( <a class="code hl_function" href="namespaceiuse.html#a31feaa639847b8a1e5974e026eb785b5">craft</a>-&gt;charges, 1.0f, 0 ) );</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> assist_total_moves = std::max( 1, rec.<a class="code hl_function" href="classrecipe.html#ae553a7e929ae8776eb5a8c19422ec83b">batch_time</a>( <a class="code hl_function" href="namespaceiuse.html#a31feaa639847b8a1e5974e026eb785b5">craft</a>-&gt;charges, 1.0f, assistants ) );</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> assist_mult = base_total_moves / assist_total_moves;</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> speed_mult = u.<a class="code hl_function" href="classCharacter.html#aedc66fc50d352420cae7791b4a0f57f7">get_speed</a>() / 100.0f;</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> total_mult = light_mult * bench_mult * <a class="code hl_struct" href="structmorale__mult.html">morale_mult</a> * assist_mult * speed_mult;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span> </div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> remaining_percentage = 1.0 - <a class="code hl_function" href="namespaceiuse.html#a31feaa639847b8a1e5974e026eb785b5">craft</a>-&gt;item_counter / 10&#39;000&#39;000.0;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <span class="keywordtype">int</span> remaining_turns = remaining_percentage * base_total_moves / 100 / std::max( 0.01f, total_mult );</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    std::string time_desc = <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Time left: %s&quot;</span> ),</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>                                           <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">to_string</a>( <a class="code hl_function" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( remaining_turns ) ) );</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span> </div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <span class="keyword">const</span> std::array&lt;std::pair&lt;float, std::string&gt;, 6&gt; mults_with_data = {{</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>            { total_mult, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Total&quot;</span> ) },</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>            { speed_mult, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Speed&quot;</span> ) },</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>            { light_mult, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Light&quot;</span> ) },</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>            { bench_mult, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Workbench&quot;</span> ) },</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>            { <a class="code hl_struct" href="structmorale__mult.html">morale_mult</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Morale&quot;</span> ) },</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>            { assist_mult, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Assistants&quot;</span> ) },</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>        }</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    };</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    std::string mults_desc = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Crafting speed multipliers:\n&quot;</span> );</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="comment">// Hack to make sure total always shows</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;float, std::string&gt; &amp;p : mults_with_data ) {</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>        <span class="keywordtype">int</span> percent = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( p.first * 100 );</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>        <span class="keywordflow">if</span>( first || percent != 100 ) {</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>            <a class="code hl_class" href="classnc__color.html">nc_color</a> col = percent &gt; 100 ? <a class="code hl_define" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a> : <a class="code hl_define" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>;</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>            std::string colorized = <a class="code hl_function" href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a>( <a class="code hl_function" href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">std::to_string</a>( percent ) + <span class="charliteral">&#39;%&#39;</span>, col );</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>            mults_desc += <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s: %s\n&quot;</span> ), p.second, colorized );</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>        }</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>        first = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    }</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s: %s\n\n%s\n\n%s&quot;</span> ), <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.get_verb().translated(), <a class="code hl_function" href="namespaceiuse.html#a31feaa639847b8a1e5974e026eb785b5">craft</a>-&gt;tname(),</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>                          time_desc,</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>                          mults_desc );</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>}</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno"><a class="line" href="classplayer__activity.html#a3fbe0c1782ea56191fd7a02fb6bc8738">  180</a></span><a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;std::string&gt;</a> <a class="code hl_function" href="classplayer__activity.html#a3fbe0c1782ea56191fd7a02fb6bc8738">player_activity::get_progress_message</a>( <span class="keyword">const</span> <a class="code hl_class" href="classavatar.html">avatar</a> &amp;u )<span class="keyword"> const</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> || <a class="code hl_function" href="classplayer__activity.html#a5cb0c0038d5644696ece4789dd514c2a">get_verb</a>().empty() ) {</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;std::string&gt;</a>();</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    }</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span> </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a> ) {</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>        <a class="code hl_struct" href="structact__progress__message.html">act_progress_message</a> msg = <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a>-&gt;get_progress_message( *<span class="keyword">this</span>, u );</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>        <span class="keywordflow">if</span>( msg.<a class="code hl_variable" href="structact__progress__message.html#a5fb758afbe2339b265e1a44917c1ad08">implemented</a> ) {</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>            <span class="keywordflow">if</span>( msg.<a class="code hl_variable" href="structact__progress__message.html#a33a5507412488997b5a99d0c75940ac5">msg_full</a> ) {</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>                <span class="keywordflow">return</span> *msg.<a class="code hl_variable" href="structact__progress__message.html#a33a5507412488997b5a99d0c75940ac5">msg_full</a>;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( msg.<a class="code hl_variable" href="structact__progress__message.html#a0c30f43d7f5bc8d94b73d4efd4e9e5bd">msg_extra_info</a> ) {</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s: %s&quot;</span> ), <a class="code hl_function" href="classplayer__activity.html#a5cb0c0038d5644696ece4789dd514c2a">get_verb</a>().translated(), *msg.<a class="code hl_variable" href="structact__progress__message.html#a0c30f43d7f5bc8d94b73d4efd4e9e5bd">msg_extra_info</a> );</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>            }</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>        }</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    }</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span> </div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_ADV_INVENTORY&quot;</span> ) ||</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_AIM&quot;</span> ) ||</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_ARMOR_LAYERS&quot;</span> ) ||</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_ATM&quot;</span> ) ||</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_CONSUME_DRINK_MENU&quot;</span> ) ||</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_CONSUME_FOOD_MENU&quot;</span> ) ||</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_CONSUME_MEDS_MENU&quot;</span> ) ||</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_EAT_MENU&quot;</span> ) ) {</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    }</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    std::string extra_info;</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_CRAFT&quot;</span> ) ) {</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="player__activity_8cpp.html#a95360d3991a20508af04cf9afd413252">craft_progress_message</a>( u, *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_READ&quot;</span> ) ) {</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>        <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *book = <a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.front().get_item() ) {</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>            <span class="keywordflow">if</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;reading = book-&gt;type-&gt;book ) {</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>                <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">skill_id</a> &amp;skill = reading-&gt;skill;</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>                <span class="keywordflow">if</span>( skill &amp;&amp; u.<a class="code hl_function" href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">get_skill_level</a>( skill ) &lt; reading-&gt;level &amp;&amp;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>                    u.<a class="code hl_function" href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">get_skill_level_object</a>( skill ).<a class="code hl_function" href="classSkillLevel.html#a4de8923aafd85db2946ed9860874d660">can_train</a>() ) {</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>                    <span class="keyword">const</span> <a class="code hl_class" href="classSkillLevel.html">SkillLevel</a> &amp;skill_level = u.<a class="code hl_function" href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">get_skill_level_object</a>( skill );</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>                    <span class="comment">//~ skill_name current_skill_level -&gt; next_skill_level (% to next level)</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>                    extra_info = <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;reading progress&quot;</span>, <span class="stringliteral">&quot;%s %d -&gt; %d (%d%%)&quot;</span> ),</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>                                                skill.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_function" href="classSkill.html#a11c69074ce9b251983f170510808bd85">name</a>(),</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>                                                skill_level.<a class="code hl_function" href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">level</a>(),</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>                                                skill_level.<a class="code hl_function" href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">level</a>() + 1,</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>                                                skill_level.<a class="code hl_function" href="classSkillLevel.html#a79e3b6ce793c12b5de3e4029a5e40768">exercise</a>() );</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>                }</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>            }</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>        }</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#ab13abd6949ab1da7ac048abfb8f27baf">moves_total</a> &gt; 0 ) {</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_BURROW&quot;</span> ) ||</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_HACKSAW&quot;</span> ) ||</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_JACKHAMMER&quot;</span> ) ||</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_PICKAXE&quot;</span> ) ||</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_VEHICLE&quot;</span> ) ||</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_FILL_PIT&quot;</span> ) ||</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_DIG&quot;</span> ) ||</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_DIG_CHANNEL&quot;</span> ) ||</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_CHOP_TREE&quot;</span> ) ||</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_CHOP_LOGS&quot;</span> ) ||</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>            <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_CHOP_PLANKS&quot;</span> )</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>          ) {</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> percentage = ( ( <a class="code hl_variable" href="classplayer__activity.html#ab13abd6949ab1da7ac048abfb8f27baf">moves_total</a> - <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> ) * 100 ) / <a class="code hl_variable" href="classplayer__activity.html#ab13abd6949ab1da7ac048abfb8f27baf">moves_total</a>;</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span> </div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>            extra_info = <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%d%%&quot;</span>, percentage );</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>        }</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span> </div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_BUILD&quot;</span> ) ) {</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>            <a class="code hl_struct" href="structpartial__con.html">partial_con</a> *pc = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().<a class="code hl_function" href="classmap.html#ab39ceb8f855edf31f6af0fa91864048b">partial_con_at</a>( <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().getlocal( u.<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_variable" href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">placement</a> ) );</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>            <span class="keywordflow">if</span>( pc ) {</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>                <span class="keywordtype">int</span> counter = std::min( pc-&gt;<a class="code hl_variable" href="structpartial__con.html#a85b4cad2bfa67cb504ee89ca3129c17d">counter</a>, 10000000 );</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> percentage = counter / 100000;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span> </div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>                extra_info = <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <span class="stringliteral">&quot;%d%%&quot;</span>, percentage );</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>            }</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        }</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    }</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span> </div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    <span class="keywordflow">return</span> extra_info.empty() ? <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%sâ€¦&quot;</span> ),</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>            <a class="code hl_function" href="classplayer__activity.html#a5cb0c0038d5644696ece4789dd514c2a">get_verb</a>().translated() ) : <a class="code hl_function" href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s: %s&quot;</span> ),</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>                    <a class="code hl_function" href="classplayer__activity.html#a5cb0c0038d5644696ece4789dd514c2a">get_verb</a>().translated(), extra_info );</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>}</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span> </div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno"><a class="line" href="classplayer__activity.html#a7aa5e49ac08bb4440a4413f38134dedc">  263</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classplayer__activity.html#a7aa5e49ac08bb4440a4413f38134dedc">player_activity::start_or_resume</a>( <a class="code hl_class" href="classCharacter.html">Character</a> &amp;who, <span class="keywordtype">bool</span> resuming )</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>{</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a> &amp;&amp; !resuming ) {</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>        <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a>-&gt;start( *<span class="keyword">this</span>, who );</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    }</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classplayer__activity.html#a35ae80d8cdad27d0c568b85accf03745">rooted</a>() ) {</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>        who.<a class="code hl_function" href="classCharacter.html#a1e63260fe4977941254983ee15a528ea">rooted_message</a>();</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    }</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>}</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span> </div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno"><a class="line" href="classplayer__activity.html#aa7b51e8b4196e8b098f1c55c06c6e197">  273</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classplayer__activity.html#aa7b51e8b4196e8b098f1c55c06c6e197">player_activity::do_turn</a>( <a class="code hl_class" href="classplayer.html">player</a> &amp;p )</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>{</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <span class="comment">// Should happen before activity or it may fail du to 0 moves</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <span class="keywordflow">if</span>( *<span class="keyword">this</span> &amp;&amp; <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a28ce4287c06b4b532a5231f8fdef4da8">will_refuel_fires</a>() ) {</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>        <a class="code hl_function" href="activity__handlers_8h.html#a7a32ef665b942c94079f45593d021901">try_fuel_fire</a>( *<span class="keyword">this</span>, p );</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    }</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a>( 30_minutes ) ) {</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        <a class="code hl_variable" href="classplayer__activity.html#abbe541d0a0062c25ca2f3f8db10e9798">no_food_nearby_for_auto_consume</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>        <a class="code hl_variable" href="classplayer__activity.html#a0fd0176419e160cb65627895ea041722">no_drink_nearby_for_auto_consume</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    }</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    <span class="keywordflow">if</span>( *<span class="keyword">this</span> &amp;&amp; !p.<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() &amp;&amp; <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a11aacfbd78191ccc9556a6dbb23e1efb">valid_auto_needs</a>() &amp;&amp; !<a class="code hl_variable" href="classplayer__activity.html#abbe541d0a0062c25ca2f3f8db10e9798">no_food_nearby_for_auto_consume</a> ) {</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>        <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCharacter.html#a42c4ba47635e0659553c233c399da84a">get_kcal_percent</a>() &lt; 0.95f ) {</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="activity__handlers_8h.html#aab4d9965fb0cbf630cd17fd92ae115b1">find_auto_consume</a>( p, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>                <a class="code hl_variable" href="classplayer__activity.html#abbe541d0a0062c25ca2f3f8db10e9798">no_food_nearby_for_auto_consume</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>            }</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>        }</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>        <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCharacter.html#a7ca6c670844c9fd8c419c474788a7bf7">get_thirst</a>() &gt; <a class="code hl_enumvalue" href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa52def7c94d005c020297bef28628392a">thirst_levels::thirsty</a> &amp;&amp; !<a class="code hl_variable" href="classplayer__activity.html#a0fd0176419e160cb65627895ea041722">no_drink_nearby_for_auto_consume</a> ) {</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="activity__handlers_8h.html#aab4d9965fb0cbf630cd17fd92ae115b1">find_auto_consume</a>( p, <span class="keyword">false</span> ) ) {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>                <a class="code hl_variable" href="classplayer__activity.html#a0fd0176419e160cb65627895ea041722">no_drink_nearby_for_auto_consume</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>            }</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>        }</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    }</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a01147d9db2d1bf7fb13335f8a6c5670a">based_on</a>() == <a class="code hl_enumvalue" href="activity__type_8h.html#a8132e9b1ea024b8949e7825f8502a9b4a346ff32eaa3c09983fb2ec057816d352">based_on_type::TIME</a> ) {</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> &gt;= 100 ) {</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>            <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> -= 100;</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>            p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>            p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> * <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> / 100;</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>            <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> = 0;</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>        }</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a01147d9db2d1bf7fb13335f8a6c5670a">based_on</a>() == <a class="code hl_enumvalue" href="activity__type_8h.html#a8132e9b1ea024b8949e7825f8502a9b4a65a59338b99aee6a451e86b17b462b5a">based_on_type::SPEED</a> ) {</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>        <span class="keywordflow">if</span>( p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> &lt;= <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> ) {</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>            <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> -= p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a>;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>            p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>            p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a>;</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>            <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> = 0;</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        }</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    }</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    <span class="keywordtype">int</span> previous_stamina = p.<a class="code hl_function" href="classCharacter.html#a0ffe14df559cee6e9b5d02f5b214d009">get_stamina</a>();</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() &amp;&amp; p.<a class="code hl_function" href="classCharacter.html#a2b38269bfb5ffc4edef08f904bd487f6">check_outbounds_activity</a>( *<span class="keyword">this</span> ) ) {</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>        <span class="comment">// npc might be operating at the edge of the reality bubble.</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>        <span class="comment">// or just now reloaded back into it, and their activity target might</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>        <span class="comment">// be still unloaded, can cause infinite loops.</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>        <a class="code hl_function" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">set_to_null</a>();</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        p.<a class="code hl_function" href="classCharacter.html#aa342bc315f7b61074f2ac81217a2a0f5">drop_invalid_inventory</a>();</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    }</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> travel_activity = <a class="code hl_function" href="classplayer__activity.html#a316b1ded84b8c60b250ab06661f5bce5">id</a>() == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_TRAVELLING&quot;</span> );</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>    <span class="comment">// This might finish the activity (set it to null)</span></div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a> ) {</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>        <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a>-&gt;do_turn( *<span class="keyword">this</span>, p );</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>        <span class="comment">// Use the legacy turn function</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>        <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a3f83e1a21e15b9a36bb2ffe9c1c96b90">call_do_turn</a>( <span class="keyword">this</span>, &amp;p );</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>    }</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>    <span class="comment">// Activities should never excessively drain stamina.</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    <span class="comment">// adjusted stamina because</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    <span class="comment">// autotravel doesn&#39;t reduce stamina after do_turn()</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <span class="comment">// it just sets a destination, clears the activity, then moves afterwards</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <span class="comment">// so set stamina -1 if that is the case</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <span class="comment">// to simulate that the next step will surely use up some stamina anyway</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <span class="comment">// this is to ensure that resting will occur when traveling overburdened</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> adjusted_stamina = travel_activity ? p.<a class="code hl_function" href="classCharacter.html#a0ffe14df559cee6e9b5d02f5b214d009">get_stamina</a>() - 1 : p.<a class="code hl_function" href="classCharacter.html#a0ffe14df559cee6e9b5d02f5b214d009">get_stamina</a>();</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <span class="keywordflow">if</span>( adjusted_stamina &lt; previous_stamina &amp;&amp; p.<a class="code hl_function" href="classCharacter.html#a0ffe14df559cee6e9b5d02f5b214d009">get_stamina</a>() &lt; p.<a class="code hl_function" href="classCharacter.html#aefe5432750eb1c2c65fea628fd9878a7">get_stamina_max</a>() / 3 ) {</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 50 ) ) {</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>            p.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You pause for a moment to catch your breath.&quot;</span> ) );</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>        }</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>        <a class="code hl_variable" href="classplayer__activity.html#a7009e282d5300da78140ba918c5bca18">auto_resume</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>        <a class="code hl_class" href="classplayer__activity.html">player_activity</a> new_act( <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_WAIT_STAMINA&quot;</span> ), to_moves&lt;int&gt;( 1_minutes ) );</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        new_act.<a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.push_back( 200 + p.<a class="code hl_function" href="classCharacter.html#aefe5432750eb1c2c65fea628fd9878a7">get_stamina_max</a>() / 3 );</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>        p.<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( new_act );</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    }</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    <span class="keywordflow">if</span>( *<span class="keyword">this</span> &amp;&amp; <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a8c7737b83f50f87dbc1e0c4a920f8834">rooted</a>() ) {</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>        p.<a class="code hl_function" href="classCharacter.html#ab37374ceb3147c0841a71a9244faab6e">rooted</a>();</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>        <a class="code hl_function" href="namespacecharacter__funcs.html#a8b6391933c53c0461e4e64fa9930d472">character_funcs::do_pause</a>( p );</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    }</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span> </div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    <span class="keywordflow">if</span>( *<span class="keyword">this</span> &amp;&amp; <a class="code hl_variable" href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">moves_left</a> &lt;= 0 ) {</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>        <span class="comment">// Note: For some activities &quot;finish&quot; is a misnomer; that&#39;s why we explicitly check if the</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>        <span class="comment">// type is ACT_NULL below.</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a> ) {</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>            <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a>-&gt;finish( *<span class="keyword">this</span>, p );</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>            <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a96a74ec754eb8c2f48873a26429e6173">call_finish</a>( <span class="keyword">this</span>, &amp;p ) ) {</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>                <span class="comment">// &quot;Finish&quot; is never a misnomer for any activity without a finish function</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>                <a class="code hl_function" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">set_to_null</a>();</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>            }</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>        }</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    }</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    <span class="keywordflow">if</span>( !*<span class="keyword">this</span> ) {</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>        <span class="comment">// Make sure data of previous activity is cleared</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>        p.<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a> = <a class="code hl_function" href="classplayer__activity.html#a158270689df786c1d7813a7f50dcadda">player_activity</a>();</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>        p.<a class="code hl_function" href="classCharacter.html#ab0a16a221b42885b3a0cb4a774b592e5">resume_backlog_activity</a>();</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span> </div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>        <span class="comment">// If whatever activity we were doing forced us to pick something up to</span></div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>        <span class="comment">// handle it, drop any overflow that may have caused</span></div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>        p.<a class="code hl_function" href="classCharacter.html#aa342bc315f7b61074f2ac81217a2a0f5">drop_invalid_inventory</a>();</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    }</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>}</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span> </div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno"><a class="line" href="classplayer__activity.html#a547e7433a50fe7dab19faa1a110c9ac0">  375</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classplayer__activity.html#a547e7433a50fe7dab19faa1a110c9ac0">player_activity::canceled</a>( <a class="code hl_class" href="classCharacter.html">Character</a> &amp;who )</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>{</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    <span class="keywordflow">if</span>( *<span class="keyword">this</span> &amp;&amp; <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a> ) {</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>        <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a>-&gt;canceled( *<span class="keyword">this</span>, who );</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    }</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>}</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span> </div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno"><a class="line" href="player__activity_8cpp.html#a68ba29f65d9d733261f3171403e4029a">  383</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="player__activity_8cpp.html#a68ba29f65d9d733261f3171403e4029a">containers_equal</a>( <span class="keyword">const</span> T &amp;left, <span class="keyword">const</span> T &amp;<a class="code hl_enumvalue" href="namespacealign.html#aff2772e23f6ac91520e57d4b3ac0c759a5bf95244357d6164916bfe6e0ccfbc79">right</a> )</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>{</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <span class="keywordflow">if</span>( left.size() != <a class="code hl_enumvalue" href="namespacealign.html#aff2772e23f6ac91520e57d4b3ac0c759a5bf95244357d6164916bfe6e0ccfbc79">right</a>.size() ) {</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    }</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <span class="keywordflow">return</span> std::equal( left.begin(), left.end(), <a class="code hl_enumvalue" href="namespacealign.html#aff2772e23f6ac91520e57d4b3ac0c759a5bf95244357d6164916bfe6e0ccfbc79">right</a>.begin() );</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>}</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span> </div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno"><a class="line" href="classplayer__activity.html#abecfb3ed21a7ab0d7ac168ae9fc135e1">  392</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classplayer__activity.html#abecfb3ed21a7ab0d7ac168ae9fc135e1">player_activity::can_resume_with</a>( <span class="keyword">const</span> <a class="code hl_class" href="classplayer__activity.html">player_activity</a> &amp;other, <span class="keyword">const</span> <a class="code hl_class" href="classCharacter.html">Character</a> &amp;who )<span class="keyword"> const</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    <span class="comment">// Should be used for relative positions</span></div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <span class="comment">// And to forbid resuming now-invalid crafting</span></div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span> </div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    <span class="keywordflow">if</span>( !*<span class="keyword">this</span> || !<a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> || <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a>-&gt;<a class="code hl_function" href="classactivity__type.html#a31c383e5dc81ad4df044ea97b7766224">no_resume</a>() ) {</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    }</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span> </div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    <span class="keywordflow">if</span>( <span class="keywordtype">id</span>() != <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.id() ) {</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    }</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span> </div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    <span class="comment">// if actor XOR other.actor then id() != other.id() so</span></div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    <span class="comment">// we will correctly return false based on final return statement</span></div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a> &amp;&amp; <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.actor ) {</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">actor</a>-&gt;can_resume_with( *<a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.actor, who );</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>    }</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span> </div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>    <span class="keywordflow">if</span>( <span class="keywordtype">id</span>() == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_CLEAR_RUBBLE&quot;</span> ) ) {</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.coords.empty() || <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.coords[0] != <a class="code hl_namespace" href="namespacecoords.html">coords</a>[0] ) {</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>        }</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span>() == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_READ&quot;</span> ) ) {</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>        <span class="comment">// Return false if any NPCs joined or left the study session</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>        <span class="comment">// the vector {1, 2} != {2, 1}, so we&#39;ll have to check manually</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.size() != <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.values.size() ) {</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>        }</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> foo : <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.values ) {</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.begin(), <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.end(), foo ) == <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a>.end() ) {</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>            }</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>        }</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>.empty() || <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.targets.empty() || <a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a>[0] != <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.targets[0] ) {</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>        }</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <span class="keywordtype">id</span>() == <a class="code hl_typedef" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>( <span class="stringliteral">&quot;ACT_VEHICLE&quot;</span> ) ) {</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">values</a> != <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.values || <a class="code hl_variable" href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">str_values</a> != <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.str_values ) {</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>        }</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    }</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span> </div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <span class="keywordflow">return</span> !<a class="code hl_variable" href="classplayer__activity.html#a7009e282d5300da78140ba918c5bca18">auto_resume</a> &amp;&amp; <a class="code hl_variable" href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">index</a> == <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.index &amp;&amp;</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>           <a class="code hl_variable" href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">position</a> == <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.position &amp;&amp; <a class="code hl_variable" href="classplayer__activity.html#a878a082cf9150511f6ab911b3c9d30aa">name</a> == <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.name &amp;&amp; <a class="code hl_variable" href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">targets</a> == <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.targets;</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>}</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span> </div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno"><a class="line" href="classplayer__activity.html#a0d9fae80ac3076d0a2818e171ae34ea1">  439</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classplayer__activity.html#a0d9fae80ac3076d0a2818e171ae34ea1">player_activity::is_distraction_ignored</a>( <a class="code hl_enumeration" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96">distraction_type</a> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> )<span class="keyword"> const</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>    <span class="keywordflow">return</span> ( <a class="code hl_function" href="distraction__manager_8cpp.html#a01080ef17868a32432d1d01959cc2c14">get_distraction_manager</a>().is_ignored( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> ) ||</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>             <a class="code hl_variable" href="classplayer__activity.html#a4eab8695ac70dd05d49d0a874064b0b2">ignored_distractions</a>.find( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> ) != <a class="code hl_variable" href="classplayer__activity.html#a4eab8695ac70dd05d49d0a874064b0b2">ignored_distractions</a>.end() );</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>}</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span> </div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno"><a class="line" href="classplayer__activity.html#ae7eb73e1613215c4508b0345de0303f7">  445</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classplayer__activity.html#ae7eb73e1613215c4508b0345de0303f7">player_activity::ignore_distraction</a>( <a class="code hl_enumeration" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96">distraction_type</a> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> )</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>{</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    <a class="code hl_variable" href="classplayer__activity.html#a4eab8695ac70dd05d49d0a874064b0b2">ignored_distractions</a>.emplace( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> );</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>}</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span> </div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno"><a class="line" href="classplayer__activity.html#a061614065397a1fd52cfd6e934606f51">  450</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classplayer__activity.html#a061614065397a1fd52cfd6e934606f51">player_activity::allow_distractions</a>()</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>{</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>    <a class="code hl_variable" href="classplayer__activity.html#a4eab8695ac70dd05d49d0a874064b0b2">ignored_distractions</a>.clear();</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>}</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span> </div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno"><a class="line" href="classplayer__activity.html#acb34f48d1d26a1fd6081edc929265609">  455</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classplayer__activity.html#acb34f48d1d26a1fd6081edc929265609">player_activity::inherit_distractions</a>( <span class="keyword">const</span> <a class="code hl_class" href="classplayer__activity.html">player_activity</a> &amp;other )</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>{</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> : <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.ignored_distractions ) {</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>        <a class="code hl_function" href="classplayer__activity.html#ae7eb73e1613215c4508b0345de0303f7">ignore_distraction</a>( <a class="code hl_variable" href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">type</a> );</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>    }</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>}</div>
<div class="ttc" id="aactivity__actor_8h_html"><div class="ttname"><a href="activity__actor_8h.html">activity_actor.h</a></div></div>
<div class="ttc" id="aactivity__handlers_8h_html"><div class="ttname"><a href="activity__handlers_8h.html">activity_handlers.h</a></div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a7a32ef665b942c94079f45593d021901"><div class="ttname"><a href="activity__handlers_8h.html#a7a32ef665b942c94079f45593d021901">try_fuel_fire</a></div><div class="ttdeci">void try_fuel_fire(player_activity &amp;act, player &amp;p, bool starting_fire=false)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l03241">activity_item_handling.cpp:3241</a></div></div>
<div class="ttc" id="aactivity__handlers_8h_html_aab4d9965fb0cbf630cd17fd92ae115b1"><div class="ttname"><a href="activity__handlers_8h.html#aab4d9965fb0cbf630cd17fd92ae115b1">find_auto_consume</a></div><div class="ttdeci">bool find_auto_consume(player &amp;p, bool food)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l03136">activity_item_handling.cpp:3136</a></div></div>
<div class="ttc" id="aactivity__type_8h_html"><div class="ttname"><a href="activity__type_8h.html">activity_type.h</a></div></div>
<div class="ttc" id="aactivity__type_8h_html_a61b219d1f1a69a8d5e8af6b500f09354"><div class="ttname"><a href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a></div><div class="ttdeci">string_id&lt; activity_type &gt; activity_id</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00015">activity_type.h:15</a></div></div>
<div class="ttc" id="aactivity__type_8h_html_a8132e9b1ea024b8949e7825f8502a9b4a346ff32eaa3c09983fb2ec057816d352"><div class="ttname"><a href="activity__type_8h.html#a8132e9b1ea024b8949e7825f8502a9b4a346ff32eaa3c09983fb2ec057816d352">based_on_type::TIME</a></div><div class="ttdeci">@ TIME</div></div>
<div class="ttc" id="aactivity__type_8h_html_a8132e9b1ea024b8949e7825f8502a9b4a65a59338b99aee6a451e86b17b462b5a"><div class="ttname"><a href="activity__type_8h.html#a8132e9b1ea024b8949e7825f8502a9b4a65a59338b99aee6a451e86b17b462b5a">based_on_type::SPEED</a></div><div class="ttdeci">@ SPEED</div></div>
<div class="ttc" id="aavatar_8h_html"><div class="ttname"><a href="avatar_8h.html">avatar.h</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_aeb989652ea2bf7fd03b07a74fd30bd7a"><div class="ttname"><a href="calendar_8cpp.html#aeb989652ea2bf7fd03b07a74fd30bd7a">to_string</a></div><div class="ttdeci">std::string to_string(const time_duration &amp;d)</div><div class="ttdoc">Returns a string showing a duration.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00327">calendar.cpp:327</a></div></div>
<div class="ttc" id="acalendar_8h_html"><div class="ttname"><a href="calendar_8h.html">calendar.h</a></div></div>
<div class="ttc" id="acharacter_8h_html"><div class="ttname"><a href="character_8h.html">character.h</a></div></div>
<div class="ttc" id="acharacter_8h_html_a2e6af65e94e820564fb484840378cf4aa52def7c94d005c020297bef28628392a"><div class="ttname"><a href="character_8h.html#a2e6af65e94e820564fb484840378cf4aa52def7c94d005c020297bef28628392a">thirst_levels::thirsty</a></div><div class="ttdeci">@ thirsty</div></div>
<div class="ttc" id="acharacter_8h_html_a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf"><div class="ttname"><a href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">rechargeable_cbm::other</a></div><div class="ttdeci">@ other</div></div>
<div class="ttc" id="acharacter__turn_8h_html"><div class="ttname"><a href="character__turn_8h.html">character_turn.h</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00217">character.h:218</a></div></div>
<div class="ttc" id="aclassCharacter_html_a0ffe14df559cee6e9b5d02f5b214d009"><div class="ttname"><a href="classCharacter.html#a0ffe14df559cee6e9b5d02f5b214d009">Character::get_stamina</a></div><div class="ttdeci">int get_stamina() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06958">character.cpp:6958</a></div></div>
<div class="ttc" id="aclassCharacter_html_a1e63260fe4977941254983ee15a528ea"><div class="ttname"><a href="classCharacter.html#a1e63260fe4977941254983ee15a528ea">Character::rooted_message</a></div><div class="ttdeci">void rooted_message() const</div><div class="ttdoc">Handles rooting effects.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08568">character.cpp:8568</a></div></div>
<div class="ttc" id="aclassCharacter_html_a20839520f569c4f05876a55e89f67361"><div class="ttname"><a href="classCharacter.html#a20839520f569c4f05876a55e89f67361">Character::activity</a></div><div class="ttdeci">player_activity activity</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01510">character.h:1510</a></div></div>
<div class="ttc" id="aclassCharacter_html_a2726ac089fa49e864b486e289f53fade"><div class="ttname"><a href="classCharacter.html#a2726ac089fa49e864b486e289f53fade">Character::get_skill_level_object</a></div><div class="ttdeci">SkillLevel &amp; get_skill_level_object(const skill_id &amp;ident)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03263">character.cpp:3263</a></div></div>
<div class="ttc" id="aclassCharacter_html_a2b38269bfb5ffc4edef08f904bd487f6"><div class="ttname"><a href="classCharacter.html#a2b38269bfb5ffc4edef08f904bd487f6">Character::check_outbounds_activity</a></div><div class="ttdeci">bool check_outbounds_activity(const player_activity &amp;act, bool check_only=false)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00906">character.cpp:906</a></div></div>
<div class="ttc" id="aclassCharacter_html_a42c4ba47635e0659553c233c399da84a"><div class="ttname"><a href="classCharacter.html#a42c4ba47635e0659553c233c399da84a">Character::get_kcal_percent</a></div><div class="ttdeci">float get_kcal_percent() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04179">character.cpp:4179</a></div></div>
<div class="ttc" id="aclassCharacter_html_a654ed96afe759517e0bf1a31c7a3ea11"><div class="ttname"><a href="classCharacter.html#a654ed96afe759517e0bf1a31c7a3ea11">Character::i_at</a></div><div class="ttdeci">item &amp; i_at(int position)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02309">character.cpp:2309</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7ca6c670844c9fd8c419c474788a7bf7"><div class="ttname"><a href="classCharacter.html#a7ca6c670844c9fd8c419c474788a7bf7">Character::get_thirst</a></div><div class="ttdeci">int get_thirst() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04184">character.cpp:4184</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa342bc315f7b61074f2ac81217a2a0f5"><div class="ttname"><a href="classCharacter.html#aa342bc315f7b61074f2ac81217a2a0f5">Character::drop_invalid_inventory</a></div><div class="ttdeci">void drop_invalid_inventory()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03110">character.cpp:3110</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab0a16a221b42885b3a0cb4a774b592e5"><div class="ttname"><a href="classCharacter.html#ab0a16a221b42885b3a0cb4a774b592e5">Character::resume_backlog_activity</a></div><div class="ttdeci">void resume_backlog_activity()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09000">character.cpp:9000</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab37374ceb3147c0841a71a9244faab6e"><div class="ttname"><a href="classCharacter.html#ab37374ceb3147c0841a71a9244faab6e">Character::rooted</a></div><div class="ttdeci">void rooted()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08578">character.cpp:8578</a></div></div>
<div class="ttc" id="aclassCharacter_html_aedc66fc50d352420cae7791b4a0f57f7"><div class="ttname"><a href="classCharacter.html#aedc66fc50d352420cae7791b4a0f57f7">Character::get_speed</a></div><div class="ttdeci">int get_speed() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03981">character.cpp:3981</a></div></div>
<div class="ttc" id="aclassCharacter_html_aefe5432750eb1c2c65fea628fd9878a7"><div class="ttname"><a href="classCharacter.html#aefe5432750eb1c2c65fea628fd9878a7">Character::get_stamina_max</a></div><div class="ttdeci">int get_stamina_max() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l06963">character.cpp:6963</a></div></div>
<div class="ttc" id="aclassCharacter_html_af7d50915d362a56eeff40bc6b392326d"><div class="ttname"><a href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">Character::assign_activity</a></div><div class="ttdeci">void assign_activity(const activity_id &amp;type, int moves=calendar::INDEFINITELY_LONG, int index=-1, int pos=INT_MIN, const std::string &amp;name=&quot;&quot;)</div><div class="ttdoc">Legacy activity assignment, does not work for any activites using the new activity_actor class and ma...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l08925">character.cpp:8925</a></div></div>
<div class="ttc" id="aclassCharacter_html_afa95fe499ca6b55ab97f1b442a4c95c5"><div class="ttname"><a href="classCharacter.html#afa95fe499ca6b55ab97f1b442a4c95c5">Character::get_skill_level</a></div><div class="ttdeci">int get_skill_level(const skill_id &amp;ident) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l03268">character.cpp:3268</a></div></div>
<div class="ttc" id="aclassCreature_html_a8c5a392caa213bee9581b47e9f0e2052"><div class="ttname"><a href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">Creature::moves</a></div><div class="ttdeci">int moves</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00570">creature.h:570</a></div></div>
<div class="ttc" id="aclassSkillLevel_html"><div class="ttname"><a href="classSkillLevel.html">SkillLevel</a></div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00106">skill.h:107</a></div></div>
<div class="ttc" id="aclassSkillLevel_html_a28763c074460e59ab2851ab31f9e2a3c"><div class="ttname"><a href="classSkillLevel.html#a28763c074460e59ab2851ab31f9e2a3c">SkillLevel::level</a></div><div class="ttdeci">int level() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00125">skill.h:125</a></div></div>
<div class="ttc" id="aclassSkillLevel_html_a4de8923aafd85db2946ed9860874d660"><div class="ttname"><a href="classSkillLevel.html#a4de8923aafd85db2946ed9860874d660">SkillLevel::can_train</a></div><div class="ttdeci">bool can_train() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8cpp_source.html#l00311">skill.cpp:311</a></div></div>
<div class="ttc" id="aclassSkillLevel_html_a79e3b6ce793c12b5de3e4029a5e40768"><div class="ttname"><a href="classSkillLevel.html#a79e3b6ce793c12b5de3e4029a5e40768">SkillLevel::exercise</a></div><div class="ttdeci">int exercise(bool raw=false) const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00140">skill.h:140</a></div></div>
<div class="ttc" id="aclassSkill_html_a11c69074ce9b251983f170510808bd85"><div class="ttname"><a href="classSkill.html#a11c69074ce9b251983f170510808bd85">Skill::name</a></div><div class="ttdeci">std::string name() const</div><div class="ttdef"><b>Definition:</b> <a href="skill_8h_source.html#l00068">skill.h:68</a></div></div>
<div class="ttc" id="aclassactivity__actor_html"><div class="ttname"><a href="classactivity__actor.html">activity_actor</a></div><div class="ttdef"><b>Definition:</b> <a href="activity__actor_8h_source.html#l00054">activity_actor.h:55</a></div></div>
<div class="ttc" id="aclassactivity__type_html_a01147d9db2d1bf7fb13335f8a6c5670a"><div class="ttname"><a href="classactivity__type.html#a01147d9db2d1bf7fb13335f8a6c5670a">activity_type::based_on</a></div><div class="ttdeci">based_on_type based_on() const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00055">activity_type.h:55</a></div></div>
<div class="ttc" id="aclassactivity__type_html_a11aacfbd78191ccc9556a6dbb23e1efb"><div class="ttname"><a href="classactivity__type.html#a11aacfbd78191ccc9556a6dbb23e1efb">activity_type::valid_auto_needs</a></div><div class="ttdeci">bool valid_auto_needs() const</div><div class="ttdoc">If true, player will automatically consume from relevant auto-eat/drink zones during activity.</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00073">activity_type.h:73</a></div></div>
<div class="ttc" id="aclassactivity__type_html_a28ce4287c06b4b532a5231f8fdef4da8"><div class="ttname"><a href="classactivity__type.html#a28ce4287c06b4b532a5231f8fdef4da8">activity_type::will_refuel_fires</a></div><div class="ttdeci">bool will_refuel_fires() const</div><div class="ttdoc">If true, player will refuel one adjacent fire if there is firewood spot adjacent.</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00067">activity_type.h:67</a></div></div>
<div class="ttc" id="aclassactivity__type_html_a31c383e5dc81ad4df044ea97b7766224"><div class="ttname"><a href="classactivity__type.html#a31c383e5dc81ad4df044ea97b7766224">activity_type::no_resume</a></div><div class="ttdeci">bool no_resume() const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00058">activity_type.h:58</a></div></div>
<div class="ttc" id="aclassactivity__type_html_a3f83e1a21e15b9a36bb2ffe9c1c96b90"><div class="ttname"><a href="classactivity__type.html#a3f83e1a21e15b9a36bb2ffe9c1c96b90">activity_type::call_do_turn</a></div><div class="ttdeci">void call_do_turn(player_activity *, player *) const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8cpp_source.html#l00096">activity_type.cpp:96</a></div></div>
<div class="ttc" id="aclassactivity__type_html_a54a8507ca430b5e4673d376790928459"><div class="ttname"><a href="classactivity__type.html#a54a8507ca430b5e4673d376790928459">activity_type::suspendable</a></div><div class="ttdeci">bool suspendable() const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00048">activity_type.h:48</a></div></div>
<div class="ttc" id="aclassactivity__type_html_a895de2408ed81a8aaa60df8e2e64265e"><div class="ttname"><a href="classactivity__type.html#a895de2408ed81a8aaa60df8e2e64265e">activity_type::verb</a></div><div class="ttdeci">const translation &amp; verb() const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00052">activity_type.h:52</a></div></div>
<div class="ttc" id="aclassactivity__type_html_a8c7737b83f50f87dbc1e0c4a920f8834"><div class="ttname"><a href="classactivity__type.html#a8c7737b83f50f87dbc1e0c4a920f8834">activity_type::rooted</a></div><div class="ttdeci">bool rooted() const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00045">activity_type.h:45</a></div></div>
<div class="ttc" id="aclassactivity__type_html_a96a74ec754eb8c2f48873a26429e6173"><div class="ttname"><a href="classactivity__type.html#a96a74ec754eb8c2f48873a26429e6173">activity_type::call_finish</a></div><div class="ttdeci">bool call_finish(player_activity *, player *) const</div><div class="ttdoc">Returns whether it had a finish function or not.</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8cpp_source.html#l00104">activity_type.cpp:104</a></div></div>
<div class="ttc" id="aclassactivity__type_html_aa5ac16650391c20842e0f091df5c3e05"><div class="ttname"><a href="classactivity__type.html#aa5ac16650391c20842e0f091df5c3e05">activity_type::multi_activity</a></div><div class="ttdeci">bool multi_activity() const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8h_source.html#l00061">activity_type.h:61</a></div></div>
<div class="ttc" id="aclassactivity__type_html_ad92938fe43dae0b166b017a0d4afde61"><div class="ttname"><a href="classactivity__type.html#ad92938fe43dae0b166b017a0d4afde61">activity_type::stop_phrase</a></div><div class="ttdeci">std::string stop_phrase() const</div><div class="ttdef"><b>Definition:</b> <a href="activity__type_8cpp_source.html#l00121">activity_type.cpp:121</a></div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00054">avatar.h:55</a></div></div>
<div class="ttc" id="aclasscata_1_1optional_html"><div class="ttname"><a href="classcata_1_1optional.html">cata::optional</a></div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00030">optional.h:31</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00022">item_location.h:23</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00178">item.h:179</a></div></div>
<div class="ttc" id="aclassmap_html_ab39ceb8f855edf31f6af0fa91864048b"><div class="ttname"><a href="classmap.html#ab39ceb8f855edf31f6af0fa91864048b">map::partial_con_at</a></div><div class="ttdeci">partial_con * partial_con_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05155">map.cpp:5155</a></div></div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00348">color.h:349</a></div></div>
<div class="ttc" id="aclassplayer__activity_html"><div class="ttname"><a href="classplayer__activity.html">player_activity</a></div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00031">player_activity.h:32</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a061614065397a1fd52cfd6e934606f51"><div class="ttname"><a href="classplayer__activity.html#a061614065397a1fd52cfd6e934606f51">player_activity::allow_distractions</a></div><div class="ttdeci">void allow_distractions()</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00450">player_activity.cpp:450</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a0d9fae80ac3076d0a2818e171ae34ea1"><div class="ttname"><a href="classplayer__activity.html#a0d9fae80ac3076d0a2818e171ae34ea1">player_activity::is_distraction_ignored</a></div><div class="ttdeci">bool is_distraction_ignored(distraction_type type) const</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00439">player_activity.cpp:439</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a0e540c5f23a3578093669cf0d62e3e42"><div class="ttname"><a href="classplayer__activity.html#a0e540c5f23a3578093669cf0d62e3e42">player_activity::type</a></div><div class="ttdeci">activity_id type</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00034">player_activity.h:34</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a0f57b22b4b9af424c55ef8d2610c76aa"><div class="ttname"><a href="classplayer__activity.html#a0f57b22b4b9af424c55ef8d2610c76aa">player_activity::get_stop_phrase</a></div><div class="ttdeci">std::string get_stop_phrase() const</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00092">player_activity.cpp:92</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a0fd0176419e160cb65627895ea041722"><div class="ttname"><a href="classplayer__activity.html#a0fd0176419e160cb65627895ea041722">player_activity::no_drink_nearby_for_auto_consume</a></div><div class="ttdeci">bool no_drink_nearby_for_auto_consume</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00064">player_activity.h:64</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a158270689df786c1d7813a7f50dcadda"><div class="ttname"><a href="classplayer__activity.html#a158270689df786c1d7813a7f50dcadda">player_activity::player_activity</a></div><div class="ttdeci">player_activity()</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00045">player_activity.cpp:45</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a1b2c5a44b184330e2384906fe0727210"><div class="ttname"><a href="classplayer__activity.html#a1b2c5a44b184330e2384906fe0727210">player_activity::str_values</a></div><div class="ttdeci">std::vector&lt; std::string &gt; str_values</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00058">player_activity.h:58</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a316b1ded84b8c60b250ab06661f5bce5"><div class="ttname"><a href="classplayer__activity.html#a316b1ded84b8c60b250ab06661f5bce5">player_activity::id</a></div><div class="ttdeci">const activity_id &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00097">player_activity.h:97</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a35ae80d8cdad27d0c568b85accf03745"><div class="ttname"><a href="classplayer__activity.html#a35ae80d8cdad27d0c568b85accf03745">player_activity::rooted</a></div><div class="ttdeci">bool rooted() const</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00087">player_activity.cpp:87</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a3a477cad2588badd9c96627a91f5eb61"><div class="ttname"><a href="classplayer__activity.html#a3a477cad2588badd9c96627a91f5eb61">player_activity::moves_left</a></div><div class="ttdeci">int moves_left</div><div class="ttdoc">The number of moves remaining in this activity before it is complete.</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00043">player_activity.h:43</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a3c0f4901d647d15e63531cf1091daf19"><div class="ttname"><a href="classplayer__activity.html#a3c0f4901d647d15e63531cf1091daf19">player_activity::position</a></div><div class="ttdeci">int position</div><div class="ttdoc">An activity specific value.</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00054">player_activity.h:54</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a3fbe0c1782ea56191fd7a02fb6bc8738"><div class="ttname"><a href="classplayer__activity.html#a3fbe0c1782ea56191fd7a02fb6bc8738">player_activity::get_progress_message</a></div><div class="ttdeci">cata::optional&lt; std::string &gt; get_progress_message(const avatar &amp;u) const</div><div class="ttdoc">Helper that returns an activity specific progress message.</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00180">player_activity.cpp:180</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a4eab8695ac70dd05d49d0a874064b0b2"><div class="ttname"><a href="classplayer__activity.html#a4eab8695ac70dd05d49d0a874064b0b2">player_activity::ignored_distractions</a></div><div class="ttdeci">std::set&lt; distraction_type &gt; ignored_distractions</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00037">player_activity.h:37</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a547e7433a50fe7dab19faa1a110c9ac0"><div class="ttname"><a href="classplayer__activity.html#a547e7433a50fe7dab19faa1a110c9ac0">player_activity::canceled</a></div><div class="ttdeci">void canceled(Character &amp;who)</div><div class="ttdoc">Performs activity-specific cleanup when Character::cancel_activity() is called.</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00375">player_activity.cpp:375</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a5cb0c0038d5644696ece4789dd514c2a"><div class="ttname"><a href="classplayer__activity.html#a5cb0c0038d5644696ece4789dd514c2a">player_activity::get_verb</a></div><div class="ttdeci">const translation &amp; get_verb() const</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00097">player_activity.cpp:97</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a5ef77d9119c52f4a8a59b1d10efc76b3"><div class="ttname"><a href="classplayer__activity.html#a5ef77d9119c52f4a8a59b1d10efc76b3">player_activity::actor</a></div><div class="ttdeci">cata::clone_ptr&lt; activity_actor &gt; actor</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00035">player_activity.h:35</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a5fdeb1c50af92421688a5a28157856ea"><div class="ttname"><a href="classplayer__activity.html#a5fdeb1c50af92421688a5a28157856ea">player_activity::migrate_item_position</a></div><div class="ttdeci">void migrate_item_position(Character &amp;guy)</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00063">player_activity.cpp:63</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a6d8cbb948cfc71aae1198f5ca0db7dd1"><div class="ttname"><a href="classplayer__activity.html#a6d8cbb948cfc71aae1198f5ca0db7dd1">player_activity::is_suspendable</a></div><div class="ttdeci">bool is_suspendable() const</div><div class="ttdoc">If this returns true, the action can be continued without starting from scratch again (see player::ba...</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00107">player_activity.cpp:107</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a7009e282d5300da78140ba918c5bca18"><div class="ttname"><a href="classplayer__activity.html#a7009e282d5300da78140ba918c5bca18">player_activity::auto_resume</a></div><div class="ttdeci">bool auto_resume</div><div class="ttdoc">If true, the activity will be auto-resumed next time the player attempts an identical activity.</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00069">player_activity.h:69</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a765ca7b3410253c05939a8c1f1999c4a"><div class="ttname"><a href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">player_activity::set_to_null</a></div><div class="ttdeci">void set_to_null()</div><div class="ttdoc">This replaces the former usage act.type = ACT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00081">player_activity.cpp:81</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a7aa5e49ac08bb4440a4413f38134dedc"><div class="ttname"><a href="classplayer__activity.html#a7aa5e49ac08bb4440a4413f38134dedc">player_activity::start_or_resume</a></div><div class="ttdeci">void start_or_resume(Character &amp;who, bool resuming)</div><div class="ttdoc">Preform necessary initialization to start or resume the activity.</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00263">player_activity.cpp:263</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a878a082cf9150511f6ab911b3c9d30aa"><div class="ttname"><a href="classplayer__activity.html#a878a082cf9150511f6ab911b3c9d30aa">player_activity::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00055">player_activity.h:55</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a8fb5e5e8822200169cf87488aa8a9b83"><div class="ttname"><a href="classplayer__activity.html#a8fb5e5e8822200169cf87488aa8a9b83">player_activity::~player_activity</a></div><div class="ttdeci">~player_activity()</div></div>
<div class="ttc" id="aclassplayer__activity_html_a979cd5aca677ff30dcbb767d4a3980d2"><div class="ttname"><a href="classplayer__activity.html#a979cd5aca677ff30dcbb767d4a3980d2">player_activity::targets</a></div><div class="ttdeci">std::vector&lt; item_location &gt; targets</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00056">player_activity.h:56</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_aa7b51e8b4196e8b098f1c55c06c6e197"><div class="ttname"><a href="classplayer__activity.html#aa7b51e8b4196e8b098f1c55c06c6e197">player_activity::do_turn</a></div><div class="ttdeci">void do_turn(player &amp;p)</div><div class="ttdoc">Performs the activity for a single turn.</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00273">player_activity.cpp:273</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_aab3f4af03e8a3be4f8c97af561e8ffeb"><div class="ttname"><a href="classplayer__activity.html#aab3f4af03e8a3be4f8c97af561e8ffeb">player_activity::get_str_value</a></div><div class="ttdeci">std::string get_str_value(size_t index, const std::string &amp;def=&quot;&quot;) const</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00117">player_activity.cpp:117</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_ab13abd6949ab1da7ac048abfb8f27baf"><div class="ttname"><a href="classplayer__activity.html#ab13abd6949ab1da7ac048abfb8f27baf">player_activity::moves_total</a></div><div class="ttdeci">int moves_total</div><div class="ttdoc">Total number of moves required to complete the activity.</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00041">player_activity.h:41</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_abbe541d0a0062c25ca2f3f8db10e9798"><div class="ttname"><a href="classplayer__activity.html#abbe541d0a0062c25ca2f3f8db10e9798">player_activity::no_food_nearby_for_auto_consume</a></div><div class="ttdeci">bool no_food_nearby_for_auto_consume</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00065">player_activity.h:65</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_abecfb3ed21a7ab0d7ac168ae9fc135e1"><div class="ttname"><a href="classplayer__activity.html#abecfb3ed21a7ab0d7ac168ae9fc135e1">player_activity::can_resume_with</a></div><div class="ttdeci">bool can_resume_with(const player_activity &amp;other, const Character &amp;who) const</div><div class="ttdoc">Returns true if activities are similar enough that this activity can be resumed instead of starting t...</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00392">player_activity.cpp:392</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_aca09f19b9a36866a33a46cf0c8ee484d"><div class="ttname"><a href="classplayer__activity.html#aca09f19b9a36866a33a46cf0c8ee484d">player_activity::values</a></div><div class="ttdeci">std::vector&lt; int &gt; values</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00057">player_activity.h:57</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_acb34f48d1d26a1fd6081edc929265609"><div class="ttname"><a href="classplayer__activity.html#acb34f48d1d26a1fd6081edc929265609">player_activity::inherit_distractions</a></div><div class="ttdeci">void inherit_distractions(const player_activity &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00455">player_activity.cpp:455</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_ad71857a82b50cc853a4084a44aef5e96"><div class="ttname"><a href="classplayer__activity.html#ad71857a82b50cc853a4084a44aef5e96">player_activity::get_value</a></div><div class="ttdeci">int get_value(size_t index, int def=0) const</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00102">player_activity.cpp:102</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_ad8add7819b06dcfa95ca4871447159f2"><div class="ttname"><a href="classplayer__activity.html#ad8add7819b06dcfa95ca4871447159f2">player_activity::placement</a></div><div class="ttdeci">tripoint placement</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00062">player_activity.h:62</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_ae44b657c59940e256aeb15e73bf2be1d"><div class="ttname"><a href="classplayer__activity.html#ae44b657c59940e256aeb15e73bf2be1d">player_activity::is_multi_type</a></div><div class="ttdeci">bool is_multi_type() const</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00112">player_activity.cpp:112</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_ae7eb73e1613215c4508b0345de0303f7"><div class="ttname"><a href="classplayer__activity.html#ae7eb73e1613215c4508b0345de0303f7">player_activity::ignore_distraction</a></div><div class="ttdeci">void ignore_distraction(distraction_type type)</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00445">player_activity.cpp:445</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_af40e3a7e2719460248e8c7d4661b9fa8"><div class="ttname"><a href="classplayer__activity.html#af40e3a7e2719460248e8c7d4661b9fa8">player_activity::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00049">player_activity.h:49</a></div></div>
<div class="ttc" id="aclassplayer_html"><div class="ttname"><a href="classplayer.html">player</a></div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00083">player.h:84</a></div></div>
<div class="ttc" id="aclassplayer_html_a39537c9669f9a81b8ac7e52ea9aae0dd"><div class="ttname"><a href="classplayer.html#a39537c9669f9a81b8ac7e52ea9aae0dd">player::available_assistant_count</a></div><div class="ttdeci">int available_assistant_count(const recipe &amp;rec) const</div><div class="ttdoc">For use with in progress crafts.</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00389">crafting.cpp:389</a></div></div>
<div class="ttc" id="aclassplayer_html_a4b34c26cb73111ff42bcab11576f51a0"><div class="ttname"><a href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">player::is_npc</a></div><div class="ttdeci">bool is_npc() const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00103">player.h:103</a></div></div>
<div class="ttc" id="aclassplayer_html_ae7009d849f19a4f5ebe877cbe463c459"><div class="ttname"><a href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">player::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l02219">player.cpp:2219</a></div></div>
<div class="ttc" id="aclassrecipe_html"><div class="ttname"><a href="classrecipe.html">recipe</a></div><div class="ttdef"><b>Definition:</b> <a href="recipe_8h_source.html#l00034">recipe.h:35</a></div></div>
<div class="ttc" id="aclassrecipe_html_ae553a7e929ae8776eb5a8c19422ec83b"><div class="ttname"><a href="classrecipe.html#ae553a7e929ae8776eb5a8c19422ec83b">recipe::batch_time</a></div><div class="ttdeci">int batch_time(int batch, float multiplier, size_t assistants) const</div><div class="ttdef"><b>Definition:</b> <a href="recipe_8cpp_source.html#l00048">recipe.cpp:48</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; activity_type &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00058">achievement.cpp:58</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae29dd8ed38d2b5eb443a65ad46f10b2d"><div class="ttname"><a href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; activity_type &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; activity_type &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="aclasstime__duration_html_a0f7145f4fc4c09defbaf25f468e4e54a"><div class="ttname"><a href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a></div><div class="ttdeci">static constexpr time_duration from_turns(const T t)</div><div class="ttdoc">Named constructors to get a duration representing a multiple of the named time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00204">calendar.h:204</a></div></div>
<div class="ttc" id="aclasstranslation_html"><div class="ttname"><a href="classtranslation.html">translation</a></div><div class="ttdoc">Class for storing translation context and raw string for deferred translation.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00151">translations.h:152</a></div></div>
<div class="ttc" id="acolor_8cpp_html_a0f25678be1fc95cb81381a004493a4cc"><div class="ttname"><a href="color_8cpp.html#a0f25678be1fc95cb81381a004493a4cc">colorize</a></div><div class="ttdeci">std::string colorize(const std::string &amp;text, const nc_color &amp;color)</div><div class="ttdef"><b>Definition:</b> <a href="color_8cpp_source.html#l00669">color.cpp:669</a></div></div>
<div class="ttc" id="acolor_8h_html"><div class="ttname"><a href="color_8h.html">color.h</a></div></div>
<div class="ttc" id="acolor_8h_html_a1cb87e74156596960610fd0a9ace766d"><div class="ttname"><a href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a></div><div class="ttdeci">#define c_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00022">color.h:22</a></div></div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00021">color.h:21</a></div></div>
<div class="ttc" id="aconstruction_8h_html"><div class="ttname"><a href="construction_8h.html">construction.h</a></div></div>
<div class="ttc" id="aconstruction__partial_8h_html"><div class="ttname"><a href="construction__partial_8h.html">construction_partial.h</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_a0a4980f8517a4d5d4f65621c3355d1d9"><div class="ttname"><a href="crafting_8cpp.html#a0a4980f8517a4d5d4f65621c3355d1d9">workbench_crafting_speed_multiplier</a></div><div class="ttdeci">float workbench_crafting_speed_multiplier(const item &amp;craft, const bench_location &amp;bench)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00201">crafting.cpp:201</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_a6582cc1f2797909d958c3123c33cf414"><div class="ttname"><a href="crafting_8cpp.html#a6582cc1f2797909d958c3123c33cf414">lighting_crafting_speed_multiplier</a></div><div class="ttdeci">float lighting_crafting_speed_multiplier(const Character &amp;who, const recipe &amp;rec)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00131">crafting.cpp:131</a></div></div>
<div class="ttc" id="acrafting_8cpp_html_abf0d69303949f94ba7e0d2fc49d8eb1f"><div class="ttname"><a href="crafting_8cpp.html#abf0d69303949f94ba7e0d2fc49d8eb1f">morale_crafting_speed_multiplier</a></div><div class="ttdeci">float morale_crafting_speed_multiplier(const Character &amp;who, const recipe &amp;rec)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00163">crafting.cpp:163</a></div></div>
<div class="ttc" id="acrafting_8h_html"><div class="ttname"><a href="crafting_8h.html">crafting.h</a></div></div>
<div class="ttc" id="acrafting_8h_html_aa5f7f30378264d4adcf8b4a0ceb3b207"><div class="ttname"><a href="crafting_8h.html#aa5f7f30378264d4adcf8b4a0ceb3b207">bench_type</a></div><div class="ttdeci">bench_type</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8h_source.html#l00025">crafting.h:25</a></div></div>
<div class="ttc" id="adistraction__manager_8cpp_html_a01080ef17868a32432d1d01959cc2c14"><div class="ttname"><a href="distraction__manager_8cpp.html#a01080ef17868a32432d1d01959cc2c14">get_distraction_manager</a></div><div class="ttdeci">distraction_manager::distraction_manager_gui &amp; get_distraction_manager()</div><div class="ttdef"><b>Definition:</b> <a href="distraction__manager_8cpp_source.html#l00270">distraction_manager.cpp:270</a></div></div>
<div class="ttc" id="adistraction__manager_8h_html"><div class="ttname"><a href="distraction__manager_8h.html">distraction_manager.h</a></div></div>
<div class="ttc" id="aenums_8h_html_a18cc141c508bf4f277abaf39fc9c3d96"><div class="ttname"><a href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96">distraction_type</a></div><div class="ttdeci">distraction_type</div><div class="ttdoc">Possible reasons to interrupt an activity.</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00241">enums.h:241</a></div></div>
<div class="ttc" id="aenums_8h_html_ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab"><div class="ttname"><a href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a></div><div class="ttdeci">@ type</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00075">enums.h:75</a></div></div>
<div class="ttc" id="aitem_8h_html"><div class="ttname"><a href="item_8h.html">item.h</a></div></div>
<div class="ttc" id="aitype_8h_html"><div class="ttname"><a href="itype_8h.html">itype.h</a></div></div>
<div class="ttc" id="amap_8cpp_html_acb0b34be6e497bdd2f9f40ae6929d562"><div class="ttname"><a href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00146">map.cpp:146</a></div></div>
<div class="ttc" id="amap_8h_html"><div class="ttname"><a href="map_8h.html">map.h</a></div></div>
<div class="ttc" id="anamespacealign_html_aff2772e23f6ac91520e57d4b3ac0c759a5bf95244357d6164916bfe6e0ccfbc79"><div class="ttname"><a href="namespacealign.html#aff2772e23f6ac91520e57d4b3ac0c759a5bf95244357d6164916bfe6e0ccfbc79">align::right</a></div><div class="ttdeci">@ right</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format_8h_source.html#l01356">fmtlib_format.h:1356</a></div></div>
<div class="ttc" id="anamespacecalendar_html_a356df28513f4d655ae35c312ab6e7d55"><div class="ttname"><a href="namespacecalendar.html#a356df28513f4d655ae35c312ab6e7d55">calendar::once_every</a></div><div class="ttdeci">bool once_every(const time_duration &amp;event_frequency)</div><div class="ttdoc">Predicate to handle rate-limiting.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00490">calendar.cpp:490</a></div></div>
<div class="ttc" id="anamespacecata_html_ad05314667ac5d05f984aeeef26b9a87f"><div class="ttname"><a href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a></div><div class="ttdeci">static constexpr nullopt_t nullopt</div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00022">optional.h:22</a></div></div>
<div class="ttc" id="anamespacecharacter__funcs_html_a8b6391933c53c0461e4e64fa9930d472"><div class="ttname"><a href="namespacecharacter__funcs.html#a8b6391933c53c0461e4e64fa9930d472">character_funcs::do_pause</a></div><div class="ttdeci">void do_pause(Character &amp;who)</div><div class="ttdoc">Do pause action ('.</div><div class="ttdef"><b>Definition:</b> <a href="character__turn_8cpp_source.html#l00967">character_turn.cpp:967</a></div></div>
<div class="ttc" id="anamespacecoords_html"><div class="ttname"><a href="namespacecoords.html">coords</a></div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00018">coordinates.h:19</a></div></div>
<div class="ttc" id="anamespacedetail_html_ad06b74f7502b63cbab323bba1ca3f72b"><div class="ttname"><a href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">detail::find</a></div><div class="ttdeci">FMT_CONSTEXPR bool find(Ptr first, Ptr last, T value, Ptr &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format_8h_source.html#l03355">fmtlib_format.h:3355</a></div></div>
<div class="ttc" id="anamespaceiuse_html_a31feaa639847b8a1e5974e026eb785b5"><div class="ttname"><a href="namespaceiuse.html#a31feaa639847b8a1e5974e026eb785b5">iuse::craft</a></div><div class="ttdeci">int craft(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l09540">iuse.cpp:9540</a></div></div>
<div class="ttc" id="anamespaceom__direction_html_a8ba958ccfad28c0a5572a04dd1428f32"><div class="ttname"><a href="namespaceom__direction.html#a8ba958ccfad28c0a5572a04dd1428f32">om_direction::name</a></div><div class="ttdeci">std::string name(type dir)</div><div class="ttdoc">Get Human readable name of a direction.</div><div class="ttdef"><b>Definition:</b> <a href="overmap_8cpp_source.html#l04127">overmap.cpp:4127</a></div></div>
<div class="ttc" id="anamespacesfx_html_a649e58c2b2476c8a814dfe94e865ec3e"><div class="ttname"><a href="namespacesfx.html#a649e58c2b2476c8a814dfe94e865ec3e">sfx::end_activity_sounds</a></div><div class="ttdeci">void end_activity_sounds()</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l01603">sounds.cpp:1603</a></div></div>
<div class="ttc" id="aplayer_8h_html"><div class="ttname"><a href="player_8h.html">player.h</a></div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_a42d6b7855ec8abf909a933f7f2d10b71"><div class="ttname"><a href="player__activity_8cpp.html#a42d6b7855ec8abf909a933f7f2d10b71">ACT_GAME</a></div><div class="ttdeci">static const activity_id ACT_GAME(&quot;ACT_GAME&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_a4e1de2690242373f2205a99a8d032098"><div class="ttname"><a href="player__activity_8cpp.html#a4e1de2690242373f2205a99a8d032098">ACT_HAND_CRANK</a></div><div class="ttdeci">static const activity_id ACT_HAND_CRANK(&quot;ACT_HAND_CRANK&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_a573323959b411f59620f6e0733141ac9"><div class="ttname"><a href="player__activity_8cpp.html#a573323959b411f59620f6e0733141ac9">ACT_GUNMOD_ADD</a></div><div class="ttdeci">static const activity_id ACT_GUNMOD_ADD(&quot;ACT_GUNMOD_ADD&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_a59d58bc26d449fa251d2dc52e814cd59"><div class="ttname"><a href="player__activity_8cpp.html#a59d58bc26d449fa251d2dc52e814cd59">ACT_OXYTORCH</a></div><div class="ttdeci">static const activity_id ACT_OXYTORCH(&quot;ACT_OXYTORCH&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_a63532169a015e803e57202c5af8ce838"><div class="ttname"><a href="player__activity_8cpp.html#a63532169a015e803e57202c5af8ce838">ACT_FISH</a></div><div class="ttdeci">static const activity_id ACT_FISH(&quot;ACT_FISH&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_a6711fd78d3e82221c6fe213bf91bf80c"><div class="ttname"><a href="player__activity_8cpp.html#a6711fd78d3e82221c6fe213bf91bf80c">ACT_START_FIRE</a></div><div class="ttdeci">static const activity_id ACT_START_FIRE(&quot;ACT_START_FIRE&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_a68ba29f65d9d733261f3171403e4029a"><div class="ttname"><a href="player__activity_8cpp.html#a68ba29f65d9d733261f3171403e4029a">containers_equal</a></div><div class="ttdeci">bool containers_equal(const T &amp;left, const T &amp;right)</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00383">player_activity.cpp:383</a></div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_a95360d3991a20508af04cf9afd413252"><div class="ttname"><a href="player__activity_8cpp.html#a95360d3991a20508af04cf9afd413252">craft_progress_message</a></div><div class="ttdeci">static std::string craft_progress_message(const avatar &amp;u, const player_activity &amp;act)</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00122">player_activity.cpp:122</a></div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_acb4abc5eb29a421c42368040e27a6520"><div class="ttname"><a href="player__activity_8cpp.html#acb4abc5eb29a421c42368040e27a6520">ACT_VIBE</a></div><div class="ttdeci">static const activity_id ACT_VIBE(&quot;ACT_VIBE&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_acdc2d231ebdbf7d9571d84ebe9993c5f"><div class="ttname"><a href="player__activity_8cpp.html#acdc2d231ebdbf7d9571d84ebe9993c5f">ACT_FIRSTAID</a></div><div class="ttdeci">static const activity_id ACT_FIRSTAID(&quot;ACT_FIRSTAID&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_af0f6a1c716782ccc53519e943b63c61d"><div class="ttname"><a href="player__activity_8cpp.html#af0f6a1c716782ccc53519e943b63c61d">ACT_PICKAXE</a></div><div class="ttdeci">static const activity_id ACT_PICKAXE(&quot;ACT_PICKAXE&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8cpp_html_af6b1d6ef23b0cf8236b3b845203ca506"><div class="ttname"><a href="player__activity_8cpp.html#af6b1d6ef23b0cf8236b3b845203ca506">ACT_ATM</a></div><div class="ttdeci">static const activity_id ACT_ATM(&quot;ACT_ATM&quot;)</div></div>
<div class="ttc" id="aplayer__activity_8h_html"><div class="ttname"><a href="player__activity_8h.html">player_activity.h</a></div></div>
<div class="ttc" id="apoint_8h_html_afa8693bb804568b71fece8ab73d959bf"><div class="ttname"><a href="point_8h.html#afa8693bb804568b71fece8ab73d959bf">tripoint_min</a></div><div class="ttdeci">static constexpr tripoint tripoint_min</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00318">point.h:318</a></div></div>
<div class="ttc" id="arecipe_8h_html"><div class="ttname"><a href="recipe_8h.html">recipe.h</a></div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00065">rng.cpp:65</a></div></div>
<div class="ttc" id="arng_8h_html"><div class="ttname"><a href="rng_8h.html">rng.h</a></div></div>
<div class="ttc" id="askill_8h_html"><div class="ttname"><a href="skill_8h.html">skill.h</a></div></div>
<div class="ttc" id="asounds_8cpp_html_ad9fe7b616a93a8209da903eba756237e"><div class="ttname"><a href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a></div><div class="ttdeci">activity_id act</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00075">sounds.cpp:75</a></div></div>
<div class="ttc" id="asounds_8h_html"><div class="ttname"><a href="sounds_8h.html">sounds.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html"><div class="ttname"><a href="string__formatter_8h.html">string_formatter.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a8964099387da2f95396c67566bafce3d"><div class="ttname"><a href="string__formatter_8h.html#a8964099387da2f95396c67566bafce3d">string_format</a></div><div class="ttdeci">std::string string_format(std::string_view format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00431">string_formatter.h:431</a></div></div>
<div class="ttc" id="astring__id_8h_html"><div class="ttname"><a href="string__id_8h.html">string_id.h</a></div></div>
<div class="ttc" id="astructact__progress__message_html"><div class="ttname"><a href="structact__progress__message.html">act_progress_message</a></div><div class="ttdef"><b>Definition:</b> <a href="activity__actor_8h_source.html#l00018">activity_actor.h:18</a></div></div>
<div class="ttc" id="astructact__progress__message_html_a0c30f43d7f5bc8d94b73d4efd4e9e5bd"><div class="ttname"><a href="structact__progress__message.html#a0c30f43d7f5bc8d94b73d4efd4e9e5bd">act_progress_message::msg_extra_info</a></div><div class="ttdeci">cata::optional&lt; std::string &gt; msg_extra_info</div><div class="ttdef"><b>Definition:</b> <a href="activity__actor_8h_source.html#l00025">activity_actor.h:25</a></div></div>
<div class="ttc" id="astructact__progress__message_html_a33a5507412488997b5a99d0c75940ac5"><div class="ttname"><a href="structact__progress__message.html#a33a5507412488997b5a99d0c75940ac5">act_progress_message::msg_full</a></div><div class="ttdeci">cata::optional&lt; std::string &gt; msg_full</div><div class="ttdef"><b>Definition:</b> <a href="activity__actor_8h_source.html#l00026">activity_actor.h:26</a></div></div>
<div class="ttc" id="astructact__progress__message_html_a5fb758afbe2339b265e1a44917c1ad08"><div class="ttname"><a href="structact__progress__message.html#a5fb758afbe2339b265e1a44917c1ad08">act_progress_message::implemented</a></div><div class="ttdeci">bool implemented</div><div class="ttdoc">Whether activity actor implements the method.</div><div class="ttdef"><b>Definition:</b> <a href="activity__actor_8h_source.html#l00023">activity_actor.h:23</a></div></div>
<div class="ttc" id="astructbench__location_html"><div class="ttname"><a href="structbench__location.html">bench_location</a></div><div class="ttdef"><b>Definition:</b> <a href="crafting_8h_source.html#l00032">crafting.h:32</a></div></div>
<div class="ttc" id="astructmorale__mult_html"><div class="ttname"><a href="structmorale__mult.html">morale_mult</a></div><div class="ttdef"><b>Definition:</b> <a href="morale_8cpp_source.html#l00073">morale.cpp:73</a></div></div>
<div class="ttc" id="astructpartial__con_html"><div class="ttname"><a href="structpartial__con.html">partial_con</a></div><div class="ttdef"><b>Definition:</b> <a href="construction__partial_8h_source.html#l00010">construction_partial.h:10</a></div></div>
<div class="ttc" id="astructpartial__con_html_a85b4cad2bfa67cb504ee89ca3129c17d"><div class="ttname"><a href="structpartial__con.html#a85b4cad2bfa67cb504ee89ca3129c17d">partial_con::counter</a></div><div class="ttdeci">int counter</div><div class="ttdef"><b>Definition:</b> <a href="construction__partial_8h_source.html#l00011">construction_partial.h:11</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00147">point.h:147</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_af0c79b5c75a7cf2df78663485b03ed9a"><div class="ttname"><a href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a></div><div class="ttdeci">const char * pgettext(const char *context, const char *msgid)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00041">translations.cpp:41</a></div></div>
<div class="ttc" id="atranslations_8h_html"><div class="ttname"><a href="translations_8h.html">translations.h</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
<div class="ttc" id="avalue__ptr_8h_html"><div class="ttname"><a href="value__ptr_8h.html">value_ptr.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="player__activity_8cpp.html">player_activity.cpp</a></li>
    <li class="footer">Generated on Tue Jan 24 2023 18:43:59 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
