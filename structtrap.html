<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: trap Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structtrap.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="structtrap-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">trap Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="trap_8h_source.html">trap.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a01b0ef8443ac5ba4e7455880ca2dc44b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a01b0ef8443ac5ba4e7455880ca2dc44b">name</a> () const</td></tr>
<tr class="separator:a01b0ef8443ac5ba4e7455880ca2dc44b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafab5c450397fa7ea6430a9334c2859c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#aafab5c450397fa7ea6430a9334c2859c">is_always_invisible</a> () const</td></tr>
<tr class="memdesc:aafab5c450397fa7ea6430a9334c2859c"><td class="mdescLeft">&#160;</td><td class="mdescRight">There are special always invisible traps.  <a href="structtrap.html#aafab5c450397fa7ea6430a9334c2859c">More...</a><br /></td></tr>
<tr class="separator:aafab5c450397fa7ea6430a9334c2859c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bd5955eae82045548ff8fc99a63edfc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a1bd5955eae82045548ff8fc99a63edfc">get_visibility</a> () const</td></tr>
<tr class="memdesc:a1bd5955eae82045548ff8fc99a63edfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">How easy it is to spot the trap.  <a href="structtrap.html#a1bd5955eae82045548ff8fc99a63edfc">More...</a><br /></td></tr>
<tr class="separator:a1bd5955eae82045548ff8fc99a63edfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63bf7ebc886674472272895fb6a227d7"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a63bf7ebc886674472272895fb6a227d7">map_regen_target</a> () const</td></tr>
<tr class="separator:a63bf7ebc886674472272895fb6a227d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a6aca9abdabfc0381ca8e3438da9e84"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a2a6aca9abdabfc0381ca8e3438da9e84">get_avoidance</a> () const</td></tr>
<tr class="memdesc:a2a6aca9abdabfc0381ca8e3438da9e84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether triggering the trap can be avoid (if greater than 0) and if so, this is compared to dodge skill (with some adjustments).  <a href="structtrap.html#a2a6aca9abdabfc0381ca8e3438da9e84">More...</a><br /></td></tr>
<tr class="separator:a2a6aca9abdabfc0381ca8e3438da9e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba1617730ea581913a51524df89e1142"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#aba1617730ea581913a51524df89e1142">get_difficulty</a> () const</td></tr>
<tr class="memdesc:aba1617730ea581913a51524df89e1142"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is used when disarming the trap.  <a href="structtrap.html#aba1617730ea581913a51524df89e1142">More...</a><br /></td></tr>
<tr class="separator:aba1617730ea581913a51524df89e1142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc8f59b97597d373f7cb0bbcf061e794"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#adc8f59b97597d373f7cb0bbcf061e794">is_benign</a> () const</td></tr>
<tr class="memdesc:adc8f59b97597d373f7cb0bbcf061e794"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true, this is not really a trap and there won't be any safety queries before stepping onto it (e.g.  <a href="structtrap.html#adc8f59b97597d373f7cb0bbcf061e794">More...</a><br /></td></tr>
<tr class="separator:adc8f59b97597d373f7cb0bbcf061e794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afefc8440f9684bc6694c3c14dc59a727"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#afefc8440f9684bc6694c3c14dc59a727">detect_trap</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos, const <a class="el" href="classCharacter.html">Character</a> &amp;p) const</td></tr>
<tr class="memdesc:afefc8440f9684bc6694c3c14dc59a727"><td class="mdescLeft">&#160;</td><td class="mdescRight">Player has not yet seen the trap and returns the variable chance, at this moment, of whether the trap is seen or not.  <a href="structtrap.html#afefc8440f9684bc6694c3c14dc59a727">More...</a><br /></td></tr>
<tr class="separator:afefc8440f9684bc6694c3c14dc59a727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb5ff27f9f78475035f22aabdcfe834"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#abeb5ff27f9f78475035f22aabdcfe834">can_see</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos, const <a class="el" href="classCharacter.html">Character</a> &amp;p) const</td></tr>
<tr class="memdesc:abeb5ff27f9f78475035f22aabdcfe834"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can player/npc p see this kind of trap, either by their memory (they known there is the trap) or by the visibility of the trap (the trap is not hidden at all)?  <a href="structtrap.html#abeb5ff27f9f78475035f22aabdcfe834">More...</a><br /></td></tr>
<tr class="separator:abeb5ff27f9f78475035f22aabdcfe834"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d565d044db53ba8cf091744e9a005c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a3d565d044db53ba8cf091744e9a005c7">trigger</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;pos, <a class="el" href="classCreature.html">Creature</a> *<a class="el" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72">creature</a>=nullptr, <a class="el" href="classitem.html">item</a> *<a class="el" href="classitem.html">item</a>=nullptr) const</td></tr>
<tr class="memdesc:a3d565d044db53ba8cf091744e9a005c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger trap effects.  <a href="structtrap.html#a3d565d044db53ba8cf091744e9a005c7">More...</a><br /></td></tr>
<tr class="separator:a3d565d044db53ba8cf091744e9a005c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7bc509c6fa1aec956f63ec03980e593"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#aa7bc509c6fa1aec956f63ec03980e593">triggered_by_item</a> (const <a class="el" href="classitem.html">item</a> &amp;itm) const</td></tr>
<tr class="memdesc:aa7bc509c6fa1aec956f63ec03980e593"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the given item is throw onto the trap, does it trigger the trap?  <a href="structtrap.html#aa7bc509c6fa1aec956f63ec03980e593">More...</a><br /></td></tr>
<tr class="separator:aa7bc509c6fa1aec956f63ec03980e593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6b4fcf67a39a8ca75ac910055bb99c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#aa6b4fcf67a39a8ca75ac910055bb99c6">on_disarmed</a> (<a class="el" href="classmap.html">map</a> &amp;m, const <a class="el" href="structtripoint.html">tripoint</a> &amp;p) const</td></tr>
<tr class="memdesc:aa6b4fcf67a39a8ca75ac910055bb99c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a trap at the given point in the map has been disarmed.  <a href="structtrap.html#aa6b4fcf67a39a8ca75ac910055bb99c6">More...</a><br /></td></tr>
<tr class="separator:aa6b4fcf67a39a8ca75ac910055bb99c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8342e2f67509ba3c791ff104126f47e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a8342e2f67509ba3c791ff104126f47e4">get_trap_radius</a> () const</td></tr>
<tr class="memdesc:a8342e2f67509ba3c791ff104126f47e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is used when defining area this trap occupies.  <a href="structtrap.html#a8342e2f67509ba3c791ff104126f47e4">More...</a><br /></td></tr>
<tr class="separator:a8342e2f67509ba3c791ff104126f47e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a9ac96c5c81eb31093e049ffeac8b4f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a> () const</td></tr>
<tr class="memdesc:a6a9ac96c5c81eb31093e049ffeac8b4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this is the null-traps, aka no trap at all.  <a href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">More...</a><br /></td></tr>
<tr class="separator:a6a9ac96c5c81eb31093e049ffeac8b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb2a07bb5d6fc8cccf2e2eb3efb45102"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#acb2a07bb5d6fc8cccf2e2eb3efb45102">load</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jo, const std::string &amp;src)</td></tr>
<tr class="memdesc:acb2a07bb5d6fc8cccf2e2eb3efb45102"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads this specific trap.  <a href="structtrap.html#acb2a07bb5d6fc8cccf2e2eb3efb45102">More...</a><br /></td></tr>
<tr class="separator:acb2a07bb5d6fc8cccf2e2eb3efb45102"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Initialization</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Those functions are used by the <a class="el" href="classDynamicDataLoader.html">DynamicDataLoader</a>, see there. </p>
</div></td></tr>
<tr class="memitem:a12144546805827604a11ba0959805943"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a12144546805827604a11ba0959805943">load_trap</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jo, const std::string &amp;src)</td></tr>
<tr class="memdesc:a12144546805827604a11ba0959805943"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the trap and adds it to the trapmap, and the traplist.  <a href="structtrap.html#a12144546805827604a11ba0959805943">More...</a><br /></td></tr>
<tr class="separator:a12144546805827604a11ba0959805943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3459bc15692baad14fa65b985251137f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a3459bc15692baad14fa65b985251137f">reset</a> ()</td></tr>
<tr class="memdesc:a3459bc15692baad14fa65b985251137f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the loaded trap objects in trapmap and traplist.  <a href="structtrap.html#a3459bc15692baad14fa65b985251137f">More...</a><br /></td></tr>
<tr class="separator:a3459bc15692baad14fa65b985251137f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cde54061e737d7f81c0a605cce70f0e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a7cde54061e737d7f81c0a605cce70f0e">finalize</a> ()</td></tr>
<tr class="memdesc:a7cde54061e737d7f81c0a605cce70f0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the actual <a class="el" href="structtrap.html#ab2767aee5179ad23b3ad0b6b4b2415af">loadid</a> of the loaded traps in the global tr_* variables.  <a href="structtrap.html#a7cde54061e737d7f81c0a605cce70f0e">More...</a><br /></td></tr>
<tr class="separator:a7cde54061e737d7f81c0a605cce70f0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c0ca32b5c9badd2668fd9b5c7c91fc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#ad3c0ca32b5c9badd2668fd9b5c7c91fc">check_consistency</a> ()</td></tr>
<tr class="memdesc:ad3c0ca32b5c9badd2668fd9b5c7c91fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks internal consistency (reference to other things like item ids etc.)  <a href="structtrap.html#ad3c0ca32b5c9badd2668fd9b5c7c91fc">More...</a><br /></td></tr>
<tr class="separator:ad3c0ca32b5c9badd2668fd9b5c7c91fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d4f2d0ba3ca652e09d818843b7f49dd"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a4d4f2d0ba3ca652e09d818843b7f49dd">count</a> ()</td></tr>
<tr class="separator:a4d4f2d0ba3ca652e09d818843b7f49dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:af4ff2a16113fc1dd7c53285c0f91c126"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#aaf07656eb0d8c6676fbb1849d92cfa26">trap_str_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#af4ff2a16113fc1dd7c53285c0f91c126">id</a></td></tr>
<tr class="separator:af4ff2a16113fc1dd7c53285c0f91c126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2767aee5179ad23b3ad0b6b4b2415af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a6a456b8f9aeb28a96e3976548a6cb0dc">trap_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#ab2767aee5179ad23b3ad0b6b4b2415af">loadid</a></td></tr>
<tr class="separator:ab2767aee5179ad23b3ad0b6b4b2415af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7515b4e5f59ad2a035e5030455bf3e62"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a> = false</td></tr>
<tr class="separator:a7515b4e5f59ad2a035e5030455bf3e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a975d50578595efdc3b93fb32bab0e41b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a975d50578595efdc3b93fb32bab0e41b">sym</a> = 0</td></tr>
<tr class="separator:a975d50578595efdc3b93fb32bab0e41b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92373743ed980b356de173c228c79499"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnc__color.html">nc_color</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a92373743ed980b356de173c228c79499">color</a></td></tr>
<tr class="separator:a92373743ed980b356de173c228c79499"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a204b98d9b542a70ab2781c13af441202"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfake__spell.html">fake_spell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a204b98d9b542a70ab2781c13af441202">spell_data</a></td></tr>
<tr class="separator:a204b98d9b542a70ab2781c13af441202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e32dc8e92c961fb52b3086421c62b8e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a9e32dc8e92c961fb52b3086421c62b8e">comfort</a> = 0</td></tr>
<tr class="separator:a9e32dc8e92c961fb52b3086421c62b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a080d01633b06f2db081704ba4ee399f3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a080d01633b06f2db081704ba4ee399f3">floor_bedding_warmth</a> = 0</td></tr>
<tr class="separator:a080d01633b06f2db081704ba4ee399f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03491b6455522e29bcbd457283b88c6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvehicle__handle__trap__data.html">vehicle_handle_trap_data</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a></td></tr>
<tr class="separator:a03491b6455522e29bcbd457283b88c6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0913f4b2535ae7fe8b5550b974b31a18"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a0913f4b2535ae7fe8b5550b974b31a18">visibility</a> = 1</td></tr>
<tr class="separator:a0913f4b2535ae7fe8b5550b974b31a18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dd8117e839b760a9ffa187d3670f4ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a7dd8117e839b760a9ffa187d3670f4ed">avoidance</a> = 0</td></tr>
<tr class="separator:a7dd8117e839b760a9ffa187d3670f4ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbf38effe374d03f39b3647a27e3c3a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#abbf38effe374d03f39b3647a27e3c3a7">difficulty</a> = 0</td></tr>
<tr class="separator:abbf38effe374d03f39b3647a27e3c3a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43fd5f8fec40e3bb6ca7e07fa7ae6b3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a43fd5f8fec40e3bb6ca7e07fa7ae6b3f">trap_radius</a> = 0</td></tr>
<tr class="separator:a43fd5f8fec40e3bb6ca7e07fa7ae6b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10039a239822fb13066d9e61c82f5bf5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a10039a239822fb13066d9e61c82f5bf5">benign</a> = false</td></tr>
<tr class="separator:a10039a239822fb13066d9e61c82f5bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af528369ecffbd6666b411fbbb466bc4e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#af528369ecffbd6666b411fbbb466bc4e">always_invisible</a> = false</td></tr>
<tr class="separator:af528369ecffbd6666b411fbbb466bc4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41675497496296bffef048bfe76c977c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a41675497496296bffef048bfe76c977c">map_regen</a></td></tr>
<tr class="separator:a41675497496296bffef048bfe76c977c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b38533ac3a1c9c1f6a6844d0ee04a91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="trap_8h.html#ae42e32fdf80c3174f94a4b2f02401473">trap_function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a5b38533ac3a1c9c1f6a6844d0ee04a91">act</a></td></tr>
<tr class="separator:a5b38533ac3a1c9c1f6a6844d0ee04a91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a834b75772b7d0c5a3b7dab107053580c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a834b75772b7d0c5a3b7dab107053580c">name_</a></td></tr>
<tr class="separator:a834b75772b7d0c5a3b7dab107053580c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e8454e37107896cc58505a62dd6724e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a5e8454e37107896cc58505a62dd6724e">trigger_weight</a> = <a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>( -1, <a class="el" href="classunits_1_1quantity.html#acf9dfcd649300780358fadde8d98b167">units::mass::unit_type</a>{} )</td></tr>
<tr class="memdesc:a5e8454e37107896cc58505a62dd6724e"><td class="mdescLeft">&#160;</td><td class="mdescRight">If an item with this weight or more is thrown onto the trap, it triggers.  <a href="structtrap.html#a5e8454e37107896cc58505a62dd6724e">More...</a><br /></td></tr>
<tr class="separator:a5e8454e37107896cc58505a62dd6724e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cea2683be1199ec40d943540d3a78ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a2cea2683be1199ec40d943540d3a78ff">funnel_radius_mm</a> = 0</td></tr>
<tr class="separator:a2cea2683be1199ec40d943540d3a78ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdb4b9b037b1554a9bbf01b9db1f8387"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::tuple&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, int, int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#abdb4b9b037b1554a9bbf01b9db1f8387">components</a></td></tr>
<tr class="separator:abdb4b9b037b1554a9bbf01b9db1f8387"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Funnels</h2></td></tr>
<tr><td class="ititle" colspan="2"><p ><a class="anchor" id="amgrpf8d8e9b2f605b638e6c6b8c631d23c64"></a>Traps can act as funnels, for this they need a <a class="el" href="structtrap.html#a2cea2683be1199ec40d943540d3a78ff">trap::funnel_radius_mm</a> &gt; 0.</p>
<p >Funnels are usual not hidden at all (<a class="el" href="structtrap.html#a0913f4b2535ae7fe8b5550b974b31a18">trap::visibility</a> == 0), are <a class="el" href="structtrap.html#a10039a239822fb13066d9e61c82f5bf5">trap::benign</a> and can be picked up easily (<a class="el" href="structtrap.html#abbf38effe374d03f39b3647a27e3c3a7">trap::difficulty</a> == 0). The funnel filling is handled in <a class="el" href="weather_8cpp.html">weather.cpp</a>. is_funnel is used the check whether the funnel specific code should be run for this trap. </p>
</td></tr>
<tr class="memitem:a1df9fdf246ce84494eb68dcd6e59cb5f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#a1df9fdf246ce84494eb68dcd6e59cb5f">is_funnel</a> () const</td></tr>
<tr class="separator:a1df9fdf246ce84494eb68dcd6e59cb5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf799ace26686fd97c953f49ecd94acbb"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Weather.html#gaf799ace26686fd97c953f49ecd94acbb">funnel_turns_per_charge</a> (double rain_depth_mm_per_hour) const</td></tr>
<tr class="separator:gaf799ace26686fd97c953f49ecd94acbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afffbc9e94465251d8486a7a7ff31e76c"><td class="memItemLeft" align="right" valign="top">static const std::vector&lt; const <a class="el" href="structtrap.html">trap</a> * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrap.html#afffbc9e94465251d8486a7a7ff31e76c">get_funnels</a> ()</td></tr>
<tr class="memdesc:afffbc9e94465251d8486a7a7ff31e76c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all trap objects that are actually funnels (is_funnel returns true for all of them).  <a href="structtrap.html#afffbc9e94465251d8486a7a7ff31e76c">More...</a><br /></td></tr>
<tr class="separator:afffbc9e94465251d8486a7a7ff31e76c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00086">86</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="abeb5ff27f9f78475035f22aabdcfe834" name="abeb5ff27f9f78475035f22aabdcfe834"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeb5ff27f9f78475035f22aabdcfe834">&#9670;&nbsp;</a></span>can_see()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool trap::can_see </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Can player/npc p see this kind of trap, either by their memory (they known there is the trap) or by the visibility of the trap (the trap is not hidden at all)? </p>

<p class="definition">Definition at line <a class="el" href="trap_8cpp_source.html#l00223">223</a> of file <a class="el" href="trap_8cpp_source.html">trap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>{</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>() ) {</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>        <span class="comment">// There is no trap at all, so logically one can not see it.</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    }</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="structtrap.html#a0913f4b2535ae7fe8b5550b974b31a18">visibility</a> &lt; 0 || p.<a class="code hl_function" href="classCharacter.html#a7cf3a039fed01ee44525ea41940cb00d">knows_trap</a>( pos );</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>}</div>
<div class="ttc" id="aclassCharacter_html_a7cf3a039fed01ee44525ea41940cb00d"><div class="ttname"><a href="classCharacter.html#a7cf3a039fed01ee44525ea41940cb00d">Character::knows_trap</a></div><div class="ttdeci">bool knows_trap(const tripoint &amp;pos) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l10239">character.cpp:10239</a></div></div>
<div class="ttc" id="astructtrap_html_a0913f4b2535ae7fe8b5550b974b31a18"><div class="ttname"><a href="structtrap.html#a0913f4b2535ae7fe8b5550b974b31a18">trap::visibility</a></div><div class="ttdeci">int visibility</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00096">trap.h:96</a></div></div>
<div class="ttc" id="astructtrap_html_a6a9ac96c5c81eb31093e049ffeac8b4f"><div class="ttname"><a href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">trap::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Whether this is the null-traps, aka no trap at all.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00245">trap.cpp:245</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8cpp_source.html#l00245">is_null()</a>, <a class="el" href="character_8cpp_source.html#l10239">Character::knows_trap()</a>, and <a class="el" href="trap_8h_source.html#l00096">visibility</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l00593">player::avoid_trap()</a>, <a class="el" href="map_8cpp_source.html#l05110">map::can_see_trap_at()</a>, <a class="el" href="map_8cpp_source.html#l05847">map::draw_maptile()</a>, <a class="el" href="game_8cpp_source.html#l08746">game::get_dangerous_tile()</a>, <a class="el" href="advanced__inv__area_8cpp_source.html#l00061">advanced_inv_area::init()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04101">place_trap_actor::is_allowed()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04139">place_and_add_as_known()</a>, <a class="el" href="game_8cpp_source.html#l05974">game::print_trap_info()</a>, and <a class="el" href="player_8cpp_source.html#l00701">player::search_surroundings()</a>.</p>

</div>
</div>
<a id="ad3c0ca32b5c9badd2668fd9b5c7c91fc" name="ad3c0ca32b5c9badd2668fd9b5c7c91fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3c0ca32b5c9badd2668fd9b5c7c91fc">&#9670;&nbsp;</a></span>check_consistency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void trap::check_consistency </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks internal consistency (reference to other things like item ids etc.) </p>

<p class="definition">Definition at line <a class="el" href="trap_8cpp_source.html#l00319">319</a> of file <a class="el" href="trap_8cpp_source.html">trap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>{</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;t : <a class="code hl_variable" href="namespaceanonymous__namespace_02trap_8cpp_03.html#ab3675c90d391e657ff95abc6c6e3ad40">trap_factory</a>.get_all() ) {</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;i : t.components ) {</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>            <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;item_type = std::get&lt;0&gt;( i );</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>            <span class="keywordflow">if</span>( !item_type.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>                <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;trap %s has unknown item as component %s&quot;</span>, t.id.str(), item_type.<a class="code hl_function" href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">str</a>() );</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>            }</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>        }</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>    }</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>}</div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; itype &gt;</a></div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00065">achievement.cpp:65</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa7dabc565f0c067e1a237ea224b18f93"><div class="ttname"><a href="classstring__id.html#aa7dabc565f0c067e1a237ea224b18f93">string_id::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdoc">Returns the identifier as plain std::string.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00255">string_id.h:255</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02trap_8cpp_03_html_ab3675c90d391e657ff95abc6c6e3ad40"><div class="ttname"><a href="namespaceanonymous__namespace_02trap_8cpp_03.html#ab3675c90d391e657ff95abc6c6e3ad40">anonymous_namespace{trap.cpp}::trap_factory</a></div><div class="ttdeci">generic_factory&lt; trap &gt; trap_factory(&quot;trap&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="achievement_8cpp_source.html#l00065">string_id&lt; T &gt;::is_valid()</a>, <a class="el" href="string__id_8h_source.html#l00255">string_id&lt; T &gt;::str()</a>, and <a class="el" href="namespaceanonymous__namespace_02trap_8cpp_03.html#ab3675c90d391e657ff95abc6c6e3ad40">anonymous_namespace{trap.cpp}::trap_factory</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8cpp_source.html#l00714">DynamicDataLoader::check_consistency()</a>.</p>

</div>
</div>
<a id="a4d4f2d0ba3ca652e09d818843b7f49dd" name="a4d4f2d0ba3ca652e09d818843b7f49dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d4f2d0ba3ca652e09d818843b7f49dd">&#9670;&nbsp;</a></span>count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t trap::count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8cpp_source.html#l00095">95</a> of file <a class="el" href="trap_8cpp_source.html">trap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>{</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespaceanonymous__namespace_02trap_8cpp_03.html#ab3675c90d391e657ff95abc6c6e3ad40">trap_factory</a>.size();</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespaceanonymous__namespace_02trap_8cpp_03.html#ab3675c90d391e657ff95abc6c6e3ad40">anonymous_namespace{trap.cpp}::trap_factory</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l00170">map::map()</a>.</p>

</div>
</div>
<a id="afefc8440f9684bc6694c3c14dc59a727" name="afefc8440f9684bc6694c3c14dc59a727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afefc8440f9684bc6694c3c14dc59a727">&#9670;&nbsp;</a></span>detect_trap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool trap::detect_trap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Player has not yet seen the trap and returns the variable chance, at this moment, of whether the trap is seen or not. </p>
Perception increases chance of detecting a trap Traps increases chance of detecting a trap 
<p class="definition">Definition at line <a class="el" href="trap_8cpp_source.html#l00193">193</a> of file <a class="el" href="trap_8cpp_source.html">trap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>{</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <span class="comment">// Some decisions are based around:</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <span class="comment">// * Starting, and thus average perception, is 8.</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <span class="comment">// * Buried landmines, the silent killer, has a visibility of 10.</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <span class="comment">// * There will always be a distance malus of 1 unless you&#39;re on top of the trap.</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <span class="comment">// * ...and an average character should at least have a minor chance of</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <span class="comment">//   noticing a buried landmine if standing right next to it.</span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    <span class="comment">// Effective Perception...</span><span class="comment"></span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span><span class="comment">    ///\EFFECT_PER increases chance of detecting a trap</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span><span class="comment"></span>    <span class="keywordflow">return</span> p.<a class="code hl_variable" href="classCharacter.html#ad8a2bb942a756787aced3b83319176ff">per_cur</a> - p.<a class="code hl_function" href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">encumb</a>( <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2055386ee220ee2ca3e61d13df65e868">bp_eyes</a> ) / 10 +</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>           <span class="comment">// ...small bonus from stimulants...</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>           ( p.<a class="code hl_function" href="classCharacter.html#a7335f053c5874081211552623fa625c5">get_stim</a>() &gt; 10 ? <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 2 ) : 0 ) +</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>           <span class="comment">// ...bonus from trap skill...</span><span class="comment"></span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span><span class="comment">           ///\EFFECT_TRAPS increases chance of detecting a trap</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span><span class="comment"></span>           p.get_skill_level( <a class="code hl_variable" href="trap_8cpp.html#a9353c39452c59a433c7c4c301386e91f">skill_traps</a> ) * 2 +</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>           <span class="comment">// ...luck, might be good, might be bad...</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>           <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -4, 4 ) -</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>           <span class="comment">// ...malus if we are tired...</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>           ( p.has_effect( <a class="code hl_variable" href="trap_8cpp.html#a0214566c717dea03c0626159b4116323">effect_lack_sleep</a> ) ? <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1, 5 ) : 0 ) -</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>           <span class="comment">// ...malus farther we are from trap...</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>           <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( p.pos(), pos ) +</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>           <span class="comment">// Police are trained to notice Something Wrong.</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>           ( p.has_trait( <a class="code hl_variable" href="trap_8cpp.html#adecd2e943983e697e08cafe5115b8ef6">trait_PROF_POLICE</a> ) ? 1 : 0 ) +</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>           ( p.has_trait( <a class="code hl_variable" href="trap_8cpp.html#a857db39dc5d2b93a4b62769c0309e809">trait_PROF_PD_DET</a> ) ? 2 : 0 ) &gt;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>           <span class="comment">// ...must all be greater than the trap visibility.</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>           <a class="code hl_variable" href="structtrap.html#a0913f4b2535ae7fe8b5550b974b31a18">visibility</a>;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>}</div>
<div class="ttc" id="aartifact_8cpp_html_a70800e95389f34dd34186fafaea2a840"><div class="ttname"><a href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a></div><div class="ttdeci">units::quantity&lt; V, B &gt; rng(const units::quantity&lt; V, B &gt; &amp;min, const units::quantity&lt; V, B &gt; &amp;max)</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8cpp_source.html#l00032">artifact.cpp:32</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a2055386ee220ee2ca3e61d13df65e868"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2055386ee220ee2ca3e61d13df65e868">bp_eyes</a></div><div class="ttdeci">@ bp_eyes</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00042">bodypart.h:42</a></div></div>
<div class="ttc" id="aclassCharacter_html_a7335f053c5874081211552623fa625c5"><div class="ttname"><a href="classCharacter.html#a7335f053c5874081211552623fa625c5">Character::get_stim</a></div><div class="ttdeci">int get_stim() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07159">character.cpp:7159</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad8a2bb942a756787aced3b83319176ff"><div class="ttname"><a href="classCharacter.html#ad8a2bb942a756787aced3b83319176ff">Character::per_cur</a></div><div class="ttdeci">int per_cur</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00250">character.h:250</a></div></div>
<div class="ttc" id="aclassCharacter_html_adc1fd84a88722a905e57fea8bfd5b6b0"><div class="ttname"><a href="classCharacter.html#adc1fd84a88722a905e57fea8bfd5b6b0">Character::encumb</a></div><div class="ttdeci">int encumb(body_part bp) const</div><div class="ttdoc">Returns ENC provided by armor, etc.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l04001">character.cpp:4001</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a47953b33a873caa0861b12222842a5ec"><div class="ttname"><a href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00519">coordinates.h:519</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a0214566c717dea03c0626159b4116323"><div class="ttname"><a href="trap_8cpp.html#a0214566c717dea03c0626159b4116323">effect_lack_sleep</a></div><div class="ttdeci">static const efftype_id effect_lack_sleep(&quot;lack_sleep&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_a857db39dc5d2b93a4b62769c0309e809"><div class="ttname"><a href="trap_8cpp.html#a857db39dc5d2b93a4b62769c0309e809">trait_PROF_PD_DET</a></div><div class="ttdeci">static const trait_id trait_PROF_PD_DET(&quot;PROF_PD_DET&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_a9353c39452c59a433c7c4c301386e91f"><div class="ttname"><a href="trap_8cpp.html#a9353c39452c59a433c7c4c301386e91f">skill_traps</a></div><div class="ttdeci">static const skill_id skill_traps(&quot;traps&quot;)</div></div>
<div class="ttc" id="atrap_8cpp_html_adecd2e943983e697e08cafe5115b8ef6"><div class="ttname"><a href="trap_8cpp.html#adecd2e943983e697e08cafe5115b8ef6">trait_PROF_POLICE</a></div><div class="ttdeci">static const trait_id trait_PROF_POLICE(&quot;PROF_POLICE&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bodypart_8h_source.html#l00042">bp_eyes</a>, <a class="el" href="trap_8cpp.html#a0214566c717dea03c0626159b4116323">effect_lack_sleep</a>, <a class="el" href="character_8cpp_source.html#l04001">Character::encumb()</a>, <a class="el" href="character_8cpp_source.html#l03356">Character::get_skill_level()</a>, <a class="el" href="character_8cpp_source.html#l07159">Character::get_stim()</a>, <a class="el" href="creature_8cpp_source.html#l01179">Creature::has_effect()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8h_source.html#l00250">Character::per_cur</a>, <a class="el" href="character_8cpp_source.html#l00714">Character::pos()</a>, <a class="el" href="coordinates_8h_source.html#l00519">rl_dist()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="trap_8cpp.html#a9353c39452c59a433c7c4c301386e91f">skill_traps</a>, <a class="el" href="trap_8cpp.html#a857db39dc5d2b93a4b62769c0309e809">trait_PROF_PD_DET</a>, <a class="el" href="trap_8cpp.html#adecd2e943983e697e08cafe5115b8ef6">trait_PROF_POLICE</a>, and <a class="el" href="trap_8h_source.html#l00096">visibility</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l00701">player::search_surroundings()</a>.</p>

</div>
</div>
<a id="a7cde54061e737d7f81c0a605cce70f0e" name="a7cde54061e737d7f81c0a605cce70f0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cde54061e737d7f81c0a605cce70f0e">&#9670;&nbsp;</a></span>finalize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void trap::finalize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the actual <a class="el" href="structtrap.html#ab2767aee5179ad23b3ad0b6b4b2415af">loadid</a> of the loaded traps in the global tr_* variables. </p>
<p >It also sets the trap ids of the terrain types that have build-in traps. Must be called after all traps have been loaded. </p>

<p class="definition">Definition at line <a class="el" href="trap_8cpp_source.html#l00331">331</a> of file <a class="el" href="trap_8cpp_source.html">trap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>{</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtrap.html">trap</a> &amp;t_const : <a class="code hl_variable" href="namespaceanonymous__namespace_02trap_8cpp_03.html#ab3675c90d391e657ff95abc6c6e3ad40">trap_factory</a>.get_all() ) {</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>        <a class="code hl_struct" href="structtrap.html">trap</a> &amp;t = <span class="keyword">const_cast&lt;</span><a class="code hl_struct" href="structtrap.html">trap</a> &amp;<span class="keyword">&gt;</span>( t_const );</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        <span class="comment">// We need to set int ids manually now</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        t.<a class="code hl_variable" href="structtrap.html#ab2767aee5179ad23b3ad0b6b4b2415af">loadid</a> = t.<a class="code hl_variable" href="structtrap.html#af4ff2a16113fc1dd7c53285c0f91c126">id</a>.<a class="code hl_function" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>();</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>        <span class="keywordflow">if</span>( t.<a class="code hl_function" href="structtrap.html#a1df9fdf246ce84494eb68dcd6e59cb5f">is_funnel</a>() ) {</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>            <a class="code hl_variable" href="trap_8cpp.html#a8149ff482a37aa5d47ca76e6ad3f54b7">funnel_traps</a>.push_back( &amp;t );</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>        }</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    }</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    <span class="keyword">const</span> <span class="keyword">auto</span> trapfind = []( <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="structtrap.html#af4ff2a16113fc1dd7c53285c0f91c126">id</a> ) {</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4afa733ad49aa7cb511c8acdc6604fcfed">trap_str_id</a>( <span class="keywordtype">id</span> ).id();</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    };</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    <a class="code hl_variable" href="trap_8cpp.html#a7b8e40eb2b50e3841e2d9f2d0531226a">tr_null</a> = <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">trap_str_id::NULL_ID</a>().<a class="code hl_function" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>();</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    <a class="code hl_variable" href="trap_8cpp.html#a7b9229513748c73625232ae5c35697cc">tr_bubblewrap</a> = trapfind( <span class="stringliteral">&quot;tr_bubblewrap&quot;</span> );</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    <a class="code hl_variable" href="trap_8cpp.html#a3498d444608073a96400b6fe498f9713">tr_glass</a> = trapfind( <span class="stringliteral">&quot;tr_glass&quot;</span> );</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    <a class="code hl_variable" href="trap_8cpp.html#aab6c0d06c0be15fa202188e5ac2ddd94">tr_cot</a> = trapfind( <span class="stringliteral">&quot;tr_cot&quot;</span> );</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <a class="code hl_variable" href="trap_8cpp.html#a50d4541bbdf6688b636185755f33f88b">tr_funnel</a> = trapfind( <span class="stringliteral">&quot;tr_funnel&quot;</span> );</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    <a class="code hl_variable" href="trap_8cpp.html#ae2119cff9d4aeac817813ee24c8079de">tr_metal_funnel</a> = trapfind( <span class="stringliteral">&quot;tr_metal_funnel&quot;</span> );</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    <a class="code hl_variable" href="trap_8cpp.html#a117d5daeb606ede6888e594b5343884f">tr_makeshift_funnel</a> = trapfind( <span class="stringliteral">&quot;tr_makeshift_funnel&quot;</span> );</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    <a class="code hl_variable" href="trap_8cpp.html#a03596dccf7b4e3b6aaaa999ded5f88c0">tr_leather_funnel</a> = trapfind( <span class="stringliteral">&quot;tr_leather_funnel&quot;</span> );</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    <a class="code hl_variable" href="trap_8cpp.html#ad841f4a41b0b37fe10440cb922d7d19d">tr_rollmat</a> = trapfind( <span class="stringliteral">&quot;tr_rollmat&quot;</span> );</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>    <a class="code hl_variable" href="trap_8cpp.html#a742b722f20e216b04c2c353b605d6e85">tr_fur_rollmat</a> = trapfind( <span class="stringliteral">&quot;tr_fur_rollmat&quot;</span> );</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <a class="code hl_variable" href="trap_8cpp.html#a58cbf14010e76d2a11c7134858a43256">tr_beartrap</a> = trapfind( <span class="stringliteral">&quot;tr_beartrap&quot;</span> );</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>    <a class="code hl_variable" href="trap_8cpp.html#abecb554db3424388894ab98bde179238">tr_beartrap_buried</a> = trapfind( <span class="stringliteral">&quot;tr_beartrap_buried&quot;</span> );</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <a class="code hl_variable" href="trap_8cpp.html#a87dfe063aacd9006f10250bd6996c284">tr_nailboard</a> = trapfind( <span class="stringliteral">&quot;tr_nailboard&quot;</span> );</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>    <a class="code hl_variable" href="trap_8cpp.html#a2cec40861f35486a7e5b2ca27c1a3f66">tr_caltrops</a> = trapfind( <span class="stringliteral">&quot;tr_caltrops&quot;</span> );</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    <a class="code hl_variable" href="trap_8cpp.html#aeda5331180b94dbfa89da7b898f6a5eb">tr_caltrops_glass</a> = trapfind( <span class="stringliteral">&quot;tr_caltrops_glass&quot;</span> );</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    <a class="code hl_variable" href="trap_8cpp.html#a1a20cfb82555532100f46e836d1e3f1f">tr_tripwire</a> = trapfind( <span class="stringliteral">&quot;tr_tripwire&quot;</span> );</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <a class="code hl_variable" href="trap_8cpp.html#a17eafd87410c6905de4259242a8b2a80">tr_crossbow</a> = trapfind( <span class="stringliteral">&quot;tr_crossbow&quot;</span> );</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    <a class="code hl_variable" href="trap_8cpp.html#ae5bcfba5446af5e6d85e94874b807912">tr_shotgun_2</a> = trapfind( <span class="stringliteral">&quot;tr_shotgun_2&quot;</span> );</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    <a class="code hl_variable" href="trap_8cpp.html#ab22376a81cd1f252b62a89080544a124">tr_shotgun_2_1</a> = trapfind( <span class="stringliteral">&quot;tr_shotgun_2_1&quot;</span> );</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    <a class="code hl_variable" href="trap_8cpp.html#a39fe656ad4c02115b8b6ea0a66887bde">tr_shotgun_1</a> = trapfind( <span class="stringliteral">&quot;tr_shotgun_1&quot;</span> );</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    <a class="code hl_variable" href="trap_8cpp.html#a573a210306281be504795cf97c0a8892">tr_engine</a> = trapfind( <span class="stringliteral">&quot;tr_engine&quot;</span> );</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    <a class="code hl_variable" href="trap_8cpp.html#a2a84dd6b082261c31787e9f70291b18a">tr_blade</a> = trapfind( <span class="stringliteral">&quot;tr_blade&quot;</span> );</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    <a class="code hl_variable" href="trap_8cpp.html#a6264c9fcb7d0787868dcc5e90e8d5cd6">tr_landmine</a> = trapfind( <span class="stringliteral">&quot;tr_landmine&quot;</span> );</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    <a class="code hl_variable" href="trap_8cpp.html#ac666204330f19cb23e099f6870b8a1a4">tr_landmine_buried</a> = trapfind( <span class="stringliteral">&quot;tr_landmine_buried&quot;</span> );</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <a class="code hl_variable" href="trap_8cpp.html#a09ec5fa2e09d5e0f428da68f39b72410">tr_telepad</a> = trapfind( <span class="stringliteral">&quot;tr_telepad&quot;</span> );</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>    <a class="code hl_variable" href="trap_8cpp.html#a5fef901bfa2669cf1ae7c4d84c6c2a05">tr_goo</a> = trapfind( <span class="stringliteral">&quot;tr_goo&quot;</span> );</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    <a class="code hl_variable" href="trap_8cpp.html#afee5761c35ce46a9f1a3ab1ed42eeaac">tr_dissector</a> = trapfind( <span class="stringliteral">&quot;tr_dissector&quot;</span> );</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    <a class="code hl_variable" href="trap_8cpp.html#ad5e1ccbd8f8208f337f668259438fa21">tr_sinkhole</a> = trapfind( <span class="stringliteral">&quot;tr_sinkhole&quot;</span> );</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    <a class="code hl_variable" href="trap_8cpp.html#a524bb2298789f9de2f61eaecd450a01d">tr_pit</a> = trapfind( <span class="stringliteral">&quot;tr_pit&quot;</span> );</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <a class="code hl_variable" href="trap_8cpp.html#a0791d82ac772caa46061440ee04ae2b3">tr_spike_pit</a> = trapfind( <span class="stringliteral">&quot;tr_spike_pit&quot;</span> );</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <a class="code hl_variable" href="trap_8cpp.html#a246536404c7e407b9cf74e44b10bacd1">tr_lava</a> = trapfind( <span class="stringliteral">&quot;tr_lava&quot;</span> );</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    <a class="code hl_variable" href="trap_8cpp.html#a203a6015d4d2a9a9b7426894adf13a90">tr_portal</a> = trapfind( <span class="stringliteral">&quot;tr_portal&quot;</span> );</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    <a class="code hl_variable" href="trap_8cpp.html#aeba3c25f596f9754d1deeacf946c2ef7">tr_ledge</a> = trapfind( <span class="stringliteral">&quot;tr_ledge&quot;</span> );</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    <a class="code hl_variable" href="trap_8cpp.html#ac5b17082b60d0b639f1e58b9e04f594f">tr_boobytrap</a> = trapfind( <span class="stringliteral">&quot;tr_boobytrap&quot;</span> );</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <a class="code hl_variable" href="trap_8cpp.html#aa0c804eedf5bc2cb9018e31cf4d41e3a">tr_temple_flood</a> = trapfind( <span class="stringliteral">&quot;tr_temple_flood&quot;</span> );</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    <a class="code hl_variable" href="trap_8cpp.html#ada6768af7e67ae142df695337783962c">tr_temple_toggle</a> = trapfind( <span class="stringliteral">&quot;tr_temple_toggle&quot;</span> );</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <a class="code hl_variable" href="trap_8cpp.html#ae20792beee1407e89dee426453bf4dc4">tr_glow</a> = trapfind( <span class="stringliteral">&quot;tr_glow&quot;</span> );</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <a class="code hl_variable" href="trap_8cpp.html#aee2d79714aa3d106030ee6b16ef9c08d">tr_hum</a> = trapfind( <span class="stringliteral">&quot;tr_hum&quot;</span> );</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    <a class="code hl_variable" href="trap_8cpp.html#abf58b92f43a0c28847c3334327fb7663">tr_shadow</a> = trapfind( <span class="stringliteral">&quot;tr_shadow&quot;</span> );</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <a class="code hl_variable" href="trap_8cpp.html#af0829c97d3e4b6cbddc262e308d3b629">tr_drain</a> = trapfind( <span class="stringliteral">&quot;tr_drain&quot;</span> );</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    <a class="code hl_variable" href="trap_8cpp.html#a1a4923acb4cdbe1901dc7bbcbc469154">tr_snake</a> = trapfind( <span class="stringliteral">&quot;tr_snake&quot;</span> );</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <a class="code hl_variable" href="trap_8cpp.html#a8762a5b176a82bcc1cdfad3232cfcc29">tr_glass_pit</a> = trapfind( <span class="stringliteral">&quot;tr_glass_pit&quot;</span> );</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4afa733ad49aa7cb511c8acdc6604fcfed"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4afa733ad49aa7cb511c8acdc6604fcfed">cata_variant_type::trap_str_id</a></div><div class="ttdeci">@ trap_str_id</div></div>
<div class="ttc" id="aclassstring__id_html_aa3cde2bfb58efa9621289c0a70d24c5a"><div class="ttname"><a href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">string_id::id</a></div><div class="ttdeci">int_id&lt; T &gt; id() const</div><div class="ttdoc">Translate the string based it to the matching integer based id.</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00054">ammo_effect.cpp:54</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae29dd8ed38d2b5eb443a65ad46f10b2d"><div class="ttname"><a href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; trap &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; trap &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="astructtrap_html"><div class="ttname"><a href="structtrap.html">trap</a></div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00086">trap.h:86</a></div></div>
<div class="ttc" id="astructtrap_html_a1df9fdf246ce84494eb68dcd6e59cb5f"><div class="ttname"><a href="structtrap.html#a1df9fdf246ce84494eb68dcd6e59cb5f">trap::is_funnel</a></div><div class="ttdeci">bool is_funnel() const</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00255">trap.cpp:255</a></div></div>
<div class="ttc" id="astructtrap_html_ab2767aee5179ad23b3ad0b6b4b2415af"><div class="ttname"><a href="structtrap.html#ab2767aee5179ad23b3ad0b6b4b2415af">trap::loadid</a></div><div class="ttdeci">trap_id loadid</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00088">trap.h:88</a></div></div>
<div class="ttc" id="astructtrap_html_af4ff2a16113fc1dd7c53285c0f91c126"><div class="ttname"><a href="structtrap.html#af4ff2a16113fc1dd7c53285c0f91c126">trap::id</a></div><div class="ttdeci">trap_str_id id</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00087">trap.h:87</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a03596dccf7b4e3b6aaaa999ded5f88c0"><div class="ttname"><a href="trap_8cpp.html#a03596dccf7b4e3b6aaaa999ded5f88c0">tr_leather_funnel</a></div><div class="ttdeci">trap_id tr_leather_funnel</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00283">trap.cpp:283</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a0791d82ac772caa46061440ee04ae2b3"><div class="ttname"><a href="trap_8cpp.html#a0791d82ac772caa46061440ee04ae2b3">tr_spike_pit</a></div><div class="ttdeci">trap_id tr_spike_pit</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00305">trap.cpp:305</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a09ec5fa2e09d5e0f428da68f39b72410"><div class="ttname"><a href="trap_8cpp.html#a09ec5fa2e09d5e0f428da68f39b72410">tr_telepad</a></div><div class="ttdeci">trap_id tr_telepad</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00300">trap.cpp:300</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a117d5daeb606ede6888e594b5343884f"><div class="ttname"><a href="trap_8cpp.html#a117d5daeb606ede6888e594b5343884f">tr_makeshift_funnel</a></div><div class="ttdeci">trap_id tr_makeshift_funnel</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00282">trap.cpp:282</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a17eafd87410c6905de4259242a8b2a80"><div class="ttname"><a href="trap_8cpp.html#a17eafd87410c6905de4259242a8b2a80">tr_crossbow</a></div><div class="ttdeci">trap_id tr_crossbow</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00292">trap.cpp:292</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a1a20cfb82555532100f46e836d1e3f1f"><div class="ttname"><a href="trap_8cpp.html#a1a20cfb82555532100f46e836d1e3f1f">tr_tripwire</a></div><div class="ttdeci">trap_id tr_tripwire</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00291">trap.cpp:291</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a1a4923acb4cdbe1901dc7bbcbc469154"><div class="ttname"><a href="trap_8cpp.html#a1a4923acb4cdbe1901dc7bbcbc469154">tr_snake</a></div><div class="ttdeci">trap_id tr_snake</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00316">trap.cpp:316</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a203a6015d4d2a9a9b7426894adf13a90"><div class="ttname"><a href="trap_8cpp.html#a203a6015d4d2a9a9b7426894adf13a90">tr_portal</a></div><div class="ttdeci">trap_id tr_portal</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00307">trap.cpp:307</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a246536404c7e407b9cf74e44b10bacd1"><div class="ttname"><a href="trap_8cpp.html#a246536404c7e407b9cf74e44b10bacd1">tr_lava</a></div><div class="ttdeci">trap_id tr_lava</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00306">trap.cpp:306</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a2a84dd6b082261c31787e9f70291b18a"><div class="ttname"><a href="trap_8cpp.html#a2a84dd6b082261c31787e9f70291b18a">tr_blade</a></div><div class="ttdeci">trap_id tr_blade</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00297">trap.cpp:297</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a2cec40861f35486a7e5b2ca27c1a3f66"><div class="ttname"><a href="trap_8cpp.html#a2cec40861f35486a7e5b2ca27c1a3f66">tr_caltrops</a></div><div class="ttdeci">trap_id tr_caltrops</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00289">trap.cpp:289</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a3498d444608073a96400b6fe498f9713"><div class="ttname"><a href="trap_8cpp.html#a3498d444608073a96400b6fe498f9713">tr_glass</a></div><div class="ttdeci">trap_id tr_glass</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00278">trap.cpp:278</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a39fe656ad4c02115b8b6ea0a66887bde"><div class="ttname"><a href="trap_8cpp.html#a39fe656ad4c02115b8b6ea0a66887bde">tr_shotgun_1</a></div><div class="ttdeci">trap_id tr_shotgun_1</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00295">trap.cpp:295</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a50d4541bbdf6688b636185755f33f88b"><div class="ttname"><a href="trap_8cpp.html#a50d4541bbdf6688b636185755f33f88b">tr_funnel</a></div><div class="ttdeci">trap_id tr_funnel</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00280">trap.cpp:280</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a524bb2298789f9de2f61eaecd450a01d"><div class="ttname"><a href="trap_8cpp.html#a524bb2298789f9de2f61eaecd450a01d">tr_pit</a></div><div class="ttdeci">trap_id tr_pit</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00304">trap.cpp:304</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a573a210306281be504795cf97c0a8892"><div class="ttname"><a href="trap_8cpp.html#a573a210306281be504795cf97c0a8892">tr_engine</a></div><div class="ttdeci">trap_id tr_engine</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00296">trap.cpp:296</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a58cbf14010e76d2a11c7134858a43256"><div class="ttname"><a href="trap_8cpp.html#a58cbf14010e76d2a11c7134858a43256">tr_beartrap</a></div><div class="ttdeci">trap_id tr_beartrap</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00286">trap.cpp:286</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a5fef901bfa2669cf1ae7c4d84c6c2a05"><div class="ttname"><a href="trap_8cpp.html#a5fef901bfa2669cf1ae7c4d84c6c2a05">tr_goo</a></div><div class="ttdeci">trap_id tr_goo</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00301">trap.cpp:301</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a6264c9fcb7d0787868dcc5e90e8d5cd6"><div class="ttname"><a href="trap_8cpp.html#a6264c9fcb7d0787868dcc5e90e8d5cd6">tr_landmine</a></div><div class="ttdeci">trap_id tr_landmine</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00298">trap.cpp:298</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a742b722f20e216b04c2c353b605d6e85"><div class="ttname"><a href="trap_8cpp.html#a742b722f20e216b04c2c353b605d6e85">tr_fur_rollmat</a></div><div class="ttdeci">trap_id tr_fur_rollmat</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00285">trap.cpp:285</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a7b8e40eb2b50e3841e2d9f2d0531226a"><div class="ttname"><a href="trap_8cpp.html#a7b8e40eb2b50e3841e2d9f2d0531226a">tr_null</a></div><div class="ttdeci">trap_id tr_null</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00276">trap.cpp:276</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a7b9229513748c73625232ae5c35697cc"><div class="ttname"><a href="trap_8cpp.html#a7b9229513748c73625232ae5c35697cc">tr_bubblewrap</a></div><div class="ttdeci">trap_id tr_bubblewrap</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00277">trap.cpp:277</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a8149ff482a37aa5d47ca76e6ad3f54b7"><div class="ttname"><a href="trap_8cpp.html#a8149ff482a37aa5d47ca76e6ad3f54b7">funnel_traps</a></div><div class="ttdeci">static std::vector&lt; const trap * &gt; funnel_traps</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00088">trap.cpp:88</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a8762a5b176a82bcc1cdfad3232cfcc29"><div class="ttname"><a href="trap_8cpp.html#a8762a5b176a82bcc1cdfad3232cfcc29">tr_glass_pit</a></div><div class="ttdeci">trap_id tr_glass_pit</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00317">trap.cpp:317</a></div></div>
<div class="ttc" id="atrap_8cpp_html_a87dfe063aacd9006f10250bd6996c284"><div class="ttname"><a href="trap_8cpp.html#a87dfe063aacd9006f10250bd6996c284">tr_nailboard</a></div><div class="ttdeci">trap_id tr_nailboard</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00288">trap.cpp:288</a></div></div>
<div class="ttc" id="atrap_8cpp_html_aa0c804eedf5bc2cb9018e31cf4d41e3a"><div class="ttname"><a href="trap_8cpp.html#aa0c804eedf5bc2cb9018e31cf4d41e3a">tr_temple_flood</a></div><div class="ttdeci">trap_id tr_temple_flood</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00310">trap.cpp:310</a></div></div>
<div class="ttc" id="atrap_8cpp_html_aab6c0d06c0be15fa202188e5ac2ddd94"><div class="ttname"><a href="trap_8cpp.html#aab6c0d06c0be15fa202188e5ac2ddd94">tr_cot</a></div><div class="ttdeci">trap_id tr_cot</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00279">trap.cpp:279</a></div></div>
<div class="ttc" id="atrap_8cpp_html_ab22376a81cd1f252b62a89080544a124"><div class="ttname"><a href="trap_8cpp.html#ab22376a81cd1f252b62a89080544a124">tr_shotgun_2_1</a></div><div class="ttdeci">trap_id tr_shotgun_2_1</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00294">trap.cpp:294</a></div></div>
<div class="ttc" id="atrap_8cpp_html_abecb554db3424388894ab98bde179238"><div class="ttname"><a href="trap_8cpp.html#abecb554db3424388894ab98bde179238">tr_beartrap_buried</a></div><div class="ttdeci">trap_id tr_beartrap_buried</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00287">trap.cpp:287</a></div></div>
<div class="ttc" id="atrap_8cpp_html_abf58b92f43a0c28847c3334327fb7663"><div class="ttname"><a href="trap_8cpp.html#abf58b92f43a0c28847c3334327fb7663">tr_shadow</a></div><div class="ttdeci">trap_id tr_shadow</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00314">trap.cpp:314</a></div></div>
<div class="ttc" id="atrap_8cpp_html_ac5b17082b60d0b639f1e58b9e04f594f"><div class="ttname"><a href="trap_8cpp.html#ac5b17082b60d0b639f1e58b9e04f594f">tr_boobytrap</a></div><div class="ttdeci">trap_id tr_boobytrap</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00309">trap.cpp:309</a></div></div>
<div class="ttc" id="atrap_8cpp_html_ac666204330f19cb23e099f6870b8a1a4"><div class="ttname"><a href="trap_8cpp.html#ac666204330f19cb23e099f6870b8a1a4">tr_landmine_buried</a></div><div class="ttdeci">trap_id tr_landmine_buried</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00299">trap.cpp:299</a></div></div>
<div class="ttc" id="atrap_8cpp_html_ad5e1ccbd8f8208f337f668259438fa21"><div class="ttname"><a href="trap_8cpp.html#ad5e1ccbd8f8208f337f668259438fa21">tr_sinkhole</a></div><div class="ttdeci">trap_id tr_sinkhole</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00303">trap.cpp:303</a></div></div>
<div class="ttc" id="atrap_8cpp_html_ad841f4a41b0b37fe10440cb922d7d19d"><div class="ttname"><a href="trap_8cpp.html#ad841f4a41b0b37fe10440cb922d7d19d">tr_rollmat</a></div><div class="ttdeci">trap_id tr_rollmat</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00284">trap.cpp:284</a></div></div>
<div class="ttc" id="atrap_8cpp_html_ada6768af7e67ae142df695337783962c"><div class="ttname"><a href="trap_8cpp.html#ada6768af7e67ae142df695337783962c">tr_temple_toggle</a></div><div class="ttdeci">trap_id tr_temple_toggle</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00311">trap.cpp:311</a></div></div>
<div class="ttc" id="atrap_8cpp_html_ae20792beee1407e89dee426453bf4dc4"><div class="ttname"><a href="trap_8cpp.html#ae20792beee1407e89dee426453bf4dc4">tr_glow</a></div><div class="ttdeci">trap_id tr_glow</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00312">trap.cpp:312</a></div></div>
<div class="ttc" id="atrap_8cpp_html_ae2119cff9d4aeac817813ee24c8079de"><div class="ttname"><a href="trap_8cpp.html#ae2119cff9d4aeac817813ee24c8079de">tr_metal_funnel</a></div><div class="ttdeci">trap_id tr_metal_funnel</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00281">trap.cpp:281</a></div></div>
<div class="ttc" id="atrap_8cpp_html_ae5bcfba5446af5e6d85e94874b807912"><div class="ttname"><a href="trap_8cpp.html#ae5bcfba5446af5e6d85e94874b807912">tr_shotgun_2</a></div><div class="ttdeci">trap_id tr_shotgun_2</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00293">trap.cpp:293</a></div></div>
<div class="ttc" id="atrap_8cpp_html_aeba3c25f596f9754d1deeacf946c2ef7"><div class="ttname"><a href="trap_8cpp.html#aeba3c25f596f9754d1deeacf946c2ef7">tr_ledge</a></div><div class="ttdeci">trap_id tr_ledge</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00308">trap.cpp:308</a></div></div>
<div class="ttc" id="atrap_8cpp_html_aeda5331180b94dbfa89da7b898f6a5eb"><div class="ttname"><a href="trap_8cpp.html#aeda5331180b94dbfa89da7b898f6a5eb">tr_caltrops_glass</a></div><div class="ttdeci">trap_id tr_caltrops_glass</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00290">trap.cpp:290</a></div></div>
<div class="ttc" id="atrap_8cpp_html_aee2d79714aa3d106030ee6b16ef9c08d"><div class="ttname"><a href="trap_8cpp.html#aee2d79714aa3d106030ee6b16ef9c08d">tr_hum</a></div><div class="ttdeci">trap_id tr_hum</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00313">trap.cpp:313</a></div></div>
<div class="ttc" id="atrap_8cpp_html_af0829c97d3e4b6cbddc262e308d3b629"><div class="ttname"><a href="trap_8cpp.html#af0829c97d3e4b6cbddc262e308d3b629">tr_drain</a></div><div class="ttdeci">trap_id tr_drain</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00315">trap.cpp:315</a></div></div>
<div class="ttc" id="atrap_8cpp_html_afee5761c35ce46a9f1a3ab1ed42eeaac"><div class="ttname"><a href="trap_8cpp.html#afee5761c35ce46a9f1a3ab1ed42eeaac">tr_dissector</a></div><div class="ttdeci">trap_id tr_dissector</div><div class="ttdef"><b>Definition:</b> <a href="trap_8cpp_source.html#l00302">trap.cpp:302</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8cpp_source.html#l00088">funnel_traps</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00054">string_id&lt; T &gt;::id()</a>, <a class="el" href="trap_8h_source.html#l00087">id</a>, <a class="el" href="trap_8cpp_source.html#l00255">is_funnel()</a>, <a class="el" href="trap_8h_source.html#l00088">loadid</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; trap &gt;::NULL_ID()</a>, <a class="el" href="trap_8cpp_source.html#l00286">tr_beartrap</a>, <a class="el" href="trap_8cpp_source.html#l00287">tr_beartrap_buried</a>, <a class="el" href="trap_8cpp_source.html#l00297">tr_blade</a>, <a class="el" href="trap_8cpp_source.html#l00309">tr_boobytrap</a>, <a class="el" href="trap_8cpp_source.html#l00277">tr_bubblewrap</a>, <a class="el" href="trap_8cpp_source.html#l00289">tr_caltrops</a>, <a class="el" href="trap_8cpp_source.html#l00290">tr_caltrops_glass</a>, <a class="el" href="trap_8cpp_source.html#l00279">tr_cot</a>, <a class="el" href="trap_8cpp_source.html#l00292">tr_crossbow</a>, <a class="el" href="trap_8cpp_source.html#l00302">tr_dissector</a>, <a class="el" href="trap_8cpp_source.html#l00315">tr_drain</a>, <a class="el" href="trap_8cpp_source.html#l00296">tr_engine</a>, <a class="el" href="trap_8cpp_source.html#l00280">tr_funnel</a>, <a class="el" href="trap_8cpp_source.html#l00285">tr_fur_rollmat</a>, <a class="el" href="trap_8cpp_source.html#l00278">tr_glass</a>, <a class="el" href="trap_8cpp_source.html#l00317">tr_glass_pit</a>, <a class="el" href="trap_8cpp_source.html#l00312">tr_glow</a>, <a class="el" href="trap_8cpp_source.html#l00301">tr_goo</a>, <a class="el" href="trap_8cpp_source.html#l00313">tr_hum</a>, <a class="el" href="trap_8cpp_source.html#l00298">tr_landmine</a>, <a class="el" href="trap_8cpp_source.html#l00299">tr_landmine_buried</a>, <a class="el" href="trap_8cpp_source.html#l00306">tr_lava</a>, <a class="el" href="trap_8cpp_source.html#l00283">tr_leather_funnel</a>, <a class="el" href="trap_8cpp_source.html#l00308">tr_ledge</a>, <a class="el" href="trap_8cpp_source.html#l00282">tr_makeshift_funnel</a>, <a class="el" href="trap_8cpp_source.html#l00281">tr_metal_funnel</a>, <a class="el" href="trap_8cpp_source.html#l00288">tr_nailboard</a>, <a class="el" href="trap_8cpp_source.html#l00276">tr_null</a>, <a class="el" href="trap_8cpp_source.html#l00304">tr_pit</a>, <a class="el" href="trap_8cpp_source.html#l00307">tr_portal</a>, <a class="el" href="trap_8cpp_source.html#l00284">tr_rollmat</a>, <a class="el" href="trap_8cpp_source.html#l00314">tr_shadow</a>, <a class="el" href="trap_8cpp_source.html#l00295">tr_shotgun_1</a>, <a class="el" href="trap_8cpp_source.html#l00293">tr_shotgun_2</a>, <a class="el" href="trap_8cpp_source.html#l00294">tr_shotgun_2_1</a>, <a class="el" href="trap_8cpp_source.html#l00303">tr_sinkhole</a>, <a class="el" href="trap_8cpp_source.html#l00316">tr_snake</a>, <a class="el" href="trap_8cpp_source.html#l00305">tr_spike_pit</a>, <a class="el" href="trap_8cpp_source.html#l00300">tr_telepad</a>, <a class="el" href="trap_8cpp_source.html#l00310">tr_temple_flood</a>, <a class="el" href="trap_8cpp_source.html#l00311">tr_temple_toggle</a>, <a class="el" href="trap_8cpp_source.html#l00291">tr_tripwire</a>, <a class="el" href="namespaceanonymous__namespace_02trap_8cpp_03.html#ab3675c90d391e657ff95abc6c6e3ad40">anonymous_namespace{trap.cpp}::trap_factory</a>, and <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4afa733ad49aa7cb511c8acdc6604fcfed">trap_str_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8cpp_source.html#l00627">DynamicDataLoader::finalize_loaded_data()</a>.</p>

</div>
</div>
<a id="a2a6aca9abdabfc0381ca8e3438da9e84" name="a2a6aca9abdabfc0381ca8e3438da9e84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a6aca9abdabfc0381ca8e3438da9e84">&#9670;&nbsp;</a></span>get_avoidance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int trap::get_avoidance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether triggering the trap can be avoid (if greater than 0) and if so, this is compared to dodge skill (with some adjustments). </p>
<p >Smaller values means it's easier to dodge. </p>

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00144">144</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>                                  {</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structtrap.html#a7dd8117e839b760a9ffa187d3670f4ed">avoidance</a>;</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>        }</div>
<div class="ttc" id="astructtrap_html_a7dd8117e839b760a9ffa187d3670f4ed"><div class="ttname"><a href="structtrap.html#a7dd8117e839b760a9ffa187d3670f4ed">trap::avoidance</a></div><div class="ttdeci">int avoidance</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00098">trap.h:98</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8h_source.html#l00098">avoidance</a>.</p>

<p class="reference">Referenced by <a class="el" href="monster_8cpp_source.html#l00858">monster::avoid_trap()</a>, <a class="el" href="player_8cpp_source.html#l00593">player::avoid_trap()</a>, and <a class="el" href="map_8cpp_source.html#l05193">map::disarm_trap()</a>.</p>

</div>
</div>
<a id="aba1617730ea581913a51524df89e1142" name="aba1617730ea581913a51524df89e1142"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba1617730ea581913a51524df89e1142">&#9670;&nbsp;</a></span>get_difficulty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int trap::get_difficulty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is used when disarming the trap. </p>
<p >A value of 0 means disarming will always work (e.g. for funnels), a values of 99 means it can not be disarmed at all. Smaller values makes it easier to disarm the trap. </p>

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00152">152</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>                                   {</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structtrap.html#abbf38effe374d03f39b3647a27e3c3a7">difficulty</a>;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>        }</div>
<div class="ttc" id="astructtrap_html_abbf38effe374d03f39b3647a27e3c3a7"><div class="ttname"><a href="structtrap.html#abbf38effe374d03f39b3647a27e3c3a7">trap::difficulty</a></div><div class="ttdeci">int difficulty</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00100">trap.h:100</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8h_source.html#l00100">difficulty</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05193">map::disarm_trap()</a>, and <a class="el" href="iexamine_8cpp_source.html#l03741">iexamine::trap()</a>.</p>

</div>
</div>
<a id="afffbc9e94465251d8486a7a7ff31e76c" name="afffbc9e94465251d8486a7a7ff31e76c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afffbc9e94465251d8486a7a7ff31e76c">&#9670;&nbsp;</a></span>get_funnels()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; const <a class="el" href="structtrap.html">trap</a> * &gt; &amp; trap::get_funnels </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns all trap objects that are actually funnels (is_funnel returns true for all of them). </p>

<p class="definition">Definition at line <a class="el" href="trap_8cpp_source.html#l00090">90</a> of file <a class="el" href="trap_8cpp_source.html">trap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>{</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="trap_8cpp.html#a8149ff482a37aa5d47ca76e6ad3f54b7">funnel_traps</a>;</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8cpp_source.html#l00088">funnel_traps</a>.</p>

<p class="reference">Referenced by <a class="el" href="weather_8cpp_source.html#l00353">fill_water_collectors()</a>.</p>

</div>
</div>
<a id="a8342e2f67509ba3c791ff104126f47e4" name="a8342e2f67509ba3c791ff104126f47e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8342e2f67509ba3c791ff104126f47e4">&#9670;&nbsp;</a></span>get_trap_radius()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int trap::get_trap_radius </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is used when defining area this trap occupies. </p>
<p >A value of 0 means trap occupies exactly 1 tile. </p>

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00193">193</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>                                    {</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structtrap.html#a43fd5f8fec40e3bb6ca7e07fa7ae6b3f">trap_radius</a>;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>        }</div>
<div class="ttc" id="astructtrap_html_a43fd5f8fec40e3bb6ca7e07fa7ae6b3f"><div class="ttname"><a href="structtrap.html#a43fd5f8fec40e3bb6ca7e07fa7ae6b3f">trap::trap_radius</a></div><div class="ttdeci">int trap_radius</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00102">trap.h:102</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8h_source.html#l00102">trap_radius</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l04149">place_trap_actor::use()</a>.</p>

</div>
</div>
<a id="a1bd5955eae82045548ff8fc99a63edfc" name="a1bd5955eae82045548ff8fc99a63edfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bd5955eae82045548ff8fc99a63edfc">&#9670;&nbsp;</a></span>get_visibility()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int trap::get_visibility </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>How easy it is to spot the trap. </p>
<p >Smaller values means it's easier to spot. </p>

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00133">133</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>                                   {</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structtrap.html#a0913f4b2535ae7fe8b5550b974b31a18">visibility</a>;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8h_source.html#l00096">visibility</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l06720">colorized_trap_name_at()</a>, and <a class="el" href="player_8cpp_source.html#l00701">player::search_surroundings()</a>.</p>

</div>
</div>
<a id="aafab5c450397fa7ea6430a9334c2859c" name="aafab5c450397fa7ea6430a9334c2859c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafab5c450397fa7ea6430a9334c2859c">&#9670;&nbsp;</a></span>is_always_invisible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool trap::is_always_invisible </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>There are special always invisible traps. </p>
<p >See <a class="el" href="classplayer.html#a874226a0510cd9cee887c2c2c79dff11" title="Search surrounding squares for traps (and maybe other things in the future).">player::search_surroundings</a> </p>

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00127">127</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>                                         {</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structtrap.html#af528369ecffbd6666b411fbbb466bc4e">always_invisible</a>;</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>        }</div>
<div class="ttc" id="astructtrap_html_af528369ecffbd6666b411fbbb466bc4e"><div class="ttname"><a href="structtrap.html#af528369ecffbd6666b411fbbb466bc4e">trap::always_invisible</a></div><div class="ttdeci">bool always_invisible</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00104">trap.h:104</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8h_source.html#l00104">always_invisible</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l00701">player::search_surroundings()</a>.</p>

</div>
</div>
<a id="adc8f59b97597d373f7cb0bbcf061e794" name="adc8f59b97597d373f7cb0bbcf061e794"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc8f59b97597d373f7cb0bbcf061e794">&#9670;&nbsp;</a></span>is_benign()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool trap::is_benign </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If true, this is not really a trap and there won't be any safety queries before stepping onto it (e.g. </p>
<p >for funnels). </p>

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00159">159</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>                               {</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="structtrap.html#a10039a239822fb13066d9e61c82f5bf5">benign</a>;</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>        }</div>
<div class="ttc" id="astructtrap_html_a10039a239822fb13066d9e61c82f5bf5"><div class="ttname"><a href="structtrap.html#a10039a239822fb13066d9e61c82f5bf5">trap::benign</a></div><div class="ttdeci">bool benign</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00103">trap.h:103</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8h_source.html#l00103">benign</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l07840">Character::adjacent_tile()</a>, <a class="el" href="game_8cpp_source.html#l08746">game::get_dangerous_tile()</a>, <a class="el" href="advanced__inv__area_8cpp_source.html#l00061">advanced_inv_area::init()</a>, <a class="el" href="map_8cpp_source.html#l08736">map::update_pathfinding_cache()</a>, and <a class="el" href="monmove_8cpp_source.html#l00117">monster::will_move_to()</a>.</p>

</div>
</div>
<a id="a1df9fdf246ce84494eb68dcd6e59cb5f" name="a1df9fdf246ce84494eb68dcd6e59cb5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1df9fdf246ce84494eb68dcd6e59cb5f">&#9670;&nbsp;</a></span>is_funnel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool trap::is_funnel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8cpp_source.html#l00255">255</a> of file <a class="el" href="trap_8cpp_source.html">trap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>{</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    <span class="keywordflow">return</span> !<a class="code hl_function" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>() &amp;&amp; <a class="code hl_variable" href="structtrap.html#a2cea2683be1199ec40d943540d3a78ff">funnel_radius_mm</a> &gt; 0;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>}</div>
<div class="ttc" id="astructtrap_html_a2cea2683be1199ec40d943540d3a78ff"><div class="ttname"><a href="structtrap.html#a2cea2683be1199ec40d943540d3a78ff">trap::funnel_radius_mm</a></div><div class="ttdeci">int funnel_radius_mm</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00113">trap.h:113</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8h_source.html#l00113">funnel_radius_mm</a>, and <a class="el" href="trap_8cpp_source.html#l00245">is_null()</a>.</p>

<p class="reference">Referenced by <a class="el" href="trap_8cpp_source.html#l00331">finalize()</a>, and <a class="el" href="weather_8cpp_source.html#l00184">retroactively_fill_from_funnel()</a>.</p>

</div>
</div>
<a id="a6a9ac96c5c81eb31093e049ffeac8b4f" name="a6a9ac96c5c81eb31093e049ffeac8b4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a9ac96c5c81eb31093e049ffeac8b4f">&#9670;&nbsp;</a></span>is_null()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool trap::is_null </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether this is the null-traps, aka no trap at all. </p>

<p class="definition">Definition at line <a class="el" href="trap_8cpp_source.html#l00245">245</a> of file <a class="el" href="trap_8cpp_source.html">trap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>{</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="structtrap.html#ab2767aee5179ad23b3ad0b6b4b2415af">loadid</a> == <a class="code hl_variable" href="trap_8cpp.html#a7b8e40eb2b50e3841e2d9f2d0531226a">tr_null</a>;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8h_source.html#l00088">loadid</a>, and <a class="el" href="trap_8cpp_source.html#l00276">tr_null</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l10245">Character::add_known_trap()</a>, <a class="el" href="character_8cpp_source.html#l07840">Character::adjacent_tile()</a>, <a class="el" href="character_8cpp_source.html#l05686">Character::base_comfort_value()</a>, <a class="el" href="trap_8cpp_source.html#l00223">can_see()</a>, <a class="el" href="construction_8cpp_source.html#l01072">construct::check_empty()</a>, <a class="el" href="construction_8cpp_source.html#l01133">construct::check_no_trap()</a>, <a class="el" href="iuse_8cpp_source.html#l06720">colorized_trap_name_at()</a>, <a class="el" href="map_8cpp_source.html#l05193">map::disarm_trap()</a>, <a class="el" href="mapgen_8cpp_source.html#l03515">map::draw_lab()</a>, <a class="el" href="game_8cpp_source.html#l05521">game::examine()</a>, <a class="el" href="character_8cpp_source.html#l09463">Character::floor_bedding_warmth()</a>, <a class="el" href="game_8cpp_source.html#l09549">game::grabbed_furn_move()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04101">place_trap_actor::is_allowed()</a>, <a class="el" href="trap_8cpp_source.html#l00255">is_funnel()</a>, <a class="el" href="map__extras_8cpp_source.html#l01066">MapExtras::mx_minefield()</a>, <a class="el" href="map__extras_8cpp_source.html#l01014">MapExtras::mx_portal()</a>, <a class="el" href="iexamine_8cpp_source.html#l01126">iexamine::rubble()</a>, <a class="el" href="player_8cpp_source.html#l00701">player::search_surroundings()</a>, <a class="el" href="iexamine_8cpp_source.html#l03607">iexamine::shrub_wildveggies()</a>, and <a class="el" href="trap_8cpp_source.html#l00250">triggered_by_item()</a>.</p>

</div>
</div>
<a id="acb2a07bb5d6fc8cccf2e2eb3efb45102" name="acb2a07bb5d6fc8cccf2e2eb3efb45102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb2a07bb5d6fc8cccf2e2eb3efb45102">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trap::load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads this specific trap. </p>

<p class="definition">Definition at line <a class="el" href="trap_8cpp_source.html#l00105">105</a> of file <a class="el" href="trap_8cpp_source.html">trap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>{</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <a class="code hl_function" href="generic__factory_8h.html#a0a177c754c5ba89ac6c543656b0652cc">mandatory</a>( jo, <a class="code hl_variable" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;id&quot;</span>, <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <a class="code hl_function" href="generic__factory_8h.html#a0a177c754c5ba89ac6c543656b0652cc">mandatory</a>( jo, <a class="code hl_variable" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;name&quot;</span>, <a class="code hl_variable" href="structtrap.html#a834b75772b7d0c5a3b7dab107053580c">name_</a> );</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="assign_8h.html#ac353926c625eb31f78ef7534277c5aaf">assign</a>( jo, <span class="stringliteral">&quot;color&quot;</span>, <a class="code hl_variable" href="structtrap.html#a92373743ed980b356de173c228c79499">color</a> ) ) {</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;missing mandatory member \&quot;color\&quot;&quot;</span> );</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    }</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <a class="code hl_function" href="generic__factory_8h.html#a0a177c754c5ba89ac6c543656b0652cc">mandatory</a>( jo, <a class="code hl_variable" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;symbol&quot;</span>, <a class="code hl_variable" href="structtrap.html#a975d50578595efdc3b93fb32bab0e41b">sym</a>, <a class="code hl_function" href="generic__factory_8h.html#a079efdb0a054d93f3d027084fa963268">one_char_symbol_reader</a> );</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    <a class="code hl_function" href="generic__factory_8h.html#a0a177c754c5ba89ac6c543656b0652cc">mandatory</a>( jo, <a class="code hl_variable" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;visibility&quot;</span>, <a class="code hl_variable" href="structtrap.html#a0913f4b2535ae7fe8b5550b974b31a18">visibility</a> );</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <a class="code hl_function" href="generic__factory_8h.html#a0a177c754c5ba89ac6c543656b0652cc">mandatory</a>( jo, <a class="code hl_variable" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;avoidance&quot;</span>, <a class="code hl_variable" href="structtrap.html#a7dd8117e839b760a9ffa187d3670f4ed">avoidance</a> );</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <a class="code hl_function" href="generic__factory_8h.html#a0a177c754c5ba89ac6c543656b0652cc">mandatory</a>( jo, <a class="code hl_variable" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;difficulty&quot;</span>, <a class="code hl_variable" href="structtrap.html#abbf38effe374d03f39b3647a27e3c3a7">difficulty</a> );</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <a class="code hl_function" href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a>( jo, <a class="code hl_variable" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;trap_radius&quot;</span>, <a class="code hl_variable" href="structtrap.html#a43fd5f8fec40e3bb6ca7e07fa7ae6b3f">trap_radius</a>, 0 );</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="comment">// TODO: Is there a generic_factory version of this?</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <a class="code hl_variable" href="structtrap.html#a5b38533ac3a1c9c1f6a6844d0ee04a91">act</a> = <a class="code hl_function" href="trap_8h.html#a67ad178ac2d49b42b4b440427c073b0d">trap_function_from_string</a>( jo.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;action&quot;</span> ) );</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span> </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <a class="code hl_function" href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a>( jo, <a class="code hl_variable" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;map_regen&quot;</span>, <a class="code hl_variable" href="structtrap.html#a41675497496296bffef048bfe76c977c">map_regen</a>, <span class="stringliteral">&quot;none&quot;</span> );</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <a class="code hl_function" href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a>( jo, <a class="code hl_variable" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;benign&quot;</span>, <a class="code hl_variable" href="structtrap.html#a10039a239822fb13066d9e61c82f5bf5">benign</a>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <a class="code hl_function" href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a>( jo, <a class="code hl_variable" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;always_invisible&quot;</span>, <a class="code hl_variable" href="structtrap.html#af528369ecffbd6666b411fbbb466bc4e">always_invisible</a>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    <a class="code hl_function" href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a>( jo, <a class="code hl_variable" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;funnel_radius&quot;</span>, <a class="code hl_variable" href="structtrap.html#a2cea2683be1199ec40d943540d3a78ff">funnel_radius_mm</a>, 0 );</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <a class="code hl_function" href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a>( jo, <a class="code hl_variable" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;comfort&quot;</span>, <a class="code hl_variable" href="structtrap.html#a9e32dc8e92c961fb52b3086421c62b8e">comfort</a>, 0 );</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <a class="code hl_function" href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a>( jo, <a class="code hl_variable" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;floor_bedding_warmth&quot;</span>, <a class="code hl_variable" href="structtrap.html#a080d01633b06f2db081704ba4ee399f3">floor_bedding_warmth</a>, 0 );</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <a class="code hl_function" href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a>( jo, <a class="code hl_variable" href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">was_loaded</a>, <span class="stringliteral">&quot;spell_data&quot;</span>, <a class="code hl_variable" href="structtrap.html#a204b98d9b542a70ab2781c13af441202">spell_data</a> );</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <a class="code hl_function" href="assign_8h.html#ac353926c625eb31f78ef7534277c5aaf">assign</a>( jo, <span class="stringliteral">&quot;trigger_weight&quot;</span>, <a class="code hl_variable" href="structtrap.html#a5e8454e37107896cc58505a62dd6724e">trigger_weight</a> );</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonValue.html">JsonValue</a> entry : jo.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;drops&quot;</span> ) ) {</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>        <a class="code hl_class" href="classstring__id.html">itype_id</a> item_type;</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>        <span class="keywordtype">int</span> quantity = 0;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        <span class="keywordtype">int</span> charges = 0;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>        <span class="keywordflow">if</span>( entry.test_object() ) {</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>            <a class="code hl_class" href="classJsonObject.html">JsonObject</a> jc = entry.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>();</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>            jc.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;item&quot;</span>, item_type, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>            quantity = jc.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;quantity&quot;</span>, 1 );</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>            charges = jc.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;charges&quot;</span>, 1 );</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>            entry.read( item_type, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>            quantity = 1;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>            charges = 1;</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>        }</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>        <span class="keywordflow">if</span>( !item_type.<a class="code hl_function" href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">is_empty</a>() &amp;&amp; quantity &gt; 0 &amp;&amp; charges &gt; 0 ) {</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>            <a class="code hl_variable" href="structtrap.html#abdb4b9b037b1554a9bbf01b9db1f8387">components</a>.emplace_back( std::make_tuple( item_type, quantity, charges ) );</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>        }</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    }</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a49ff0ef5ec58e2cf47dcaa551eb2b472">has_object</a>( <span class="stringliteral">&quot;vehicle_data&quot;</span> ) ) {</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>        <a class="code hl_class" href="classJsonObject.html">JsonObject</a> jv = jo.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>( <span class="stringliteral">&quot;vehicle_data&quot;</span> );</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>        <a class="code hl_variable" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code hl_variable" href="structvehicle__handle__trap__data.html#acf9ea314f7998e6a589bb3187c6ae6a2">remove_trap</a> = jv.<a class="code hl_function" href="classJsonObject.html#a9e628525564a9e7ef3755c10e0c9fac4">get_bool</a>( <span class="stringliteral">&quot;remove_trap&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>        <a class="code hl_variable" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code hl_variable" href="structvehicle__handle__trap__data.html#a2ce8428df648cdf20dc6ac59effcb757">do_explosion</a> = jv.<a class="code hl_function" href="classJsonObject.html#a9e628525564a9e7ef3755c10e0c9fac4">get_bool</a>( <span class="stringliteral">&quot;do_explosion&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>        <a class="code hl_variable" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code hl_variable" href="structvehicle__handle__trap__data.html#aff743c43f98a9a30f15b33bab668b9f3">is_falling</a> = jv.<a class="code hl_function" href="classJsonObject.html#a9e628525564a9e7ef3755c10e0c9fac4">get_bool</a>( <span class="stringliteral">&quot;is_falling&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>        <a class="code hl_variable" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code hl_variable" href="structvehicle__handle__trap__data.html#a4720c8fd0a5120c5e73999d630a441b9">chance</a> = jv.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;chance&quot;</span>, 100 );</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>        <a class="code hl_variable" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code hl_variable" href="structvehicle__handle__trap__data.html#a12a8a69fabc09c46c94a872c3deabfc3">damage</a> = jv.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;damage&quot;</span>, 0 );</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        <a class="code hl_variable" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code hl_variable" href="structvehicle__handle__trap__data.html#ad34f1fa0ddea2be0516fe52076755d28">shrapnel</a> = jv.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;shrapnel&quot;</span>, 0 );</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>        <a class="code hl_variable" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code hl_variable" href="structvehicle__handle__trap__data.html#a0c5bf103091c4d3af6e05554dfb4ea06">sound_volume</a> = jv.<a class="code hl_function" href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">get_int</a>( <span class="stringliteral">&quot;sound_volume&quot;</span>, 0 );</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>        jv.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;sound&quot;</span>, <a class="code hl_variable" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code hl_variable" href="structvehicle__handle__trap__data.html#a5a19d024919f0e4b3e470b85ceee7557">sound</a> );</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>        <a class="code hl_variable" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code hl_variable" href="structvehicle__handle__trap__data.html#a8fc4e74b6409f9616968d445b17c3955">sound_type</a> = jv.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;sound_type&quot;</span>, <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>        <a class="code hl_variable" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code hl_variable" href="structvehicle__handle__trap__data.html#a6f9a3d0f9d4799259b30a03fd1598c4d">sound_variant</a> = jv.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;sound_variant&quot;</span>, <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>        <a class="code hl_variable" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code hl_variable" href="structvehicle__handle__trap__data.html#a85267d7b741db092465b148b86e023a7">spawn_items</a>.clear();</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>        <span class="keywordflow">if</span>( jv.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;spawn_items&quot;</span> ) ) {</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonValue.html">JsonValue</a> entry : jv.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;spawn_items&quot;</span> ) ) {</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>                <span class="keywordflow">if</span>( entry.test_object() ) {</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>                    <a class="code hl_class" href="classJsonObject.html">JsonObject</a> joitm = entry.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>();</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>                    <a class="code hl_variable" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code hl_variable" href="structvehicle__handle__trap__data.html#a85267d7b741db092465b148b86e023a7">spawn_items</a>.emplace_back(</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>                        <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( joitm.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;id&quot;</span> ) ), joitm.<a class="code hl_function" href="classJsonObject.html#a20e3b6cc495cde67e4a178ae6f6e17d7">get_float</a>( <span class="stringliteral">&quot;chance&quot;</span> ) );</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>                    <a class="code hl_variable" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code hl_variable" href="structvehicle__handle__trap__data.html#a85267d7b741db092465b148b86e023a7">spawn_items</a>.emplace_back( <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( entry.get_string() ), 1.0 );</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>                }</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>            }</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>        }</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>        <a class="code hl_variable" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code hl_variable" href="structvehicle__handle__trap__data.html#ab19712f6fbd3b157f986b29925197dd3">set_trap</a> = <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">trap_str_id::NULL_ID</a>();</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>        <span class="keywordflow">if</span>( jv.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;set_trap&quot;</span>, <a class="code hl_variable" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code hl_variable" href="structvehicle__handle__trap__data.html#ab19712f6fbd3b157f986b29925197dd3">set_trap</a> ) ) {</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>            <a class="code hl_variable" href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">vehicle_data</a>.<a class="code hl_variable" href="structvehicle__handle__trap__data.html#acf9ea314f7998e6a589bb3187c6ae6a2">remove_trap</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        }</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    }</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>}</div>
<div class="ttc" id="aassign_8h_html_ac353926c625eb31f78ef7534277c5aaf"><div class="ttname"><a href="assign_8h.html#ac353926c625eb31f78ef7534277c5aaf">assign</a></div><div class="ttdeci">bool assign(const JsonObject &amp;jo, const std::string &amp;name, T &amp;val, bool strict=false, T lo=std::numeric_limits&lt; T &gt;::lowest(), T hi=std::numeric_limits&lt; T &gt;::max())</div><div class="ttdef"><b>Definition:</b> <a href="assign_8h_source.html#l00054">assign.h:54</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">cata_variant_type::itype_id</a></div><div class="ttdeci">@ itype_id</div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00831">json.h:832</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a0cd609c1bb7527609e6025d54f427a5c"><div class="ttname"><a href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">JsonObject::get_object</a></div><div class="ttdeci">JsonObject get_object(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00361">json.cpp:361</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a20e3b6cc495cde67e4a178ae6f6e17d7"><div class="ttname"><a href="classJsonObject.html#a20e3b6cc495cde67e4a178ae6f6e17d7">JsonObject::get_float</a></div><div class="ttdeci">double get_float(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00298">json.cpp:298</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a49ff0ef5ec58e2cf47dcaa551eb2b472"><div class="ttname"><a href="classJsonObject.html#a49ff0ef5ec58e2cf47dcaa551eb2b472">JsonObject::has_object</a></div><div class="ttdeci">bool has_object(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00425">json.cpp:425</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a69f62f59b5e39da6059b7c3cf8b12421"><div class="ttname"><a href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00332">json.cpp:332</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a96b6d1b9cf7bda4fc9cd177a99e0631c"><div class="ttname"><a href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">JsonObject::get_string</a></div><div class="ttdeci">std::string get_string(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00314">json.cpp:314</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a99e64f59bc5e72e7572125064b68da29"><div class="ttname"><a href="classJsonObject.html#a99e64f59bc5e72e7572125064b68da29">JsonObject::get_int</a></div><div class="ttdeci">int get_int(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00282">json.cpp:282</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a9e628525564a9e7ef3755c10e0c9fac4"><div class="ttname"><a href="classJsonObject.html#a9e628525564a9e7ef3755c10e0c9fac4">JsonObject::get_bool</a></div><div class="ttdeci">bool get_bool(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00266">json.cpp:266</a></div></div>
<div class="ttc" id="aclassJsonObject_html_aa92b5eb23f6b39645877d79fbef784a0"><div class="ttname"><a href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00415">json.cpp:415</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae66d47f9cb4993dfaf79819ec2aff2f8"><div class="ttname"><a href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">JsonObject::read</a></div><div class="ttdeci">bool read(const std::string &amp;name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00944">json.h:944</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae7bcdb4ec8ab2c64e607b411cb98d00c"><div class="ttname"><a href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">JsonObject::throw_error</a></div><div class="ttdeci">void throw_error(std::string err) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00233">json.cpp:233</a></div></div>
<div class="ttc" id="aclassJsonValue_html"><div class="ttname"><a href="classJsonValue.html">JsonValue</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l01126">json.h:1127</a></div></div>
<div class="ttc" id="aclassstring__id_html_ac180a60056901aaf79f5c4b728a257bd"><div class="ttname"><a href="classstring__id.html#ac180a60056901aaf79f5c4b728a257bd">string_id::is_empty</a></div><div class="ttdeci">bool is_empty() const</div><div class="ttdoc">Returns whether this id is empty.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00298">string_id.h:298</a></div></div>
<div class="ttc" id="ageneric__factory_8h_html_a079efdb0a054d93f3d027084fa963268"><div class="ttname"><a href="generic__factory_8h.html#a079efdb0a054d93f3d027084fa963268">one_char_symbol_reader</a></div><div class="ttdeci">bool one_char_symbol_reader(const JsonObject &amp;jo, const std::string &amp;member_name, int &amp;sym, bool)</div><div class="ttdoc">Reads a string and stores the first byte of it in sym.</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00673">generic_factory.h:673</a></div></div>
<div class="ttc" id="ageneric__factory_8h_html_a0a177c754c5ba89ac6c543656b0652cc"><div class="ttname"><a href="generic__factory_8h.html#a0a177c754c5ba89ac6c543656b0652cc">mandatory</a></div><div class="ttdeci">void mandatory(const JsonObject &amp;jo, const bool was_loaded, const std::string &amp;name, MemberType &amp;member)</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00586">generic_factory.h:586</a></div></div>
<div class="ttc" id="ageneric__factory_8h_html_a6bc35b9738f0a0a68ccc6b4cfc7918f1"><div class="ttname"><a href="generic__factory_8h.html#a6bc35b9738f0a0a68ccc6b4cfc7918f1">optional</a></div><div class="ttdeci">void optional(const JsonObject &amp;jo, const bool was_loaded, const std::string &amp;name, MemberType &amp;member)</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00615">generic_factory.h:615</a></div></div>
<div class="ttc" id="astructtrap_html_a03491b6455522e29bcbd457283b88c6d"><div class="ttname"><a href="structtrap.html#a03491b6455522e29bcbd457283b88c6d">trap::vehicle_data</a></div><div class="ttdeci">vehicle_handle_trap_data vehicle_data</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00122">trap.h:122</a></div></div>
<div class="ttc" id="astructtrap_html_a080d01633b06f2db081704ba4ee399f3"><div class="ttname"><a href="structtrap.html#a080d01633b06f2db081704ba4ee399f3">trap::floor_bedding_warmth</a></div><div class="ttdeci">int floor_bedding_warmth</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00120">trap.h:120</a></div></div>
<div class="ttc" id="astructtrap_html_a204b98d9b542a70ab2781c13af441202"><div class="ttname"><a href="structtrap.html#a204b98d9b542a70ab2781c13af441202">trap::spell_data</a></div><div class="ttdeci">fake_spell spell_data</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00118">trap.h:118</a></div></div>
<div class="ttc" id="astructtrap_html_a41675497496296bffef048bfe76c977c"><div class="ttname"><a href="structtrap.html#a41675497496296bffef048bfe76c977c">trap::map_regen</a></div><div class="ttdeci">std::string map_regen</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00106">trap.h:106</a></div></div>
<div class="ttc" id="astructtrap_html_a5b38533ac3a1c9c1f6a6844d0ee04a91"><div class="ttname"><a href="structtrap.html#a5b38533ac3a1c9c1f6a6844d0ee04a91">trap::act</a></div><div class="ttdeci">trap_function act</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00107">trap.h:107</a></div></div>
<div class="ttc" id="astructtrap_html_a5e8454e37107896cc58505a62dd6724e"><div class="ttname"><a href="structtrap.html#a5e8454e37107896cc58505a62dd6724e">trap::trigger_weight</a></div><div class="ttdeci">units::mass trigger_weight</div><div class="ttdoc">If an item with this weight or more is thrown onto the trap, it triggers.</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00112">trap.h:112</a></div></div>
<div class="ttc" id="astructtrap_html_a7515b4e5f59ad2a035e5030455bf3e62"><div class="ttname"><a href="structtrap.html#a7515b4e5f59ad2a035e5030455bf3e62">trap::was_loaded</a></div><div class="ttdeci">bool was_loaded</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00090">trap.h:90</a></div></div>
<div class="ttc" id="astructtrap_html_a834b75772b7d0c5a3b7dab107053580c"><div class="ttname"><a href="structtrap.html#a834b75772b7d0c5a3b7dab107053580c">trap::name_</a></div><div class="ttdeci">std::string name_</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00108">trap.h:108</a></div></div>
<div class="ttc" id="astructtrap_html_a92373743ed980b356de173c228c79499"><div class="ttname"><a href="structtrap.html#a92373743ed980b356de173c228c79499">trap::color</a></div><div class="ttdeci">nc_color color</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00093">trap.h:93</a></div></div>
<div class="ttc" id="astructtrap_html_a975d50578595efdc3b93fb32bab0e41b"><div class="ttname"><a href="structtrap.html#a975d50578595efdc3b93fb32bab0e41b">trap::sym</a></div><div class="ttdeci">int sym</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00092">trap.h:92</a></div></div>
<div class="ttc" id="astructtrap_html_a9e32dc8e92c961fb52b3086421c62b8e"><div class="ttname"><a href="structtrap.html#a9e32dc8e92c961fb52b3086421c62b8e">trap::comfort</a></div><div class="ttdeci">int comfort</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00119">trap.h:119</a></div></div>
<div class="ttc" id="astructtrap_html_abdb4b9b037b1554a9bbf01b9db1f8387"><div class="ttname"><a href="structtrap.html#abdb4b9b037b1554a9bbf01b9db1f8387">trap::components</a></div><div class="ttdeci">std::vector&lt; std::tuple&lt; itype_id, int, int &gt; &gt; components</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00115">trap.h:115</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_a0c5bf103091c4d3af6e05554dfb4ea06"><div class="ttname"><a href="structvehicle__handle__trap__data.html#a0c5bf103091c4d3af6e05554dfb4ea06">vehicle_handle_trap_data::sound_volume</a></div><div class="ttdeci">int sound_volume</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00075">trap.h:75</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_a12a8a69fabc09c46c94a872c3deabfc3"><div class="ttname"><a href="structvehicle__handle__trap__data.html#a12a8a69fabc09c46c94a872c3deabfc3">vehicle_handle_trap_data::damage</a></div><div class="ttdeci">int damage</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00073">trap.h:73</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_a2ce8428df648cdf20dc6ac59effcb757"><div class="ttname"><a href="structvehicle__handle__trap__data.html#a2ce8428df648cdf20dc6ac59effcb757">vehicle_handle_trap_data::do_explosion</a></div><div class="ttdeci">bool do_explosion</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00070">trap.h:70</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_a4720c8fd0a5120c5e73999d630a441b9"><div class="ttname"><a href="structvehicle__handle__trap__data.html#a4720c8fd0a5120c5e73999d630a441b9">vehicle_handle_trap_data::chance</a></div><div class="ttdeci">int chance</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00072">trap.h:72</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_a5a19d024919f0e4b3e470b85ceee7557"><div class="ttname"><a href="structvehicle__handle__trap__data.html#a5a19d024919f0e4b3e470b85ceee7557">vehicle_handle_trap_data::sound</a></div><div class="ttdeci">translation sound</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00076">trap.h:76</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_a6f9a3d0f9d4799259b30a03fd1598c4d"><div class="ttname"><a href="structvehicle__handle__trap__data.html#a6f9a3d0f9d4799259b30a03fd1598c4d">vehicle_handle_trap_data::sound_variant</a></div><div class="ttdeci">std::string sound_variant</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00078">trap.h:78</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_a85267d7b741db092465b148b86e023a7"><div class="ttname"><a href="structvehicle__handle__trap__data.html#a85267d7b741db092465b148b86e023a7">vehicle_handle_trap_data::spawn_items</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; itype_id, double &gt; &gt; spawn_items</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00080">trap.h:80</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_a8fc4e74b6409f9616968d445b17c3955"><div class="ttname"><a href="structvehicle__handle__trap__data.html#a8fc4e74b6409f9616968d445b17c3955">vehicle_handle_trap_data::sound_type</a></div><div class="ttdeci">std::string sound_type</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00077">trap.h:77</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_ab19712f6fbd3b157f986b29925197dd3"><div class="ttname"><a href="structvehicle__handle__trap__data.html#ab19712f6fbd3b157f986b29925197dd3">vehicle_handle_trap_data::set_trap</a></div><div class="ttdeci">trap_str_id set_trap</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00081">trap.h:81</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_acf9ea314f7998e6a589bb3187c6ae6a2"><div class="ttname"><a href="structvehicle__handle__trap__data.html#acf9ea314f7998e6a589bb3187c6ae6a2">vehicle_handle_trap_data::remove_trap</a></div><div class="ttdeci">bool remove_trap</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00069">trap.h:69</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_ad34f1fa0ddea2be0516fe52076755d28"><div class="ttname"><a href="structvehicle__handle__trap__data.html#ad34f1fa0ddea2be0516fe52076755d28">vehicle_handle_trap_data::shrapnel</a></div><div class="ttdeci">int shrapnel</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00074">trap.h:74</a></div></div>
<div class="ttc" id="astructvehicle__handle__trap__data_html_aff743c43f98a9a30f15b33bab668b9f3"><div class="ttname"><a href="structvehicle__handle__trap__data.html#aff743c43f98a9a30f15b33bab668b9f3">vehicle_handle_trap_data::is_falling</a></div><div class="ttdeci">bool is_falling</div><div class="ttdef"><b>Definition:</b> <a href="trap_8h_source.html#l00071">trap.h:71</a></div></div>
<div class="ttc" id="atrap_8h_html_a67ad178ac2d49b42b4b440427c073b0d"><div class="ttname"><a href="trap_8h.html#a67ad178ac2d49b42b4b440427c073b0d">trap_function_from_string</a></div><div class="ttdeci">const trap_function &amp; trap_function_from_string(const std::string &amp;function_name)</div><div class="ttdoc">Takes the name of a trap function and returns a function pointer to it.</div><div class="ttdef"><b>Definition:</b> <a href="trapfunc_8cpp_source.html#l01465">trapfunc.cpp:1465</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8h_source.html#l00107">act</a>, <a class="el" href="trap_8h_source.html#l00104">always_invisible</a>, <a class="el" href="assign_8h_source.html#l00054">assign()</a>, <a class="el" href="trap_8h_source.html#l00098">avoidance</a>, <a class="el" href="trap_8h_source.html#l00103">benign</a>, <a class="el" href="trap_8h_source.html#l00072">vehicle_handle_trap_data::chance</a>, <a class="el" href="trap_8h_source.html#l00093">color</a>, <a class="el" href="trap_8h_source.html#l00119">comfort</a>, <a class="el" href="trap_8h_source.html#l00115">components</a>, <a class="el" href="trap_8h_source.html#l00073">vehicle_handle_trap_data::damage</a>, <a class="el" href="trap_8h_source.html#l00100">difficulty</a>, <a class="el" href="trap_8h_source.html#l00070">vehicle_handle_trap_data::do_explosion</a>, <a class="el" href="trap_8h_source.html#l00120">floor_bedding_warmth</a>, <a class="el" href="trap_8h_source.html#l00113">funnel_radius_mm</a>, <a class="el" href="json_8cpp_source.html#l00332">JsonObject::get_array()</a>, <a class="el" href="json_8cpp_source.html#l00266">JsonObject::get_bool()</a>, <a class="el" href="json_8cpp_source.html#l00298">JsonObject::get_float()</a>, <a class="el" href="json_8cpp_source.html#l00282">JsonObject::get_int()</a>, <a class="el" href="json_8cpp_source.html#l00361">JsonObject::get_object()</a>, <a class="el" href="json_8cpp_source.html#l00314">JsonObject::get_string()</a>, <a class="el" href="json_8cpp_source.html#l00415">JsonObject::has_array()</a>, <a class="el" href="json_8cpp_source.html#l00425">JsonObject::has_object()</a>, <a class="el" href="string__id_8h_source.html#l00298">string_id&lt; T &gt;::is_empty()</a>, <a class="el" href="trap_8h_source.html#l00071">vehicle_handle_trap_data::is_falling</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>, <a class="el" href="generic__factory_8h_source.html#l00586">mandatory()</a>, <a class="el" href="trap_8h_source.html#l00106">map_regen</a>, <a class="el" href="trap_8h_source.html#l00108">name_</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; trap &gt;::NULL_ID()</a>, <a class="el" href="generic__factory_8h_source.html#l00673">one_char_symbol_reader()</a>, <a class="el" href="generic__factory_8h_source.html#l00615">optional()</a>, <a class="el" href="json_8h_source.html#l00944">JsonObject::read()</a>, <a class="el" href="trap_8h_source.html#l00069">vehicle_handle_trap_data::remove_trap</a>, <a class="el" href="trap_8h_source.html#l00081">vehicle_handle_trap_data::set_trap</a>, <a class="el" href="trap_8h_source.html#l00074">vehicle_handle_trap_data::shrapnel</a>, <a class="el" href="trap_8h_source.html#l00076">vehicle_handle_trap_data::sound</a>, <a class="el" href="trap_8h_source.html#l00077">vehicle_handle_trap_data::sound_type</a>, <a class="el" href="trap_8h_source.html#l00078">vehicle_handle_trap_data::sound_variant</a>, <a class="el" href="trap_8h_source.html#l00075">vehicle_handle_trap_data::sound_volume</a>, <a class="el" href="trap_8h_source.html#l00080">vehicle_handle_trap_data::spawn_items</a>, <a class="el" href="trap_8h_source.html#l00118">spell_data</a>, <a class="el" href="trap_8h_source.html#l00092">sym</a>, <a class="el" href="json_8cpp_source.html#l00233">JsonObject::throw_error()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01465">trap_function_from_string()</a>, <a class="el" href="trap_8h_source.html#l00102">trap_radius</a>, <a class="el" href="trap_8h_source.html#l00112">trigger_weight</a>, <a class="el" href="trap_8h_source.html#l00122">vehicle_data</a>, <a class="el" href="trap_8h_source.html#l00096">visibility</a>, and <a class="el" href="trap_8h_source.html#l00090">was_loaded</a>.</p>

</div>
</div>
<a id="a12144546805827604a11ba0959805943" name="a12144546805827604a11ba0959805943"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12144546805827604a11ba0959805943">&#9670;&nbsp;</a></span>load_trap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void trap::load_trap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads the trap and adds it to the trapmap, and the traplist. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classJsonError.html">JsonError</a></td><td>if the json is invalid as usual. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trap_8cpp_source.html#l00100">100</a> of file <a class="el" href="trap_8cpp_source.html">trap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>{</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <a class="code hl_variable" href="namespaceanonymous__namespace_02trap_8cpp_03.html#ab3675c90d391e657ff95abc6c6e3ad40">trap_factory</a>.load( jo, src );</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespaceanonymous__namespace_02trap_8cpp_03.html#ab3675c90d391e657ff95abc6c6e3ad40">anonymous_namespace{trap.cpp}::trap_factory</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8cpp_source.html#l00234">DynamicDataLoader::initialize()</a>.</p>

</div>
</div>
<a id="a63bf7ebc886674472272895fb6a227d7" name="a63bf7ebc886674472272895fb6a227d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63bf7ebc886674472272895fb6a227d7">&#9670;&nbsp;</a></span>map_regen_target()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string trap::map_regen_target </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8cpp_source.html#l00182">182</a> of file <a class="el" href="trap_8cpp_source.html">trap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>{</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="structtrap.html#a41675497496296bffef048bfe76c977c">map_regen</a>;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8h_source.html#l00106">map_regen</a>.</p>

<p class="reference">Referenced by <a class="el" href="trapfunc_8cpp_source.html#l01376">trapfunc::map_regen()</a>.</p>

</div>
</div>
<a id="a01b0ef8443ac5ba4e7455880ca2dc44b" name="a01b0ef8443ac5ba4e7455880ca2dc44b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01b0ef8443ac5ba4e7455880ca2dc44b">&#9670;&nbsp;</a></span>name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string trap::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8cpp_source.html#l00177">177</a> of file <a class="el" href="trap_8cpp_source.html">trap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>{</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <a class="code hl_variable" href="structtrap.html#a834b75772b7d0c5a3b7dab107053580c">name_</a> );</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>}</div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, and <a class="el" href="trap_8h_source.html#l00108">name_</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse_8cpp_source.html#l06720">colorized_trap_name_at()</a>, <a class="el" href="map_8cpp_source.html#l05193">map::disarm_trap()</a>, <a class="el" href="game_8cpp_source.html#l08746">game::get_dangerous_tile()</a>, <a class="el" href="vehicle__move_8cpp_source.html#l00846">vehicle::handle_trap()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l04101">place_trap_actor::is_allowed()</a>, <a class="el" href="game_8cpp_source.html#l05974">game::print_trap_info()</a>, <a class="el" href="player_8cpp_source.html#l00701">player::search_surroundings()</a>, and <a class="el" href="editmap_8cpp_source.html#l00694">editmap::update_view_with_help()</a>.</p>

</div>
</div>
<a id="aa6b4fcf67a39a8ca75ac910055bb99c6" name="aa6b4fcf67a39a8ca75ac910055bb99c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6b4fcf67a39a8ca75ac910055bb99c6">&#9670;&nbsp;</a></span>on_disarmed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trap::on_disarmed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when a trap at the given point in the map has been disarmed. </p>
<p >It should spawn trap items (if any) and remove the trap from the map via <a class="el" href="classmap.html#ae6be5b2b977897215861971bf64fb502">map::remove_trap</a>. </p>

<p class="definition">Definition at line <a class="el" href="trap_8cpp_source.html#l00260">260</a> of file <a class="el" href="trap_8cpp_source.html">trap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>{</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;i : <a class="code hl_variable" href="structtrap.html#abdb4b9b037b1554a9bbf01b9db1f8387">components</a> ) {</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">itype_id</a> &amp;item_type = std::get&lt;0&gt;( i );</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> quantity = std::get&lt;1&gt;( i );</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> charges = std::get&lt;2&gt;( i );</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>        m.<a class="code hl_function" href="classmap.html#acfe43259087397daac52876165a3120c">spawn_item</a>( p.<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>(), item_type, quantity, charges );</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    }</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : m.<a class="code hl_function" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( p, <a class="code hl_variable" href="structtrap.html#a43fd5f8fec40e3bb6ca7e07fa7ae6b3f">trap_radius</a> ) ) {</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>        m.<a class="code hl_function" href="classmap.html#ae6be5b2b977897215861971bf64fb502">remove_trap</a>( dest );</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    }</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>}</div>
<div class="ttc" id="aclassmap_html_a4f5f812d7e89a998429958573a4c340f"><div class="ttname"><a href="classmap.html#a4f5f812d7e89a998429958573a4c340f">map::points_in_radius</a></div><div class="ttdeci">tripoint_range&lt; tripoint &gt; points_in_radius(const tripoint &amp;center, size_t radius, size_t radiusz=0) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08559">map.cpp:8559</a></div></div>
<div class="ttc" id="aclassmap_html_acfe43259087397daac52876165a3120c"><div class="ttname"><a href="classmap.html#acfe43259087397daac52876165a3120c">map::spawn_item</a></div><div class="ttdeci">void spawn_item(const tripoint &amp;p, const itype_id &amp;type_id, unsigned quantity=1, int charges=0, const time_point &amp;birthday=calendar::start_of_cataclysm, int damlevel=0)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04173">map.cpp:4173</a></div></div>
<div class="ttc" id="aclassmap_html_ae6be5b2b977897215861971bf64fb502"><div class="ttname"><a href="classmap.html#ae6be5b2b977897215861971bf64fb502">map::remove_trap</a></div><div class="ttdeci">void remove_trap(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05251">map.cpp:5251</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00147">point.h:147</a></div></div>
<div class="ttc" id="astructtripoint_html_accc0725c936dbebb2486f969f39e2e5f"><div class="ttname"><a href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">tripoint::xy</a></div><div class="ttdeci">constexpr point xy() const</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00220">point.h:220</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8h_source.html#l00115">components</a>, <a class="el" href="map_8cpp_source.html#l08559">map::points_in_radius()</a>, <a class="el" href="map_8cpp_source.html#l05251">map::remove_trap()</a>, <a class="el" href="map_8cpp_source.html#l04173">map::spawn_item()</a>, <a class="el" href="trap_8h_source.html#l00102">trap_radius</a>, and <a class="el" href="point_8h_source.html#l00220">tripoint::xy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05193">map::disarm_trap()</a>.</p>

</div>
</div>
<a id="a3459bc15692baad14fa65b985251137f" name="a3459bc15692baad14fa65b985251137f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3459bc15692baad14fa65b985251137f">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void trap::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Releases the loaded trap objects in trapmap and traplist. </p>

<p class="definition">Definition at line <a class="el" href="trap_8cpp_source.html#l00187">187</a> of file <a class="el" href="trap_8cpp_source.html">trap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>{</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <a class="code hl_variable" href="trap_8cpp.html#a8149ff482a37aa5d47ca76e6ad3f54b7">funnel_traps</a>.clear();</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    <a class="code hl_variable" href="namespaceanonymous__namespace_02trap_8cpp_03.html#ab3675c90d391e657ff95abc6c6e3ad40">trap_factory</a>.reset();</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8cpp_source.html#l00088">funnel_traps</a>, and <a class="el" href="namespaceanonymous__namespace_02trap_8cpp_03.html#ab3675c90d391e657ff95abc6c6e3ad40">anonymous_namespace{trap.cpp}::trap_factory</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8cpp_source.html#l00524">DynamicDataLoader::unload_data()</a>.</p>

</div>
</div>
<a id="a3d565d044db53ba8cf091744e9a005c7" name="a3d565d044db53ba8cf091744e9a005c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d565d044db53ba8cf091744e9a005c7">&#9670;&nbsp;</a></span>trigger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trap::trigger </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCreature.html">Creature</a> *&#160;</td>
          <td class="paramname"><em>creature</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>item</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trigger trap effects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">creature</td><td>The creature that triggered the trap, it does not necessarily have to be on the place of the trap (traps can be triggered from adjacent, e.g. when disarming them). This can also be a null pointer if the trap has been triggered by some thrown item (which must have the <a class="el" href="structtrap.html#a5e8454e37107896cc58505a62dd6724e">trigger_weight</a>). </td></tr>
    <tr><td class="paramname">pos</td><td>The location of the trap in the main map. </td></tr>
    <tr><td class="paramname">item</td><td>The item that triggered the trap </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="trap_8cpp_source.html#l00232">232</a> of file <a class="el" href="trap_8cpp_source.html">trap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>{</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_real_creature = <a class="code hl_enumvalue" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72">creature</a> != <span class="keyword">nullptr</span> &amp;&amp; !<a class="code hl_enumvalue" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72">creature</a>-&gt;is_hallucination();</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <span class="keywordflow">if</span>( is_real_creature || <a class="code hl_class" href="classitem.html">item</a> != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>        <span class="keywordtype">bool</span> triggered = <a class="code hl_variable" href="structtrap.html#a5b38533ac3a1c9c1f6a6844d0ee04a91">act</a>( pos, <a class="code hl_enumvalue" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72">creature</a>, <a class="code hl_class" href="classitem.html">item</a> );</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>        <span class="keywordflow">if</span>( triggered &amp;&amp; is_real_creature ) {</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>            <span class="keywordflow">if</span>( <a class="code hl_class" href="classCharacter.html">Character</a> *ch = <a class="code hl_enumvalue" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72">creature</a>-&gt;as_character() ) {</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>                <a class="code hl_function" href="event__bus_8h.html#a72d1fc749e644310b0165bfdd920288b">get_event_bus</a>().<a class="code hl_function" href="classevent__bus.html#ab753616a3a663185377ac52560068194">send</a>&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea74cc8e54763d13afaa42599271e8bd8c">event_type::character_triggers_trap</a>&gt;( ch-&gt;getID(), <a class="code hl_variable" href="structtrap.html#af4ff2a16113fc1dd7c53285c0f91c126">id</a> );</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>            }</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>        }</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    }</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>}</div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00202">character.h:203</a></div></div>
<div class="ttc" id="aclassevent__bus_html_ab753616a3a663185377ac52560068194"><div class="ttname"><a href="classevent__bus.html#ab753616a3a663185377ac52560068194">event_bus::send</a></div><div class="ttdeci">void send(const cata::event &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="event__bus_8cpp_source.html#l00058">event_bus.cpp:58</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00175">item.h:176</a></div></div>
<div class="ttc" id="adescriptions_8cpp_html_aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72"><div class="ttname"><a href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72">description_target::creature</a></div><div class="ttdeci">@ creature</div></div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1cea74cc8e54763d13afaa42599271e8bd8c"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea74cc8e54763d13afaa42599271e8bd8c">event_type::character_triggers_trap</a></div><div class="ttdeci">@ character_triggers_trap</div></div>
<div class="ttc" id="aevent__bus_8h_html_a72d1fc749e644310b0165bfdd920288b"><div class="ttname"><a href="event__bus_8h.html#a72d1fc749e644310b0165bfdd920288b">get_event_bus</a></div><div class="ttdeci">event_bus &amp; get_event_bus()</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l12084">game.cpp:12084</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8h_source.html#l00107">act</a>, <a class="el" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea74cc8e54763d13afaa42599271e8bd8c">character_triggers_trap</a>, <a class="el" href="descriptions_8cpp.html#aeed2fa049c80ba4e2960866b4e00d5d8a8a52e7a8d3b4c955d6f7927c6ba3fe72">creature</a>, <a class="el" href="game_8cpp_source.html#l12084">get_event_bus()</a>, <a class="el" href="trap_8h_source.html#l00087">id</a>, and <a class="el" href="event__bus_8cpp_source.html#l00058">event_bus::send()</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05193">map::disarm_trap()</a>, <a class="el" href="ballistics_8cpp_source.html#l00060">drop_or_embed_projectile()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l04101">place_trap_actor::is_allowed()</a>.</p>

</div>
</div>
<a id="aa7bc509c6fa1aec956f63ec03980e593" name="aa7bc509c6fa1aec956f63ec03980e593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7bc509c6fa1aec956f63ec03980e593">&#9670;&nbsp;</a></span>triggered_by_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool trap::triggered_by_item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>itm</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the given item is throw onto the trap, does it trigger the trap? </p>

<p class="definition">Definition at line <a class="el" href="trap_8cpp_source.html#l00250">250</a> of file <a class="el" href="trap_8cpp_source.html">trap.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>{</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    <span class="keywordflow">return</span> !<a class="code hl_function" href="structtrap.html#a6a9ac96c5c81eb31093e049ffeac8b4f">is_null</a>() &amp;&amp; itm.<a class="code hl_function" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a>() &gt;= <a class="code hl_variable" href="structtrap.html#a5e8454e37107896cc58505a62dd6724e">trigger_weight</a>;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>}</div>
<div class="ttc" id="aclassitem_html_a3157f01f1da6fe89bdbc87db2605afb9"><div class="ttname"><a href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">item::weight</a></div><div class="ttdeci">units::mass weight(bool include_contents=true, bool integral=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04838">item.cpp:4838</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="trap_8cpp_source.html#l00245">is_null()</a>, <a class="el" href="trap_8h_source.html#l00112">trigger_weight</a>, and <a class="el" href="item_8cpp_source.html#l04838">item::weight()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ballistics_8cpp_source.html#l00060">drop_or_embed_projectile()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5b38533ac3a1c9c1f6a6844d0ee04a91" name="a5b38533ac3a1c9c1f6a6844d0ee04a91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b38533ac3a1c9c1f6a6844d0ee04a91">&#9670;&nbsp;</a></span>act</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trap_8h.html#ae42e32fdf80c3174f94a4b2f02401473">trap_function</a> trap::act</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00107">107</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trap_8cpp_source.html#l00105">load()</a>, and <a class="el" href="trap_8cpp_source.html#l00232">trigger()</a>.</p>

</div>
</div>
<a id="af528369ecffbd6666b411fbbb466bc4e" name="af528369ecffbd6666b411fbbb466bc4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af528369ecffbd6666b411fbbb466bc4e">&#9670;&nbsp;</a></span>always_invisible</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool trap::always_invisible = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00104">104</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trap_8h_source.html#l00127">is_always_invisible()</a>, and <a class="el" href="trap_8cpp_source.html#l00105">load()</a>.</p>

</div>
</div>
<a id="a7dd8117e839b760a9ffa187d3670f4ed" name="a7dd8117e839b760a9ffa187d3670f4ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dd8117e839b760a9ffa187d3670f4ed">&#9670;&nbsp;</a></span>avoidance</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int trap::avoidance = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00098">98</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trap_8h_source.html#l00144">get_avoidance()</a>, and <a class="el" href="trap_8cpp_source.html#l00105">load()</a>.</p>

</div>
</div>
<a id="a10039a239822fb13066d9e61c82f5bf5" name="a10039a239822fb13066d9e61c82f5bf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10039a239822fb13066d9e61c82f5bf5">&#9670;&nbsp;</a></span>benign</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool trap::benign = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00103">103</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trap_8h_source.html#l00159">is_benign()</a>, and <a class="el" href="trap_8cpp_source.html#l00105">load()</a>.</p>

</div>
</div>
<a id="a92373743ed980b356de173c228c79499" name="a92373743ed980b356de173c228c79499"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92373743ed980b356de173c228c79499">&#9670;&nbsp;</a></span>color</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnc__color.html">nc_color</a> trap::color</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00093">93</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="editmap_8cpp_source.html#l00944">color()</a>, <a class="el" href="iuse_8cpp_source.html#l06720">colorized_trap_name_at()</a>, <a class="el" href="map_8cpp_source.html#l05847">map::draw_maptile()</a>, <a class="el" href="trap_8cpp_source.html#l00105">load()</a>, <a class="el" href="game_8cpp_source.html#l05974">game::print_trap_info()</a>, and <a class="el" href="editmap_8cpp_source.html#l00694">editmap::update_view_with_help()</a>.</p>

</div>
</div>
<a id="a9e32dc8e92c961fb52b3086421c62b8e" name="a9e32dc8e92c961fb52b3086421c62b8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e32dc8e92c961fb52b3086421c62b8e">&#9670;&nbsp;</a></span>comfort</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int trap::comfort = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00119">119</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l05686">Character::base_comfort_value()</a>, <a class="el" href="trap_8cpp_source.html#l00105">load()</a>, and <a class="el" href="player_8cpp_source.html#l03439">player::try_to_sleep()</a>.</p>

</div>
</div>
<a id="abdb4b9b037b1554a9bbf01b9db1f8387" name="abdb4b9b037b1554a9bbf01b9db1f8387"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdb4b9b037b1554a9bbf01b9db1f8387">&#9670;&nbsp;</a></span>components</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::tuple&lt;<a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, int, int&gt; &gt; trap::components</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00115">115</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trap_8cpp_source.html#l00105">load()</a>, and <a class="el" href="trap_8cpp_source.html#l00260">on_disarmed()</a>.</p>

</div>
</div>
<a id="abbf38effe374d03f39b3647a27e3c3a7" name="abbf38effe374d03f39b3647a27e3c3a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbf38effe374d03f39b3647a27e3c3a7">&#9670;&nbsp;</a></span>difficulty</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int trap::difficulty = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00100">100</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trap_8h_source.html#l00152">get_difficulty()</a>, and <a class="el" href="trap_8cpp_source.html#l00105">load()</a>.</p>

</div>
</div>
<a id="a080d01633b06f2db081704ba4ee399f3" name="a080d01633b06f2db081704ba4ee399f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a080d01633b06f2db081704ba4ee399f3">&#9670;&nbsp;</a></span>floor_bedding_warmth</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int trap::floor_bedding_warmth = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00120">120</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l09463">Character::floor_bedding_warmth()</a>, and <a class="el" href="trap_8cpp_source.html#l00105">load()</a>.</p>

</div>
</div>
<a id="a2cea2683be1199ec40d943540d3a78ff" name="a2cea2683be1199ec40d943540d3a78ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cea2683be1199ec40d943540d3a78ff">&#9670;&nbsp;</a></span>funnel_radius_mm</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int trap::funnel_radius_mm = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00113">113</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="weather_8cpp_source.html#l00294">funnel_turns_per_charge()</a>, <a class="el" href="trap_8cpp_source.html#l00255">is_funnel()</a>, and <a class="el" href="trap_8cpp_source.html#l00105">load()</a>.</p>

</div>
</div>
<a id="af4ff2a16113fc1dd7c53285c0f91c126" name="af4ff2a16113fc1dd7c53285c0f91c126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4ff2a16113fc1dd7c53285c0f91c126">&#9670;&nbsp;</a></span>id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#aaf07656eb0d8c6676fbb1849d92cfa26">trap_str_id</a> trap::id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00087">87</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l10245">Character::add_known_trap()</a>, <a class="el" href="trap_8cpp_source.html#l00331">finalize()</a>, <a class="el" href="gamemode__tutorial_8cpp_source.html#l00236">tutorial_game::post_action()</a>, and <a class="el" href="trap_8cpp_source.html#l00232">trigger()</a>.</p>

</div>
</div>
<a id="ab2767aee5179ad23b3ad0b6b4b2415af" name="ab2767aee5179ad23b3ad0b6b4b2415af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2767aee5179ad23b3ad0b6b4b2415af">&#9670;&nbsp;</a></span>loadid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a6a456b8f9aeb28a96e3976548a6cb0dc">trap_id</a> trap::loadid</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00088">88</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="editmap_8cpp_source.html#l01058">apply&lt; trap &gt;()</a>, <a class="el" href="construction_8cpp_source.html#l00963">complete_construction()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01909">construction_activity()</a>, <a class="el" href="editmap_8cpp_source.html#l00504">editmap::draw_main_ui_overlay()</a>, <a class="el" href="editmap_8cpp_source.html#l00902">feature&lt; trap_id &gt;()</a>, <a class="el" href="weather_8cpp_source.html#l00319">fill_funnels()</a>, <a class="el" href="trap_8cpp_source.html#l00331">finalize()</a>, <a class="el" href="game_8cpp_source.html#l09789">game::fling_creature()</a>, <a class="el" href="game_8cpp_source.html#l01931">get_convection_temperature()</a>, <a class="el" href="game_8cpp_source.html#l08746">game::get_dangerous_tile()</a>, <a class="el" href="vehicle__move_8cpp_source.html#l00846">vehicle::handle_trap()</a>, <a class="el" href="trap_8cpp_source.html#l00245">is_null()</a>, <a class="el" href="construction_8cpp_source.html#l00894">place_construction()</a>, <a class="el" href="game_8cpp_source.html#l05974">game::print_trap_info()</a>, <a class="el" href="game_8cpp_source.html#l11351">game::process_artifact()</a>, <a class="el" href="game_8cpp_source.html#l08729">game::prompt_dangerous_tile()</a>, <a class="el" href="player_8cpp_source.html#l00701">player::search_surroundings()</a>, <a class="el" href="trapfunc_8cpp_source.html#l01028">sinkhole_safety_roll()</a>, <a class="el" href="editmap_8cpp_source.html#l00694">editmap::update_view_with_help()</a>, and <a class="el" href="map_8cpp_source.html#l01856">map::valid_move()</a>.</p>

</div>
</div>
<a id="a41675497496296bffef048bfe76c977c" name="a41675497496296bffef048bfe76c977c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41675497496296bffef048bfe76c977c">&#9670;&nbsp;</a></span>map_regen</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string trap::map_regen</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00106">106</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trap_8cpp_source.html#l00105">load()</a>, and <a class="el" href="trap_8cpp_source.html#l00182">map_regen_target()</a>.</p>

</div>
</div>
<a id="a834b75772b7d0c5a3b7dab107053580c" name="a834b75772b7d0c5a3b7dab107053580c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a834b75772b7d0c5a3b7dab107053580c">&#9670;&nbsp;</a></span>name_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string trap::name_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00108">108</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trap_8cpp_source.html#l00105">load()</a>, and <a class="el" href="trap_8cpp_source.html#l00177">name()</a>.</p>

</div>
</div>
<a id="a204b98d9b542a70ab2781c13af441202" name="a204b98d9b542a70ab2781c13af441202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a204b98d9b542a70ab2781c13af441202">&#9670;&nbsp;</a></span>spell_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfake__spell.html">fake_spell</a> trap::spell_data</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00118">118</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trap_8cpp_source.html#l00105">load()</a>.</p>

</div>
</div>
<a id="a975d50578595efdc3b93fb32bab0e41b" name="a975d50578595efdc3b93fb32bab0e41b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a975d50578595efdc3b93fb32bab0e41b">&#9670;&nbsp;</a></span>sym</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int trap::sym = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00092">92</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="map_8cpp_source.html#l05847">map::draw_maptile()</a>, <a class="el" href="trap_8cpp_source.html#l00105">load()</a>, and <a class="el" href="editmap_8cpp_source.html#l00923">symbol()</a>.</p>

</div>
</div>
<a id="a43fd5f8fec40e3bb6ca7e07fa7ae6b3f" name="a43fd5f8fec40e3bb6ca7e07fa7ae6b3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43fd5f8fec40e3bb6ca7e07fa7ae6b3f">&#9670;&nbsp;</a></span>trap_radius</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int trap::trap_radius = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00102">102</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trap_8h_source.html#l00193">get_trap_radius()</a>, <a class="el" href="trap_8cpp_source.html#l00105">load()</a>, and <a class="el" href="trap_8cpp_source.html#l00260">on_disarmed()</a>.</p>

</div>
</div>
<a id="a5e8454e37107896cc58505a62dd6724e" name="a5e8454e37107896cc58505a62dd6724e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e8454e37107896cc58505a62dd6724e">&#9670;&nbsp;</a></span>trigger_weight</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> trap::trigger_weight = <a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>( -1, <a class="el" href="classunits_1_1quantity.html#acf9dfcd649300780358fadde8d98b167">units::mass::unit_type</a>{} )</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If an item with this weight or more is thrown onto the trap, it triggers. </p>

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00112">112</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trap_8cpp_source.html#l00105">load()</a>, and <a class="el" href="trap_8cpp_source.html#l00250">triggered_by_item()</a>.</p>

</div>
</div>
<a id="a03491b6455522e29bcbd457283b88c6d" name="a03491b6455522e29bcbd457283b88c6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03491b6455522e29bcbd457283b88c6d">&#9670;&nbsp;</a></span>vehicle_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvehicle__handle__trap__data.html">vehicle_handle_trap_data</a> trap::vehicle_data</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00122">122</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="vehicle__move_8cpp_source.html#l00846">vehicle::handle_trap()</a>, and <a class="el" href="trap_8cpp_source.html#l00105">load()</a>.</p>

</div>
</div>
<a id="a0913f4b2535ae7fe8b5550b974b31a18" name="a0913f4b2535ae7fe8b5550b974b31a18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0913f4b2535ae7fe8b5550b974b31a18">&#9670;&nbsp;</a></span>visibility</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int trap::visibility = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00096">96</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trap_8cpp_source.html#l00223">can_see()</a>, <a class="el" href="trap_8cpp_source.html#l00193">detect_trap()</a>, <a class="el" href="trap_8h_source.html#l00133">get_visibility()</a>, and <a class="el" href="trap_8cpp_source.html#l00105">load()</a>.</p>

</div>
</div>
<a id="a7515b4e5f59ad2a035e5030455bf3e62" name="a7515b4e5f59ad2a035e5030455bf3e62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7515b4e5f59ad2a035e5030455bf3e62">&#9670;&nbsp;</a></span>was_loaded</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool trap::was_loaded = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="trap_8h_source.html#l00090">90</a> of file <a class="el" href="trap_8h_source.html">trap.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="trap_8cpp_source.html#l00105">load()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>src/<a class="el" href="trap_8h_source.html">trap.h</a></li>
<li>src/<a class="el" href="trap_8cpp_source.html">trap.cpp</a></li>
<li>src/<a class="el" href="weather_8cpp_source.html">weather.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structtrap.html">trap</a></li>
    <li class="footer">Generated on Fri Sep 9 2022 22:07:44 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
