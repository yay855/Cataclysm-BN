<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: inventory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classinventory.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classinventory-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">inventory Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="inventory_8h_source.html">inventory.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for inventory:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classinventory.png" usemap="#inventory_map" alt=""/>
  <map id="inventory_map" name="inventory_map">
<area href="classvisitable.html" alt="visitable&lt; inventory &gt;" shape="rect" coords="0,0,135,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a51bfb1f66b7b07d630b403bf964e84f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="inventory_8h.html#a1d1a58da8e9c617f38902ba44c72b6b2">invslice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a51bfb1f66b7b07d630b403bf964e84f9">slice</a> ()</td></tr>
<tr class="separator:a51bfb1f66b7b07d630b403bf964e84f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3e15113cfaa6ef3a732d35f55768a13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="inventory_8h.html#a15a1f7253eeeeec12b3b0503fc37925c">const_invslice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aa3e15113cfaa6ef3a732d35f55768a13">const_slice</a> () const</td></tr>
<tr class="separator:aa3e15113cfaa6ef3a732d35f55768a13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f615a8478d03953310f91bc45f79543"><td class="memItemLeft" align="right" valign="top">const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a8f615a8478d03953310f91bc45f79543">const_stack</a> (int i) const</td></tr>
<tr class="separator:a8f615a8478d03953310f91bc45f79543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51a62ddae83430e06da3c08d5b3fd5e4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a51a62ddae83430e06da3c08d5b3fd5e4">size</a> () const</td></tr>
<tr class="separator:a51a62ddae83430e06da3c08d5b3fd5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9963f0cfe64d75ae5ddd69ab22eab2f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory</a> ()</td></tr>
<tr class="separator:a9963f0cfe64d75ae5ddd69ab22eab2f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a002d248f723cefc0bc02fa97da1b1c0a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a002d248f723cefc0bc02fa97da1b1c0a">inventory</a> (<a class="el" href="classinventory.html">inventory</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a002d248f723cefc0bc02fa97da1b1c0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c2f74c64b0ad40cf8f9c8cfc171a10a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a5c2f74c64b0ad40cf8f9c8cfc171a10a">inventory</a> (const <a class="el" href="classinventory.html">inventory</a> &amp;)=default</td></tr>
<tr class="separator:a5c2f74c64b0ad40cf8f9c8cfc171a10a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a170b84de656177070e06d691d7d49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a68a170b84de656177070e06d691d7d49">operator=</a> (<a class="el" href="classinventory.html">inventory</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a68a170b84de656177070e06d691d7d49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fcd617d12fda235fc71774c514d6cd1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a7fcd617d12fda235fc71774c514d6cd1">operator=</a> (const <a class="el" href="classinventory.html">inventory</a> &amp;)=default</td></tr>
<tr class="separator:a7fcd617d12fda235fc71774c514d6cd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8acee42093ab126ce2dba4cc8c5c5198"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a8acee42093ab126ce2dba4cc8c5c5198">operator+=</a> (const <a class="el" href="classinventory.html">inventory</a> &amp;rhs)</td></tr>
<tr class="separator:a8acee42093ab126ce2dba4cc8c5c5198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39043a7d5bc7db8e26644ef6ff22f3d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a39043a7d5bc7db8e26644ef6ff22f3d5">operator+=</a> (const <a class="el" href="classitem.html">item</a> &amp;rhs)</td></tr>
<tr class="separator:a39043a7d5bc7db8e26644ef6ff22f3d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a127bb39197d94fde2dfbdf75397bf29c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a127bb39197d94fde2dfbdf75397bf29c">operator+=</a> (const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;rhs)</td></tr>
<tr class="separator:a127bb39197d94fde2dfbdf75397bf29c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae486a4d5a17a6a4586bfcd184b1749bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ae486a4d5a17a6a4586bfcd184b1749bc">operator+=</a> (const std::vector&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;rhs)</td></tr>
<tr class="separator:ae486a4d5a17a6a4586bfcd184b1749bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4148748a76382dd4686e326936ef6c55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a4148748a76382dd4686e326936ef6c55">operator+=</a> (const <a class="el" href="classitem__stack.html">item_stack</a> &amp;rhs)</td></tr>
<tr class="separator:a4148748a76382dd4686e326936ef6c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2c692e644161503b97d3b5175e0ffd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ada2c692e644161503b97d3b5175e0ffd">operator+</a> (const <a class="el" href="classinventory.html">inventory</a> &amp;rhs)</td></tr>
<tr class="separator:ada2c692e644161503b97d3b5175e0ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58bf03d9be48a5ca001819240bbf70ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a58bf03d9be48a5ca001819240bbf70ef">operator+</a> (const <a class="el" href="classitem.html">item</a> &amp;rhs)</td></tr>
<tr class="separator:a58bf03d9be48a5ca001819240bbf70ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfd3a278aec0985b245daebec1ccc2e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinventory.html">inventory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#abfd3a278aec0985b245daebec1ccc2e1">operator+</a> (const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;rhs)</td></tr>
<tr class="separator:abfd3a278aec0985b245daebec1ccc2e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14ac26748e30d2d0f6c137734d55b2b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a14ac26748e30d2d0f6c137734d55b2b5">unsort</a> ()</td></tr>
<tr class="separator:a14ac26748e30d2d0f6c137734d55b2b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abff8096e3549bbf9dce01aa9a1f42f09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#abff8096e3549bbf9dce01aa9a1f42f09">clear</a> ()</td></tr>
<tr class="separator:abff8096e3549bbf9dce01aa9a1f42f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fc0c051b701e87b3ce58dad4f8c5288"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a2fc0c051b701e87b3ce58dad4f8c5288">push_back</a> (const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;newits)</td></tr>
<tr class="separator:a2fc0c051b701e87b3ce58dad4f8c5288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3840801d19b8b8b3ae4be0e832bd1c7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a> (<a class="el" href="classitem.html">item</a> newit, bool keep_invlet=false, bool assign_invlet=true, bool should_stack=true)</td></tr>
<tr class="separator:a3840801d19b8b8b3ae4be0e832bd1c7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a898a515605fca29feff09de5d951adda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a> (<a class="el" href="classitem.html">item</a> newit, bool keep_invlet=false, bool assign_invlet=true, bool should_stack=true)</td></tr>
<tr class="separator:a898a515605fca29feff09de5d951adda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae740eb6f53c202a7fc67997355145ed1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ae740eb6f53c202a7fc67997355145ed1">add_item_keep_invlet</a> (<a class="el" href="classitem.html">item</a> newit)</td></tr>
<tr class="separator:ae740eb6f53c202a7fc67997355145ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ad9787457d6cc7a56b4a404f393d50f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a6ad9787457d6cc7a56b4a404f393d50f">push_back</a> (<a class="el" href="classitem.html">item</a> newit)</td></tr>
<tr class="separator:a6ad9787457d6cc7a56b4a404f393d50f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02827fc3d19c675083f0ddee201a1549"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a02827fc3d19c675083f0ddee201a1549">restack</a> (<a class="el" href="classplayer.html">player</a> &amp;p)</td></tr>
<tr class="separator:a02827fc3d19c675083f0ddee201a1549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb8c74108bdefc4593ad6f1147749100"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aeb8c74108bdefc4593ad6f1147749100">form_from_zone</a> (<a class="el" href="classmap.html">map</a> &amp;m, std::unordered_set&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;zone_pts, const <a class="el" href="classCharacter.html">Character</a> *pl=nullptr, bool assign_invlet=true)</td></tr>
<tr class="separator:aeb8c74108bdefc4593ad6f1147749100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31bf20ee0144627b5fba528b81559bc6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a31bf20ee0144627b5fba528b81559bc6">form_from_map</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;origin, int range, const <a class="el" href="classCharacter.html">Character</a> *pl=nullptr, bool assign_invlet=true, bool clear_path=true)</td></tr>
<tr class="separator:a31bf20ee0144627b5fba528b81559bc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af19bdc794ff37fa95780aa68c1948492"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#af19bdc794ff37fa95780aa68c1948492">form_from_map</a> (<a class="el" href="classmap.html">map</a> &amp;m, const <a class="el" href="structtripoint.html">tripoint</a> &amp;origin, int range, const <a class="el" href="classCharacter.html">Character</a> *pl=nullptr, bool assign_invlet=true, bool clear_path=true)</td></tr>
<tr class="separator:af19bdc794ff37fa95780aa68c1948492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62b0a2a744424cf2648de273f64b9378"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a62b0a2a744424cf2648de273f64b9378">form_from_map</a> (<a class="el" href="classmap.html">map</a> &amp;m, std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; pts, const <a class="el" href="classCharacter.html">Character</a> *pl, bool assign_invlet=true)</td></tr>
<tr class="separator:a62b0a2a744424cf2648de273f64b9378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36e4b99300e1fe64920ce52911c04127"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a36e4b99300e1fe64920ce52911c04127">remove_item</a> (const <a class="el" href="classitem.html">item</a> *it)</td></tr>
<tr class="memdesc:a36e4b99300e1fe64920ce52911c04127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a specific item from the inventory.  <a href="classinventory.html#a36e4b99300e1fe64920ce52911c04127">More...</a><br /></td></tr>
<tr class="separator:a36e4b99300e1fe64920ce52911c04127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0b24dc07f1e52c4426eef07993ea7b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#af0b24dc07f1e52c4426eef07993ea7b4">remove_item</a> (int position)</td></tr>
<tr class="separator:af0b24dc07f1e52c4426eef07993ea7b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a534997d1d7b8d16423f39f32c3ea45a0"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a534997d1d7b8d16423f39f32c3ea45a0">remove_randomly_by_volume</a> (const <a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> &amp;<a class="el" href="classinventory.html#aec6a20058fa80f78b727c3524f9a8fb1">volume</a>)</td></tr>
<tr class="memdesc:a534997d1d7b8d16423f39f32c3ea45a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Randomly select items until the volume quota is filled.  <a href="classinventory.html#a534997d1d7b8d16423f39f32c3ea45a0">More...</a><br /></td></tr>
<tr class="separator:a534997d1d7b8d16423f39f32c3ea45a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a676eaf73095dd3bb5d80d11c6161193c"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a676eaf73095dd3bb5d80d11c6161193c">reduce_stack</a> (int position, int quantity)</td></tr>
<tr class="separator:a676eaf73095dd3bb5d80d11c6161193c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3327fb977cf0d264d61e708527f0d2c0"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a3327fb977cf0d264d61e708527f0d2c0">find_item</a> (int position) const</td></tr>
<tr class="separator:a3327fb977cf0d264d61e708527f0d2c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a437329c5c3614c03b1d31f27eb3351"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a2a437329c5c3614c03b1d31f27eb3351">find_item</a> (int position)</td></tr>
<tr class="separator:a2a437329c5c3614c03b1d31f27eb3351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0d780fd8e9fd35527160b3e153695a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ac0d780fd8e9fd35527160b3e153695a9">position_by_item</a> (const <a class="el" href="classitem.html">item</a> *it) const</td></tr>
<tr class="memdesc:ac0d780fd8e9fd35527160b3e153695a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the item position of the stack that contains the given item (compared by pointers).  <a href="classinventory.html#ac0d780fd8e9fd35527160b3e153695a9">More...</a><br /></td></tr>
<tr class="separator:ac0d780fd8e9fd35527160b3e153695a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83456dac16cd4a8057c9372ae8648a52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a83456dac16cd4a8057c9372ae8648a52">position_by_type</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;<a class="el" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>) const</td></tr>
<tr class="separator:a83456dac16cd4a8057c9372ae8648a52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2b73dfb2263f722d09f6ad6433dbdcc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ab2b73dfb2263f722d09f6ad6433dbdcc">invlet_to_position</a> (char invlet) const</td></tr>
<tr class="memdesc:ab2b73dfb2263f722d09f6ad6433dbdcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the item position of the item with given invlet, return INT_MIN if the inventory does not have such an item with that invlet.  <a href="classinventory.html#ab2b73dfb2263f722d09f6ad6433dbdcc">More...</a><br /></td></tr>
<tr class="separator:ab2b73dfb2263f722d09f6ad6433dbdcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c58fd92b8aa4ce4d95b361d7a97f208"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a1c58fd92b8aa4ce4d95b361d7a97f208">use_amount</a> (<a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> it, int quantity, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;)</td></tr>
<tr class="separator:a1c58fd92b8aa4ce4d95b361d7a97f208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20755b405c4369fe85313cfdee366bff"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a20755b405c4369fe85313cfdee366bff">has_tools</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it, int quantity, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="separator:a20755b405c4369fe85313cfdee366bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1e13a56c04c80db6cf19da33bd0b3e3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ab1e13a56c04c80db6cf19da33bd0b3e3">has_components</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it, int quantity, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="separator:ab1e13a56c04c80db6cf19da33bd0b3e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a166c107e18ca4eea3ca2f37be350796c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a166c107e18ca4eea3ca2f37be350796c">has_charges</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;it, int quantity, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="separator:a166c107e18ca4eea3ca2f37be350796c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a595139d847118f6ebe5701b07ec7c84d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a595139d847118f6ebe5701b07ec7c84d">leak_level</a> (const std::string &amp;flag) const</td></tr>
<tr class="separator:a595139d847118f6ebe5701b07ec7c84d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea85b6a2464a8c73336f2227748adfc5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aea85b6a2464a8c73336f2227748adfc5">worst_item_value</a> (<a class="el" href="classnpc.html">npc</a> *p) const</td></tr>
<tr class="separator:aea85b6a2464a8c73336f2227748adfc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8183f0eebbaa418f6cc2982dc6d1d35"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ab8183f0eebbaa418f6cc2982dc6d1d35">has_enough_painkiller</a> (int <a class="el" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96a87a429872c7faee7e8bc9268d5bf548e">pain</a>) const</td></tr>
<tr class="separator:ab8183f0eebbaa418f6cc2982dc6d1d35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9162b2e2ec09247821b21bb815a037e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a9162b2e2ec09247821b21bb815a037e1">most_appropriate_painkiller</a> (int <a class="el" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96a87a429872c7faee7e8bc9268d5bf548e">pain</a>)</td></tr>
<tr class="separator:a9162b2e2ec09247821b21bb815a037e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f45453e09ab86b12361a196009617c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a5f45453e09ab86b12361a196009617c0">rust_iron_items</a> ()</td></tr>
<tr class="separator:a5f45453e09ab86b12361a196009617c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a827410aeab7a7e7c74bc4adb5bf616ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a827410aeab7a7e7c74bc4adb5bf616ea">weight</a> () const</td></tr>
<tr class="separator:a827410aeab7a7e7c74bc4adb5bf616ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4ddfe3617698980e19d636a6a74097a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ab4ddfe3617698980e19d636a6a74097a">weight_without</a> (const <a class="el" href="inventory_8h.html#ac8f227bff9aca2b1d23d4cbfcc331e21">excluded_stacks</a> &amp;without) const</td></tr>
<tr class="separator:ab4ddfe3617698980e19d636a6a74097a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec6a20058fa80f78b727c3524f9a8fb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aec6a20058fa80f78b727c3524f9a8fb1">volume</a> () const</td></tr>
<tr class="separator:aec6a20058fa80f78b727c3524f9a8fb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8f2945bd7e1ac669f6d4d3499a66c4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#af8f2945bd7e1ac669f6d4d3499a66c4f">volume_without</a> (const <a class="el" href="inventory_8h.html#ac8f227bff9aca2b1d23d4cbfcc331e21">excluded_stacks</a> &amp;without) const</td></tr>
<tr class="separator:af8f2945bd7e1ac669f6d4d3499a66c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e1499a3a3a1db7da261efe25329a5ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a8e1499a3a3a1db7da261efe25329a5ee">dump</a> (std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt; &amp;dest)</td></tr>
<tr class="separator:a8e1499a3a3a1db7da261efe25329a5ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ea0a054f11675831cef03a936bd5813"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a1ea0a054f11675831cef03a936bd5813">active_items</a> ()</td></tr>
<tr class="separator:a1ea0a054f11675831cef03a936bd5813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32da4bec9585d37cb907cd5471380a13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a32da4bec9585d37cb907cd5471380a13">json_load_invcache</a> (<a class="el" href="classJsonIn.html">JsonIn</a> &amp;jsin)</td></tr>
<tr class="separator:a32da4bec9585d37cb907cd5471380a13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a864ba0e815f3c340aae26198a20c221f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a864ba0e815f3c340aae26198a20c221f">json_load_items</a> (<a class="el" href="classJsonIn.html">JsonIn</a> &amp;jsin)</td></tr>
<tr class="separator:a864ba0e815f3c340aae26198a20c221f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c1b72905da350e7028ba253a9ea8f38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a1c1b72905da350e7028ba253a9ea8f38">json_save_invcache</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;json) const</td></tr>
<tr class="separator:a1c1b72905da350e7028ba253a9ea8f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a8cf709ff16fce9850547d68b34dbe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a97a8cf709ff16fce9850547d68b34dbe">json_save_items</a> (<a class="el" href="classJsonOut.html">JsonOut</a> &amp;json) const</td></tr>
<tr class="separator:a97a8cf709ff16fce9850547d68b34dbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaad56f923ec6824aadf028d8ba1ba89d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aaad56f923ec6824aadf028d8ba1ba89d">assign_empty_invlet</a> (<a class="el" href="classitem.html">item</a> &amp;it, const <a class="el" href="classCharacter.html">Character</a> &amp;p, bool force=false)</td></tr>
<tr class="separator:aaad56f923ec6824aadf028d8ba1ba89d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6048276bd408eea6a3229705bffc4c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aa6048276bd408eea6a3229705bffc4c0">reassign_item</a> (<a class="el" href="classitem.html">item</a> &amp;it, char invlet, bool remove_old=true)</td></tr>
<tr class="separator:aa6048276bd408eea6a3229705bffc4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4814b0d8a4fe394998ba690fb19a1d16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a4814b0d8a4fe394998ba690fb19a1d16">update_invlet</a> (<a class="el" href="classitem.html">item</a> &amp;it, bool assign_invlet=true)</td></tr>
<tr class="separator:a4814b0d8a4fe394998ba690fb19a1d16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2281b32f4df4f4a332bba5b47def9649"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a2281b32f4df4f4a332bba5b47def9649">set_stack_favorite</a> (int position, bool favorite)</td></tr>
<tr class="separator:a2281b32f4df4f4a332bba5b47def9649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2e21dba4d2b32791908b021ef6746c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="inventory_8h.html#a8083657433fe21615a7edf95be784480">invlets_bitset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#af2e21dba4d2b32791908b021ef6746c3">allocated_invlets</a> () const</td></tr>
<tr class="separator:af2e21dba4d2b32791908b021ef6746c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b8d527ded5634738012cd5086aafa7c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="inventory_8h.html#a533f054f56e1c2f1ac14a167db55a569">itype_bin</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a0b8d527ded5634738012cd5086aafa7c">get_binned_items</a> () const</td></tr>
<tr class="memdesc:a0b8d527ded5634738012cd5086aafa7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns visitable items binned by their itype.  <a href="classinventory.html#a0b8d527ded5634738012cd5086aafa7c">More...</a><br /></td></tr>
<tr class="separator:a0b8d527ded5634738012cd5086aafa7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6632e04576710c1d9ee979850958e63c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a6632e04576710c1d9ee979850958e63c">update_cache_with_item</a> (<a class="el" href="classitem.html">item</a> &amp;newit)</td></tr>
<tr class="separator:a6632e04576710c1d9ee979850958e63c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50eb4dd255916e673dc53c1ec5d87d74"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a50eb4dd255916e673dc53c1ec5d87d74">copy_invlet_of</a> (const <a class="el" href="classinventory.html">inventory</a> &amp;<a class="el" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>)</td></tr>
<tr class="separator:a50eb4dd255916e673dc53c1ec5d87d74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85c438f4f0676ff6c1bb14a83ac1990c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classenchantment.html">enchantment</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a85c438f4f0676ff6c1bb14a83ac1990c">get_active_enchantment_cache</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;owner) const</td></tr>
<tr class="separator:a85c438f4f0676ff6c1bb14a83ac1990c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41e48b6ff6b76a00740eaadd006d6867"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a41e48b6ff6b76a00740eaadd006d6867">count_item</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;item_type) const</td></tr>
<tr class="separator:a41e48b6ff6b76a00740eaadd006d6867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79cb9c4b64211bd61c09106ce58db8fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a79cb9c4b64211bd61c09106ce58db8fd">update_quality_cache</a> ()</td></tr>
<tr class="separator:a79cb9c4b64211bd61c09106ce58db8fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f628d45ec1e512a730c473c1d0b9300"><td class="memItemLeft" align="right" valign="top">const std::map&lt; <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a>, std::map&lt; int, int &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a5f628d45ec1e512a730c473c1d0b9300">get_quality_cache</a> () const</td></tr>
<tr class="separator:a5f628d45ec1e512a730c473c1d0b9300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cedea8f680c5401c9a6712fa2e6f77a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a0cedea8f680c5401c9a6712fa2e6f77a">build_items_type_cache</a> ()</td></tr>
<tr class="separator:a0cedea8f680c5401c9a6712fa2e6f77a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classvisitable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classvisitable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classvisitable.html">visitable&lt; inventory &gt;</a></td></tr>
<tr class="memitem:a0a76a71d6a905414cc81236e86a7e649 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *, <a class="el" href="classitem.html">item</a> *)&gt; &amp;func)</td></tr>
<tr class="memdesc:a0a76a71d6a905414cc81236e86a7e649 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traverses this object and any child items contained using a visitor pattern.  <a href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">More...</a><br /></td></tr>
<tr class="separator:a0a76a71d6a905414cc81236e86a7e649 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7a72544bb0c5cc51eff8ea3dd07a513 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#aa7a72544bb0c5cc51eff8ea3dd07a513">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(const <a class="el" href="classitem.html">item</a> *, const <a class="el" href="classitem.html">item</a> *)&gt; &amp;func) const</td></tr>
<tr class="separator:aa7a72544bb0c5cc51eff8ea3dd07a513 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad174ac6f2ed3679241696e7fa096b7d1 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#ad174ac6f2ed3679241696e7fa096b7d1">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *)&gt; &amp;func)</td></tr>
<tr class="memdesc:ad174ac6f2ed3679241696e7fa096b7d1 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lightweight version which provides only the current node.  <a href="classvisitable.html#ad174ac6f2ed3679241696e7fa096b7d1">More...</a><br /></td></tr>
<tr class="separator:ad174ac6f2ed3679241696e7fa096b7d1 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff00b5f4ce2ea371ef82f9b08bb76782 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#aff00b5f4ce2ea371ef82f9b08bb76782">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(const <a class="el" href="classitem.html">item</a> *)&gt; &amp;func) const</td></tr>
<tr class="separator:aff00b5f4ce2ea371ef82f9b08bb76782 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a073dab39ca059a87742a05300402ab01 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a073dab39ca059a87742a05300402ab01">find_parent</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:a073dab39ca059a87742a05300402ab01 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the immediate parent container (if any) for an item.  <a href="classvisitable.html#a073dab39ca059a87742a05300402ab01">More...</a><br /></td></tr>
<tr class="separator:a073dab39ca059a87742a05300402ab01 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3755702ea4b3eb37b385bcfb375c89a8 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a3755702ea4b3eb37b385bcfb375c89a8">find_parent</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a3755702ea4b3eb37b385bcfb375c89a8 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91f3c0f8e439b0ffda17e613fda94d04 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a91f3c0f8e439b0ffda17e613fda94d04">parents</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:a91f3c0f8e439b0ffda17e613fda94d04 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns vector of parent containers (if any) starting with the innermost.  <a href="classvisitable.html#a91f3c0f8e439b0ffda17e613fda94d04">More...</a><br /></td></tr>
<tr class="separator:a91f3c0f8e439b0ffda17e613fda94d04 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb48f9ef22516867c7ff3bd449b02bf2 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#adb48f9ef22516867c7ff3bd449b02bf2">parents</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:adb48f9ef22516867c7ff3bd449b02bf2 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49d5ef7b3f2f0a8664c23097a56373f inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">has_item</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="memdesc:af49d5ef7b3f2f0a8664c23097a56373f inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if this visitable instance contains the item.  <a href="classvisitable.html#af49d5ef7b3f2f0a8664c23097a56373f">More...</a><br /></td></tr>
<tr class="separator:af49d5ef7b3f2f0a8664c23097a56373f inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf24bf044bbf16def702fd78351fc46f inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter) const</td></tr>
<tr class="memdesc:abf24bf044bbf16def702fd78351fc46f inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if any item (including those within a container) matches the filter.  <a href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">More...</a><br /></td></tr>
<tr class="separator:abf24bf044bbf16def702fd78351fc46f inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ad0b8f7866ec171a709c56e4a25ff2 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a62ad0b8f7866ec171a709c56e4a25ff2">has_quality</a> (const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;qual, int level=1, int qty=1) const</td></tr>
<tr class="memdesc:a62ad0b8f7866ec171a709c56e4a25ff2 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if instance has amount (or more) items of at least quality level.  <a href="classvisitable.html#a62ad0b8f7866ec171a709c56e4a25ff2">More...</a><br /></td></tr>
<tr class="separator:a62ad0b8f7866ec171a709c56e4a25ff2 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2cb1acccff210289e90eb29ca02db8 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a2d2cb1acccff210289e90eb29ca02db8">max_quality</a> (const <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a> &amp;qual) const</td></tr>
<tr class="memdesc:a2d2cb1acccff210289e90eb29ca02db8 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return maximum tool quality level provided by instance or INT_MIN if not found.  <a href="classvisitable.html#a2d2cb1acccff210289e90eb29ca02db8">More...</a><br /></td></tr>
<tr class="separator:a2d2cb1acccff210289e90eb29ca02db8 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a517e20b6f6c13b8316d5cce8e310b871 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, int limit=INT_MAX, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;, std::function&lt; void(int)&gt; visitor=nullptr) const</td></tr>
<tr class="memdesc:a517e20b6f6c13b8316d5cce8e310b871 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count maximum available charges from this instance and any contained items.  <a href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">More...</a><br /></td></tr>
<tr class="separator:a517e20b6f6c13b8316d5cce8e310b871 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f314e4c2cf16dde306d92b73a60ff9f inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a0f314e4c2cf16dde306d92b73a60ff9f">amount_of</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, bool pseudo=true, int limit=INT_MAX, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="memdesc:a0f314e4c2cf16dde306d92b73a60ff9f inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count items matching id including both this instance and any contained items.  <a href="classvisitable.html#a0f314e4c2cf16dde306d92b73a60ff9f">More...</a><br /></td></tr>
<tr class="separator:a0f314e4c2cf16dde306d92b73a60ff9f inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50bc4422d4636a70a97d41787f22d0d inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;what, int qty, bool pseudo=true, const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter=<a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt; <a class="el" href="classitem.html">item</a> &gt;) const</td></tr>
<tr class="memdesc:ac50bc4422d4636a70a97d41787f22d0d inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check instance provides at least qty of an item (.  <a href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">More...</a><br /></td></tr>
<tr class="separator:ac50bc4422d4636a70a97d41787f22d0d inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b3c37fbe8209cab68aa26d3cc7f4300 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter)</td></tr>
<tr class="memdesc:a5b3c37fbe8209cab68aa26d3cc7f4300 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all items (including those within a container) matching the filter.  <a href="classvisitable.html#a5b3c37fbe8209cab68aa26d3cc7f4300">More...</a><br /></td></tr>
<tr class="separator:a5b3c37fbe8209cab68aa26d3cc7f4300 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e80572268abd951cf016d275febe4e6 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a3e80572268abd951cf016d275febe4e6">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter) const</td></tr>
<tr class="separator:a3e80572268abd951cf016d275febe4e6 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82d5eb61d79aa5a1ff06375288600796 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a82d5eb61d79aa5a1ff06375288600796">remove_items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter, int count=INT_MAX)</td></tr>
<tr class="memdesc:a82d5eb61d79aa5a1ff06375288600796 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes items contained by this instance which match the filter.  <a href="classvisitable.html#a82d5eb61d79aa5a1ff06375288600796">More...</a><br /></td></tr>
<tr class="separator:a82d5eb61d79aa5a1ff06375288600796 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeb03e3af46e1b106a5f88f112add296 inherit pub_methods_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">remove_item</a> (<a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="memdesc:adeb03e3af46e1b106a5f88f112add296 inherit pub_methods_classvisitable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes and returns the item which must be contained by this instance.  <a href="classvisitable.html#adeb03e3af46e1b106a5f88f112add296">More...</a><br /></td></tr>
<tr class="separator:adeb03e3af46e1b106a5f88f112add296 inherit pub_methods_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aba3440bcc3065df3ae1f7f0db0210af5"><td class="memItemLeft" align="right" valign="top">friend&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#aba3440bcc3065df3ae1f7f0db0210af5">visitable&lt; inventory &gt;</a></td></tr>
<tr class="separator:aba3440bcc3065df3ae1f7f0db0210af5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e5a1a88b44c6e5fc1bdbdbb5e855a7"><td class="memItemLeft" align="right" valign="top">std::map&lt; char, <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a></td></tr>
<tr class="separator:a72e5a1a88b44c6e5fc1bdbdbb5e855a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:addb070dde1f49b79a5edd46f369ba034"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#addb070dde1f49b79a5edd46f369ba034">find_usable_cached_invlet</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;item_type)</td></tr>
<tr class="separator:addb070dde1f49b79a5edd46f369ba034"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ab2ef1a3c297246e94093b7741cf721a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classinvlet__favorites.html">invlet_favorites</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">invlet_cache</a></td></tr>
<tr class="separator:ab2ef1a3c297246e94093b7741cf721a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad90c7cdc1166330628541c9779681c9c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="inventory_8h.html#afc81687955ea7764f1c3a118dde35cbb">invstack</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a></td></tr>
<tr class="separator:ad90c7cdc1166330628541c9779681c9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a52596eef24ea4b326e2940485b3bf"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, std::list&lt; std::list&lt; <a class="el" href="classitem.html">item</a> &gt; * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a61a52596eef24ea4b326e2940485b3bf">items_type_cache</a></td></tr>
<tr class="separator:a61a52596eef24ea4b326e2940485b3bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35f54355346fc68c4fc3044ac74cd8e5"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a>, std::map&lt; int, int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a35f54355346fc68c4fc3044ac74cd8e5">quality_cache</a></td></tr>
<tr class="separator:a35f54355346fc68c4fc3044ac74cd8e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18bd56efb8f82281bb439851619c296a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#a18bd56efb8f82281bb439851619c296a">items_type_cached</a> = false</td></tr>
<tr class="separator:a18bd56efb8f82281bb439851619c296a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad82feadf8429c99e5184064fc21a7a54"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = false</td></tr>
<tr class="separator:ad82feadf8429c99e5184064fc21a7a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ec6a121fe8dc7cf8155835245f7dc8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="inventory_8h.html#a533f054f56e1c2f1ac14a167db55a569">itype_bin</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classinventory.html#ac3ec6a121fe8dc7cf8155835245f7dc8">binned_items</a></td></tr>
<tr class="memdesc:ac3ec6a121fe8dc7cf8155835245f7dc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Items binned by their type.  <a href="classinventory.html#ac3ec6a121fe8dc7cf8155835245f7dc8">More...</a><br /></td></tr>
<tr class="separator:ac3ec6a121fe8dc7cf8155835245f7dc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header related_classvisitable"><td colspan="2" onclick="javascript:toggleInherit('related_classvisitable')"><img src="closed.png" alt="-"/>&#160;Related Functions inherited from <a class="el" href="classvisitable.html">visitable&lt; inventory &gt;</a></td></tr>
<tr class="memitem:a7c8b0524942b1d34dc190302ae3b0d71 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a7c8b0524942b1d34dc190302ae3b0d71">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(const <a class="el" href="classitem.html">item</a> *, const <a class="el" href="classitem.html">item</a> *)&gt; &amp;func) const</td></tr>
<tr class="separator:a7c8b0524942b1d34dc190302ae3b0d71 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a842be09c3c513fd6986cef86dad80e3b inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a842be09c3c513fd6986cef86dad80e3b">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(const <a class="el" href="classitem.html">item</a> *)&gt; &amp;func) const</td></tr>
<tr class="separator:a842be09c3c513fd6986cef86dad80e3b inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada3af0265cfce2d9aca1be92c292b1db inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#ada3af0265cfce2d9aca1be92c292b1db">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *)&gt; &amp;func)</td></tr>
<tr class="separator:ada3af0265cfce2d9aca1be92c292b1db inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5914edcae7670009cc06616fd33fe3f inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#aa5914edcae7670009cc06616fd33fe3f">visit_items</a> (const std::function&lt; <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613d">VisitResponse</a>(<a class="el" href="classitem.html">item</a> *, <a class="el" href="classitem.html">item</a> *)&gt; &amp;func)</td></tr>
<tr class="separator:aa5914edcae7670009cc06616fd33fe3f inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b96b0547d18f21e0d55f43905a810f6 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a6b96b0547d18f21e0d55f43905a810f6">find_parent</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="separator:a6b96b0547d18f21e0d55f43905a810f6 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c4c66230a872cb5777f3bce1b745ad inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classitem.html">item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a91c4c66230a872cb5777f3bce1b745ad">find_parent</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:a91c4c66230a872cb5777f3bce1b745ad inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a45c435a3ce302bf1c1206033727ba8 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a8a45c435a3ce302bf1c1206033727ba8">parents</a> (const <a class="el" href="classitem.html">item</a> &amp;it)</td></tr>
<tr class="separator:a8a45c435a3ce302bf1c1206033727ba8 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af70ae01ea4ef3165dc21f52108897636 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#af70ae01ea4ef3165dc21f52108897636">parents</a> (const <a class="el" href="classitem.html">item</a> &amp;it) const</td></tr>
<tr class="separator:af70ae01ea4ef3165dc21f52108897636 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e4e7da175b68a48e9186cdfe48900aa inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a2e4e7da175b68a48e9186cdfe48900aa">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter)</td></tr>
<tr class="separator:a2e4e7da175b68a48e9186cdfe48900aa inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6730ead8740d2b2c3c33d33ce69f6926 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <a class="el" href="classitem.html">item</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a6730ead8740d2b2c3c33d33ce69f6926">items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;filter) const</td></tr>
<tr class="separator:a6730ead8740d2b2c3c33d33ce69f6926 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43defd8edf8aecf5b04da50c75fdda56 inherit related_classvisitable"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classitem.html">item</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisitable.html#a43defd8edf8aecf5b04da50c75fdda56">remove_items_with</a> (const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;e)&gt; &amp;filter, int count)</td></tr>
<tr class="separator:a43defd8edf8aecf5b04da50c75fdda56 inherit related_classvisitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00089">89</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9963f0cfe64d75ae5ddd69ab22eab2f6" name="a9963f0cfe64d75ae5ddd69ab22eab2f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9963f0cfe64d75ae5ddd69ab22eab2f6">&#9670;&nbsp;</a></span>inventory() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">inventory::inventory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00211">operator+()</a>.</p>

</div>
</div>
<a id="a002d248f723cefc0bc02fa97da1b1c0a" name="a002d248f723cefc0bc02fa97da1b1c0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a002d248f723cefc0bc02fa97da1b1c0a">&#9670;&nbsp;</a></span>inventory() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">inventory::inventory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinventory.html">inventory</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5c2f74c64b0ad40cf8f9c8cfc171a10a" name="a5c2f74c64b0ad40cf8f9c8cfc171a10a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c2f74c64b0ad40cf8f9c8cfc171a10a">&#9670;&nbsp;</a></span>inventory() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">inventory::inventory </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1ea0a054f11675831cef03a936bd5813" name="a1ea0a054f11675831cef03a936bd5813"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ea0a054f11675831cef03a936bd5813">&#9670;&nbsp;</a></span>active_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt; inventory::active_items </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01086">1086</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>{</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>    std::vector&lt;item *&gt; <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>    <span class="keywordflow">for</span>( std::list&lt;item&gt; &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> &amp;elem_stack_iter : elem ) {</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>            <span class="keywordflow">if</span>( elem_stack_iter.needs_processing() ) {</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.push_back( &amp;elem_stack_iter );</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>            }</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>        }</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>    }</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>}</div>
<div class="ttc" id="aclassinventory_html_ad90c7cdc1166330628541c9779681c9c"><div class="ttname"><a href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">inventory::items</a></div><div class="ttdeci">invstack items</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00250">inventory.h:250</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00175">item.h:176</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l01635">player::process_items()</a>.</p>

</div>
</div>
<a id="a3840801d19b8b8b3ae4be0e832bd1c7d" name="a3840801d19b8b8b3ae4be0e832bd1c7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3840801d19b8b8b3ae4be0e832bd1c7d">&#9670;&nbsp;</a></span>add_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; inventory::add_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a>&#160;</td>
          <td class="paramname"><em>newit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>keep_invlet</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assign_invlet</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>should_stack</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00285">285</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>{</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    <a class="code hl_variable" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    <a class="code hl_variable" href="classinventory.html#a18bd56efb8f82281bb439851619c296a">items_type_cached</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span> </div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <span class="keywordflow">if</span>( should_stack ) {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>        <span class="comment">// See if we can&#39;t stack this item.</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>            std::list&lt;item&gt;::iterator it_ref = elem.begin();</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>            <span class="keywordflow">if</span>( it_ref-&gt;stacks_with( newit ) ) {</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>                <span class="keywordflow">if</span>( it_ref-&gt;merge_charges( newit ) ) {</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>                    <span class="keywordflow">return</span> *it_ref;</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>                }</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>                <span class="keywordflow">if</span>( it_ref-&gt;invlet == <span class="charliteral">&#39;\0&#39;</span> ) {</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>                    <span class="keywordflow">if</span>( !keep_invlet ) {</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>                        <a class="code hl_function" href="classinventory.html#a4814b0d8a4fe394998ba690fb19a1d16">update_invlet</a>( newit, assign_invlet );</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>                    }</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>                    <a class="code hl_function" href="classinventory.html#a6632e04576710c1d9ee979850958e63c">update_cache_with_item</a>( newit );</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>                    it_ref-&gt;invlet = newit.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a>;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>                    newit.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = it_ref-&gt;invlet;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>                }</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>                elem.push_back( newit );</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>                <span class="keywordflow">return</span> elem.back();</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( keep_invlet &amp;&amp; assign_invlet &amp;&amp; it_ref-&gt;invlet == newit.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> &amp;&amp;</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>                       it_ref-&gt;invlet != <span class="charliteral">&#39;\0&#39;</span> ) {</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>                <span class="comment">// If keep_invlet is true, we&#39;ll be forcing other items out of their current invlet.</span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>                <a class="code hl_function" href="classinventory.html#aaad56f923ec6824aadf028d8ba1ba89d">assign_empty_invlet</a>( *it_ref, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u );</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>            }</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>        }</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    }</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span> </div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="comment">// Couldn&#39;t stack the item, proceed.</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    <span class="keywordflow">if</span>( !keep_invlet ) {</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>        <a class="code hl_function" href="classinventory.html#a4814b0d8a4fe394998ba690fb19a1d16">update_invlet</a>( newit, assign_invlet );</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    }</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <a class="code hl_function" href="classinventory.html#a6632e04576710c1d9ee979850958e63c">update_cache_with_item</a>( newit );</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span> </div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.push_back( {newit} );</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.back().back();</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>}</div>
<div class="ttc" id="aclassinventory_html_a18bd56efb8f82281bb439851619c296a"><div class="ttname"><a href="classinventory.html#a18bd56efb8f82281bb439851619c296a">inventory::items_type_cached</a></div><div class="ttdeci">bool items_type_cached</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00254">inventory.h:254</a></div></div>
<div class="ttc" id="aclassinventory_html_a4814b0d8a4fe394998ba690fb19a1d16"><div class="ttname"><a href="classinventory.html#a4814b0d8a4fe394998ba690fb19a1d16">inventory::update_invlet</a></div><div class="ttdeci">void update_invlet(item &amp;it, bool assign_invlet=true)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l01214">inventory.cpp:1214</a></div></div>
<div class="ttc" id="aclassinventory_html_a6632e04576710c1d9ee979850958e63c"><div class="ttname"><a href="classinventory.html#a6632e04576710c1d9ee979850958e63c">inventory::update_cache_with_item</a></div><div class="ttdeci">void update_cache_with_item(item &amp;newit)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00252">inventory.cpp:252</a></div></div>
<div class="ttc" id="aclassinventory_html_aaad56f923ec6824aadf028d8ba1ba89d"><div class="ttname"><a href="classinventory.html#aaad56f923ec6824aadf028d8ba1ba89d">inventory::assign_empty_invlet</a></div><div class="ttdeci">void assign_empty_invlet(item &amp;it, const Character &amp;p, bool force=false)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l01148">inventory.cpp:1148</a></div></div>
<div class="ttc" id="aclassinventory_html_ad82feadf8429c99e5184064fc21a7a54"><div class="ttname"><a href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">inventory::binned</a></div><div class="ttdeci">bool binned</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00255">inventory.h:255</a></div></div>
<div class="ttc" id="aclassitem_html_af38d78ce6d128f6c7a1999b7f9e00965"><div class="ttname"><a href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">item::invlet</a></div><div class="ttdeci">char invlet</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02232">item.h:2232</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00272">game.cpp:272</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l01148">assign_empty_invlet()</a>, <a class="el" href="inventory_8h_source.html#l00255">binned</a>, <a class="el" href="game_8cpp_source.html#l00272">g</a>, <a class="el" href="item_8h_source.html#l02232">item::invlet</a>, <a class="el" href="inventory_8h_source.html#l00250">items</a>, <a class="el" href="inventory_8h_source.html#l00254">items_type_cached</a>, <a class="el" href="inventory_8cpp_source.html#l00252">update_cache_with_item()</a>, and <a class="el" href="inventory_8cpp_source.html#l01214">update_invlet()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00384">add_item_keep_invlet()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01191">are_requirements_nearby()</a>, <a class="el" href="character_8cpp_source.html#l02887">Character::can_pick_volume()</a>, <a class="el" href="character_8cpp_source.html#l03482">Character::die()</a>, <a class="el" href="basecamp_8cpp_source.html#l00606">basecamp::form_crafting_inventory()</a>, <a class="el" href="character_8cpp_source.html#l02321">Character::i_add()</a>, <a class="el" href="gamemode__tutorial_8cpp_source.html#l00106">tutorial_game::init()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03445">om_set_hide_site()</a>, <a class="el" href="inventory_8cpp_source.html#l00179">operator+=()</a>, <a class="el" href="inventory_8cpp_source.html#l00244">push_back()</a>, <a class="el" href="inventory_8cpp_source.html#l00398">restack()</a>, <a class="el" href="iuse_8cpp_source.html#l00530">iuse::smoking()</a>, and <a class="el" href="player_8cpp_source.html#l02721">player::wear()</a>.</p>

</div>
</div>
<a id="a898a515605fca29feff09de5d951adda" name="a898a515605fca29feff09de5d951adda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a898a515605fca29feff09de5d951adda">&#9670;&nbsp;</a></span>add_item_by_items_type_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; inventory::add_item_by_items_type_cache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a>&#160;</td>
          <td class="paramname"><em>newit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>keep_invlet</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assign_invlet</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>should_stack</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00337">337</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>{</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    <a class="code hl_variable" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classinventory.html#a18bd56efb8f82281bb439851619c296a">items_type_cached</a> ) {</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to add item to inventory using cache without building the items_type_cache.&quot;</span> );</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        <a class="code hl_function" href="classinventory.html#a0cedea8f680c5401c9a6712fa2e6f77a">build_items_type_cache</a>();</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    }</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    <a class="code hl_class" href="classstring__id.html">itype_id</a> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = newit.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>();</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    <span class="keywordflow">if</span>( should_stack ) {</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        <span class="comment">// See if we can&#39;t stack this item.</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#a61a52596eef24ea4b326e2940485b3bf">items_type_cache</a>[<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>] ) {</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>            <span class="keyword">auto</span> it_ref = elem-&gt;begin();</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>            <span class="keywordflow">if</span>( it_ref-&gt;stacks_with( newit, <span class="keyword">false</span>, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>                <span class="keywordflow">if</span>( it_ref-&gt;merge_charges( newit ) ) {</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>                    <span class="keywordflow">return</span> *it_ref;</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>                }</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>                <span class="keywordflow">if</span>( it_ref-&gt;invlet == <span class="charliteral">&#39;\0&#39;</span> ) {</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>                    <span class="keywordflow">if</span>( !keep_invlet ) {</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>                        <a class="code hl_function" href="classinventory.html#a4814b0d8a4fe394998ba690fb19a1d16">update_invlet</a>( newit, assign_invlet );</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>                    }</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>                    <a class="code hl_function" href="classinventory.html#a6632e04576710c1d9ee979850958e63c">update_cache_with_item</a>( newit );</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>                    it_ref-&gt;invlet = newit.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a>;</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>                    newit.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = it_ref-&gt;invlet;</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>                }</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>                elem-&gt;push_back( newit );</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>                <span class="keywordflow">return</span> elem-&gt;back();</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( keep_invlet &amp;&amp; assign_invlet &amp;&amp; it_ref-&gt;invlet == newit.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> &amp;&amp;</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>                       it_ref-&gt;invlet != <span class="charliteral">&#39;\0&#39;</span> ) {</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>                <span class="comment">// If keep_invlet is true, we&#39;ll be forcing other items out of their current invlet.</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>                <a class="code hl_function" href="classinventory.html#aaad56f923ec6824aadf028d8ba1ba89d">assign_empty_invlet</a>( *it_ref, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u );</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>            }</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>        }</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    }</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <span class="comment">// Couldn&#39;t stack the item, proceed.</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <span class="keywordflow">if</span>( !keep_invlet ) {</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>        <a class="code hl_function" href="classinventory.html#a4814b0d8a4fe394998ba690fb19a1d16">update_invlet</a>( newit, assign_invlet );</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>    }</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    <a class="code hl_function" href="classinventory.html#a6632e04576710c1d9ee979850958e63c">update_cache_with_item</a>( newit );</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span> </div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.push_back( {newit} );</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <a class="code hl_variable" href="classinventory.html#a61a52596eef24ea4b326e2940485b3bf">items_type_cache</a>[<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>].push_back( &amp;<a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.back() );</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.back().back();</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>}</div>
<div class="ttc" id="aclassinventory_html_a0cedea8f680c5401c9a6712fa2e6f77a"><div class="ttname"><a href="classinventory.html#a0cedea8f680c5401c9a6712fa2e6f77a">inventory::build_items_type_cache</a></div><div class="ttdeci">void build_items_type_cache()</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00327">inventory.cpp:327</a></div></div>
<div class="ttc" id="aclassinventory_html_a61a52596eef24ea4b326e2940485b3bf"><div class="ttname"><a href="classinventory.html#a61a52596eef24ea4b326e2940485b3bf">inventory::items_type_cache</a></div><div class="ttdeci">std::map&lt; itype_id, std::list&lt; std::list&lt; item &gt; * &gt; &gt; items_type_cache</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00251">inventory.h:251</a></div></div>
<div class="ttc" id="aclassitem_html_aa79dad64e1ef6347219be2f8666e2752"><div class="ttname"><a href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">item::typeId</a></div><div class="ttdeci">const itype_id &amp; typeId() const</div><div class="ttdoc">return the unique identifier of the items underlying type</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l08217">item.cpp:8217</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; itype &gt;</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="aenums_8h_html_ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab"><div class="ttname"><a href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a></div><div class="ttdeci">@ type</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00075">enums.h:75</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l01148">assign_empty_invlet()</a>, <a class="el" href="inventory_8h_source.html#l00255">binned</a>, <a class="el" href="inventory_8cpp_source.html#l00327">build_items_type_cache()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="game_8cpp_source.html#l00272">g</a>, <a class="el" href="item_8h_source.html#l02232">item::invlet</a>, <a class="el" href="inventory_8h_source.html#l00250">items</a>, <a class="el" href="inventory_8h_source.html#l00251">items_type_cache</a>, <a class="el" href="inventory_8h_source.html#l00254">items_type_cached</a>, <a class="el" href="enums_8h_source.html#l00075">type</a>, <a class="el" href="item_8cpp_source.html#l08217">item::typeId()</a>, <a class="el" href="inventory_8cpp_source.html#l00252">update_cache_with_item()</a>, and <a class="el" href="inventory_8cpp_source.html#l01214">update_invlet()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00508">form_from_map()</a>.</p>

</div>
</div>
<a id="ae740eb6f53c202a7fc67997355145ed1" name="ae740eb6f53c202a7fc67997355145ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae740eb6f53c202a7fc67997355145ed1">&#9670;&nbsp;</a></span>add_item_keep_invlet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::add_item_keep_invlet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a>&#160;</td>
          <td class="paramname"><em>newit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00384">384</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>{</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <a class="code hl_function" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( newit, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>}</div>
<div class="ttc" id="aclassinventory_html_a3840801d19b8b8b3ae4be0e832bd1c7d"><div class="ttname"><a href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">inventory::add_item</a></div><div class="ttdeci">item &amp; add_item(item newit, bool keep_invlet=false, bool assign_invlet=true, bool should_stack=true)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00285">inventory.cpp:285</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00285">add_item()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l07366">Character::dispose_item()</a>, <a class="el" href="npc_8cpp_source.html#l02754">npc::dispose_item()</a>, and <a class="el" href="player_8cpp_source.html#l02806">player::takeoff()</a>.</p>

</div>
</div>
<a id="af2e21dba4d2b32791908b021ef6746c3" name="af2e21dba4d2b32791908b021ef6746c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2e21dba4d2b32791908b021ef6746c3">&#9670;&nbsp;</a></span>allocated_invlets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="inventory_8h.html#a8083657433fe21615a7edf95be784480">invlets_bitset</a> inventory::allocated_invlets </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01258">1258</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>{</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>    <a class="code hl_typedef" href="inventory_8h.html#a8083657433fe21615a7edf95be784480">invlets_bitset</a> invlets;</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span> </div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;stack : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> invlet = stack.front().invlet;</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>        invlets.set( invlet );</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>    }</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>    invlets[0] = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>    <span class="keywordflow">return</span> invlets;</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>}</div>
<div class="ttc" id="ainventory_8h_html_a8083657433fe21615a7edf95be784480"><div class="ttname"><a href="inventory_8h.html#a8083657433fe21615a7edf95be784480">invlets_bitset</a></div><div class="ttdeci">std::bitset&lt; std::numeric_limits&lt; char &gt;::max()&gt; invlets_bitset</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00036">inventory.h:36</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l02547">Character::allocated_invlets()</a>.</p>

</div>
</div>
<a id="aaad56f923ec6824aadf028d8ba1ba89d" name="aaad56f923ec6824aadf028d8ba1ba89d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaad56f923ec6824aadf028d8ba1ba89d">&#9670;&nbsp;</a></span>assign_empty_invlet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::assign_empty_invlet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01148">1148</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>{</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>    <span class="keyword">const</span> std::string auto_setting = get_option&lt;std::string&gt;( <span class="stringliteral">&quot;AUTO_INV_ASSIGN&quot;</span> );</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>    <span class="keywordflow">if</span>( auto_setting == <span class="stringliteral">&quot;disabled&quot;</span> || ( ( auto_setting == <span class="stringliteral">&quot;favorites&quot;</span> ) &amp;&amp; !it.<a class="code hl_variable" href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">is_favorite</a> ) ) {</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>    }</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span> </div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>    <a class="code hl_typedef" href="inventory_8h.html#a8083657433fe21615a7edf95be784480">invlets_bitset</a> cur_inv = p.<a class="code hl_function" href="classCharacter.html#a51a93e4225d09d4991fe636623373446">allocated_invlets</a>();</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>    <a class="code hl_class" href="classstring__id.html">itype_id</a> target_type = it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>();</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> iter : <a class="code hl_variable" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a> ) {</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>        <span class="keywordflow">if</span>( iter.second == target_type &amp;&amp; !cur_inv[iter.first] ) {</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>            it.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = iter.first;</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>        }</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>    }</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>    <span class="keywordflow">if</span>( cur_inv.count() &lt; <a class="code hl_function" href="inventory_8cpp.html#ababaf576567206360a0baa12078e132c">inv_chars</a>.size() ) {</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>        <span class="comment">// XXX YUCK I don&#39;t know how else to get the keybindings</span></div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>        <span class="comment">// FIXME: Find a better way to get bound keys</span></div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>        <a class="code hl_class" href="classavatar.html">avatar</a> &amp;u = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u;</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>        <a class="code hl_class" href="classinventory__selector.html">inventory_selector</a> selector( u );</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span> </div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>        std::vector&lt;char&gt; binds = selector.all_bound_keys();</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span> </div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;inv_char : <a class="code hl_function" href="inventory_8cpp.html#ababaf576567206360a0baa12078e132c">inv_chars</a> ) {</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>            <span class="keywordflow">if</span>( <a class="code hl_variable" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a>.count( inv_char ) ) {</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>                <span class="comment">// don&#39;t overwrite assigned keys</span></div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>            }</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">std::find</a>( binds.begin(), binds.end(), inv_char ) != binds.end() ) {</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>                <span class="comment">// don&#39;t auto-assign bound keys</span></div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>            }</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>            <span class="keywordflow">if</span>( !cur_inv[inv_char] ) {</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>                it.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = inv_char;</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>            }</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>        }</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>    }</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>    <span class="keywordflow">if</span>( !force ) {</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>        it.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = 0;</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>    }</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>    <span class="comment">// No free hotkey exist, re-use some of the existing ones</span></div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>        <a class="code hl_class" href="classitem.html">item</a> &amp;o = elem.front();</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>        <span class="keywordflow">if</span>( o.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> != 0 ) {</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>            it.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = o.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a>;</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>            o.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = 0;</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>        }</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>    }</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>    <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;could not find a hotkey for %s&quot;</span>, it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>() );</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>}</div>
<div class="ttc" id="aclassCharacter_html_a51a93e4225d09d4991fe636623373446"><div class="ttname"><a href="classCharacter.html#a51a93e4225d09d4991fe636623373446">Character::allocated_invlets</a></div><div class="ttdeci">std::bitset&lt; std::numeric_limits&lt; char &gt;::max()&gt; allocated_invlets() const</div><div class="ttdoc">Only use for UI things.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02547">character.cpp:2547</a></div></div>
<div class="ttc" id="aclassavatar_html"><div class="ttname"><a href="classavatar.html">avatar</a></div><div class="ttdef"><b>Definition:</b> <a href="avatar_8h_source.html#l00053">avatar.h:54</a></div></div>
<div class="ttc" id="aclassinventory__selector_html"><div class="ttname"><a href="classinventory__selector.html">inventory_selector</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory__ui_8h_source.html#l00438">inventory_ui.h:439</a></div></div>
<div class="ttc" id="aclassinventory_html_a72e5a1a88b44c6e5fc1bdbdbb5e855a7"><div class="ttname"><a href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">inventory::assigned_invlet</a></div><div class="ttdeci">std::map&lt; char, itype_id &gt; assigned_invlet</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00099">inventory.h:99</a></div></div>
<div class="ttc" id="aclassitem_html_a05c24ca1052a7a8cb9fd314acdb49f40"><div class="ttname"><a href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">item::is_favorite</a></div><div class="ttdeci">bool is_favorite</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02234">item.h:2234</a></div></div>
<div class="ttc" id="aclassitem_html_a7e78e26dcf9b357cda769c3ca2938eda"><div class="ttname"><a href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">item::tname</a></div><div class="ttdeci">std::string tname(unsigned int quantity=1, bool with_prefix=true, unsigned int truncate=0) const</div><div class="ttdoc">Return the (translated) item name.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04465">item.cpp:4465</a></div></div>
<div class="ttc" id="ainventory_8cpp_html_ababaf576567206360a0baa12078e132c"><div class="ttname"><a href="inventory_8cpp.html#ababaf576567206360a0baa12078e132c">inv_chars</a></div><div class="ttdeci">const invlet_wrapper inv_chars(&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\&quot;#&amp;()+.:;=@[\\]^_{|}&quot;)</div></div>
<div class="ttc" id="anamespacedetail_html_ad06b74f7502b63cbab323bba1ca3f72b"><div class="ttname"><a href="namespacedetail.html#ad06b74f7502b63cbab323bba1ca3f72b">detail::find</a></div><div class="ttdeci">FMT_CONSTEXPR bool find(Ptr first, Ptr last, T value, Ptr &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format_8h_source.html#l03355">fmtlib_format.h:3355</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory__ui_8cpp_source.html#l01892">inventory_selector::all_bound_keys()</a>, <a class="el" href="character_8cpp_source.html#l02547">Character::allocated_invlets()</a>, <a class="el" href="inventory_8h_source.html#l00099">assigned_invlet</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="fmtlib__format_8h_source.html#l03355">detail::find()</a>, <a class="el" href="game_8cpp_source.html#l00272">g</a>, <a class="el" href="inventory_8cpp.html#ababaf576567206360a0baa12078e132c">inv_chars()</a>, <a class="el" href="item_8h_source.html#l02232">item::invlet</a>, <a class="el" href="item_8h_source.html#l02234">item::is_favorite</a>, <a class="el" href="inventory_8h_source.html#l00250">items</a>, <a class="el" href="item_8cpp_source.html#l04465">item::tname()</a>, and <a class="el" href="item_8cpp_source.html#l08217">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00285">add_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00337">add_item_by_items_type_cache()</a>, <a class="el" href="character_8cpp_source.html#l02459">Character::i_add_or_drop()</a>, <a class="el" href="iuse_8cpp_source.html#l07891">iuse::radiocar()</a>, <a class="el" href="inventory_8cpp_source.html#l00398">restack()</a>, <a class="el" href="crafting_8cpp_source.html#l00712">set_item_inventory()</a>, and <a class="el" href="inventory_8cpp_source.html#l01214">update_invlet()</a>.</p>

</div>
</div>
<a id="a0cedea8f680c5401c9a6712fa2e6f77a" name="a0cedea8f680c5401c9a6712fa2e6f77a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cedea8f680c5401c9a6712fa2e6f77a">&#9670;&nbsp;</a></span>build_items_type_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::build_items_type_cache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00327">327</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>{</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>    <a class="code hl_variable" href="classinventory.html#a61a52596eef24ea4b326e2940485b3bf">items_type_cache</a>.clear();</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>        <a class="code hl_class" href="classstring__id.html">itype_id</a> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = elem.front().typeId();</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>        <a class="code hl_variable" href="classinventory.html#a61a52596eef24ea4b326e2940485b3bf">items_type_cache</a>[<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>].push_back( &amp;elem );</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>    }</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <a class="code hl_variable" href="classinventory.html#a18bd56efb8f82281bb439851619c296a">items_type_cached</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>, <a class="el" href="inventory_8h_source.html#l00251">items_type_cache</a>, <a class="el" href="inventory_8h_source.html#l00254">items_type_cached</a>, and <a class="el" href="enums_8h_source.html#l00075">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00337">add_item_by_items_type_cache()</a>, and <a class="el" href="inventory_8cpp_source.html#l00508">form_from_map()</a>.</p>

</div>
</div>
<a id="abff8096e3549bbf9dce01aa9a1f42f09" name="abff8096e3549bbf9dce01aa9a1f42f09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abff8096e3549bbf9dce01aa9a1f42f09">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00237">237</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>{</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.clear();</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    <a class="code hl_variable" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <a class="code hl_variable" href="classinventory.html#a18bd56efb8f82281bb439851619c296a">items_type_cached</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00255">binned</a>, <a class="el" href="inventory_8h_source.html#l00250">items</a>, and <a class="el" href="inventory_8h_source.html#l00254">items_type_cached</a>.</p>

<p class="reference">Referenced by <a class="el" href="debug__menu_8cpp_source.html#l00495">debug_menu::character_edit_menu()</a>, <a class="el" href="mission__companion_8cpp_source.html#l01754">talk_function::companion_return()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02524">basecamp::finish_return()</a>, <a class="el" href="basecamp_8cpp_source.html#l00606">basecamp::form_crafting_inventory()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00387">Character::load()</a>, <a class="el" href="npc_8cpp_source.html#l00317">npc::randomize()</a>, <a class="el" href="npc_8cpp_source.html#l01665">npc::shop_restock()</a>, and <a class="el" href="npc_8cpp_source.html#l00587">starting_inv()</a>.</p>

</div>
</div>
<a id="aa3e15113cfaa6ef3a732d35f55768a13" name="aa3e15113cfaa6ef3a732d35f55768a13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3e15113cfaa6ef3a732d35f55768a13">&#9670;&nbsp;</a></span>const_slice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="inventory_8h.html#a15a1f7253eeeeec12b3b0503fc37925c">const_invslice</a> inventory::const_slice </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00142">142</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>{</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <a class="code hl_typedef" href="inventory_8h.html#a15a1f7253eeeeec12b3b0503fc37925c">const_invslice</a> stacks;</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_class" href="classitem.html">item</a> : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>        stacks.push_back( &amp;<a class="code hl_class" href="classitem.html">item</a> );</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    }</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="keywordflow">return</span> stacks;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>}</div>
<div class="ttc" id="ainventory_8h_html_a15a1f7253eeeeec12b3b0503fc37925c"><div class="ttname"><a href="inventory_8h.html#a15a1f7253eeeeec12b3b0503fc37925c">const_invslice</a></div><div class="ttdeci">std::vector&lt; const std::list&lt; item &gt; * &gt; const_invslice</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00033">inventory.h:33</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>.</p>

<p class="reference">Referenced by <a class="el" href="character__oracle_8cpp_source.html#l00070">behavior::character_oracle_t::can_make_fire()</a>, <a class="el" href="character__oracle_8cpp_source.html#l00056">behavior::character_oracle_t::can_wear_warmer_clothes()</a>, <a class="el" href="character_8cpp_source.html#l03198">Character::drop_invalid_inventory()</a>, and <a class="el" href="player_8cpp_source.html#l03388">player::get_recipes_from_books()</a>.</p>

</div>
</div>
<a id="a8f615a8478d03953310f91bc45f79543" name="a8f615a8478d03953310f91bc45f79543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f615a8478d03953310f91bc45f79543">&#9670;&nbsp;</a></span>const_stack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp; inventory::const_stack </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00151">151</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>{</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <span class="keywordflow">if</span>( i &lt; 0 || i &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.size() ) ) {</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Attempted to access stack %d in an inventory (size %d)&quot;</span>, i, <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.size() );</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>        <span class="keyword">static</span> <span class="keyword">const</span> std::list&lt;item&gt; nullstack{};</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>        <span class="keywordflow">return</span> nullstack;</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    }</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span> </div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    invstack::const_iterator iter = <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin();</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; i; ++j ) {</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>        ++iter;</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    }</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="keywordflow">return</span> *iter;</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, and <a class="el" href="inventory_8h_source.html#l00250">items</a>.</p>

<p class="reference">Referenced by <a class="el" href="mission__companion_8cpp_source.html#l01754">talk_function::companion_return()</a>, <a class="el" href="player_8cpp_source.html#l01905">player::consume()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00411">convert_to_items()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02524">basecamp::finish_return()</a>, <a class="el" href="crafting_8cpp_source.html#l00482">player::get_eligible_containers_for_crafting()</a>, and <a class="el" href="inventory_8cpp_source.html#l00171">operator+=()</a>.</p>

</div>
</div>
<a id="a50eb4dd255916e673dc53c1ec5d87d74" name="a50eb4dd255916e673dc53c1ec5d87d74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50eb4dd255916e673dc53c1ec5d87d74">&#9670;&nbsp;</a></span>copy_invlet_of()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::copy_invlet_of </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01289">1289</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>{</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>    <a class="code hl_variable" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a> = <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.assigned_invlet;</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>    <a class="code hl_variable" href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">invlet_cache</a> = <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.invlet_cache;</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>}</div>
<div class="ttc" id="acharacter_8h_html_a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf"><div class="ttname"><a href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">rechargeable_cbm::other</a></div><div class="ttdeci">@ other</div></div>
<div class="ttc" id="aclassinventory_html_ab2ef1a3c297246e94093b7741cf721a5"><div class="ttname"><a href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">inventory::invlet_cache</a></div><div class="ttdeci">invlet_favorites invlet_cache</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00247">inventory.h:247</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00099">assigned_invlet</a>, <a class="el" href="inventory_8h_source.html#l00247">invlet_cache</a>, and <a class="el" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>.</p>

</div>
</div>
<a id="a41e48b6ff6b76a00740eaadd006d6867" name="a41e48b6ff6b76a00740eaadd006d6867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41e48b6ff6b76a00740eaadd006d6867">&#9670;&nbsp;</a></span>count_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inventory::count_item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>item_type</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01134">1134</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>{</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>    <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">num</a> = 0;</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="inventory_8h.html#a533f054f56e1c2f1ac14a167db55a569">itype_bin</a> bin = <a class="code hl_function" href="classinventory.html#a0b8d527ded5634738012cd5086aafa7c">get_binned_items</a>();</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>    <span class="keywordflow">if</span>( bin.find( item_type ) == bin.end() ) {</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">num</a>;</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>    }</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>    <span class="keyword">const</span> std::list&lt;const item *&gt; <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> = <a class="code hl_function" href="classinventory.html#a0b8d527ded5634738012cd5086aafa7c">get_binned_items</a>().find( item_type )-&gt;second;</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *it : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>        <a class="code hl_enumvalue" href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">num</a> += it-&gt;count();</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>    }</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">num</a>;</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>}</div>
<div class="ttc" id="aclassinventory_html_a0b8d527ded5634738012cd5086aafa7c"><div class="ttname"><a href="classinventory.html#a0b8d527ded5634738012cd5086aafa7c">inventory::get_binned_items</a></div><div class="ttdeci">const itype_bin &amp; get_binned_items() const</div><div class="ttdoc">Returns visitable items binned by their itype.</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l01270">inventory.cpp:1270</a></div></div>
<div class="ttc" id="adependency__tree_8h_html_a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c"><div class="ttname"><a href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">node_error_type::num</a></div><div class="ttdeci">@ num</div></div>
<div class="ttc" id="ainventory_8h_html_a533f054f56e1c2f1ac14a167db55a569"><div class="ttname"><a href="inventory_8h.html#a533f054f56e1c2f1ac14a167db55a569">itype_bin</a></div><div class="ttdeci">std::unordered_map&lt; itype_id, std::list&lt; const item * &gt; &gt; itype_bin</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00035">inventory.h:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l01270">get_binned_items()</a>, <a class="el" href="inventory_8h_source.html#l00250">items</a>, and <a class="el" href="dependency__tree_8h.html#a8935964c16c2e4cfade43a60a2659da9a0fc3cfbc27e91ea60a787de13dae3e3c">num</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting__gui_8cpp_source.html#l00161">select_crafting_recipe()</a>.</p>

</div>
</div>
<a id="a8e1499a3a3a1db7da261efe25329a5ee" name="a8e1499a3a3a1db7da261efe25329a5ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e1499a3a3a1db7da261efe25329a5ee">&#9670;&nbsp;</a></span>dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::dump </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classitem.html">item</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00788">788</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>{</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem_stack_iter : elem ) {</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>            dest.push_back( &amp;elem_stack_iter );</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>        }</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>    }</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l08959">Character::inv_dump()</a>, <a class="el" href="mission_8cpp_source.html#l00344">mission::is_complete()</a>, and <a class="el" href="mission_8cpp_source.html#l00280">mission::wrap_up()</a>.</p>

</div>
</div>
<a id="a2a437329c5c3614c03b1d31f27eb3351" name="a2a437329c5c3614c03b1d31f27eb3351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a437329c5c3614c03b1d31f27eb3351">&#9670;&nbsp;</a></span>find_item() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> &amp; inventory::find_item </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00809">809</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>{</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>    <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><a class="code hl_class" href="classitem.html">item</a> &amp;<span class="keyword">&gt;</span>( <span class="keyword">const_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classinventory.html">inventory</a> *<span class="keyword">&gt;</span>( this )-&gt;<a class="code hl_function" href="classinventory.html#a3327fb977cf0d264d61e708527f0d2c0">find_item</a>( position ) );</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>}</div>
<div class="ttc" id="aclassinventory_html"><div class="ttname"><a href="classinventory.html">inventory</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00089">inventory.h:90</a></div></div>
<div class="ttc" id="aclassinventory_html_a3327fb977cf0d264d61e708527f0d2c0"><div class="ttname"><a href="classinventory.html#a3327fb977cf0d264d61e708527f0d2c0">inventory::find_item</a></div><div class="ttdeci">const item &amp; find_item(int position) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00797">inventory.cpp:797</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00797">find_item()</a>.</p>

</div>
</div>
<a id="a3327fb977cf0d264d61e708527f0d2c0" name="a3327fb977cf0d264d61e708527f0d2c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3327fb977cf0d264d61e708527f0d2c0">&#9670;&nbsp;</a></span>find_item() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classitem.html">item</a> &amp; inventory::find_item </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00797">797</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>{</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>    <span class="keywordflow">if</span>( position &lt; 0 || position &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.size() ) ) {</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="item_8cpp.html#a300b99af4ea719590afac661e0bff7a1">null_item_reference</a>();</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>    }</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>    invstack::const_iterator iter = <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin();</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> j = 0; j &lt; position; ++j ) {</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>        ++iter;</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>    }</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>    <span class="keywordflow">return</span> iter-&gt;front();</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>}</div>
<div class="ttc" id="aitem_8cpp_html_a300b99af4ea719590afac661e0bff7a1"><div class="ttname"><a href="item_8cpp.html#a300b99af4ea719590afac661e0bff7a1">null_item_reference</a></div><div class="ttdeci">item &amp; null_item_reference()</div><div class="ttdoc">Returns a reference to a null item (see item::is_null).</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00322">item.cpp:322</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>, and <a class="el" href="item_8cpp_source.html#l00322">null_item_reference()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00809">find_item()</a>, <a class="el" href="iexamine_8cpp_source.html#l04208">findBestGasDiscount()</a>, <a class="el" href="npcmove_8cpp_source.html#l03706">npc::heal_self()</a>, <a class="el" href="character_8cpp_source.html#l02385">Character::i_at()</a>, <a class="el" href="player_8cpp_source.html#l01635">player::process_items()</a>, and <a class="el" href="npc_8cpp_source.html#l01151">npc::wield()</a>.</p>

</div>
</div>
<a id="addb070dde1f49b79a5edd46f369ba034" name="addb070dde1f49b79a5edd46f369ba034"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addb070dde1f49b79a5edd46f369ba034">&#9670;&nbsp;</a></span>find_usable_cached_invlet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char inventory::find_usable_cached_invlet </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>item_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00267">267</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>{</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <span class="comment">// Some of our preferred letters might already be used.</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> invlet : <a class="code hl_variable" href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">invlet_cache</a>.<a class="code hl_function" href="classinvlet__favorites.html#aa975a40dd49918705e737a47bad9ee9d">invlets_for</a>( item_type ) ) {</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        <span class="comment">// Don&#39;t overwrite user assignments.</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a>.count( invlet ) ) {</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        }</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>        <span class="comment">// Check if anything is using this invlet.</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.invlet_to_item( invlet ) != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>        }</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>        <span class="keywordflow">return</span> invlet;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    }</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span> </div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>}</div>
<div class="ttc" id="aclassinvlet__favorites_html_aa975a40dd49918705e737a47bad9ee9d"><div class="ttname"><a href="classinvlet__favorites.html#aa975a40dd49918705e737a47bad9ee9d">invlet_favorites::invlets_for</a></div><div class="ttdeci">std::string invlets_for(const itype_id &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00116">inventory.cpp:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00099">assigned_invlet</a>, <a class="el" href="game_8cpp_source.html#l00272">g</a>, <a class="el" href="inventory_8h_source.html#l00247">invlet_cache</a>, and <a class="el" href="inventory_8cpp_source.html#l00116">invlet_favorites::invlets_for()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l01214">update_invlet()</a>.</p>

</div>
</div>
<a id="a31bf20ee0144627b5fba528b81559bc6" name="a31bf20ee0144627b5fba528b81559bc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31bf20ee0144627b5fba528b81559bc6">&#9670;&nbsp;</a></span>form_from_map() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::form_from_map </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>pl</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assign_invlet</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clear_path</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00472">472</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>{</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>    <a class="code hl_function" href="classinventory.html#a31bf20ee0144627b5fba528b81559bc6">form_from_map</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m, <a class="code hl_enumeration" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, range, pl, assign_invlet, clear_path );</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>}</div>
<div class="ttc" id="aclassinventory_html_a31bf20ee0144627b5fba528b81559bc6"><div class="ttname"><a href="classinventory.html#a31bf20ee0144627b5fba528b81559bc6">inventory::form_from_map</a></div><div class="ttdeci">void form_from_map(const tripoint &amp;origin, int range, const Character *pl=nullptr, bool assign_invlet=true, bool clear_path=true)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00472">inventory.cpp:472</a></div></div>
<div class="ttc" id="anamespacecoords_html_ad99808a305ad40299e592d1266bed4a7"><div class="ttname"><a href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">coords::origin</a></div><div class="ttdeci">origin</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00057">coordinates.h:57</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00472">form_from_map()</a>, and <a class="el" href="game_8cpp_source.html#l00272">g</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l01156">player::can_continue_craft()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00305">iuse_transform::can_use()</a>, <a class="el" href="crafting_8cpp_source.html#l01568">player::consume_items()</a>, <a class="el" href="crafting_8cpp_source.html#l01866">player::consume_tools()</a>, <a class="el" href="crafting_8cpp_source.html#l01750">player::craft_consume_tools()</a>, <a class="el" href="crafting_8cpp_source.html#l00558">Character::crafting_inventory()</a>, <a class="el" href="craft__command_8cpp_source.html#l00223">craft_command::create_in_progress_craft()</a>, <a class="el" href="craft__command_8cpp_source.html#l00097">craft_command::execute()</a>, <a class="el" href="inventory_8cpp_source.html#l00472">form_from_map()</a>, <a class="el" href="inventory_8cpp_source.html#l00479">form_from_zone()</a>, <a class="el" href="iexamine_8cpp_source.html#l05562">mill_load_food()</a>, <a class="el" href="veh__utils_8cpp_source.html#l00109">veh_utils::repair_part()</a>, <a class="el" href="iexamine_8cpp_source.html#l05453">smoker_load_food()</a>, and <a class="el" href="suffer_8cpp_source.html#l00615">Character::suffer_from_asthma()</a>.</p>

</div>
</div>
<a id="af19bdc794ff37fa95780aa68c1948492" name="af19bdc794ff37fa95780aa68c1948492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af19bdc794ff37fa95780aa68c1948492">&#9670;&nbsp;</a></span>form_from_map() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::form_from_map </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>pl</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assign_invlet</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clear_path</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00489">489</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>{</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>    <span class="comment">// populate a grid of spots that can be reached</span></div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>    std::vector&lt;tripoint&gt; reachable_pts = {};</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>    <span class="comment">// If we need a clear path we care about the reachability of points</span></div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    <span class="keywordflow">if</span>( clear_path ) {</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>        m.<a class="code hl_function" href="classmap.html#ac5b071f269f509ae698f95bc9966cbf7">reachable_flood_steps</a>( reachable_pts, <a class="code hl_enumeration" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, range, 1, 100 );</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>        <span class="comment">// Fill reachable points with points_in_radius</span></div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>        <a class="code hl_class" href="classtripoint__range.html">tripoint_range&lt;tripoint&gt;</a> in_radius = m.<a class="code hl_function" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( <a class="code hl_enumeration" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, range );</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p : in_radius ) {</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>            reachable_pts.emplace_back( p );</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>        }</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    }</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>    <a class="code hl_function" href="classinventory.html#a31bf20ee0144627b5fba528b81559bc6">form_from_map</a>( m, reachable_pts, pl, assign_invlet );</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>}</div>
<div class="ttc" id="aclassmap_html_a4f5f812d7e89a998429958573a4c340f"><div class="ttname"><a href="classmap.html#a4f5f812d7e89a998429958573a4c340f">map::points_in_radius</a></div><div class="ttdeci">tripoint_range&lt; tripoint &gt; points_in_radius(const tripoint &amp;center, size_t radius, size_t radiusz=0) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08593">map.cpp:8593</a></div></div>
<div class="ttc" id="aclassmap_html_ac5b071f269f509ae698f95bc9966cbf7"><div class="ttname"><a href="classmap.html#ac5b071f269f509ae698f95bc9966cbf7">map::reachable_flood_steps</a></div><div class="ttdeci">void reachable_flood_steps(std::vector&lt; tripoint &gt; &amp;reachable_pts, const tripoint &amp;f, int range, int cost_min, int cost_max) const</div><div class="ttdoc">Populates a vector of points that are reachable within a number of steps from a point.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06276">map.cpp:6276</a></div></div>
<div class="ttc" id="aclasstripoint__range_html"><div class="ttname"><a href="classtripoint__range.html">tripoint_range</a></div><div class="ttdef"><b>Definition:</b> <a href="map__iterator_8h_source.html#l00012">map_iterator.h:13</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00147">point.h:147</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00472">form_from_map()</a>, <a class="el" href="map_8cpp_source.html#l08593">map::points_in_radius()</a>, and <a class="el" href="map_8cpp_source.html#l06276">map::reachable_flood_steps()</a>.</p>

</div>
</div>
<a id="a62b0a2a744424cf2648de273f64b9378" name="a62b0a2a744424cf2648de273f64b9378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62b0a2a744424cf2648de273f64b9378">&#9670;&nbsp;</a></span>form_from_map() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::form_from_map </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td>
          <td class="paramname"><em>pts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>pl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assign_invlet</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00508">508</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>{</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    <span class="keyword">const</span> <a class="code hl_class" href="classtime__point.html">time_point</a> bday = <a class="code hl_variable" href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a>;</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>    <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.clear();</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>    <a class="code hl_function" href="classinventory.html#a0cedea8f680c5401c9a6712fa2e6f77a">build_items_type_cache</a>();</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p : pts ) {</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>        <span class="keywordflow">if</span>( m.<a class="code hl_function" href="classmap.html#a00008f407a53edc2445622618d7ed071">has_furn</a>( p ) ) {</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structfurn__t.html">furn_t</a> &amp;f = m.<a class="code hl_function" href="classmap.html#af55e014aab791bbe4c8630361c1311dd">furn</a>( p ).<a class="code hl_function" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = f.<a class="code hl_function" href="structfurn__t.html#aca23d59d0fb4b19be78fcdf07280b00f">crafting_pseudo_item_type</a>();</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>            <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structitype.html">itype</a> *ammo = f.<a class="code hl_function" href="structfurn__t.html#a342d8218208d6443788a6ed5010c5c2b">crafting_ammo_item_type</a>();</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>                <a class="code hl_class" href="classitem.html">item</a> furn_item( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, 0 );</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>                furn_item.set_flag( <span class="stringliteral">&quot;PSEUDO&quot;</span> );</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>                <span class="keywordflow">if</span>( furn_item.has_flag( <span class="stringliteral">&quot;USES_GRID_POWER&quot;</span> ) ) {</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>                    <span class="comment">// TODO: The grid tracker should correspond to map!</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>                    <span class="keyword">auto</span> &amp;grid = <a class="code hl_function" href="distribution__grid_8h.html#ae8e6a5ac44a7f17ff6b6d1d86522d942">get_distribution_grid_tracker</a>().<a class="code hl_function" href="classdistribution__grid__tracker.html#a6fce22c007b9a8b4532aabefc8321aa5">grid_at</a>( <a class="code hl_typedef" href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a>( m.<a class="code hl_function" href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">getabs</a>( p ) ) );</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>                    furn_item.charges = grid.<a class="code hl_function" href="classdistribution__grid.html#a7beaf038705d51885b0f6644391d19bc">get_resource</a>();</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>                    furn_item.charges = ammo ? <a class="code hl_function" href="inventory_8cpp.html#a0270df10fe59879068e7fde158e3fe0b">count_charges_in_list</a>( ammo, m.<a class="code hl_function" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( p ) ) : 0;</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>                }</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>                <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( furn_item );</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>            }</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>        }</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>        <span class="keywordflow">if</span>( m.<a class="code hl_function" href="classmap.html#aa904e9f61ca568d8ed985cf22193b8ed">has_items</a>( p ) &amp;&amp; m.<a class="code hl_function" href="classmap.html#ab669e4df068956bf9b69599c85c2a0b2">accessible_items</a>( p ) ) {</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>            <span class="keywordtype">bool</span> allow_liquids = m.<a class="code hl_function" href="classmap.html#a516c0764134cc86b57297811520395f7">has_flag_ter_or_furn</a>( <span class="stringliteral">&quot;LIQUIDCONT&quot;</span>, p );</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;i : m.<a class="code hl_function" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( p ) ) {</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>                <span class="comment">// if it&#39;s *the* player requesting this from from map inventory</span></div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>                <span class="comment">// then don&#39;t allow items owned by another faction to be factored into recipe components etc.</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>                <span class="keywordflow">if</span>( pl &amp;&amp; !i.is_owned_by( *pl, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>                }</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>                <span class="keywordflow">if</span>( allow_liquids || !i.made_of( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>                    <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( i, <span class="keyword">false</span>, assign_invlet );</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>                }</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>            }</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>        }</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>        <span class="comment">// Kludges for now!</span></div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>        <span class="keywordflow">if</span>( m.<a class="code hl_function" href="classmap.html#a2b9a117ad421bd11ca8efd7449ce2528">has_nearby_fire</a>( p, 0 ) ) {</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>            <a class="code hl_class" href="classitem.html">item</a> <a class="code hl_function" href="handle__action_8cpp.html#ad56544ec96a0f79ea4e47ae8f8754d10">fire</a>( <span class="stringliteral">&quot;fire&quot;</span>, bday );</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>            <a class="code hl_function" href="handle__action_8cpp.html#ad56544ec96a0f79ea4e47ae8f8754d10">fire</a>.charges = 1;</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>            <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( <a class="code hl_function" href="handle__action_8cpp.html#ad56544ec96a0f79ea4e47ae8f8754d10">fire</a> );</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>        }</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>        <span class="comment">// Handle any water from infinite map sources.</span></div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>        <a class="code hl_class" href="classitem.html">item</a> water = m.<a class="code hl_function" href="classmap.html#a3fea339e0cf553409e982fd0fb385d84">water_from</a>( p );</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>        <span class="keywordflow">if</span>( !water.<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>            <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( water );</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>        }</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>        <span class="comment">// kludge that can probably be done better to check specifically for toilet water to use in</span></div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>        <span class="comment">// crafting</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>        <span class="keywordflow">if</span>( m.<a class="code hl_function" href="classmap.html#af55e014aab791bbe4c8630361c1311dd">furn</a>( p ).<a class="code hl_function" href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>().<a class="code hl_variable" href="structmap__data__common__t.html#a1cea700725488e3742f8a1d449ba92e3">examine</a> == &amp;<a class="code hl_function" href="namespaceiexamine.html#ad884d29edd1296ac800ef9e187ecee5a">iexamine::toilet</a> ) {</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>            <span class="comment">// get water charges at location</span></div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>            <span class="keyword">auto</span> <a class="code hl_function" href="namespaceiexamine.html#ad884d29edd1296ac800ef9e187ecee5a">toilet</a> = m.<a class="code hl_function" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( p );</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>            <span class="keyword">auto</span> water = <a class="code hl_function" href="namespaceiexamine.html#ad884d29edd1296ac800ef9e187ecee5a">toilet</a>.end();</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> candidate = <a class="code hl_function" href="namespaceiexamine.html#ad884d29edd1296ac800ef9e187ecee5a">toilet</a>.begin(); candidate != <a class="code hl_function" href="namespaceiexamine.html#ad884d29edd1296ac800ef9e187ecee5a">toilet</a>.end(); ++candidate ) {</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>                <span class="keywordflow">if</span>( candidate-&gt;typeId() == <a class="code hl_variable" href="inventory_8cpp.html#abfd8b1d23930a50d7f122f0d39538649">itype_water</a> ) {</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>                    water = candidate;</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>                }</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>            }</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>            <span class="keywordflow">if</span>( water != <a class="code hl_function" href="namespaceiexamine.html#ad884d29edd1296ac800ef9e187ecee5a">toilet</a>.end() &amp;&amp; water-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; 0 ) {</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>                <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( *water );</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>            }</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>        }</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span> </div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>        <span class="comment">// WARNING: The part below has a bug that&#39;s currently quite minor</span></div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>        <span class="comment">// When a vehicle has multiple faucets in range, available water is</span></div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>        <span class="comment">//  multiplied by the number of faucets.</span></div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        <span class="comment">// Same thing happens for all other tools and resources, but not cargo</span></div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>        <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = m.<a class="code hl_function" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( p );</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>        <span class="keywordflow">if</span>( !vp ) {</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>        }</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>        <a class="code hl_class" href="classvehicle.html">vehicle</a> *<span class="keyword">const</span> veh = &amp;vp-&gt;vehicle();</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span> </div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        <span class="comment">//Adds faucet to kitchen stuff; may be horribly wrong to do such....</span></div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>        <span class="comment">//ShouldBreak into own variable</span></div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;vpart_reference&gt;</a> kpart = vp.<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <span class="stringliteral">&quot;KITCHEN&quot;</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;vpart_reference&gt;</a> faupart = vp.<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <span class="stringliteral">&quot;FAUCET&quot;</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;vpart_reference&gt;</a> weldpart = vp.<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <span class="stringliteral">&quot;WELDRIG&quot;</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;vpart_reference&gt;</a> craftpart = vp.<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <span class="stringliteral">&quot;CRAFTRIG&quot;</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;vpart_reference&gt;</a> forgepart = vp.<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <span class="stringliteral">&quot;FORGE&quot;</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;vpart_reference&gt;</a> kilnpart = vp.<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <span class="stringliteral">&quot;KILN&quot;</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;vpart_reference&gt;</a> chempart = vp.<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <span class="stringliteral">&quot;CHEMLAB&quot;</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;vpart_reference&gt;</a> autoclavepart = vp.<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <span class="stringliteral">&quot;AUTOCLAVE&quot;</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>        <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;vpart_reference&gt;</a> cargo = vp.<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <span class="stringliteral">&quot;CARGO&quot;</span>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span> </div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>        <span class="keywordflow">if</span>( cargo ) {</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>            <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> = veh-&gt;<a class="code hl_function" href="classvehicle.html#a983dd9db3cd64078b176a82289e0b260">get_items</a>( cargo-&gt;part_index() );</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>                <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( it, <span class="keyword">false</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>            }</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>        }</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span> </div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>        <span class="keywordflow">if</span>( faupart ) {</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : veh-&gt;<a class="code hl_function" href="classvehicle.html#af104b67f7b35e092414fd2efa9f2da05">fuels_left</a>() ) {</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>                <a class="code hl_class" href="classitem.html">item</a> fuel( it.first, bday );</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>                <span class="keywordflow">if</span>( fuel.made_of( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>                    fuel.charges = it.second;</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>                    <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( fuel );</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>                }</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>            }</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>        }</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span> </div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>        <span class="keywordflow">if</span>( kpart ) {</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>            <a class="code hl_class" href="classitem.html">item</a> hotplate( <span class="stringliteral">&quot;hotplate&quot;</span>, bday );</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>            hotplate.charges = veh-&gt;<a class="code hl_function" href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">fuel_left</a>( <a class="code hl_variable" href="inventory_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>            hotplate.item_tags.insert( <span class="stringliteral">&quot;PSEUDO&quot;</span> );</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>            <span class="comment">// TODO: Allow disabling</span></div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>            hotplate.item_tags.insert( <span class="stringliteral">&quot;HEATS_FOOD&quot;</span> );</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>            <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( hotplate );</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span> </div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>            <a class="code hl_class" href="classitem.html">item</a> pot( <span class="stringliteral">&quot;pot&quot;</span>, bday );</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>            pot.set_flag( <span class="stringliteral">&quot;PSEUDO&quot;</span> );</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>            <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( pot );</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>            <a class="code hl_class" href="classitem.html">item</a> pan( <span class="stringliteral">&quot;pan&quot;</span>, bday );</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>            pan.set_flag( <span class="stringliteral">&quot;PSEUDO&quot;</span> );</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>            <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( pan );</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>        }</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>        <span class="keywordflow">if</span>( weldpart ) {</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>            <a class="code hl_class" href="classitem.html">item</a> welder( <span class="stringliteral">&quot;welder&quot;</span>, bday );</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>            welder.charges = veh-&gt;<a class="code hl_function" href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">fuel_left</a>( <a class="code hl_variable" href="inventory_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>            welder.item_tags.insert( <span class="stringliteral">&quot;PSEUDO&quot;</span> );</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>            <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( welder );</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span> </div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>            <a class="code hl_class" href="classitem.html">item</a> soldering_iron( <span class="stringliteral">&quot;soldering_iron&quot;</span>, bday );</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>            soldering_iron.charges = veh-&gt;<a class="code hl_function" href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">fuel_left</a>( <a class="code hl_variable" href="inventory_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>            soldering_iron.item_tags.insert( <span class="stringliteral">&quot;PSEUDO&quot;</span> );</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>            <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( soldering_iron );</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>        }</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>        <span class="keywordflow">if</span>( craftpart ) {</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>            <a class="code hl_class" href="classitem.html">item</a> vac_sealer( <span class="stringliteral">&quot;vac_sealer&quot;</span>, bday );</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>            vac_sealer.charges = veh-&gt;<a class="code hl_function" href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">fuel_left</a>( <a class="code hl_variable" href="inventory_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>            vac_sealer.item_tags.insert( <span class="stringliteral">&quot;PSEUDO&quot;</span> );</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>            <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( vac_sealer );</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span> </div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>            <a class="code hl_class" href="classitem.html">item</a> dehydrator( <span class="stringliteral">&quot;dehydrator&quot;</span>, bday );</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>            dehydrator.charges = veh-&gt;<a class="code hl_function" href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">fuel_left</a>( <a class="code hl_variable" href="inventory_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>            dehydrator.item_tags.insert( <span class="stringliteral">&quot;PSEUDO&quot;</span> );</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>            <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( dehydrator );</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span> </div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>            <a class="code hl_class" href="classitem.html">item</a> food_processor( <span class="stringliteral">&quot;food_processor&quot;</span>, bday );</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>            food_processor.charges = veh-&gt;<a class="code hl_function" href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">fuel_left</a>( <a class="code hl_variable" href="inventory_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>            food_processor.item_tags.insert( <span class="stringliteral">&quot;PSEUDO&quot;</span> );</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>            <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( food_processor );</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span> </div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>            <a class="code hl_class" href="classitem.html">item</a> press( <span class="stringliteral">&quot;press&quot;</span>, bday );</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>            press.charges = veh-&gt;<a class="code hl_function" href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">fuel_left</a>( <a class="code hl_variable" href="inventory_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>            press.set_flag( <span class="stringliteral">&quot;PSEUDO&quot;</span> );</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>            <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( press );</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>        }</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>        <span class="keywordflow">if</span>( forgepart ) {</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>            <a class="code hl_class" href="classitem.html">item</a> forge( <span class="stringliteral">&quot;forge&quot;</span>, bday );</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>            forge.charges = veh-&gt;<a class="code hl_function" href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">fuel_left</a>( <a class="code hl_variable" href="inventory_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>            forge.item_tags.insert( <span class="stringliteral">&quot;PSEUDO&quot;</span> );</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>            <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( forge );</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>        }</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>        <span class="keywordflow">if</span>( kilnpart ) {</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>            <a class="code hl_class" href="classitem.html">item</a> kiln( <span class="stringliteral">&quot;kiln&quot;</span>, bday );</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>            kiln.charges = veh-&gt;<a class="code hl_function" href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">fuel_left</a>( <a class="code hl_variable" href="inventory_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>            kiln.item_tags.insert( <span class="stringliteral">&quot;PSEUDO&quot;</span> );</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>            <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( kiln );</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        }</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>        <span class="keywordflow">if</span>( chempart ) {</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>            <a class="code hl_class" href="classitem.html">item</a> chemistry_set( <span class="stringliteral">&quot;chemistry_set&quot;</span>, bday );</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>            chemistry_set.charges = veh-&gt;<a class="code hl_function" href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">fuel_left</a>( <a class="code hl_variable" href="inventory_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>            chemistry_set.item_tags.insert( <span class="stringliteral">&quot;PSEUDO&quot;</span> );</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>            <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( chemistry_set );</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span> </div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>            <a class="code hl_class" href="classitem.html">item</a> electrolysis_kit( <span class="stringliteral">&quot;electrolysis_kit&quot;</span>, bday );</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>            electrolysis_kit.charges = veh-&gt;<a class="code hl_function" href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">fuel_left</a>( <a class="code hl_variable" href="inventory_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>            electrolysis_kit.item_tags.insert( <span class="stringliteral">&quot;PSEUDO&quot;</span> );</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>            <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( electrolysis_kit );</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>        }</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>        <span class="keywordflow">if</span>( autoclavepart ) {</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>            <a class="code hl_class" href="classitem.html">item</a> <a class="code hl_function" href="namespaceiuse.html#ae706eba79724ccf3b4bc1cb14572df7d">autoclave</a>( <span class="stringliteral">&quot;autoclave&quot;</span>, bday );</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>            <a class="code hl_function" href="namespaceiuse.html#ae706eba79724ccf3b4bc1cb14572df7d">autoclave</a>.charges = veh-&gt;<a class="code hl_function" href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">fuel_left</a>( <a class="code hl_variable" href="inventory_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a>, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>            <a class="code hl_function" href="namespaceiuse.html#ae706eba79724ccf3b4bc1cb14572df7d">autoclave</a>.item_tags.insert( <span class="stringliteral">&quot;PSEUDO&quot;</span> );</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>            <a class="code hl_function" href="classinventory.html#a898a515605fca29feff09de5d951adda">add_item_by_items_type_cache</a>( <a class="code hl_function" href="namespaceiuse.html#ae706eba79724ccf3b4bc1cb14572df7d">autoclave</a> );</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>        }</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    }</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    pts.clear();</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>}</div>
<div class="ttc" id="aclasscata_1_1optional_html"><div class="ttname"><a href="classcata_1_1optional.html">cata::optional</a></div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00030">optional.h:31</a></div></div>
<div class="ttc" id="aclassdistribution__grid__tracker_html_a6fce22c007b9a8b4532aabefc8321aa5"><div class="ttname"><a href="classdistribution__grid__tracker.html#a6fce22c007b9a8b4532aabefc8321aa5">distribution_grid_tracker::grid_at</a></div><div class="ttdeci">distribution_grid &amp; grid_at(const tripoint_abs_ms &amp;p)</div><div class="ttdoc">Gets grid at given global map square coordinate.</div><div class="ttdef"><b>Definition:</b> <a href="distribution__grid_8cpp_source.html#l00263">distribution_grid.cpp:263</a></div></div>
<div class="ttc" id="aclassdistribution__grid_html_a7beaf038705d51885b0f6644391d19bc"><div class="ttname"><a href="classdistribution__grid.html#a7beaf038705d51885b0f6644391d19bc">distribution_grid::get_resource</a></div><div class="ttdeci">int get_resource(bool recurse=true) const</div><div class="ttdef"><b>Definition:</b> <a href="distribution__grid_8cpp_source.html#l00121">distribution_grid.cpp:121</a></div></div>
<div class="ttc" id="aclassint__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classint__id.html#a4796245d3cd6e0283670698a98d46ae9">int_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00026">ammo_effect.cpp:26</a></div></div>
<div class="ttc" id="aclassinventory_html_a898a515605fca29feff09de5d951adda"><div class="ttname"><a href="classinventory.html#a898a515605fca29feff09de5d951adda">inventory::add_item_by_items_type_cache</a></div><div class="ttdeci">item &amp; add_item_by_items_type_cache(item newit, bool keep_invlet=false, bool assign_invlet=true, bool should_stack=true)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00337">inventory.cpp:337</a></div></div>
<div class="ttc" id="aclassitem_html_a4d5555082454b3cb192f59a70838c891"><div class="ttname"><a href="classitem.html#a4d5555082454b3cb192f59a70838c891">item::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00732">item.cpp:732</a></div></div>
<div class="ttc" id="aclassitem_html_a6bfb92ab5d41e0eb3a1da160fac71b0e"><div class="ttname"><a href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">item::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02195">item.h:2195</a></div></div>
<div class="ttc" id="aclassmap_html_a00008f407a53edc2445622618d7ed071"><div class="ttname"><a href="classmap.html#a00008f407a53edc2445622618d7ed071">map::has_furn</a></div><div class="ttdeci">bool has_furn(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01340">map.cpp:1340</a></div></div>
<div class="ttc" id="aclassmap_html_a2b9a117ad421bd11ca8efd7449ce2528"><div class="ttname"><a href="classmap.html#a2b9a117ad421bd11ca8efd7449ce2528">map::has_nearby_fire</a></div><div class="ttdeci">bool has_nearby_fire(const tripoint &amp;p, int radius=1)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02750">map.cpp:2750</a></div></div>
<div class="ttc" id="aclassmap_html_a3fea339e0cf553409e982fd0fb385d84"><div class="ttname"><a href="classmap.html#a3fea339e0cf553409e982fd0fb385d84">map::water_from</a></div><div class="ttdeci">item water_from(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04367">map.cpp:4367</a></div></div>
<div class="ttc" id="aclassmap_html_a501f3a1d449ac022f1b36b99da653e94"><div class="ttname"><a href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">map::getabs</a></div><div class="ttdeci">tripoint getabs(const tripoint &amp;p) const</div><div class="ttdoc">Translates local (to this map) coordinates of a square to global absolute coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08249">map.cpp:8249</a></div></div>
<div class="ttc" id="aclassmap_html_a5130a127601b67e569eaef37a1a88610"><div class="ttname"><a href="classmap.html#a5130a127601b67e569eaef37a1a88610">map::i_at</a></div><div class="ttdeci">map_stack i_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04071">map.cpp:4071</a></div></div>
<div class="ttc" id="aclassmap_html_a516c0764134cc86b57297811520395f7"><div class="ttname"><a href="classmap.html#a516c0764134cc86b57297811520395f7">map::has_flag_ter_or_furn</a></div><div class="ttdeci">bool has_flag_ter_or_furn(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02319">map.cpp:2319</a></div></div>
<div class="ttc" id="aclassmap_html_aa487d96256c3d35db7a1bf273156b64a"><div class="ttname"><a href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">map::veh_at</a></div><div class="ttdeci">optional_vpart_position veh_at(const tripoint &amp;p) const</div><div class="ttdoc">Checks if tile is occupied by vehicle and by which part.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01006">map.cpp:1006</a></div></div>
<div class="ttc" id="aclassmap_html_aa904e9f61ca568d8ed985cf22193b8ed"><div class="ttname"><a href="classmap.html#aa904e9f61ca568d8ed985cf22193b8ed">map::has_items</a></div><div class="ttdeci">bool has_items(const tripoint &amp;p) const</div><div class="ttdoc">Checks for existence of items.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04752">map.cpp:4752</a></div></div>
<div class="ttc" id="aclassmap_html_ab669e4df068956bf9b69599c85c2a0b2"><div class="ttname"><a href="classmap.html#ab669e4df068956bf9b69599c85c2a0b2">map::accessible_items</a></div><div class="ttdeci">bool accessible_items(const tripoint &amp;t) const</div><div class="ttdoc">Check whether the player can access the items located .</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06547">map.cpp:6547</a></div></div>
<div class="ttc" id="aclassmap_html_af55e014aab791bbe4c8630361c1311dd"><div class="ttname"><a href="classmap.html#af55e014aab791bbe4c8630361c1311dd">map::furn</a></div><div class="ttdeci">furn_id furn(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01345">map.cpp:1345</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html"><div class="ttname"><a href="classoptional__vpart__position.html">optional_vpart_position</a></div><div class="ttdoc">Simple wrapper to forward functions that may return a cata::optional to vpart_position.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00101">vpart_position.h:102</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html_a2f0829fa83c2c4d3007e26b91af11856"><div class="ttname"><a href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">optional_vpart_position::part_with_feature</a></div><div class="ttdeci">cata::optional&lt; vpart_reference &gt; part_with_feature(const std::string &amp;f, bool unbroken) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02481">vehicle.cpp:2481</a></div></div>
<div class="ttc" id="aclasstime__point_html"><div class="ttname"><a href="classtime__point.html">time_point</a></div><div class="ttdoc">A point in the game time.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00430">calendar.h:431</a></div></div>
<div class="ttc" id="aclassvehicle_html"><div class="ttname"><a href="classvehicle.html">vehicle</a></div><div class="ttdoc">A vehicle as a whole with all its components.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00674">vehicle.h:675</a></div></div>
<div class="ttc" id="aclassvehicle_html_a5b3c37a197c21cdd469e7779f8c1db50"><div class="ttname"><a href="classvehicle.html#a5b3c37a197c21cdd469e7779f8c1db50">vehicle::fuel_left</a></div><div class="ttdeci">int fuel_left(const itype_id &amp;ftype, bool recurse=false) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l03359">vehicle.cpp:3359</a></div></div>
<div class="ttc" id="aclassvehicle_html_a983dd9db3cd64078b176a82289e0b260"><div class="ttname"><a href="classvehicle.html#a983dd9db3cd64078b176a82289e0b260">vehicle::get_items</a></div><div class="ttdeci">vehicle_stack get_items(int part) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l05468">vehicle.cpp:5468</a></div></div>
<div class="ttc" id="aclassvehicle_html_af104b67f7b35e092414fd2efa9f2da05"><div class="ttname"><a href="classvehicle.html#af104b67f7b35e092414fd2efa9f2da05">vehicle::fuels_left</a></div><div class="ttdeci">std::map&lt; itype_id, int &gt; fuels_left() const</div><div class="ttdoc">All the fuels that are in all the tanks in the vehicle, nicely summed up.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l06716">vehicle.cpp:6716</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a25195af12949fae51d496c1fbd549871"><div class="ttname"><a href="coordinates_8h.html#a25195af12949fae51d496c1fbd549871">tripoint_abs_ms</a></div><div class="ttdeci">coords::coord_point&lt; tripoint, coords::origin::abs, coords::ms &gt; tripoint_abs_ms</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00486">coordinates.h:486</a></div></div>
<div class="ttc" id="adistribution__grid_8h_html_ae8e6a5ac44a7f17ff6b6d1d86522d942"><div class="ttname"><a href="distribution__grid_8h.html#ae8e6a5ac44a7f17ff6b6d1d86522d942">get_distribution_grid_tracker</a></div><div class="ttdeci">distribution_grid_tracker &amp; get_distribution_grid_tracker()</div><div class="ttdoc">Returns distribution grid tracker that is a part of the global game *g.</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l12131">game.cpp:12131</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a></div><div class="ttdeci">@ LIQUID</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00175">enums.h:175</a></div></div>
<div class="ttc" id="ahandle__action_8cpp_html_ad56544ec96a0f79ea4e47ae8f8754d10"><div class="ttname"><a href="handle__action_8cpp.html#ad56544ec96a0f79ea4e47ae8f8754d10">fire</a></div><div class="ttdeci">static void fire()</div><div class="ttdef"><b>Definition:</b> <a href="handle__action_8cpp_source.html#l01318">handle_action.cpp:1318</a></div></div>
<div class="ttc" id="ainventory_8cpp_html_a0270df10fe59879068e7fde158e3fe0b"><div class="ttname"><a href="inventory_8cpp.html#a0270df10fe59879068e7fde158e3fe0b">count_charges_in_list</a></div><div class="ttdeci">static int count_charges_in_list(const itype *type, const map_stack &amp;items)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00462">inventory.cpp:462</a></div></div>
<div class="ttc" id="ainventory_8cpp_html_ab5f267c571dc194e5b7e0b10b5136a33"><div class="ttname"><a href="inventory_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a></div><div class="ttdeci">static const itype_id itype_battery(&quot;battery&quot;)</div></div>
<div class="ttc" id="ainventory_8cpp_html_abfd8b1d23930a50d7f122f0d39538649"><div class="ttname"><a href="inventory_8cpp.html#abfd8b1d23930a50d7f122f0d39538649">itype_water</a></div><div class="ttdeci">static const itype_id itype_water(&quot;water&quot;)</div></div>
<div class="ttc" id="anamespacecalendar_html_ab01178b933b4f1c62bd75b2edfdbaf79"><div class="ttname"><a href="namespacecalendar.html#ab01178b933b4f1c62bd75b2edfdbaf79">calendar::start_of_cataclysm</a></div><div class="ttdeci">const time_point &amp; start_of_cataclysm</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00033">calendar.cpp:33</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00036">calendar.cpp:36</a></div></div>
<div class="ttc" id="anamespaceiexamine_html_ad884d29edd1296ac800ef9e187ecee5a"><div class="ttname"><a href="namespaceiexamine.html#ad884d29edd1296ac800ef9e187ecee5a">iexamine::toilet</a></div><div class="ttdeci">void toilet(player &amp;p, const tripoint &amp;examp)</div><div class="ttdoc">If there's water, allow its usage but add chance of poison.</div><div class="ttdef"><b>Definition:</b> <a href="iexamine_8cpp_source.html#l00850">iexamine.cpp:850</a></div></div>
<div class="ttc" id="anamespaceiuse_html_ae706eba79724ccf3b4bc1cb14572df7d"><div class="ttname"><a href="namespaceiuse.html#ae706eba79724ccf3b4bc1cb14572df7d">iuse::autoclave</a></div><div class="ttdeci">int autoclave(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l08383">iuse.cpp:8383</a></div></div>
<div class="ttc" id="astructfurn__t_html"><div class="ttname"><a href="structfurn__t.html">furn_t</a></div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00492">mapdata.h:492</a></div></div>
<div class="ttc" id="astructfurn__t_html_a342d8218208d6443788a6ed5010c5c2b"><div class="ttname"><a href="structfurn__t.html#a342d8218208d6443788a6ed5010c5c2b">furn_t::crafting_ammo_item_type</a></div><div class="ttdeci">const itype * crafting_ammo_item_type() const</div><div class="ttdef"><b>Definition:</b> <a href="iexamine_8cpp_source.html#l03869">iexamine.cpp:3869</a></div></div>
<div class="ttc" id="astructfurn__t_html_aca23d59d0fb4b19be78fcdf07280b00f"><div class="ttname"><a href="structfurn__t.html#aca23d59d0fb4b19be78fcdf07280b00f">furn_t::crafting_pseudo_item_type</a></div><div class="ttdeci">const itype * crafting_pseudo_item_type() const</div><div class="ttdef"><b>Definition:</b> <a href="iexamine_8cpp_source.html#l03861">iexamine.cpp:3861</a></div></div>
<div class="ttc" id="astructitype_html"><div class="ttname"><a href="structitype.html">itype</a></div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l00836">itype.h:836</a></div></div>
<div class="ttc" id="astructmap__data__common__t_html_a1cea700725488e3742f8a1d449ba92e3"><div class="ttname"><a href="structmap__data__common__t.html#a1cea700725488e3742f8a1d449ba92e3">map_data_common_t::examine</a></div><div class="ttdeci">iexamine_function examine</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00398">mapdata.h:398</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l06547">map::accessible_items()</a>, <a class="el" href="inventory_8cpp_source.html#l00337">add_item_by_items_type_cache()</a>, <a class="el" href="itype_8h_source.html#l00864">itype::ammo</a>, <a class="el" href="iuse_8cpp_source.html#l08383">iuse::autoclave()</a>, <a class="el" href="inventory_8cpp_source.html#l00327">build_items_type_cache()</a>, <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="inventory_8cpp_source.html#l00462">count_charges_in_list()</a>, <a class="el" href="iexamine_8cpp_source.html#l03869">furn_t::crafting_ammo_item_type()</a>, <a class="el" href="iexamine_8cpp_source.html#l03861">furn_t::crafting_pseudo_item_type()</a>, <a class="el" href="mapdata_8h_source.html#l00398">map_data_common_t::examine</a>, <a class="el" href="handle__action_8cpp_source.html#l01318">fire()</a>, <a class="el" href="itype_8h_source.html#l00858">itype::fuel</a>, <a class="el" href="vehicle_8cpp_source.html#l03359">vehicle::fuel_left()</a>, <a class="el" href="vehicle_8cpp_source.html#l06716">vehicle::fuels_left()</a>, <a class="el" href="map_8cpp_source.html#l01345">map::furn()</a>, <a class="el" href="game_8cpp_source.html#l12131">get_distribution_grid_tracker()</a>, <a class="el" href="vehicle_8cpp_source.html#l05468">vehicle::get_items()</a>, <a class="el" href="map_8cpp_source.html#l08249">map::getabs()</a>, <a class="el" href="distribution__grid_8cpp_source.html#l00263">distribution_grid_tracker::grid_at()</a>, <a class="el" href="item_8cpp_source.html#l05213">item::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l02319">map::has_flag_ter_or_furn()</a>, <a class="el" href="map_8cpp_source.html#l01340">map::has_furn()</a>, <a class="el" href="map_8cpp_source.html#l04752">map::has_items()</a>, <a class="el" href="map_8cpp_source.html#l02750">map::has_nearby_fire()</a>, <a class="el" href="map_8cpp_source.html#l04071">map::i_at()</a>, <a class="el" href="flat__set_8h_source.html#l00151">cata::flat_set&lt; T, Compare, Data &gt;::insert()</a>, <a class="el" href="item_8cpp_source.html#l00732">item::is_null()</a>, <a class="el" href="item_8h_source.html#l02163">item::item_tags</a>, <a class="el" href="inventory_8h_source.html#l00250">items</a>, <a class="el" href="inventory_8cpp.html#ab5f267c571dc194e5b7e0b10b5136a33">itype_battery</a>, <a class="el" href="inventory_8cpp.html#abfd8b1d23930a50d7f122f0d39538649">itype_water</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00026">int_id&lt; T &gt;::obj()</a>, <a class="el" href="vehicle_8cpp_source.html#l02481">optional_vpart_position::part_with_feature()</a>, <a class="el" href="item_8cpp_source.html#l05242">item::set_flag()</a>, <a class="el" href="calendar_8cpp_source.html#l00033">calendar::start_of_cataclysm</a>, <a class="el" href="iexamine_8cpp_source.html#l00850">iexamine::toilet()</a>, <a class="el" href="calendar_8cpp_source.html#l00036">calendar::turn</a>, <a class="el" href="enums_8h_source.html#l00075">type</a>, <a class="el" href="map_8cpp_source.html#l01006">map::veh_at()</a>, and <a class="el" href="map_8cpp_source.html#l04367">map::water_from()</a>.</p>

</div>
</div>
<a id="aeb8c74108bdefc4593ad6f1147749100" name="aeb8c74108bdefc4593ad6f1147749100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb8c74108bdefc4593ad6f1147749100">&#9670;&nbsp;</a></span>form_from_zone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::form_from_zone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmap.html">map</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unordered_set&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>zone_pts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> *&#160;</td>
          <td class="paramname"><em>pl</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assign_invlet</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00479">479</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>{</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>    std::vector&lt;tripoint&gt; pts;</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;elem : zone_pts ) {</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>        pts.push_back( m.<a class="code hl_function" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( elem ) );</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    }</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    <a class="code hl_function" href="classinventory.html#a31bf20ee0144627b5fba528b81559bc6">form_from_map</a>( m, pts, pl, assign_invlet );</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>}</div>
<div class="ttc" id="aclassmap_html_a426c21f7244ff80a61685a89e9146fec"><div class="ttname"><a href="classmap.html#a426c21f7244ff80a61685a89e9146fec">map::getlocal</a></div><div class="ttdeci">tripoint getlocal(const tripoint &amp;p) const</div><div class="ttdoc">Inverse of getabs.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08254">map.cpp:8254</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00472">form_from_map()</a>, and <a class="el" href="map_8cpp_source.html#l08254">map::getlocal()</a>.</p>

<p class="reference">Referenced by <a class="el" href="basecamp_8cpp_source.html#l00606">basecamp::form_crafting_inventory()</a>.</p>

</div>
</div>
<a id="a85c438f4f0676ff6c1bb14a83ac1990c" name="a85c438f4f0676ff6c1bb14a83ac1990c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85c438f4f0676ff6c1bb14a83ac1990c">&#9670;&nbsp;</a></span>get_active_enchantment_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classenchantment.html">enchantment</a> inventory::get_active_enchantment_cache </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>owner</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01099">1099</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>{</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>    <a class="code hl_class" href="classenchantment.html">enchantment</a> temp_cache;</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::list&lt;item&gt; &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;check_item : elem ) {</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classenchantment.html">enchantment</a> &amp;ench : check_item.get_enchantments() ) {</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>                <span class="keywordflow">if</span>( ench.is_active( owner, check_item ) ) {</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>                    temp_cache.<a class="code hl_function" href="classenchantment.html#a5e1770a2049eed068e6fb73bbe5bf795">force_add</a>( ench );</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>                }</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>            }</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>        }</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>    }</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>    <span class="keywordflow">return</span> temp_cache;</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>}</div>
<div class="ttc" id="aclassenchantment_html"><div class="ttname"><a href="classenchantment.html">enchantment</a></div><div class="ttdef"><b>Definition:</b> <a href="magic__enchantment_8h_source.html#l00100">magic_enchantment.h:101</a></div></div>
<div class="ttc" id="aclassenchantment_html_a5e1770a2049eed068e6fb73bbe5bf795"><div class="ttname"><a href="classenchantment.html#a5e1770a2049eed068e6fb73bbe5bf795">enchantment::force_add</a></div><div class="ttdeci">void force_add(const enchantment &amp;rhs)</div><div class="ttdef"><b>Definition:</b> <a href="magic__enchantment_8cpp_source.html#l00383">magic_enchantment.cpp:383</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic__enchantment_8cpp_source.html#l00383">enchantment::force_add()</a>, and <a class="el" href="inventory_8h_source.html#l00250">items</a>.</p>

</div>
</div>
<a id="a0b8d527ded5634738012cd5086aafa7c" name="a0b8d527ded5634738012cd5086aafa7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b8d527ded5634738012cd5086aafa7c">&#9670;&nbsp;</a></span>get_binned_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="inventory_8h.html#a533f054f56e1c2f1ac14a167db55a569">itype_bin</a> &amp; inventory::get_binned_items </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns visitable items binned by their itype. </p>
<p >May not contain items that wouldn't be visited by <a class="el" href="classvisitable.html">visitable</a> methods. </p>

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01270">1270</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>{</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> ) {</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classinventory.html#ac3ec6a121fe8dc7cf8155835245f7dc8">binned_items</a>;</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>    }</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span> </div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>    <a class="code hl_variable" href="classinventory.html#ac3ec6a121fe8dc7cf8155835245f7dc8">binned_items</a>.clear();</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span> </div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>    <span class="comment">// HACK: Hack warning</span></div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>    <a class="code hl_class" href="classinventory.html">inventory</a> *this_nonconst = <span class="keyword">const_cast&lt;</span><a class="code hl_class" href="classinventory.html">inventory</a> *<span class="keyword">&gt;</span>( this );</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>    this_nonconst-&gt;<a class="code hl_function" href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visit_items</a>( [ <span class="keyword">this</span> ]( <a class="code hl_class" href="classitem.html">item</a> * e ) {</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>        <a class="code hl_variable" href="classinventory.html#ac3ec6a121fe8dc7cf8155835245f7dc8">binned_items</a>[ e-&gt;<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() ].push_back( e );</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>    } );</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span> </div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>    <a class="code hl_variable" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classinventory.html#ac3ec6a121fe8dc7cf8155835245f7dc8">binned_items</a>;</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>}</div>
<div class="ttc" id="aclassinventory_html_ac3ec6a121fe8dc7cf8155835245f7dc8"><div class="ttname"><a href="classinventory.html#ac3ec6a121fe8dc7cf8155835245f7dc8">inventory::binned_items</a></div><div class="ttdeci">itype_bin binned_items</div><div class="ttdoc">Items binned by their type.</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00261">inventory.h:261</a></div></div>
<div class="ttc" id="aclassvisitable_html_a0a76a71d6a905414cc81236e86a7e649"><div class="ttname"><a href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visitable::visit_items</a></div><div class="ttdeci">VisitResponse visit_items(const std::function&lt; VisitResponse(item *, item *)&gt; &amp;func)</div><div class="ttdoc">Traverses this object and any child items contained using a visitor pattern.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00422">visitable.cpp:422</a></div></div>
<div class="ttc" id="avisitable_8h_html_aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6"><div class="ttname"><a href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a></div><div class="ttdeci">@ NEXT</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00255">binned</a>, <a class="el" href="inventory_8h_source.html#l00261">binned_items</a>, <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">NEXT</a>, <a class="el" href="item_8cpp_source.html#l08217">item::typeId()</a>, and <a class="el" href="visitable_8cpp_source.html#l00422">visitable&lt; T &gt;::visit_items()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l01134">count_item()</a>.</p>

</div>
</div>
<a id="a5f628d45ec1e512a730c473c1d0b9300" name="a5f628d45ec1e512a730c473c1d0b9300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f628d45ec1e512a730c473c1d0b9300">&#9670;&nbsp;</a></span>get_quality_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::map&lt; <a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a>, std::map&lt; int, int &gt; &gt; &amp; inventory::get_quality_cache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01129">1129</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>{</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classinventory.html#a35f54355346fc68c4fc3044ac74cd8e5">quality_cache</a>;</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>}</div>
<div class="ttc" id="aclassinventory_html_a35f54355346fc68c4fc3044ac74cd8e5"><div class="ttname"><a href="classinventory.html#a35f54355346fc68c4fc3044ac74cd8e5">inventory::quality_cache</a></div><div class="ttdeci">std::map&lt; quality_id, std::map&lt; int, int &gt; &gt; quality_cache</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00252">inventory.h:252</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00252">quality_cache</a>.</p>

</div>
</div>
<a id="a166c107e18ca4eea3ca2f37be350796c" name="a166c107e18ca4eea3ca2f37be350796c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a166c107e18ca4eea3ca2f37be350796c">&#9670;&nbsp;</a></span>has_charges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inventory::has_charges </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em> = <code><a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt;<a class="el" href="classitem.html">item</a>&gt;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00890">890</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>{</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>    <span class="keywordflow">return</span> ( <a class="code hl_function" href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">charges_of</a>( it, INT_MAX, filter ) &gt;= quantity );</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>}</div>
<div class="ttc" id="aclassvisitable_html_a517e20b6f6c13b8316d5cce8e310b871"><div class="ttname"><a href="classvisitable.html#a517e20b6f6c13b8316d5cce8e310b871">visitable&lt; inventory &gt;::charges_of</a></div><div class="ttdeci">int charges_of(const itype_id &amp;what, int limit=INT_MAX, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;, std::function&lt; void(int)&gt; visitor=nullptr) const</div><div class="ttdoc">Count maximum available charges from this instance and any contained items.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00079">visitable.cpp:943</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="visitable_8cpp_source.html#l00943">visitable&lt; inventory &gt;::charges_of()</a>.</p>

<p class="reference">Referenced by <a class="el" href="craft__command_8cpp_source.html#l00287">craft_command::check_item_components_missing()</a>, <a class="el" href="craft__command_8cpp_source.html#l00352">craft_command::check_tool_components_missing()</a>, <a class="el" href="crafting_8cpp_source.html#l01750">player::craft_consume_tools()</a>, <a class="el" href="crafting_8cpp_source.html#l01593">crafting::find_tool_component()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00743">wash_activity_actor::finish()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03105">repair_item_actor::handle_components()</a>, <a class="el" href="requirements_8cpp_source.html#l00812">item_comp::has()</a>, <a class="el" href="mission_8cpp_source.html#l00344">mission::is_complete()</a>, <a class="el" href="suffer_8cpp_source.html#l00615">Character::suffer_from_asthma()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01571">vehicle::use_washing_machine()</a>, and <a class="el" href="iuse_8cpp_source.html#l09449">wash_items()</a>.</p>

</div>
</div>
<a id="ab1e13a56c04c80db6cf19da33bd0b3e3" name="ab1e13a56c04c80db6cf19da33bd0b3e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1e13a56c04c80db6cf19da33bd0b3e3">&#9670;&nbsp;</a></span>has_components()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inventory::has_components </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em> = <code><a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt;<a class="el" href="classitem.html">item</a>&gt;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00884">884</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>{</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a>( it, quantity, <span class="keyword">false</span>, filter );</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>}</div>
<div class="ttc" id="aclassvisitable_html_ac50bc4422d4636a70a97d41787f22d0d"><div class="ttname"><a href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">visitable&lt; inventory &gt;::has_amount</a></div><div class="ttdeci">bool has_amount(const itype_id &amp;what, int qty, bool pseudo=true, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdoc">Check instance provides at least qty of an item (.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00096">visitable.cpp:1108</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="visitable_8cpp_source.html#l01108">visitable&lt; inventory &gt;::has_amount()</a>.</p>

<p class="reference">Referenced by <a class="el" href="craft__command_8cpp_source.html#l00287">craft_command::check_item_components_missing()</a>, <a class="el" href="requirements_8cpp_source.html#l00812">item_comp::has()</a>, and <a class="el" href="crafting_8cpp_source.html#l01308">player::select_item_component()</a>.</p>

</div>
</div>
<a id="ab8183f0eebbaa418f6cc2982dc6d1d35" name="ab8183f0eebbaa418f6cc2982dc6d1d35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8183f0eebbaa418f6cc2982dc6d1d35">&#9670;&nbsp;</a></span>has_enough_painkiller()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inventory::has_enough_painkiller </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pain</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00927">927</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>{</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>        <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it = elem.front();</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>        <span class="keywordflow">if</span>( ( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96a87a429872c7faee7e8bc9268d5bf548e">pain</a> &lt;= 35 &amp;&amp; it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="inventory_8cpp.html#a7d4ebbd26f5b5558b6abac5cc20a39bf">itype_aspirin</a> ) ||</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>            ( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96a87a429872c7faee7e8bc9268d5bf548e">pain</a> &gt;= 50 &amp;&amp; it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="inventory_8cpp.html#a8a33dee95265955fc5e9b0478d6ad4c2">itype_oxycodone</a> ) ||</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>            it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="inventory_8cpp.html#aae7916dda7c85f2a67f4870056ab3891">itype_tramadol</a> || it.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() == <a class="code hl_variable" href="inventory_8cpp.html#a4149e085887fd5399da6ff00e543ed59">itype_codeine</a> ) {</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>        }</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>    }</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>}</div>
<div class="ttc" id="aenums_8h_html_a18cc141c508bf4f277abaf39fc9c3d96a87a429872c7faee7e8bc9268d5bf548e"><div class="ttname"><a href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96a87a429872c7faee7e8bc9268d5bf548e">distraction_type::pain</a></div><div class="ttdeci">@ pain</div></div>
<div class="ttc" id="ainventory_8cpp_html_a4149e085887fd5399da6ff00e543ed59"><div class="ttname"><a href="inventory_8cpp.html#a4149e085887fd5399da6ff00e543ed59">itype_codeine</a></div><div class="ttdeci">static const itype_id itype_codeine(&quot;codeine&quot;)</div></div>
<div class="ttc" id="ainventory_8cpp_html_a7d4ebbd26f5b5558b6abac5cc20a39bf"><div class="ttname"><a href="inventory_8cpp.html#a7d4ebbd26f5b5558b6abac5cc20a39bf">itype_aspirin</a></div><div class="ttdeci">static const itype_id itype_aspirin(&quot;aspirin&quot;)</div></div>
<div class="ttc" id="ainventory_8cpp_html_a8a33dee95265955fc5e9b0478d6ad4c2"><div class="ttname"><a href="inventory_8cpp.html#a8a33dee95265955fc5e9b0478d6ad4c2">itype_oxycodone</a></div><div class="ttdeci">static const itype_id itype_oxycodone(&quot;oxycodone&quot;)</div></div>
<div class="ttc" id="ainventory_8cpp_html_aae7916dda7c85f2a67f4870056ab3891"><div class="ttname"><a href="inventory_8cpp.html#aae7916dda7c85f2a67f4870056ab3891">itype_tramadol</a></div><div class="ttdeci">static const itype_id itype_tramadol(&quot;tramadol&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>, <a class="el" href="inventory_8cpp.html#a7d4ebbd26f5b5558b6abac5cc20a39bf">itype_aspirin</a>, <a class="el" href="inventory_8cpp.html#a4149e085887fd5399da6ff00e543ed59">itype_codeine</a>, <a class="el" href="inventory_8cpp.html#a8a33dee95265955fc5e9b0478d6ad4c2">itype_oxycodone</a>, <a class="el" href="inventory_8cpp.html#aae7916dda7c85f2a67f4870056ab3891">itype_tramadol</a>, <a class="el" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96a87a429872c7faee7e8bc9268d5bf548e">pain</a>, and <a class="el" href="item_8cpp_source.html#l08217">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npc_8cpp_source.html#l01921">npc::has_painkiller()</a>.</p>

</div>
</div>
<a id="a20755b405c4369fe85313cfdee366bff" name="a20755b405c4369fe85313cfdee366bff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20755b405c4369fe85313cfdee366bff">&#9670;&nbsp;</a></span>has_tools()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inventory::has_tools </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em> = <code><a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt;<a class="el" href="classitem.html">item</a>&gt;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00878">878</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>{</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a>( it, quantity, <span class="keyword">true</span>, filter );</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="visitable_8cpp_source.html#l01108">visitable&lt; inventory &gt;::has_amount()</a>.</p>

<p class="reference">Referenced by <a class="el" href="craft__command_8cpp_source.html#l00352">craft_command::check_tool_components_missing()</a>, <a class="el" href="crafting_8cpp_source.html#l01750">player::craft_consume_tools()</a>, <a class="el" href="crafting_8cpp_source.html#l01593">crafting::find_tool_component()</a>, and <a class="el" href="requirements_8cpp_source.html#l00778">tool_comp::has()</a>.</p>

</div>
</div>
<a id="ab2b73dfb2263f722d09f6ad6433dbdcc" name="ab2b73dfb2263f722d09f6ad6433dbdcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2b73dfb2263f722d09f6ad6433dbdcc">&#9670;&nbsp;</a></span>invlet_to_position()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inventory::invlet_to_position </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>invlet</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the item position of the item with given invlet, return INT_MIN if the inventory does not have such an item with that invlet. </p>
<p >Don't use this on npcs inventory. </p>

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00814">814</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>{</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>        <span class="keywordflow">if</span>( elem.begin()-&gt;invlet == invlet ) {</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>            <span class="keywordflow">return</span> i;</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>        }</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>        ++i;</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>    }</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>    <span class="keywordflow">return</span> INT_MIN;</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>.</p>

</div>
</div>
<a id="a32da4bec9585d37cb907cd5471380a13" name="a32da4bec9585d37cb907cd5471380a13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32da4bec9585d37cb907cd5471380a13">&#9670;&nbsp;</a></span>json_load_invcache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::json_load_invcache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonIn.html">JsonIn</a> &amp;&#160;</td>
          <td class="paramname"><em>jsin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l01726">1726</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>{</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>        std::unordered_map&lt;itype_id, std::string&gt; <a class="code hl_class" href="classmap.html">map</a>;</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonObject.html">JsonObject</a> jo : jsin.<a class="code hl_function" href="classJsonIn.html#ae14bc330c1eb42662a6b82b35c43a6ed">get_array</a>() ) {</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>            jo.allow_omitted_members();</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonMember.html">JsonMember</a> <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a> : jo ) {</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>                std::string invlets;</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>                <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keywordtype">int</span> i : <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a>.get_array() ) {</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>                    invlets.push_back( i );</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>                }</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>                <a class="code hl_class" href="classmap.html">map</a>[<a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>( <a class="code hl_variable" href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">member</a>.name() )] = invlets;</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>            }</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>        }</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>        <a class="code hl_variable" href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">invlet_cache</a> = { <a class="code hl_class" href="classmap.html">map</a> };</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>    } <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonError.html">JsonError</a> &amp;jsonerr ) {</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;bad invcache json:\n%s&quot;</span>, jsonerr.<a class="code hl_function" href="classJsonError.html#a6e7c0db4458ef6049d21735fb443e212">c_str</a>() );</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>    }</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>}</div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">cata_variant_type::itype_id</a></div><div class="ttdeci">@ itype_id</div></div>
<div class="ttc" id="aclassJsonError_html"><div class="ttname"><a href="classJsonError.html">JsonError</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00050">json.h:51</a></div></div>
<div class="ttc" id="aclassJsonError_html_a6e7c0db4458ef6049d21735fb443e212"><div class="ttname"><a href="classJsonError.html#a6e7c0db4458ef6049d21735fb443e212">JsonError::c_str</a></div><div class="ttdeci">const char * c_str() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00054">json.h:54</a></div></div>
<div class="ttc" id="aclassJsonIn_html_ae14bc330c1eb42662a6b82b35c43a6ed"><div class="ttname"><a href="classJsonIn.html#ae14bc330c1eb42662a6b82b35c43a6ed">JsonIn::get_array</a></div><div class="ttdeci">JsonArray get_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01368">json.cpp:1368</a></div></div>
<div class="ttc" id="aclassJsonMember_html"><div class="ttname"><a href="classJsonMember.html">JsonMember</a></div><div class="ttdoc">Represents a member of a JsonObject.</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l01248">json.h:1249</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00831">json.h:832</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00388">map.h:389</a></div></div>
<div class="ttc" id="anamespacemapgen__defer_html_a640e58e4d234e3f1e2ddbfff8fd665ce"><div class="ttname"><a href="namespacemapgen__defer.html#a640e58e4d234e3f1e2ddbfff8fd665ce">mapgen_defer::member</a></div><div class="ttdeci">std::string member</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l00402">mapgen.cpp:402</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8h_source.html#l00054">JsonError::c_str()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="json_8cpp_source.html#l01368">JsonIn::get_array()</a>, <a class="el" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5b71ce78dc7a00ad2177c6655231928c">itype_id</a>, and <a class="el" href="mapgen_8cpp_source.html#l00402">mapgen_defer::member</a>.</p>

<p class="reference">Referenced by <a class="el" href="savegame__json_8cpp_source.html#l01025">avatar::load()</a>.</p>

</div>
</div>
<a id="a864ba0e815f3c340aae26198a20c221f" name="a864ba0e815f3c340aae26198a20c221f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a864ba0e815f3c340aae26198a20c221f">&#9670;&nbsp;</a></span>json_load_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::json_load_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonIn.html">JsonIn</a> &amp;&#160;</td>
          <td class="paramname"><em>jsin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l01760">1760</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>{</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>    jsin.<a class="code hl_function" href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">start_array</a>();</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>    <span class="keywordflow">while</span>( !jsin.<a class="code hl_function" href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">end_array</a>() ) {</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>        <a class="code hl_class" href="classitem.html">item</a> tmp;</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>        tmp.<a class="code hl_function" href="classitem.html#a213df85346f895e9182f3860eec49891">deserialize</a>( jsin );</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>        <a class="code hl_function" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( tmp, <span class="keyword">true</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>    }</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>}</div>
<div class="ttc" id="aclassJsonIn_html_a70443f07b40c2a0ab1aee1e0418a1faf"><div class="ttname"><a href="classJsonIn.html#a70443f07b40c2a0ab1aee1e0418a1faf">JsonIn::start_array</a></div><div class="ttdeci">void start_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01373">json.cpp:1373</a></div></div>
<div class="ttc" id="aclassJsonIn_html_adb53515d72e6e0457ae3266ace12d5e5"><div class="ttname"><a href="classJsonIn.html#adb53515d72e6e0457ae3266ace12d5e5">JsonIn::end_array</a></div><div class="ttdeci">bool end_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01389">json.cpp:1389</a></div></div>
<div class="ttc" id="aclassitem_html_a213df85346f895e9182f3860eec49891"><div class="ttname"><a href="classitem.html#a213df85346f895e9182f3860eec49891">item::deserialize</a></div><div class="ttdeci">void deserialize(JsonIn &amp;jsin)</div><div class="ttdef"><b>Definition:</b> <a href="savegame__json_8cpp_source.html#l02346">savegame_json.cpp:2346</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="savegame__json_8cpp_source.html#l02346">item::deserialize()</a>, <a class="el" href="json_8cpp_source.html#l01389">JsonIn::end_array()</a>, and <a class="el" href="json_8cpp_source.html#l01373">JsonIn::start_array()</a>.</p>

<p class="reference">Referenced by <a class="el" href="savegame__json_8cpp_source.html#l00387">Character::load()</a>.</p>

</div>
</div>
<a id="a1c1b72905da350e7028ba253a9ea8f38" name="a1c1b72905da350e7028ba253a9ea8f38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c1b72905da350e7028ba253a9ea8f38">&#9670;&nbsp;</a></span>json_save_invcache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::json_save_invcache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>json</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l01707">1707</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>{</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>    json.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">invlet_cache</a>.<a class="code hl_function" href="classinvlet__favorites.html#a95977daeac8b90fa25a075fe645b9fb6">get_invlets_by_id</a>() ) {</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>        json.<a class="code hl_function" href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">start_object</a>();</div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>        json.<a class="code hl_function" href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">member</a>( elem.first.str() );</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span>        json.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;_sym : elem.second ) {</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>            json.<a class="code hl_function" href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">write</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( _sym ) );</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>        }</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>        json.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>        json.<a class="code hl_function" href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">end_object</a>();</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>    }</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>    json.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>}</div>
<div class="ttc" id="aclassJsonOut_html_a44cdd853d4c6913b37caa9f0131eeff2"><div class="ttname"><a href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">JsonOut::end_array</a></div><div class="ttdeci">void end_array()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01961">json.cpp:1961</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4550e2036b904c4d4a90e440dd41c684"><div class="ttname"><a href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">JsonOut::start_array</a></div><div class="ttdeci">void start_array(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01950">json.cpp:1950</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4756f9a569adbfc60de127f7c335d82f"><div class="ttname"><a href="classJsonOut.html#a4756f9a569adbfc60de127f7c335d82f">JsonOut::start_object</a></div><div class="ttdeci">void start_object(bool wrap=false)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01931">json.cpp:1931</a></div></div>
<div class="ttc" id="aclassJsonOut_html_a4b8c8e50e3be57e737ae971ecf2c3fd5"><div class="ttname"><a href="classJsonOut.html#a4b8c8e50e3be57e737ae971ecf2c3fd5">JsonOut::write</a></div><div class="ttdeci">void write(T val)</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00620">json.h:620</a></div></div>
<div class="ttc" id="aclassJsonOut_html_aa38d37840ed6ba168b78a43570e98681"><div class="ttname"><a href="classJsonOut.html#aa38d37840ed6ba168b78a43570e98681">JsonOut::end_object</a></div><div class="ttdeci">void end_object()</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l01942">json.cpp:1942</a></div></div>
<div class="ttc" id="aclassJsonOut_html_adb3c899f0ad7fc4f25cd3357c51a2c42"><div class="ttname"><a href="classJsonOut.html#adb3c899f0ad7fc4f25cd3357c51a2c42">JsonOut::member</a></div><div class="ttdeci">void member(const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l02046">json.cpp:2046</a></div></div>
<div class="ttc" id="aclassinvlet__favorites_html_a95977daeac8b90fa25a075fe645b9fb6"><div class="ttname"><a href="classinvlet__favorites.html#a95977daeac8b90fa25a075fe645b9fb6">invlet_favorites::get_invlets_by_id</a></div><div class="ttdeci">const std::unordered_map&lt; itype_id, std::string &gt; &amp; get_invlets_by_id() const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00126">inventory.cpp:126</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l01961">JsonOut::end_array()</a>, <a class="el" href="json_8cpp_source.html#l01942">JsonOut::end_object()</a>, <a class="el" href="json_8cpp_source.html#l02046">JsonOut::member()</a>, <a class="el" href="json_8cpp_source.html#l01950">JsonOut::start_array()</a>, <a class="el" href="json_8cpp_source.html#l01931">JsonOut::start_object()</a>, and <a class="el" href="json_8h_source.html#l00620">JsonOut::write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="savegame__json_8cpp_source.html#l00965">avatar::store()</a>.</p>

</div>
</div>
<a id="a97a8cf709ff16fce9850547d68b34dbe" name="a97a8cf709ff16fce9850547d68b34dbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97a8cf709ff16fce9850547d68b34dbe">&#9670;&nbsp;</a></span>json_save_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::json_save_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classJsonOut.html">JsonOut</a> &amp;&#160;</td>
          <td class="paramname"><em>json</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="savegame__json_8cpp_source.html#l01749">1749</a> of file <a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>{</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>    json.<a class="code hl_function" href="classJsonOut.html#a4550e2036b904c4d4a90e440dd41c684">start_array</a>();</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem_stack_iter : elem ) {</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>            elem_stack_iter.serialize( json );</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>        }</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>    }</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>    json.<a class="code hl_function" href="classJsonOut.html#a44cdd853d4c6913b37caa9f0131eeff2">end_array</a>();</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="json_8cpp_source.html#l01961">JsonOut::end_array()</a>, and <a class="el" href="json_8cpp_source.html#l01950">JsonOut::start_array()</a>.</p>

<p class="reference">Referenced by <a class="el" href="savegame__json_8cpp_source.html#l00794">player::store()</a>.</p>

</div>
</div>
<a id="a595139d847118f6ebe5701b07ec7c84d" name="a595139d847118f6ebe5701b07ec7c84d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a595139d847118f6ebe5701b07ec7c84d">&#9670;&nbsp;</a></span>leak_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inventory::leak_level </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00896">896</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>{</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = 0;</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span> </div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem_stack_iter : elem ) {</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>            <span class="keywordflow">if</span>( elem_stack_iter.has_flag( flag ) ) {</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>                <span class="keywordflow">if</span>( elem_stack_iter.has_flag( <a class="code hl_function" href="inventory_8cpp.html#ac726b0317d486dde06a92a3f81470899">flag_LEAK_ALWAYS</a> ) ) {</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>                    <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += elem_stack_iter.volume() / <a class="code hl_variable" href="namespaceunits.html#a58e7d31fbaa28a1dd45fb598f8d1fba9">units::legacy_volume_factor</a>;</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( elem_stack_iter.has_flag( <a class="code hl_function" href="inventory_8cpp.html#a450233a88bf43aa6380c2b09d89cf0bf">flag_LEAK_DAM</a> ) &amp;&amp; elem_stack_iter.damage() &gt; 0 ) {</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>                    <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += elem_stack_iter.damage_level( 4 );</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>                }</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>            }</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>        }</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>    }</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>}</div>
<div class="ttc" id="ainventory_8cpp_html_a450233a88bf43aa6380c2b09d89cf0bf"><div class="ttname"><a href="inventory_8cpp.html#a450233a88bf43aa6380c2b09d89cf0bf">flag_LEAK_DAM</a></div><div class="ttdeci">static const std::string flag_LEAK_DAM(&quot;LEAK_DAM&quot;)</div></div>
<div class="ttc" id="ainventory_8cpp_html_ac726b0317d486dde06a92a3f81470899"><div class="ttname"><a href="inventory_8cpp.html#ac726b0317d486dde06a92a3f81470899">flag_LEAK_ALWAYS</a></div><div class="ttdeci">static const std::string flag_LEAK_ALWAYS(&quot;LEAK_ALWAYS&quot;)</div></div>
<div class="ttc" id="anamespaceunits_html_a58e7d31fbaa28a1dd45fb598f8d1fba9"><div class="ttname"><a href="namespaceunits.html#a58e7d31fbaa28a1dd45fb598f8d1fba9">units::legacy_volume_factor</a></div><div class="ttdeci">static constexpr volume legacy_volume_factor</div><div class="ttdef"><b>Definition:</b> <a href="units__volume_8h_source.html#l00050">units_volume.h:50</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp.html#ac726b0317d486dde06a92a3f81470899">flag_LEAK_ALWAYS()</a>, <a class="el" href="inventory_8cpp.html#a450233a88bf43aa6380c2b09d89cf0bf">flag_LEAK_DAM()</a>, <a class="el" href="inventory_8h_source.html#l00250">items</a>, <a class="el" href="units__volume_8h_source.html#l00050">units::legacy_volume_factor</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

<p class="reference">Referenced by <a class="el" href="suffer_8cpp_source.html#l01965">Character::leak_level()</a>.</p>

</div>
</div>
<a id="a9162b2e2ec09247821b21bb815a037e1" name="a9162b2e2ec09247821b21bb815a037e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9162b2e2ec09247821b21bb815a037e1">&#9670;&nbsp;</a></span>most_appropriate_painkiller()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> * inventory::most_appropriate_painkiller </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00940">940</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>{</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>    <span class="keywordtype">int</span> difference = 9999;</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>    <a class="code hl_class" href="classitem.html">item</a> *<a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = &amp;<a class="code hl_function" href="item_8cpp.html#a300b99af4ea719590afac661e0bff7a1">null_item_reference</a>();</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>        <span class="keywordtype">int</span> diff = 9999;</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>        <a class="code hl_class" href="classstring__id.html">itype_id</a> <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = elem.front().typeId();</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <a class="code hl_variable" href="inventory_8cpp.html#a7d4ebbd26f5b5558b6abac5cc20a39bf">itype_aspirin</a> ) {</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>            diff = std::abs( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96a87a429872c7faee7e8bc9268d5bf548e">pain</a> - 15 );</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <a class="code hl_variable" href="inventory_8cpp.html#a4149e085887fd5399da6ff00e543ed59">itype_codeine</a> ) {</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>            diff = std::abs( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96a87a429872c7faee7e8bc9268d5bf548e">pain</a> - 30 );</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <a class="code hl_variable" href="inventory_8cpp.html#a8a33dee95265955fc5e9b0478d6ad4c2">itype_oxycodone</a> ) {</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>            diff = std::abs( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96a87a429872c7faee7e8bc9268d5bf548e">pain</a> - 60 );</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <a class="code hl_variable" href="inventory_8cpp.html#a602a4545d7fea7f8d58209af7c31a94c">itype_heroin</a> ) {</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>            diff = std::abs( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96a87a429872c7faee7e8bc9268d5bf548e">pain</a> - 100 );</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> == <a class="code hl_variable" href="inventory_8cpp.html#aae7916dda7c85f2a67f4870056ab3891">itype_tramadol</a> ) {</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>            diff = std::abs( <a class="code hl_enumvalue" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96a87a429872c7faee7e8bc9268d5bf548e">pain</a> - 40 ) / 2; <span class="comment">// Bonus since it&#39;s long-acting</span></div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>        }</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span> </div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>        <span class="keywordflow">if</span>( diff &lt; difference ) {</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>            difference = diff;</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = &amp;elem.front();</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>        }</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>    }</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>}</div>
<div class="ttc" id="ainventory_8cpp_html_a602a4545d7fea7f8d58209af7c31a94c"><div class="ttname"><a href="inventory_8cpp.html#a602a4545d7fea7f8d58209af7c31a94c">itype_heroin</a></div><div class="ttdeci">static const itype_id itype_heroin(&quot;heroin&quot;)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>, <a class="el" href="inventory_8cpp.html#a7d4ebbd26f5b5558b6abac5cc20a39bf">itype_aspirin</a>, <a class="el" href="inventory_8cpp.html#a4149e085887fd5399da6ff00e543ed59">itype_codeine</a>, <a class="el" href="inventory_8cpp.html#a602a4545d7fea7f8d58209af7c31a94c">itype_heroin</a>, <a class="el" href="inventory_8cpp.html#a8a33dee95265955fc5e9b0478d6ad4c2">itype_oxycodone</a>, <a class="el" href="inventory_8cpp.html#aae7916dda7c85f2a67f4870056ab3891">itype_tramadol</a>, <a class="el" href="item_8cpp_source.html#l00322">null_item_reference()</a>, <a class="el" href="enums_8h.html#a18cc141c508bf4f277abaf39fc9c3d96a87a429872c7faee7e8bc9268d5bf548e">pain</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="enums_8h_source.html#l00075">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l03743">npc::use_painkiller()</a>.</p>

</div>
</div>
<a id="ada2c692e644161503b97d3b5175e0ffd" name="ada2c692e644161503b97d3b5175e0ffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada2c692e644161503b97d3b5175e0ffd">&#9670;&nbsp;</a></span>operator+() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> inventory::operator+ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00211">211</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>{</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory</a>( *<span class="keyword">this</span> ) += rhs;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>}</div>
<div class="ttc" id="aclassinventory_html_a9963f0cfe64d75ae5ddd69ab22eab2f6"><div class="ttname"><a href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory::inventory</a></div><div class="ttdeci">inventory()</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory()</a>.</p>

</div>
</div>
<a id="a58bf03d9be48a5ca001819240bbf70ef" name="a58bf03d9be48a5ca001819240bbf70ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58bf03d9be48a5ca001819240bbf70ef">&#9670;&nbsp;</a></span>operator+() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> inventory::operator+ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00221">221</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>{</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory</a>( *<span class="keyword">this</span> ) += rhs;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory()</a>.</p>

</div>
</div>
<a id="abfd3a278aec0985b245daebec1ccc2e1" name="abfd3a278aec0985b245daebec1ccc2e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfd3a278aec0985b245daebec1ccc2e1">&#9670;&nbsp;</a></span>operator+() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> inventory::operator+ </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00216">216</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>{</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory</a>( *<span class="keyword">this</span> ) += rhs;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classinventory.html#a9963f0cfe64d75ae5ddd69ab22eab2f6">inventory()</a>.</p>

</div>
</div>
<a id="a8acee42093ab126ce2dba4cc8c5c5198" name="a8acee42093ab126ce2dba4cc8c5c5198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8acee42093ab126ce2dba4cc8c5c5198">&#9670;&nbsp;</a></span>operator+=() <span class="overload">[1/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> &amp; inventory::operator+= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00171">171</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>{</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; rhs.<a class="code hl_function" href="classinventory.html#a51a62ddae83430e06da3c08d5b3fd5e4">size</a>(); i++ ) {</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>        <a class="code hl_function" href="classinventory.html#a2fc0c051b701e87b3ce58dad4f8c5288">push_back</a>( rhs.<a class="code hl_function" href="classinventory.html#a8f615a8478d03953310f91bc45f79543">const_stack</a>( i ) );</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    }</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>}</div>
<div class="ttc" id="aclassinventory_html_a2fc0c051b701e87b3ce58dad4f8c5288"><div class="ttname"><a href="classinventory.html#a2fc0c051b701e87b3ce58dad4f8c5288">inventory::push_back</a></div><div class="ttdeci">void push_back(const std::list&lt; item &gt; &amp;newits)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00244">inventory.cpp:244</a></div></div>
<div class="ttc" id="aclassinventory_html_a51a62ddae83430e06da3c08d5b3fd5e4"><div class="ttname"><a href="classinventory.html#a51a62ddae83430e06da3c08d5b3fd5e4">inventory::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00166">inventory.cpp:166</a></div></div>
<div class="ttc" id="aclassinventory_html_a8f615a8478d03953310f91bc45f79543"><div class="ttname"><a href="classinventory.html#a8f615a8478d03953310f91bc45f79543">inventory::const_stack</a></div><div class="ttdeci">const std::list&lt; item &gt; &amp; const_stack(int i) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00151">inventory.cpp:151</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00151">const_stack()</a>, <a class="el" href="inventory_8cpp_source.html#l00244">push_back()</a>, and <a class="el" href="inventory_8cpp_source.html#l00166">size()</a>.</p>

</div>
</div>
<a id="a39043a7d5bc7db8e26644ef6ff22f3d5" name="a39043a7d5bc7db8e26644ef6ff22f3d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39043a7d5bc7db8e26644ef6ff22f3d5">&#9670;&nbsp;</a></span>operator+=() <span class="overload">[2/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> &amp; inventory::operator+= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00195">195</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>{</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <a class="code hl_function" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( rhs );</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00285">add_item()</a>.</p>

</div>
</div>
<a id="a4148748a76382dd4686e326936ef6c55" name="a4148748a76382dd4686e326936ef6c55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4148748a76382dd4686e326936ef6c55">&#9670;&nbsp;</a></span>operator+=() <span class="overload">[3/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> &amp; inventory::operator+= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem__stack.html">item_stack</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00201">201</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>{</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;p : rhs ) {</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>        <span class="keywordflow">if</span>( !p.made_of( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>            <a class="code hl_function" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( p, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        }</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    }</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00285">add_item()</a>, and <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>.</p>

</div>
</div>
<a id="a127bb39197d94fde2dfbdf75397bf29c" name="a127bb39197d94fde2dfbdf75397bf29c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a127bb39197d94fde2dfbdf75397bf29c">&#9670;&nbsp;</a></span>operator+=() <span class="overload">[4/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> &amp; inventory::operator+= </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00179">179</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>{</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;rh : rhs ) {</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>        <a class="code hl_function" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( rh, <span class="keyword">false</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    }</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00285">add_item()</a>.</p>

</div>
</div>
<a id="ae486a4d5a17a6a4586bfcd184b1749bc" name="ae486a4d5a17a6a4586bfcd184b1749bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae486a4d5a17a6a4586bfcd184b1749bc">&#9670;&nbsp;</a></span>operator+=() <span class="overload">[5/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> &amp; inventory::operator+= </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00187">187</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>{</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;rh : rhs ) {</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>        <a class="code hl_function" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( rh, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    }</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00285">add_item()</a>.</p>

</div>
</div>
<a id="a7fcd617d12fda235fc71774c514d6cd1" name="a7fcd617d12fda235fc71774c514d6cd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fcd617d12fda235fc71774c514d6cd1">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> &amp; inventory::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a68a170b84de656177070e06d691d7d49" name="a68a170b84de656177070e06d691d7d49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68a170b84de656177070e06d691d7d49">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinventory.html">inventory</a> &amp; inventory::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classinventory.html">inventory</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac0d780fd8e9fd35527160b3e153695a9" name="ac0d780fd8e9fd35527160b3e153695a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0d780fd8e9fd35527160b3e153695a9">&#9670;&nbsp;</a></span>position_by_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inventory::position_by_item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the item position of the stack that contains the given item (compared by pointers). </p>
<p >Returns INT_MIN if the item is not found. Note that this may lose some information, for example the returned position is the same when the given item points to the container and when it points to the item inside the container. All items that are part of the same stack have the same item position. </p>

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00826">826</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>{</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>    <span class="keywordtype">int</span> p = 0;</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;stack : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;e : stack ) {</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>            <span class="keywordflow">if</span>( e.has_item( *it ) ) {</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>                <span class="keywordflow">return</span> p;</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>            }</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>        }</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>        p++;</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>    }</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    <span class="keywordflow">return</span> INT_MIN;</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l01905">player::consume()</a>, <a class="el" href="character_8cpp_source.html#l02407">Character::get_item_position()</a>, <a class="el" href="inventory_8cpp_source.html#l00398">restack()</a>, and <a class="el" href="npc_8cpp_source.html#l01151">npc::wield()</a>.</p>

</div>
</div>
<a id="a83456dac16cd4a8057c9372ae8648a52" name="a83456dac16cd4a8057c9372ae8648a52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83456dac16cd4a8057c9372ae8648a52">&#9670;&nbsp;</a></span>position_by_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inventory::position_by_type </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00840">840</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>{</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>        <span class="keywordflow">if</span>( elem.front().typeId() == <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> ) {</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>            <span class="keywordflow">return</span> i;</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>        }</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>        ++i;</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>    }</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>    <span class="keywordflow">return</span> INT_MIN;</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>, and <a class="el" href="enums_8h_source.html#l00075">type</a>.</p>

<p class="reference">Referenced by <a class="el" href="npcmove_8cpp_source.html#l03706">npc::heal_self()</a>, and <a class="el" href="iexamine_8cpp_source.html#l04353">iexamine::pay_gas()</a>.</p>

</div>
</div>
<a id="a2fc0c051b701e87b3ce58dad4f8c5288" name="a2fc0c051b701e87b3ce58dad4f8c5288"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fc0c051b701e87b3ce58dad4f8c5288">&#9670;&nbsp;</a></span>push_back() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::push_back </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>newits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00244">244</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>{</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;newit : newits ) {</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        <a class="code hl_function" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( newit, <span class="keyword">true</span> );</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    }</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00285">add_item()</a>.</p>

<p class="reference">Referenced by <a class="el" href="newcharacter_8cpp_source.html#l00400">avatar::create()</a>, <a class="el" href="iuse_8cpp_source.html#l08389">iuse::multicooker()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03136">om_harvest_furn()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03179">om_harvest_ter()</a>, <a class="el" href="inventory_8cpp_source.html#l00171">operator+=()</a>, and <a class="el" href="npc_8cpp_source.html#l01665">npc::shop_restock()</a>.</p>

</div>
</div>
<a id="a6ad9787457d6cc7a56b4a404f393d50f" name="a6ad9787457d6cc7a56b4a404f393d50f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ad9787457d6cc7a56b4a404f393d50f">&#9670;&nbsp;</a></span>push_back() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::push_back </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a>&#160;</td>
          <td class="paramname"><em>newit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00389">389</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>{</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    <a class="code hl_function" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( newit );</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00285">add_item()</a>.</p>

</div>
</div>
<a id="aa6048276bd408eea6a3229705bffc4c0" name="aa6048276bd408eea6a3229705bffc4c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6048276bd408eea6a3229705bffc4c0">&#9670;&nbsp;</a></span>reassign_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::reassign_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>invlet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>remove_old</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01202">1202</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>{</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>    <span class="keywordflow">if</span>( it.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> == invlet ) { <span class="comment">// no change needed</span></div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>    }</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>    <span class="keywordflow">if</span>( remove_old &amp;&amp; it.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> ) {</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>        <a class="code hl_variable" href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">invlet_cache</a>.<a class="code hl_function" href="classinvlet__favorites.html#a4bb4998afef3ac7fae0445b34a9c296e">erase</a>( it.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> );</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>    }</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>    it.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> = invlet;</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>    <a class="code hl_function" href="classinventory.html#a6632e04576710c1d9ee979850958e63c">update_cache_with_item</a>( it );</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>}</div>
<div class="ttc" id="aclassinvlet__favorites_html_a4bb4998afef3ac7fae0445b34a9c296e"><div class="ttname"><a href="classinvlet__favorites.html#a4bb4998afef3ac7fae0445b34a9c296e">invlet_favorites::erase</a></div><div class="ttdeci">void erase(char invlet)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00097">inventory.cpp:97</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00097">invlet_favorites::erase()</a>, <a class="el" href="item_8h_source.html#l02232">item::invlet</a>, <a class="el" href="inventory_8h_source.html#l00247">invlet_cache</a>, and <a class="el" href="inventory_8cpp_source.html#l00252">update_cache_with_item()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l03131">player::reassign_item()</a>, and <a class="el" href="armor__layers_8cpp_source.html#l00439">player::sort_armor()</a>.</p>

</div>
</div>
<a id="a676eaf73095dd3bb5d80d11c6161193c" name="a676eaf73095dd3bb5d80d11c6161193c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a676eaf73095dd3bb5d80d11c6161193c">&#9670;&nbsp;</a></span>reduce_stack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="classitem.html">item</a> &gt; inventory::reduce_stack </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00692">692</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>{</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>    <span class="keywordtype">int</span> pos = 0;</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    std::list&lt;item&gt; <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>    <span class="keywordflow">for</span>( invstack::iterator iter = <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin(); iter != <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.end(); ++iter ) {</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>        <span class="keywordflow">if</span>( position == pos ) {</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>            <a class="code hl_variable" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>            <a class="code hl_variable" href="classinventory.html#a18bd56efb8f82281bb439851619c296a">items_type_cached</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>            <span class="keywordflow">if</span>( quantity &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( iter-&gt;size() ) || quantity &lt; 0 ) {</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>                <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = *iter;</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>                <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.erase( iter );</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>                <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0 ; i &lt; quantity ; i++ ) {</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>                    <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.push_back( <a class="code hl_function" href="classinventory.html#a36e4b99300e1fe64920ce52911c04127">remove_item</a>( &amp;iter-&gt;front() ) );</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>                }</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>            }</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>        }</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>        ++pos;</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    }</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>}</div>
<div class="ttc" id="aclassinventory_html_a36e4b99300e1fe64920ce52911c04127"><div class="ttname"><a href="classinventory.html#a36e4b99300e1fe64920ce52911c04127">inventory::remove_item</a></div><div class="ttdeci">item remove_item(const item *it)</div><div class="ttdoc">Remove a specific item from the inventory.</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00715">inventory.cpp:715</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00255">binned</a>, <a class="el" href="inventory_8h_source.html#l00250">items</a>, <a class="el" href="inventory_8h_source.html#l00254">items_type_cached</a>, <a class="el" href="inventory_8cpp_source.html#l00715">remove_item()</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

</div>
</div>
<a id="a36e4b99300e1fe64920ce52911c04127" name="a36e4b99300e1fe64920ce52911c04127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36e4b99300e1fe64920ce52911c04127">&#9670;&nbsp;</a></span>remove_item() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> inventory::remove_item </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> *&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a specific item from the inventory. </p>
<p >The item is compared by pointer. Contents of the item are removed as well. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">it</td><td>A pointer to the item to be removed. The item <em>must</em> exists in this inventory. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A copy of the removed item. </dd></dl>

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00715">715</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>{</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>    <span class="keyword">auto</span> tmp = <a class="code hl_function" href="classvisitable.html#a82d5eb61d79aa5a1ff06375288600796">remove_items_with</a>( [&amp;it]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; i ) {</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>        <span class="keywordflow">return</span> &amp;i == it;</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>    }, 1 );</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>    <span class="keywordflow">if</span>( !tmp.empty() ) {</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>        <a class="code hl_variable" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>        <a class="code hl_variable" href="classinventory.html#a18bd56efb8f82281bb439851619c296a">items_type_cached</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>        <span class="keywordflow">return</span> tmp.front();</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>    }</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>    <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Tried to remove a item not in inventory.&quot;</span> );</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="classitem.html">item</a>();</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>}</div>
<div class="ttc" id="aclassvisitable_html_a82d5eb61d79aa5a1ff06375288600796"><div class="ttname"><a href="classvisitable.html#a82d5eb61d79aa5a1ff06375288600796">visitable&lt; inventory &gt;::remove_items_with</a></div><div class="ttdeci">std::list&lt; item &gt; remove_items_with(const std::function&lt; bool(const item &amp;)&gt; &amp;filter, int count=INT_MAX)</div><div class="ttdoc">Removes items contained by this instance which match the filter.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00255">binned</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="inventory_8h_source.html#l00254">items_type_cached</a>, and <a class="el" href="classvisitable.html#a82d5eb61d79aa5a1ff06375288600796">visitable&lt; inventory &gt;::remove_items_with()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l01905">player::consume()</a>, <a class="el" href="character_8cpp_source.html#l02424">Character::i_rem()</a>, <a class="el" href="player_8cpp_source.html#l01635">player::process_items()</a>, <a class="el" href="inventory_8cpp_source.html#l00692">reduce_stack()</a>, and <a class="el" href="player_8cpp_source.html#l02721">player::wear()</a>.</p>

</div>
</div>
<a id="af0b24dc07f1e52c4426eef07993ea7b4" name="af0b24dc07f1e52c4426eef07993ea7b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0b24dc07f1e52c4426eef07993ea7b4">&#9670;&nbsp;</a></span>remove_item() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classitem.html">item</a> inventory::remove_item </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00729">729</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>{</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>    <span class="keywordtype">int</span> pos = 0;</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>    <span class="keywordflow">for</span>( invstack::iterator iter = <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin(); iter != <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.end(); ++iter ) {</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>        <span class="keywordflow">if</span>( position == pos ) {</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>            <a class="code hl_variable" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>            <a class="code hl_variable" href="classinventory.html#a18bd56efb8f82281bb439851619c296a">items_type_cached</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>            <span class="keywordflow">if</span>( iter-&gt;size() &gt; 1 ) {</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>                std::list&lt;item&gt;::iterator stack_member = iter-&gt;begin();</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>                <span class="keywordtype">char</span> invlet = stack_member-&gt;invlet;</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>                ++stack_member;</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>                stack_member-&gt;invlet = invlet;</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>            }</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>            <a class="code hl_class" href="classitem.html">item</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = iter-&gt;front();</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>            iter-&gt;erase( iter-&gt;begin() );</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>            <span class="keywordflow">if</span>( iter-&gt;empty() ) {</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>                <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.erase( iter );</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>            }</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>        }</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>        ++pos;</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>    }</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span> </div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="classitem.html">item</a>();</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00255">binned</a>, <a class="el" href="inventory_8h_source.html#l00250">items</a>, <a class="el" href="inventory_8h_source.html#l00254">items_type_cached</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

</div>
</div>
<a id="a534997d1d7b8d16423f39f32c3ea45a0" name="a534997d1d7b8d16423f39f32c3ea45a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a534997d1d7b8d16423f39f32c3ea45a0">&#9670;&nbsp;</a></span>remove_randomly_by_volume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="classitem.html">item</a> &gt; inventory::remove_randomly_by_volume </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> &amp;&#160;</td>
          <td class="paramname"><em>volume</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Randomly select items until the volume quota is filled. </p>

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00755">755</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>{</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>    std::list&lt;item&gt; <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> volume_dropped = 0_ml;</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>    <span class="keywordflow">while</span>( volume_dropped &lt; <a class="code hl_function" href="classinventory.html#aec6a20058fa80f78b727c3524f9a8fb1">volume</a> ) {</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>        <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> cumulative_volume = 0_ml;</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>        <span class="keyword">auto</span> chosen_stack = <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin();</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>        <span class="keyword">auto</span> chosen_item = chosen_stack-&gt;begin();</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> stack = <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin(); stack != <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.end(); ++stack ) {</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> stack_it = stack-&gt;begin(); stack_it != stack-&gt;end(); ++stack_it ) {</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>                cumulative_volume += stack_it-&gt;volume();</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>                <span class="keywordflow">if</span>( <a class="code hl_function" href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a>( stack_it-&gt;volume().value(), cumulative_volume.<a class="code hl_function" href="classunits_1_1quantity.html#a239e9b238064a23fab11ff2094537958">value</a>() ) ) {</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>                    chosen_item = stack_it;</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>                    chosen_stack = stack;</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>                }</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>            }</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>        }</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>        volume_dropped += chosen_item-&gt;volume();</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>        <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.push_back( <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( *chosen_item ) );</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>        chosen_item = chosen_stack-&gt;erase( chosen_item );</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>        <span class="keywordflow">if</span>( chosen_item == chosen_stack-&gt;begin() &amp;&amp; !chosen_stack-&gt;empty() ) {</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>            <span class="comment">// preserve the invlet when removing the first item of a stack</span></div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>            chosen_item-&gt;invlet = <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>.back().invlet;</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>        }</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>        <span class="keywordflow">if</span>( chosen_stack-&gt;empty() ) {</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>            <a class="code hl_variable" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>            <a class="code hl_variable" href="classinventory.html#a18bd56efb8f82281bb439851619c296a">items_type_cached</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>            <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.erase( chosen_stack );</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>        }</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>    }</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>    <span class="keywordflow">return</span> <a class="code hl_enumeration" href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">result</a>;</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>}</div>
<div class="ttc" id="acalendar_8cpp_html_a359120c15f92d54a49fec9de7bcb571f"><div class="ttname"><a href="calendar_8cpp.html#a359120c15f92d54a49fec9de7bcb571f">x_in_y</a></div><div class="ttdeci">bool x_in_y(const time_duration &amp;a, const time_duration &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00521">calendar.cpp:521</a></div></div>
<div class="ttc" id="aclassinventory_html_aec6a20058fa80f78b727c3524f9a8fb1"><div class="ttname"><a href="classinventory.html#aec6a20058fa80f78b727c3524f9a8fb1">inventory::volume</a></div><div class="ttdeci">units::volume volume() const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l01057">inventory.cpp:1057</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units__def_8h_source.html#l00014">units_def.h:15</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html_a239e9b238064a23fab11ff2094537958"><div class="ttname"><a href="classunits_1_1quantity.html#a239e9b238064a23fab11ff2094537958">units::quantity::value</a></div><div class="ttdeci">constexpr const value_type &amp; value() const</div><div class="ttdoc">Access the raw dimensionless value.</div><div class="ttdef"><b>Definition:</b> <a href="units__def_8h_source.html#l00044">units_def.h:44</a></div></div>
<div class="ttc" id="anamespaceavatar__action_html_a76ba74774376a08222b8cdcce08f7304"><div class="ttname"><a href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">avatar_action::move</a></div><div class="ttdeci">bool move(avatar &amp;you, map &amp;m, const tripoint &amp;d)</div><div class="ttdef"><b>Definition:</b> <a href="avatar__action_8cpp_source.html#l00093">avatar_action.cpp:93</a></div></div>
<div class="ttc" id="anamespacedetail_1_1digits_html_aad69d2373aa047bdd9e81494bf3da5ae"><div class="ttname"><a href="namespacedetail_1_1digits.html#aad69d2373aa047bdd9e81494bf3da5ae">detail::digits::result</a></div><div class="ttdeci">result</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__format-inl_8h_source.html#l01626">fmtlib_format-inl.h:1626</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00255">binned</a>, <a class="el" href="inventory_8h_source.html#l00250">items</a>, <a class="el" href="inventory_8h_source.html#l00254">items_type_cached</a>, <a class="el" href="avatar__action_8cpp_source.html#l00093">avatar_action::move()</a>, <a class="el" href="units__def_8h_source.html#l00044">units::quantity&lt; V, U &gt;::value()</a>, <a class="el" href="inventory_8cpp_source.html#l01057">volume()</a>, and <a class="el" href="calendar_8cpp_source.html#l00521">x_in_y()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l03198">Character::drop_invalid_inventory()</a>.</p>

</div>
</div>
<a id="a02827fc3d19c675083f0ddee201a1549" name="a02827fc3d19c675083f0ddee201a1549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02827fc3d19c675083f0ddee201a1549">&#9670;&nbsp;</a></span>restack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::restack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00398">398</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>{</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    <span class="comment">// tasks that the old restack seemed to do:</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    <span class="comment">// 1. reassign inventory letters</span></div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    <span class="comment">// 2. remove items from non-matching stacks</span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    <span class="comment">// 3. combine matching stacks</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span> </div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    <a class="code hl_variable" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    <a class="code hl_variable" href="classinventory.html#a18bd56efb8f82281bb439851619c296a">items_type_cached</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    std::list&lt;item&gt; to_restack;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    <span class="keywordtype">int</span> idx = 0;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>    <span class="keywordflow">for</span>( invstack::iterator iter = <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin(); iter != <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.end(); ++iter, ++idx ) {</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>        std::list&lt;item&gt; &amp;stack = *iter;</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>        <a class="code hl_class" href="classitem.html">item</a> &amp;topmost = stack.front();</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span> </div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>        <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> *invlet_item = p.<a class="code hl_function" href="classCharacter.html#a9a5d53916ea06db1f64575e4c91a1653">invlet_to_item</a>( topmost.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> );</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="inventory_8cpp.html#ababaf576567206360a0baa12078e132c">inv_chars</a>.<a class="code hl_function" href="classinvlet__wrapper.html#a7c0b7eaf67cf02bae041ada17aa1f71d">valid</a>( topmost.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> ) || ( invlet_item != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>                <a class="code hl_function" href="classinventory.html#ac0d780fd8e9fd35527160b3e153695a9">position_by_item</a>( invlet_item ) != idx ) ) {</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>            <a class="code hl_function" href="classinventory.html#aaad56f923ec6824aadf028d8ba1ba89d">assign_empty_invlet</a>( topmost, p );</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;stack_iter : stack ) {</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>                stack_iter.invlet = topmost.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a>;</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>            }</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>        }</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span> </div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>        <span class="comment">// remove non-matching items, stripping off end of stack so the first item keeps the invlet.</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>        <span class="keywordflow">while</span>( stack.size() &gt; 1 &amp;&amp; !topmost.<a class="code hl_function" href="classitem.html#a31a0fa72add9cbbffc189b0eab0b34c0">stacks_with</a>( stack.back() ) ) {</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>            to_restack.splice( to_restack.begin(), *iter, --stack.end() );</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>        }</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>    }</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span> </div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>    <span class="comment">// combine matching stacks</span></div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>    <span class="comment">// separate loop to ensure that ALL stacks are homogeneous</span></div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    <span class="keywordflow">for</span>( invstack::iterator iter = <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin(); iter != <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.end(); ++iter ) {</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>        <span class="keywordflow">for</span>( invstack::iterator <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> = iter; <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> != <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.end(); ++<a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> ) {</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>            <span class="keywordflow">if</span>( iter != <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> &amp;&amp; iter-&gt;front().stacks_with( <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>-&gt;front() ) ) {</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>                <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>-&gt;front().count_by_charges() ) {</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>                    iter-&gt;front().charges += <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>-&gt;front().charges;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>                    iter-&gt;splice( iter-&gt;begin(), *<a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> );</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>                }</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>                <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> = <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.erase( <a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a> );</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>                --<a class="code hl_enumvalue" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>;</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>            }</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>        }</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>    }</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span> </div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>    <span class="comment">//re-add non-matching items</span></div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : to_restack ) {</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>        <a class="code hl_function" href="classinventory.html#a3840801d19b8b8b3ae4be0e832bd1c7d">add_item</a>( elem );</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    }</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span> </div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>    <span class="comment">//Ensure that all items in the same stack have the same invlet.</span></div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    <span class="keywordflow">for</span>( std::list&lt; item &gt; &amp;outer : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> &amp;inner : outer ) {</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>            inner.invlet = outer.front().invlet;</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>        }</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>    }</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.sort( <a class="code hl_function" href="inventory_8cpp.html#ae219ebd7bf82ef7ea5d9c0684c39cbf7">stack_compare</a> );</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span> </div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span><span class="preprocessor">#if defined(__ANDROID__)</span></div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    remove_stale_inventory_quick_shortcuts();</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>}</div>
<div class="ttc" id="aclassCharacter_html_a9a5d53916ea06db1f64575e4c91a1653"><div class="ttname"><a href="classCharacter.html#a9a5d53916ea06db1f64575e4c91a1653">Character::invlet_to_item</a></div><div class="ttdeci">item * invlet_to_item(int invlet)</div><div class="ttdoc">Return the item pointer of the item with given invlet, return nullptr if the player does not have suc...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02361">character.cpp:2361</a></div></div>
<div class="ttc" id="aclassinventory_html_ac0d780fd8e9fd35527160b3e153695a9"><div class="ttname"><a href="classinventory.html#ac0d780fd8e9fd35527160b3e153695a9">inventory::position_by_item</a></div><div class="ttdeci">int position_by_item(const item *it) const</div><div class="ttdoc">Returns the item position of the stack that contains the given item (compared by pointers).</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00826">inventory.cpp:826</a></div></div>
<div class="ttc" id="aclassinvlet__wrapper_html_a7c0b7eaf67cf02bae041ada17aa1f71d"><div class="ttname"><a href="classinvlet__wrapper.html#a7c0b7eaf67cf02bae041ada17aa1f71d">invlet_wrapper::valid</a></div><div class="ttdeci">bool valid(int invlet) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00059">inventory.cpp:59</a></div></div>
<div class="ttc" id="aclassitem_html_a31a0fa72add9cbbffc189b0eab0b34c0"><div class="ttname"><a href="classitem.html#a31a0fa72add9cbbffc189b0eab0b34c0">item::stacks_with</a></div><div class="ttdeci">bool stacks_with(const item &amp;rhs, bool check_components=false, bool skip_type_check=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00889">item.cpp:889</a></div></div>
<div class="ttc" id="ainventory_8cpp_html_ae219ebd7bf82ef7ea5d9c0684c39cbf7"><div class="ttname"><a href="inventory_8cpp.html#ae219ebd7bf82ef7ea5d9c0684c39cbf7">stack_compare</a></div><div class="ttdeci">static bool stack_compare(const std::list&lt; item &gt; &amp;lhs, const std::list&lt; item &gt; &amp;rhs)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00232">inventory.cpp:232</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l00285">add_item()</a>, <a class="el" href="inventory_8cpp_source.html#l01148">assign_empty_invlet()</a>, <a class="el" href="inventory_8h_source.html#l00255">binned</a>, <a class="el" href="inventory_8cpp.html#ababaf576567206360a0baa12078e132c">inv_chars()</a>, <a class="el" href="item_8h_source.html#l02232">item::invlet</a>, <a class="el" href="character_8cpp_source.html#l02361">Character::invlet_to_item()</a>, <a class="el" href="inventory_8h_source.html#l00250">items</a>, <a class="el" href="inventory_8h_source.html#l00254">items_type_cached</a>, <a class="el" href="character_8h.html#a70a4eaaf64bcd7658f91bfb500492f5aa795f3202b17cb6bc3d4b771d8c6c9eaf">other</a>, <a class="el" href="inventory_8cpp_source.html#l00826">position_by_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00232">stack_compare()</a>, <a class="el" href="item_8cpp_source.html#l00889">item::stacks_with()</a>, and <a class="el" href="inventory_8cpp_source.html#l00059">invlet_wrapper::valid()</a>.</p>

<p class="reference">Referenced by <a class="el" href="game__inventory_8cpp_source.html#l02087">autoclave_internal()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01713">autodoc_internal()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00233">game_menus::inv::common()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01549">game_menus::inv::compare()</a>, <a class="el" href="crafting_8cpp_source.html#l01016">complete_craft()</a>, <a class="el" href="player_8cpp_source.html#l01905">player::consume()</a>, <a class="el" href="game__inventory_8cpp_source.html#l00155">inv_internal()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01480">game_menus::inv::multidrop()</a>, <a class="el" href="item_8cpp_source.html#l07970">item::reload()</a>, <a class="el" href="game__inventory_8cpp_source.html#l01674">game_menus::inv::swap_letters()</a>, <a class="el" href="iuse_8cpp_source.html#l09449">wash_items()</a>, <a class="el" href="player_8cpp_source.html#l02721">player::wear()</a>, and <a class="el" href="memorial__logger_8cpp_source.html#l00150">memorial_logger::write()</a>.</p>

</div>
</div>
<a id="a5f45453e09ab86b12361a196009617c0" name="a5f45453e09ab86b12361a196009617c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f45453e09ab86b12361a196009617c0">&#9670;&nbsp;</a></span>rust_iron_items()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::rust_iron_items </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00967">967</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>{</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem_stack_iter : elem ) {</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>            <span class="keywordflow">if</span>( elem_stack_iter.made_of( <a class="code hl_class" href="classstring__id.html">material_id</a>( <span class="stringliteral">&quot;iron&quot;</span> ) ) &amp;&amp;</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>                !elem_stack_iter.has_flag( <a class="code hl_function" href="inventory_8cpp.html#abb5bd55448fe5070a6d8d78e9105bc6b">flag_WATERPROOF_GUN</a> ) &amp;&amp;</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>                !elem_stack_iter.has_flag( <a class="code hl_function" href="inventory_8cpp.html#aef81e14ebf3e79df70f178bcf0f61241">flag_WATERPROOF</a> ) &amp;&amp;</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>                elem_stack_iter.damage() &lt; elem_stack_iter.max_damage() / 2 &amp;&amp;</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>                <span class="comment">//Passivation layer prevents further rusting</span></div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>                <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 500 ) &amp;&amp;</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>                <span class="comment">//Scale with volume, bigger = slower (see #24204)</span></div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>                <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>(</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>                    <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>                        14 * std::cbrt(</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>                            0.5 * std::max(</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>                                0.05, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>                                    elem_stack_iter.base_volume().value() ) / 250 ) ) ) ) &amp;&amp;</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>                <span class="comment">//                       ^season length   ^14/5*0.75/pi (from volume of sphere)</span></div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>                <span class="comment">//Freshwater without oxygen rusts slower than air</span></div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.water_from( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() ).typeId() == <a class="code hl_variable" href="inventory_8cpp.html#a650bbad0228bdf2e0c41aa9fbc46d780">itype_salt_water</a> ) {</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>                elem_stack_iter.inc_damage( <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8fce673f2bfbb3fdb52be44a8e638c90">DT_ACID</a> ); <span class="comment">// rusting never completely destroys an item</span></div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Your %s is damaged by rust.&quot;</span> ), elem_stack_iter.tname() );</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>            }</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>        }</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>    }</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>}</div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa8fce673f2bfbb3fdb52be44a8e638c90"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8fce673f2bfbb3fdb52be44a8e638c90">DT_ACID</a></div><div class="ttdeci">@ DT_ACID</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00026">damage.h:26</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a></div><div class="ttdeci">@ m_bad</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00254">enums.h:254</a></div></div>
<div class="ttc" id="ainventory_8cpp_html_a650bbad0228bdf2e0c41aa9fbc46d780"><div class="ttname"><a href="inventory_8cpp.html#a650bbad0228bdf2e0c41aa9fbc46d780">itype_salt_water</a></div><div class="ttdeci">static const itype_id itype_salt_water(&quot;salt_water&quot;)</div></div>
<div class="ttc" id="ainventory_8cpp_html_abb5bd55448fe5070a6d8d78e9105bc6b"><div class="ttname"><a href="inventory_8cpp.html#abb5bd55448fe5070a6d8d78e9105bc6b">flag_WATERPROOF_GUN</a></div><div class="ttdeci">static const std::string flag_WATERPROOF_GUN(&quot;WATERPROOF_GUN&quot;)</div></div>
<div class="ttc" id="ainventory_8cpp_html_aef81e14ebf3e79df70f178bcf0f61241"><div class="ttname"><a href="inventory_8cpp.html#aef81e14ebf3e79df70f178bcf0f61241">flag_WATERPROOF</a></div><div class="ttdeci">static const std::string flag_WATERPROOF(&quot;WATERPROOF&quot;)</div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00884">messages.cpp:884</a></div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00065">rng.cpp:65</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="damage_8h_source.html#l00026">DT_ACID</a>, <a class="el" href="inventory_8cpp.html#aef81e14ebf3e79df70f178bcf0f61241">flag_WATERPROOF()</a>, <a class="el" href="inventory_8cpp.html#abb5bd55448fe5070a6d8d78e9105bc6b">flag_WATERPROOF_GUN()</a>, <a class="el" href="game_8cpp_source.html#l00272">g</a>, <a class="el" href="inventory_8h_source.html#l00250">items</a>, <a class="el" href="inventory_8cpp.html#a650bbad0228bdf2e0c41aa9fbc46d780">itype_salt_water</a>, <a class="el" href="enums_8h_source.html#l00254">m_bad</a>, and <a class="el" href="rng_8cpp_source.html#l00065">one_in()</a>.</p>

<p class="reference">Referenced by <a class="el" href="avatar__action_8cpp_source.html#l00497">avatar_action::swim()</a>.</p>

</div>
</div>
<a id="a2281b32f4df4f4a332bba5b47def9649" name="a2281b32f4df4f4a332bba5b47def9649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2281b32f4df4f4a332bba5b47def9649">&#9670;&nbsp;</a></span>set_stack_favorite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::set_stack_favorite </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>favorite</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01251">1251</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>{</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;e : *std::next( <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin(), position ) ) {</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>        e.set_favorite( favorite );</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>    }</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>.</p>

</div>
</div>
<a id="a51a62ddae83430e06da3c08d5b3fd5e4" name="a51a62ddae83430e06da3c08d5b3fd5e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51a62ddae83430e06da3c08d5b3fd5e4">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t inventory::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00166">166</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>{</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.size();</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>.</p>

<p class="reference">Referenced by <a class="el" href="mission__companion_8cpp_source.html#l01754">talk_function::companion_return()</a>, <a class="el" href="npcmove_8cpp_source.html#l03142">npc::drop_items()</a>, <a class="el" href="iexamine_8cpp_source.html#l04208">findBestGasDiscount()</a>, <a class="el" href="faction__camp_8cpp_source.html#l02524">basecamp::finish_return()</a>, <a class="el" href="crafting_8cpp_source.html#l00482">player::get_eligible_containers_for_crafting()</a>, <a class="el" href="inventory_8cpp_source.html#l00171">operator+=()</a>, and <a class="el" href="player_8cpp_source.html#l01635">player::process_items()</a>.</p>

</div>
</div>
<a id="a51bfb1f66b7b07d630b403bf964e84f9" name="a51bfb1f66b7b07d630b403bf964e84f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51bfb1f66b7b07d630b403bf964e84f9">&#9670;&nbsp;</a></span>slice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="inventory_8h.html#a1d1a58da8e9c617f38902ba44c72b6b2">invslice</a> inventory::slice </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00133">133</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>{</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <a class="code hl_typedef" href="inventory_8h.html#a1d1a58da8e9c617f38902ba44c72b6b2">invslice</a> stacks;</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        stacks.push_back( &amp;elem );</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    }</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="keywordflow">return</span> stacks;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>}</div>
<div class="ttc" id="ainventory_8h_html_a1d1a58da8e9c617f38902ba44c72b6b2"><div class="ttname"><a href="inventory_8h.html#a1d1a58da8e9c617f38902ba44c72b6b2">invslice</a></div><div class="ttdeci">std::vector&lt; std::list&lt; item &gt; * &gt; invslice</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00032">inventory.h:32</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory__ui_8cpp_source.html#l01188">inventory_selector::add_character_items()</a>, <a class="el" href="advanced__inv__pane_8cpp_source.html#l00083">advanced_inventory_pane::add_items_from_area()</a>, <a class="el" href="npcmove_8cpp_source.html#l03511">npc::alt_attack()</a>, <a class="el" href="npcmove_8cpp_source.html#l01658">npc::consume_cbm_items()</a>, <a class="el" href="npcmove_8cpp_source.html#l03885">npc::consume_food()</a>, <a class="el" href="npc_8cpp_source.html#l01486">npc::decide_needs()</a>, <a class="el" href="npcmove_8cpp_source.html#l03142">npc::drop_items()</a>, <a class="el" href="player_8cpp_source.html#l00570">player::get_artifact_items()</a>, <a class="el" href="npctrade_8cpp_source.html#l00148">npc_trading::init_buying()</a>, <a class="el" href="npctrade_8cpp_source.html#l00096">npc_trading::init_selling()</a>, <a class="el" href="npcmove_8cpp_source.html#l03925">npc::mug_player()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00458">pickup::reorder_for_dropping()</a>, <a class="el" href="npcmove_8cpp_source.html#l03403">npc::wield_better_weapon()</a>, and <a class="el" href="memorial__logger_8cpp_source.html#l00150">memorial_logger::write()</a>.</p>

</div>
</div>
<a id="a14ac26748e30d2d0f6c137734d55b2b5" name="a14ac26748e30d2d0f6c137734d55b2b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14ac26748e30d2d0f6c137734d55b2b5">&#9670;&nbsp;</a></span>unsort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::unsort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00226">226</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>{</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <a class="code hl_variable" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <a class="code hl_variable" href="classinventory.html#a18bd56efb8f82281bb439851619c296a">items_type_cached</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00255">binned</a>, and <a class="el" href="inventory_8h_source.html#l00254">items_type_cached</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l01905">player::consume()</a>, <a class="el" href="character_8cpp_source.html#l07366">Character::dispose_item()</a>, <a class="el" href="npc_8cpp_source.html#l02754">npc::dispose_item()</a>, <a class="el" href="character_8cpp_source.html#l02321">Character::i_add()</a>, <a class="el" href="character_8cpp_source.html#l06444">Character::pour_into()</a>, <a class="el" href="player_8cpp_source.html#l02383">player::unwield()</a>, and <a class="el" href="player_8cpp_source.html#l03824">player::wield_contents()</a>.</p>

</div>
</div>
<a id="a6632e04576710c1d9ee979850958e63c" name="a6632e04576710c1d9ee979850958e63c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6632e04576710c1d9ee979850958e63c">&#9670;&nbsp;</a></span>update_cache_with_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::update_cache_with_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>newit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00252">252</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>{</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    <span class="comment">// This function does two things:</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    <span class="comment">// 1. It adds newit&#39;s invlet to the list of favorite letters for newit&#39;s item type.</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    <span class="comment">// 2. It removes newit&#39;s invlet from the list of favorite letters for all other item types.</span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span> </div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    <span class="comment">// no invlet item, just return.</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <span class="comment">// TODO: Should we instead remember that the invlet was cleared?</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    <span class="keywordflow">if</span>( newit.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a> == 0 ) {</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    }</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span> </div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    <a class="code hl_variable" href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">invlet_cache</a>.<a class="code hl_function" href="classinvlet__favorites.html#a0b5e033b4b47c7b5024450dc2a671785">set</a>( newit.<a class="code hl_variable" href="classitem.html#af38d78ce6d128f6c7a1999b7f9e00965">invlet</a>, newit.<a class="code hl_function" href="classitem.html#aa79dad64e1ef6347219be2f8666e2752">typeId</a>() );</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>}</div>
<div class="ttc" id="aclassinvlet__favorites_html_a0b5e033b4b47c7b5024450dc2a671785"><div class="ttname"><a href="classinvlet__favorites.html#a0b5e033b4b47c7b5024450dc2a671785">invlet_favorites::set</a></div><div class="ttdeci">void set(char invlet, const itype_id &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00086">inventory.cpp:86</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02232">item::invlet</a>, <a class="el" href="inventory_8h_source.html#l00247">invlet_cache</a>, <a class="el" href="inventory_8cpp_source.html#l00086">invlet_favorites::set()</a>, and <a class="el" href="item_8cpp_source.html#l08217">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00285">add_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00337">add_item_by_items_type_cache()</a>, <a class="el" href="inventory_8cpp_source.html#l01202">reassign_item()</a>, <a class="el" href="character_8cpp_source.html#l02181">Character::wear_item()</a>, <a class="el" href="avatar_8cpp_source.html#l01182">avatar::wield()</a>, and <a class="el" href="player_8cpp_source.html#l03824">player::wield_contents()</a>.</p>

</div>
</div>
<a id="a4814b0d8a4fe394998ba690fb19a1d16" name="a4814b0d8a4fe394998ba690fb19a1d16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4814b0d8a4fe394998ba690fb19a1d16">&#9670;&nbsp;</a></span>update_invlet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::update_invlet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>assign_invlet</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01214">1214</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>{</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>    <span class="comment">// Avoid letters that have been manually assigned to other things.</span></div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>    <span class="keywordflow">if</span>( newit.invlet &amp;&amp; <a class="code hl_variable" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a>.find( newit.invlet ) != <a class="code hl_variable" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a>.end() &amp;&amp;</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>        <a class="code hl_variable" href="classinventory.html#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">assigned_invlet</a>[newit.invlet] != newit.typeId() ) {</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>        newit.invlet = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>    }</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span> </div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>    <span class="comment">// Remove letters that are not in the favorites cache</span></div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>    <span class="keywordflow">if</span>( newit.invlet ) {</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classinventory.html#ab2ef1a3c297246e94093b7741cf721a5">invlet_cache</a>.<a class="code hl_function" href="classinvlet__favorites.html#a753803f21462fcbb5ec11fadb5d6ff3a">contains</a>( newit.invlet, newit.typeId() ) ) {</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>            newit.invlet = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>        }</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>    }</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span> </div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>    <span class="comment">// Remove letters that have been assigned to other items in the inventory</span></div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>    <span class="keywordflow">if</span>( newit.invlet ) {</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>        <span class="keywordtype">char</span> tmp_invlet = newit.invlet;</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>        newit.invlet = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.invlet_to_item( tmp_invlet ) == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>            newit.invlet = tmp_invlet;</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>        }</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>    }</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span> </div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>    <span class="keywordflow">if</span>( assign_invlet ) {</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>        <span class="comment">// Assign a cached letter to the item</span></div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>        <span class="keywordflow">if</span>( !newit.invlet ) {</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>            newit.invlet = <a class="code hl_function" href="classinventory.html#addb070dde1f49b79a5edd46f369ba034">find_usable_cached_invlet</a>( newit.typeId() );</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>        }</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span> </div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>        <span class="comment">// Give the item an invlet if it has none</span></div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>        <span class="keywordflow">if</span>( !newit.invlet ) {</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>            <a class="code hl_function" href="classinventory.html#aaad56f923ec6824aadf028d8ba1ba89d">assign_empty_invlet</a>( newit, <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u );</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>        }</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>    }</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>}</div>
<div class="ttc" id="aclassinventory_html_addb070dde1f49b79a5edd46f369ba034"><div class="ttname"><a href="classinventory.html#addb070dde1f49b79a5edd46f369ba034">inventory::find_usable_cached_invlet</a></div><div class="ttdeci">char find_usable_cached_invlet(const itype_id &amp;item_type)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00267">inventory.cpp:267</a></div></div>
<div class="ttc" id="aclassinvlet__favorites_html_a753803f21462fcbb5ec11fadb5d6ff3a"><div class="ttname"><a href="classinvlet__favorites.html#a753803f21462fcbb5ec11fadb5d6ff3a">invlet_favorites::contains</a></div><div class="ttdeci">bool contains(char invlet, const itype_id &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00110">inventory.cpp:110</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8cpp_source.html#l01148">assign_empty_invlet()</a>, <a class="el" href="inventory_8h_source.html#l00099">assigned_invlet</a>, <a class="el" href="inventory_8cpp_source.html#l00110">invlet_favorites::contains()</a>, <a class="el" href="inventory_8cpp_source.html#l00267">find_usable_cached_invlet()</a>, <a class="el" href="game_8cpp_source.html#l00272">g</a>, <a class="el" href="item_8h_source.html#l02232">item::invlet</a>, <a class="el" href="inventory_8h_source.html#l00247">invlet_cache</a>, and <a class="el" href="item_8cpp_source.html#l08217">item::typeId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00285">add_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00337">add_item_by_items_type_cache()</a>, <a class="el" href="character_8cpp_source.html#l02181">Character::wear_item()</a>, <a class="el" href="avatar_8cpp_source.html#l01182">avatar::wield()</a>, and <a class="el" href="player_8cpp_source.html#l03824">player::wield_contents()</a>.</p>

</div>
</div>
<a id="a79cb9c4b64211bd61c09106ce58db8fd" name="a79cb9c4b64211bd61c09106ce58db8fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79cb9c4b64211bd61c09106ce58db8fd">&#9670;&nbsp;</a></span>update_quality_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void inventory::update_quality_cache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01114">1114</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>{</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>    <a class="code hl_variable" href="classinventory.html#a35f54355346fc68c4fc3044ac74cd8e5">quality_cache</a>.clear();</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>    <a class="code hl_function" href="classvisitable.html#a0a76a71d6a905414cc81236e86a7e649">visit_items</a>( [ <span class="keyword">this</span> ]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> * e ) {</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>        <span class="keyword">const</span> std::map&lt;quality_id, int&gt; &amp;item_qualities = e-&gt;<a class="code hl_function" href="classitem.html#a0b5e2bad3b955a1f8da0ac2825785e34">get_qualities</a>();</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const quality_id, int&gt; &amp;<a class="code hl_struct" href="structquality.html">quality</a> : item_qualities ) {</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_typedef" href="pickup_8cpp.html#a0e89b8759b1d9911fd4632c9739dfd33">item_count</a> = e-&gt;<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ? e-&gt;<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> : 1;</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>            <span class="comment">// quality.first is the id of the quality, quality.second is the quality level</span></div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>            <span class="comment">// the value is the number of items with that quality level</span></div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>            <a class="code hl_variable" href="classinventory.html#a35f54355346fc68c4fc3044ac74cd8e5">quality_cache</a>[<a class="code hl_struct" href="structquality.html">quality</a>.first][<a class="code hl_struct" href="structquality.html">quality</a>.second] += <a class="code hl_typedef" href="pickup_8cpp.html#a0e89b8759b1d9911fd4632c9739dfd33">item_count</a>;</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>        }</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">VisitResponse::NEXT</a>;</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>    } );</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>}</div>
<div class="ttc" id="aclassitem_html_a0b5e2bad3b955a1f8da0ac2825785e34"><div class="ttname"><a href="classitem.html#a0b5e2bad3b955a1f8da0ac2825785e34">item::get_qualities</a></div><div class="ttdeci">std::map&lt; quality_id, int &gt; get_qualities() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05340">item.cpp:5340</a></div></div>
<div class="ttc" id="aclassitem_html_a40963a016376016eb408bdb9dbb94388"><div class="ttname"><a href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a></div><div class="ttdeci">bool count_by_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05876">item.cpp:5876</a></div></div>
<div class="ttc" id="apickup_8cpp_html_a0e89b8759b1d9911fd4632c9739dfd33"><div class="ttname"><a href="pickup_8cpp.html#a0e89b8759b1d9911fd4632c9739dfd33">item_count</a></div><div class="ttdeci">std::pair&lt; item, int &gt; item_count</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8cpp_source.html#l00063">pickup.cpp:63</a></div></div>
<div class="ttc" id="astructquality_html"><div class="ttname"><a href="structquality.html">quality</a></div><div class="ttdef"><b>Definition:</b> <a href="requirements_8h_source.html#l00044">requirements.h:44</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="item_8h_source.html#l02195">item::charges</a>, <a class="el" href="item_8cpp_source.html#l05876">item::count_by_charges()</a>, <a class="el" href="item_8cpp_source.html#l05340">item::get_qualities()</a>, <a class="el" href="visitable_8h.html#aa872f25fbac30cbf9e03c0153587613da47559fb833ff58321570e5e877b467f6">NEXT</a>, <a class="el" href="inventory_8h_source.html#l00252">quality_cache</a>, and <a class="el" href="visitable_8cpp_source.html#l00422">visitable&lt; inventory &gt;::visit_items()</a>.</p>

<p class="reference">Referenced by <a class="el" href="crafting_8cpp_source.html#l00558">Character::crafting_inventory()</a>.</p>

</div>
</div>
<a id="a1c58fd92b8aa4ce4d95b361d7a97f208" name="a1c58fd92b8aa4ce4d95b361d7a97f208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c58fd92b8aa4ce4d95b361d7a97f208">&#9670;&nbsp;</a></span>use_amount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; <a class="el" href="classitem.html">item</a> &gt; inventory::use_amount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const <a class="el" href="classitem.html">item</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>filter</em> = <code><a class="el" href="filter__utils_8h.html#aa6ac81d787f3b4487db5466bc44bb409">return_true</a>&lt;<a class="el" href="classitem.html">item</a>&gt;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00852">852</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>{</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.sort( <a class="code hl_function" href="inventory_8cpp.html#ae219ebd7bf82ef7ea5d9c0684c39cbf7">stack_compare</a> );</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    std::list&lt;item&gt; <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>    <span class="keywordflow">for</span>( invstack::iterator iter = <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.begin(); iter != <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.end() &amp;&amp; quantity &gt; 0; <span class="comment">/* noop */</span> ) {</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>        <span class="keywordflow">for</span>( std::list&lt;item&gt;::iterator stack_iter = iter-&gt;begin();</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>             stack_iter != iter-&gt;end() &amp;&amp; quantity &gt; 0;</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>             <span class="comment">/* noop */</span> ) {</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>            <span class="keywordflow">if</span>( stack_iter-&gt;use_amount( it, quantity, <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>, filter ) ) {</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>                stack_iter = iter-&gt;erase( stack_iter );</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>                ++stack_iter;</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>            }</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>        }</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>        <span class="keywordflow">if</span>( iter-&gt;empty() ) {</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>            <a class="code hl_variable" href="classinventory.html#ad82feadf8429c99e5184064fc21a7a54">binned</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>            <a class="code hl_variable" href="classinventory.html#a18bd56efb8f82281bb439851619c296a">items_type_cached</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>            iter = <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.erase( iter );</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( iter != <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>.end() ) {</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>            ++iter;</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>        }</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    }</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00255">binned</a>, <a class="el" href="inventory_8h_source.html#l00250">items</a>, <a class="el" href="inventory_8h_source.html#l00254">items_type_cached</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, and <a class="el" href="inventory_8cpp_source.html#l00232">stack_compare()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l09626">Character::use_amount()</a>.</p>

</div>
</div>
<a id="aec6a20058fa80f78b727c3524f9a8fb1" name="aec6a20058fa80f78b727c3524f9a8fb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec6a20058fa80f78b727c3524f9a8fb1">&#9670;&nbsp;</a></span>volume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> inventory::volume </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01057">1057</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>{</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = 0_ml;</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem_stack_iter : elem ) {</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += elem_stack_iter.volume();</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>        }</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>    }</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l02887">Character::can_pick_volume()</a>, <a class="el" href="item_8cpp_source.html#l05663">item::get_encumber()</a>, <a class="el" href="inventory_8cpp_source.html#l00755">remove_randomly_by_volume()</a>, <a class="el" href="character_8cpp_source.html#l02724">Character::volume_carried()</a>, <a class="el" href="character_8cpp_source.html#l02798">Character::volume_carried_reduced_by()</a>, and <a class="el" href="inventory_8cpp_source.html#l01068">volume_without()</a>.</p>

</div>
</div>
<a id="af8f2945bd7e1ac669f6d4d3499a66c4f" name="af8f2945bd7e1ac669f6d4d3499a66c4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8f2945bd7e1ac669f6d4d3499a66c4f">&#9670;&nbsp;</a></span>volume_without()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#a5d16607c866588620acb381e7dbbf0a6">units::volume</a> inventory::volume_without </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="inventory_8h.html#ac8f227bff9aca2b1d23d4cbfcc331e21">excluded_stacks</a> &amp;&#160;</td>
          <td class="paramname"><em>without</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01068">1068</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>{</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="classinventory.html#aec6a20058fa80f78b727c3524f9a8fb1">volume</a>();</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span> </div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>    <a class="code hl_function" href="inventory_8cpp.html#af95775da552facfa9248d88c998de41d">for_each_item_in_both</a>( <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>, without,</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>    [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; i ) {</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> -= i.<a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>();</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>    }</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>                         );</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span> </div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> &lt; 0_ml ) {</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Negative volume after removing some of inventory&quot;</span> );</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = 0_ml;</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>    }</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span> </div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>}</div>
<div class="ttc" id="aclassitem_html_a51eafbdf8b331d88b741c0c527f98eb9"><div class="ttname"><a href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">item::volume</a></div><div class="ttdeci">units::volume volume(bool integral=false) const</div><div class="ttdoc">Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to n...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05012">item.cpp:5012</a></div></div>
<div class="ttc" id="ainventory_8cpp_html_af95775da552facfa9248d88c998de41d"><div class="ttname"><a href="inventory_8cpp.html#af95775da552facfa9248d88c998de41d">for_each_item_in_both</a></div><div class="ttdeci">void for_each_item_in_both(const invstack &amp;items, const std::map&lt; const item *, int &gt; &amp;other, const F &amp;f)</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l01008">inventory.cpp:1008</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="inventory_8cpp_source.html#l01008">for_each_item_in_both()</a>, <a class="el" href="inventory_8h_source.html#l00250">items</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="inventory_8cpp_source.html#l01057">volume()</a>, and <a class="el" href="item_8cpp_source.html#l05012">item::volume()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l02798">Character::volume_carried_reduced_by()</a>.</p>

</div>
</div>
<a id="a827410aeab7a7e7c74bc4adb5bf616ea" name="a827410aeab7a7e7c74bc4adb5bf616ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a827410aeab7a7e7c74bc4adb5bf616ea">&#9670;&nbsp;</a></span>weight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> inventory::weight </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00994">994</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>{</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::mass</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = 0_gram;</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem_stack_iter : elem ) {</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> += elem_stack_iter.weight();</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>        }</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>    }</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>, and <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l03664">Character::get_weight()</a>, and <a class="el" href="inventory_8cpp_source.html#l01039">weight_without()</a>.</p>

</div>
</div>
<a id="ab4ddfe3617698980e19d636a6a74097a" name="ab4ddfe3617698980e19d636a6a74097a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4ddfe3617698980e19d636a6a74097a">&#9670;&nbsp;</a></span>weight_without()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunits.html#af4f3159f510e2b4372187d8fb4746e23">units::mass</a> inventory::weight_without </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="inventory_8h.html#ac8f227bff9aca2b1d23d4cbfcc331e21">excluded_stacks</a> &amp;&#160;</td>
          <td class="paramname"><em>without</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l01039">1039</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>{</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::mass</a> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = <a class="code hl_function" href="classinventory.html#a827410aeab7a7e7c74bc4adb5bf616ea">weight</a>();</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span> </div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>    <a class="code hl_function" href="inventory_8cpp.html#af95775da552facfa9248d88c998de41d">for_each_item_in_both</a>( <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a>, without,</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>    [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; i ) {</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> -= i.<a class="code hl_function" href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">weight</a>();</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>    }</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>                         );</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span> </div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> &lt; 0_gram ) {</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Negative mass after removing some of inventory&quot;</span> );</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>        <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a> = {};</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>    }</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span> </div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>}</div>
<div class="ttc" id="aclassinventory_html_a827410aeab7a7e7c74bc4adb5bf616ea"><div class="ttname"><a href="classinventory.html#a827410aeab7a7e7c74bc4adb5bf616ea">inventory::weight</a></div><div class="ttdeci">units::mass weight() const</div><div class="ttdef"><b>Definition:</b> <a href="inventory_8cpp_source.html#l00994">inventory.cpp:994</a></div></div>
<div class="ttc" id="aclassitem_html_a3157f01f1da6fe89bdbc87db2605afb9"><div class="ttname"><a href="classitem.html#a3157f01f1da6fe89bdbc87db2605afb9">item::weight</a></div><div class="ttdeci">units::mass weight(bool include_contents=true, bool integral=false) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04865">item.cpp:4865</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="inventory_8cpp_source.html#l01008">for_each_item_in_both()</a>, <a class="el" href="inventory_8h_source.html#l00250">items</a>, <a class="el" href="hash__utils_8h_source.html#l00097">cata::hash64_detail::ret</a>, <a class="el" href="inventory_8cpp_source.html#l00994">weight()</a>, and <a class="el" href="item_8cpp_source.html#l04865">item::weight()</a>.</p>

<p class="reference">Referenced by <a class="el" href="character_8cpp_source.html#l02750">Character::weight_carried_reduced_by()</a>.</p>

</div>
</div>
<a id="aea85b6a2464a8c73336f2227748adfc5" name="aea85b6a2464a8c73336f2227748adfc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea85b6a2464a8c73336f2227748adfc5">&#9670;&nbsp;</a></span>worst_item_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int inventory::worst_item_value </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnpc.html">npc</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8cpp_source.html#l00914">914</a> of file <a class="el" href="inventory_8cpp_source.html">inventory.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>{</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>    <span class="keywordtype">int</span> worst = 99999;</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : <a class="code hl_variable" href="classinventory.html#ad90c7cdc1166330628541c9779681c9c">items</a> ) {</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>        <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it = elem.front();</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>        <span class="keywordtype">int</span> val = p-&gt;<a class="code hl_function" href="classnpc.html#aacc40fddec055d1f5c46104ba99bbbb9">value</a>( it );</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>        <span class="keywordflow">if</span>( val &lt; worst ) {</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>            worst = val;</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>        }</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>    }</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>    <span class="keywordflow">return</span> worst;</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>}</div>
<div class="ttc" id="aclassnpc_html_aacc40fddec055d1f5c46104ba99bbbb9"><div class="ttname"><a href="classnpc.html#aacc40fddec055d1f5c46104ba99bbbb9">npc::value</a></div><div class="ttdeci">int value(const item &amp;it) const</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l01738">npc.cpp:1738</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="inventory_8h_source.html#l00250">items</a>, and <a class="el" href="npc_8cpp_source.html#l01738">npc::value()</a>.</p>

<p class="reference">Referenced by <a class="el" href="npc_8cpp_source.html#l01728">npc::update_worst_item_value()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a72e5a1a88b44c6e5fc1bdbdbb5e855a7" name="a72e5a1a88b44c6e5fc1bdbdbb5e855a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72e5a1a88b44c6e5fc1bdbdbb5e855a7">&#9670;&nbsp;</a></span>assigned_invlet</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;char, <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>&gt; inventory::assigned_invlet</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00099">99</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l01148">assign_empty_invlet()</a>, <a class="el" href="inventory_8cpp_source.html#l01289">copy_invlet_of()</a>, <a class="el" href="inventory_8cpp_source.html#l00267">find_usable_cached_invlet()</a>, <a class="el" href="character_8cpp_source.html#l02321">Character::i_add()</a>, <a class="el" href="savegame__json_8cpp_source.html#l01025">avatar::load()</a>, <a class="el" href="player_8cpp_source.html#l03131">player::reassign_item()</a>, <a class="el" href="savegame__json_8cpp_source.html#l00965">avatar::store()</a>, and <a class="el" href="inventory_8cpp_source.html#l01214">update_invlet()</a>.</p>

</div>
</div>
<a id="ad82feadf8429c99e5184064fc21a7a54" name="ad82feadf8429c99e5184064fc21a7a54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad82feadf8429c99e5184064fc21a7a54">&#9670;&nbsp;</a></span>binned</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inventory::binned = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00255">255</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00285">add_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00337">add_item_by_items_type_cache()</a>, <a class="el" href="inventory_8cpp_source.html#l00237">clear()</a>, <a class="el" href="inventory_8cpp_source.html#l01270">get_binned_items()</a>, <a class="el" href="inventory_8cpp_source.html#l00692">reduce_stack()</a>, <a class="el" href="inventory_8cpp_source.html#l00715">remove_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00755">remove_randomly_by_volume()</a>, <a class="el" href="inventory_8cpp_source.html#l00398">restack()</a>, <a class="el" href="inventory_8cpp_source.html#l00226">unsort()</a>, and <a class="el" href="inventory_8cpp_source.html#l00852">use_amount()</a>.</p>

</div>
</div>
<a id="ac3ec6a121fe8dc7cf8155835245f7dc8" name="ac3ec6a121fe8dc7cf8155835245f7dc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3ec6a121fe8dc7cf8155835245f7dc8">&#9670;&nbsp;</a></span>binned_items</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="inventory_8h.html#a533f054f56e1c2f1ac14a167db55a569">itype_bin</a> inventory::binned_items</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Items binned by their type. </p>
<p >That is, item_bin["carrot"] is a list of pointers to all carrots in inventory. <code>mutable</code> because this is a pure cache that doesn't affect the contained items. </p>

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00261">261</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l01270">get_binned_items()</a>.</p>

</div>
</div>
<a id="ab2ef1a3c297246e94093b7741cf721a5" name="ab2ef1a3c297246e94093b7741cf721a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2ef1a3c297246e94093b7741cf721a5">&#9670;&nbsp;</a></span>invlet_cache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classinvlet__favorites.html">invlet_favorites</a> inventory::invlet_cache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00247">247</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l01289">copy_invlet_of()</a>, <a class="el" href="inventory_8cpp_source.html#l00267">find_usable_cached_invlet()</a>, <a class="el" href="inventory_8cpp_source.html#l01202">reassign_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00252">update_cache_with_item()</a>, and <a class="el" href="inventory_8cpp_source.html#l01214">update_invlet()</a>.</p>

</div>
</div>
<a id="ad90c7cdc1166330628541c9779681c9c" name="ad90c7cdc1166330628541c9779681c9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad90c7cdc1166330628541c9779681c9c">&#9670;&nbsp;</a></span>items</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="inventory_8h.html#afc81687955ea7764f1c3a118dde35cbb">invstack</a> inventory::items</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00250">250</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l01086">active_items()</a>, <a class="el" href="inventory_8cpp_source.html#l00285">add_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00337">add_item_by_items_type_cache()</a>, <a class="el" href="inventory_8cpp_source.html#l01258">allocated_invlets()</a>, <a class="el" href="inventory_8cpp_source.html#l01148">assign_empty_invlet()</a>, <a class="el" href="inventory_8cpp_source.html#l00327">build_items_type_cache()</a>, <a class="el" href="action_8cpp_source.html#l00542">can_butcher_at()</a>, <a class="el" href="inventory_8cpp_source.html#l00237">clear()</a>, <a class="el" href="inventory_8cpp_source.html#l00142">const_slice()</a>, <a class="el" href="inventory_8cpp_source.html#l00151">const_stack()</a>, <a class="el" href="inventory_8cpp_source.html#l01134">count_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00788">dump()</a>, <a class="el" href="inventory_8cpp_source.html#l00797">find_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00508">form_from_map()</a>, <a class="el" href="inventory_8cpp_source.html#l01099">get_active_enchantment_cache()</a>, <a class="el" href="inventory_8cpp_source.html#l00927">has_enough_painkiller()</a>, <a class="el" href="inventory_8cpp_source.html#l00814">invlet_to_position()</a>, <a class="el" href="inventory_8cpp_source.html#l00896">leak_level()</a>, <a class="el" href="inventory_8cpp_source.html#l00940">most_appropriate_painkiller()</a>, <a class="el" href="inventory_8cpp_source.html#l00826">position_by_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00840">position_by_type()</a>, <a class="el" href="inventory_8cpp_source.html#l00692">reduce_stack()</a>, <a class="el" href="inventory_8cpp_source.html#l00729">remove_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00755">remove_randomly_by_volume()</a>, <a class="el" href="inventory_8cpp_source.html#l00398">restack()</a>, <a class="el" href="inventory_8cpp_source.html#l00967">rust_iron_items()</a>, <a class="el" href="inventory_8cpp_source.html#l01251">set_stack_favorite()</a>, <a class="el" href="inventory_8cpp_source.html#l00166">size()</a>, <a class="el" href="inventory_8cpp_source.html#l00133">slice()</a>, <a class="el" href="inventory_8cpp_source.html#l00852">use_amount()</a>, <a class="el" href="inventory_8cpp_source.html#l01057">volume()</a>, <a class="el" href="inventory_8cpp_source.html#l01068">volume_without()</a>, <a class="el" href="inventory_8cpp_source.html#l00994">weight()</a>, <a class="el" href="inventory_8cpp_source.html#l01039">weight_without()</a>, and <a class="el" href="inventory_8cpp_source.html#l00914">worst_item_value()</a>.</p>

</div>
</div>
<a id="a61a52596eef24ea4b326e2940485b3bf" name="a61a52596eef24ea4b326e2940485b3bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61a52596eef24ea4b326e2940485b3bf">&#9670;&nbsp;</a></span>items_type_cache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, std::list&lt;std::list&lt;<a class="el" href="classitem.html">item</a>&gt;*&gt; &gt; inventory::items_type_cache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00251">251</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00337">add_item_by_items_type_cache()</a>, and <a class="el" href="inventory_8cpp_source.html#l00327">build_items_type_cache()</a>.</p>

</div>
</div>
<a id="a18bd56efb8f82281bb439851619c296a" name="a18bd56efb8f82281bb439851619c296a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18bd56efb8f82281bb439851619c296a">&#9670;&nbsp;</a></span>items_type_cached</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool inventory::items_type_cached = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00254">254</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l00285">add_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00337">add_item_by_items_type_cache()</a>, <a class="el" href="inventory_8cpp_source.html#l00327">build_items_type_cache()</a>, <a class="el" href="inventory_8cpp_source.html#l00237">clear()</a>, <a class="el" href="inventory_8cpp_source.html#l00692">reduce_stack()</a>, <a class="el" href="inventory_8cpp_source.html#l00715">remove_item()</a>, <a class="el" href="inventory_8cpp_source.html#l00755">remove_randomly_by_volume()</a>, <a class="el" href="inventory_8cpp_source.html#l00398">restack()</a>, <a class="el" href="inventory_8cpp_source.html#l00226">unsort()</a>, and <a class="el" href="inventory_8cpp_source.html#l00852">use_amount()</a>.</p>

</div>
</div>
<a id="a35f54355346fc68c4fc3044ac74cd8e5" name="a35f54355346fc68c4fc3044ac74cd8e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35f54355346fc68c4fc3044ac74cd8e5">&#9670;&nbsp;</a></span>quality_cache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="type__id_8h.html#a462e78d510851b30d4f5795c409c7467">quality_id</a>, std::map&lt;int, int&gt; &gt; inventory::quality_cache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00252">252</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="inventory_8cpp_source.html#l01129">get_quality_cache()</a>, and <a class="el" href="inventory_8cpp_source.html#l01114">update_quality_cache()</a>.</p>

</div>
</div>
<a id="aba3440bcc3065df3ae1f7f0db0210af5" name="aba3440bcc3065df3ae1f7f0db0210af5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba3440bcc3065df3ae1f7f0db0210af5">&#9670;&nbsp;</a></span>visitable&lt; inventory &gt;</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend inventory::visitable&lt; <a class="el" href="classinventory.html">inventory</a> &gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="inventory_8h_source.html#l00092">92</a> of file <a class="el" href="inventory_8h_source.html">inventory.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="inventory_8h_source.html">inventory.h</a></li>
<li>src/<a class="el" href="inventory_8cpp_source.html">inventory.cpp</a></li>
<li>src/<a class="el" href="savegame__json_8cpp_source.html">savegame_json.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classinventory.html">inventory</a></li>
    <li class="footer">Generated on Sat Oct 15 2022 20:02:33 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
