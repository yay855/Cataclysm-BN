<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: src/activity_handlers.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('activity__handlers_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">activity_handlers.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;functional&gt;</code><br />
<code>#include &lt;list&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;unordered_set&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;<a class="el" href="optional_8h_source.html">optional.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="type__id_8h_source.html">type_id.h</a>&quot;</code><br />
</div>
<p><a href="activity__handlers_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structactivity__reason__info.html">activity_reason_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbutchery__setup.html">butchery_setup</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceactivity__handlers"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html">activity_handlers</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespaceactivity__handlers_1_1repair__activity__hack"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers_1_1repair__activity__hack.html">activity_handlers::repair_activity_hack</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1eaf4ee55409f0428c481c9b50246660"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#a1eaf4ee55409f0428c481c9b50246660">CATA_SRC_ACTIVITY_HANDLERS_H</a></td></tr>
<tr class="separator:a1eaf4ee55409f0428c481c9b50246660"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a2cf8ad8704e57889e58223fb5609d7b2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#a2cf8ad8704e57889e58223fb5609d7b2">requirement_check_result</a> : int { <a class="el" href="activity__handlers_8h.html#a2cf8ad8704e57889e58223fb5609d7b2a882a3852685e8a07c2c845af5bc94815">SKIP_LOCATION</a> = 0
, <a class="el" href="activity__handlers_8h.html#a2cf8ad8704e57889e58223fb5609d7b2ad14a7210a88cd8680e99953de01ff322">CAN_DO_LOCATION</a>
, <a class="el" href="activity__handlers_8h.html#a2cf8ad8704e57889e58223fb5609d7b2af041676998adbc486b01d93023cb6978">RETURN_EARLY</a>
 }</td></tr>
<tr class="separator:a2cf8ad8704e57889e58223fb5609d7b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c785a0b9eb129639f10c4d6f48b49c1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1">butcher_type</a> : int { <br />
&#160;&#160;<a class="el" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1ac13438ce42e14a3a50fc1858528e3d42">BUTCHER</a>
, <a class="el" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1aea995e8faa4e4b8cd15a212e24108602">BUTCHER_FULL</a>
, <a class="el" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a7f7feb2ce2cfa0bf5c75c1a72c867d74">F_DRESS</a>
, <a class="el" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1ad420aa458d168109d8aceea0aa6193ab">SKIN</a>
, <br />
&#160;&#160;<a class="el" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a8dd9342a0e4fd716d2beb9961f5deeed">QUARTER</a>
, <a class="el" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1acfebd714efad0d668053120b59c25998">DISMEMBER</a>
, <a class="el" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a6919cf355956a5e2b193081486e19ab7">DISSECT</a>
<br />
 }</td></tr>
<tr class="separator:a9c785a0b9eb129639f10c4d6f48b49c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8548a48274a06c70c2ef9ee607d8b02"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02">do_activity_reason</a> : int { <br />
&#160;&#160;<a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a3da50daa2ab101773f862e36f60fc83b">CAN_DO_CONSTRUCTION</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02af4545b5034bca16908a3ca2e5d36e561">CAN_DO_FETCH</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02ae1b7ff33f7243594cf571d849e713e72">CAN_DO_PREREQ</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a435fbe7f4b024782f027c78c60d9911c">CAN_DO_PREREQ_2</a>
, <br />
&#160;&#160;<a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a8a970d6aac1a88238196df9f76dbb936">NO_COMPONENTS</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a9b2c0d4467c7bacc24d189b3836e67b4">NO_COMPONENTS_PREREQ</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a0d52f98b90d8d343596cc14e7e3cd165">NO_COMPONENTS_PREREQ_2</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a3717f8a9356e78428fc47eafc82952ba">DONT_HAVE_SKILL</a>
, <br />
&#160;&#160;<a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02ae0ca751541acc5c03da85f1bdfaf7381">NO_ZONE</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a262c70cc17c652f22b841bd342c43c15">ALREADY_DONE</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a3eb940520208feac8fca66c627004095">UNKNOWN_ACTIVITY</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02ac223b6dd767c18283d69443f6c3d2e65">NEEDS_HARVESTING</a>
, <br />
&#160;&#160;<a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a7e686404c3a888ef447af195a08ba272">NEEDS_PLANTING</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a93c46e32d63cf638ea4708e1cb5b13f0">NEEDS_TILLING</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02ab05fb3827218c475fb1468d60066e6ab">BLOCKING_TILE</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a5596d452f99bc0a2715578a0e8fbea0d">NEEDS_CHOPPING</a>
, <br />
&#160;&#160;<a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02aeb2d455ea0c07089a5292f9eb139decb">NEEDS_TREE_CHOPPING</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02ae4d79744aa8cf0727e83a8203d61ac16">NEEDS_BIG_BUTCHERING</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a152445d6cc1927304a0b6f3e00b72c21">NEEDS_BUTCHERING</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a058149efb2dc60bc613ebfc56ccfc05d">ALREADY_WORKING</a>
, <br />
&#160;&#160;<a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02af86d171ca957f2674cfc37e55b0a4cbf">NEEDS_VEH_DECONST</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a513b89ee8d15dc895def7fb92af1439e">NEEDS_VEH_REPAIR</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a20b4a3172c253d9ba613d7b89ec3b81a">NEEDS_MINING</a>
, <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a23e0c6680fe02718de4606c4e12ef70c">NEEDS_FISHING</a>
<br />
 }</td></tr>
<tr class="separator:ae8548a48274a06c70c2ef9ee607d8b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08dd09ef68bc61547f55f17bec54a15c"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15c">butchery_possibility</a> : int { <a class="el" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15caa6105c0a611b41b08f1209506350279e">yes</a> = 0
, <a class="el" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15cabf76092eefdd40065fff115fd922df4a">need_confirmation</a>
, <a class="el" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15cac7561db7a418dd39b2201dfe110ab4a4">never</a>
, <a class="el" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15ca4bb72b6fd6db308ce11ba2fc2897f84b">not_this</a>
 }</td></tr>
<tr class="separator:a08dd09ef68bc61547f55f17bec54a15c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3931cba30166834e066ef80c02d84611"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611">item_drop_reason</a> { <a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a38dd6f2bec3ea3b3cde92db954842bdb">deliberate</a>
, <a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a7a45a1d1bfe36a2c1205fbd1b450d80a">too_large</a>
, <a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611aff8308727957bfea9d0a143e9fc77e5e">too_heavy</a>
, <a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a5d678b593bf07d40cb146abdb74e5d51">tumbling</a>
 }</td></tr>
<tr class="separator:a3931cba30166834e066ef80c02d84611"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad56bc2a183ef33fafef613435a366c27"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#ad56bc2a183ef33fafef613435a366c27">get_sorted_tiles_by_distance</a> (const <a class="el" href="structtripoint.html">tripoint</a> &amp;abspos, const std::unordered_set&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;tiles)</td></tr>
<tr class="separator:ad56bc2a183ef33fafef613435a366c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a999ed86fc2f9b736a6cbf4b6f195c96c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#a999ed86fc2f9b736a6cbf4b6f195c96c">route_adjacent</a> (const <a class="el" href="classplayer.html">player</a> &amp;p, const <a class="el" href="structtripoint.html">tripoint</a> &amp;dest)</td></tr>
<tr class="separator:a999ed86fc2f9b736a6cbf4b6f195c96c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8466e2cb2a6024c0d344e5544ac54422"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbutchery__setup.html">butchery_setup</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#a8466e2cb2a6024c0d344e5544ac54422">consider_butchery</a> (const <a class="el" href="classitem.html">item</a> &amp;corpse_item, <a class="el" href="classplayer.html">player</a> &amp;u, <a class="el" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1">butcher_type</a> <a class="el" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>)</td></tr>
<tr class="separator:a8466e2cb2a6024c0d344e5544ac54422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab197546d87c39b70720af14982cbbd14"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#ab197546d87c39b70720af14982cbbd14">butcher_time_to_cut</a> (const <a class="el" href="classinventory.html">inventory</a> &amp;inv, const <a class="el" href="classitem.html">item</a> &amp;corpse_item, <a class="el" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1">butcher_type</a> <a class="el" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>)</td></tr>
<tr class="separator:ab197546d87c39b70720af14982cbbd14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fa9e42b952ac8bc9192c466f25359c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#a9fa9e42b952ac8bc9192c466f25359c3">activity_on_turn_drop</a> ()</td></tr>
<tr class="separator:a9fa9e42b952ac8bc9192c466f25359c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c5025eba31285e8abac02afab5079a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#a0c5025eba31285e8abac02afab5079a8">activity_on_turn_move_loot</a> (<a class="el" href="classplayer__activity.html">player_activity</a> &amp;<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> &amp;p)</td></tr>
<tr class="separator:a0c5025eba31285e8abac02afab5079a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0d3a380602c60330914da5c44b56b19"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#ae0d3a380602c60330914da5c44b56b19">generic_multi_activity_handler</a> (<a class="el" href="classplayer__activity.html">player_activity</a> &amp;<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> &amp;p, bool check_only=false)</td></tr>
<tr class="separator:ae0d3a380602c60330914da5c44b56b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b31c00f251de00f842ae2f362f2e05b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#a3b31c00f251de00f842ae2f362f2e05b">activity_on_turn_fetch</a> (<a class="el" href="classplayer__activity.html">player_activity</a> &amp;, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a3b31c00f251de00f842ae2f362f2e05b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a811557ac25cbf8515ef677b9dff061d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#a811557ac25cbf8515ef677b9dff061d8">activity_on_turn_wear</a> (<a class="el" href="classplayer__activity.html">player_activity</a> &amp;<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> &amp;p)</td></tr>
<tr class="separator:a811557ac25cbf8515ef677b9dff061d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab4d9965fb0cbf630cd17fd92ae115b1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#aab4d9965fb0cbf630cd17fd92ae115b1">find_auto_consume</a> (<a class="el" href="classplayer.html">player</a> &amp;p, bool food)</td></tr>
<tr class="separator:aab4d9965fb0cbf630cd17fd92ae115b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a32ef665b942c94079f45593d021901"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#a7a32ef665b942c94079f45593d021901">try_fuel_fire</a> (<a class="el" href="classplayer__activity.html">player_activity</a> &amp;<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> &amp;p, bool starting_fire=false)</td></tr>
<tr class="separator:a7a32ef665b942c94079f45593d021901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaffe872a8e49c99b600d61b6e1b4062e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#aaffe872a8e49c99b600d61b6e1b4062e">put_into_vehicle_or_drop</a> (<a class="el" href="classCharacter.html">Character</a> &amp;<a class="el" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>, <a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611">item_drop_reason</a>, const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;items)</td></tr>
<tr class="separator:aaffe872a8e49c99b600d61b6e1b4062e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc1d1e90ae5ecc1e900ecbbd8f18667c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#adc1d1e90ae5ecc1e900ecbbd8f18667c">put_into_vehicle_or_drop</a> (<a class="el" href="classCharacter.html">Character</a> &amp;<a class="el" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>, <a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611">item_drop_reason</a>, const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;items, const <a class="el" href="structtripoint.html">tripoint</a> &amp;where, bool force_ground=false)</td></tr>
<tr class="separator:adc1d1e90ae5ecc1e900ecbbd8f18667c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8187a46223fffe87a69ae5c289b1c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="activity__handlers_8h.html#a7a8187a46223fffe87a69ae5c289b1c5">drop_on_map</a> (<a class="el" href="classCharacter.html">Character</a> &amp;<a class="el" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>, <a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611">item_drop_reason</a> reason, const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;items, const <a class="el" href="structtripoint.html">tripoint</a> &amp;where)</td></tr>
<tr class="separator:a7a8187a46223fffe87a69ae5c289b1c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae599d01102633794fe4fe8cb23592d44"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ae599d01102633794fe4fe8cb23592d44">activity_handlers::resume_for_multi_activities</a> (<a class="el" href="classplayer.html">player</a> &amp;p)</td></tr>
<tr class="separator:ae599d01102633794fe4fe8cb23592d44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91e06f95a8d340c605653fbd349e6d22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a91e06f95a8d340c605653fbd349e6d22">activity_handlers::burrow_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="memdesc:a91e06f95a8d340c605653fbd349e6d22"><td class="mdescLeft">&#160;</td><td class="mdescRight">activity_do_turn functions:  <a href="namespaceactivity__handlers.html#a91e06f95a8d340c605653fbd349e6d22">More...</a><br /></td></tr>
<tr class="separator:a91e06f95a8d340c605653fbd349e6d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a049d5e37d9fcb8fe528059f9662d0b7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a049d5e37d9fcb8fe528059f9662d0b7a">activity_handlers::craft_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a049d5e37d9fcb8fe528059f9662d0b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa05f193716369c4291f98c4522e3c4f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#aa05f193716369c4291f98c4522e3c4f6">activity_handlers::fill_liquid_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:aa05f193716369c4291f98c4522e3c4f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa303269614d2e4cb8096e57fedbd56a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#aa303269614d2e4cb8096e57fedbd56a8">activity_handlers::pickaxe_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:aa303269614d2e4cb8096e57fedbd56a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc0a4d4e8dc6bfe6b167a1d3f96a823d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#acc0a4d4e8dc6bfe6b167a1d3f96a823d">activity_handlers::drop_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:acc0a4d4e8dc6bfe6b167a1d3f96a823d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52b54af3525051c4b18183f8a3c3a861"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a52b54af3525051c4b18183f8a3c3a861">activity_handlers::stash_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a52b54af3525051c4b18183f8a3c3a861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3368882d01c71d746f0a44c00d355829"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a3368882d01c71d746f0a44c00d355829">activity_handlers::pulp_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a3368882d01c71d746f0a44c00d355829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecdc51af1e4ceb1b6f8b16dfdaf06e4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#aecdc51af1e4ceb1b6f8b16dfdaf06e4b">activity_handlers::game_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:aecdc51af1e4ceb1b6f8b16dfdaf06e4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b4266bda76539da51adf2c142d4387"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a78b4266bda76539da51adf2c142d4387">activity_handlers::generic_game_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a78b4266bda76539da51adf2c142d4387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a283bcd86ffd804639be9969e480a3018"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a283bcd86ffd804639be9969e480a3018">activity_handlers::churn_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a283bcd86ffd804639be9969e480a3018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf2736c4e2a946370eda1d6b5046aebe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#aaf2736c4e2a946370eda1d6b5046aebe">activity_handlers::start_fire_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:aaf2736c4e2a946370eda1d6b5046aebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1230d22e6bc63eba5e98c8241dc7a954"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a1230d22e6bc63eba5e98c8241dc7a954">activity_handlers::vibe_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a1230d22e6bc63eba5e98c8241dc7a954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c0a500a5b6db3552fca88c394a9062"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ab6c0a500a5b6db3552fca88c394a9062">activity_handlers::hand_crank_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ab6c0a500a5b6db3552fca88c394a9062"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6eb30076d62498789fab8834392632a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#aa6eb30076d62498789fab8834392632a">activity_handlers::multiple_chop_planks_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:aa6eb30076d62498789fab8834392632a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af155c1ad98c3754a60f43b7bdf13466b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#af155c1ad98c3754a60f43b7bdf13466b">activity_handlers::oxytorch_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:af155c1ad98c3754a60f43b7bdf13466b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a976fd6dde2612b1574ecba5c1c265c1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a976fd6dde2612b1574ecba5c1c265c1c">activity_handlers::wear_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a976fd6dde2612b1574ecba5c1c265c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7660badcf7c37032ba3948df32ecc8f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a7660badcf7c37032ba3948df32ecc8f4">activity_handlers::eat_menu_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a7660badcf7c37032ba3948df32ecc8f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab347ee61c3ce30a4cd1ccd3d15bc641e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ab347ee61c3ce30a4cd1ccd3d15bc641e">activity_handlers::consume_food_menu_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ab347ee61c3ce30a4cd1ccd3d15bc641e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19a1d4fe51d9617d97be4bebddb7978b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a19a1d4fe51d9617d97be4bebddb7978b">activity_handlers::consume_drink_menu_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a19a1d4fe51d9617d97be4bebddb7978b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9852fcdf987b44b928eabf2ff1f34fd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a9852fcdf987b44b928eabf2ff1f34fd4">activity_handlers::consume_meds_menu_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a9852fcdf987b44b928eabf2ff1f34fd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86bcd383f12c995a1cc01177d4fbc580"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a86bcd383f12c995a1cc01177d4fbc580">activity_handlers::move_items_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a86bcd383f12c995a1cc01177d4fbc580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4464bbd615e2470359feecaf10d3d9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#aa4464bbd615e2470359feecaf10d3d9b">activity_handlers::multiple_farm_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:aa4464bbd615e2470359feecaf10d3d9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95c3633171cd0b4f5bee7e12c06c959e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a95c3633171cd0b4f5bee7e12c06c959e">activity_handlers::multiple_fish_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a95c3633171cd0b4f5bee7e12c06c959e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0761cbbe9dde9928f8df3a917c1c14b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ad0761cbbe9dde9928f8df3a917c1c14b">activity_handlers::multiple_construction_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ad0761cbbe9dde9928f8df3a917c1c14b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9af6f8fc76942d3a1b088a6c73f4ea95"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a9af6f8fc76942d3a1b088a6c73f4ea95">activity_handlers::multiple_mine_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a9af6f8fc76942d3a1b088a6c73f4ea95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9733a0ead7d4923d2c7aafcd3bbe2eb6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a9733a0ead7d4923d2c7aafcd3bbe2eb6">activity_handlers::multiple_butcher_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a9733a0ead7d4923d2c7aafcd3bbe2eb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6305c2c85d8ba0bce9179ea629626214"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a6305c2c85d8ba0bce9179ea629626214">activity_handlers::vehicle_deconstruction_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a6305c2c85d8ba0bce9179ea629626214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e67dd802832b367182cb2eb5f509fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a04e67dd802832b367182cb2eb5f509fa">activity_handlers::vehicle_repair_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a04e67dd802832b367182cb2eb5f509fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d163d15b63082d6810061f15032602a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a9d163d15b63082d6810061f15032602a">activity_handlers::chop_trees_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a9d163d15b63082d6810061f15032602a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfc764e558be0dc28e9c130081fbe6b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#abfc764e558be0dc28e9c130081fbe6b9">activity_handlers::fetch_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:abfc764e558be0dc28e9c130081fbe6b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad69d2155daefee7b342e69a8fa9a1448"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ad69d2155daefee7b342e69a8fa9a1448">activity_handlers::move_loot_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ad69d2155daefee7b342e69a8fa9a1448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a465dcd2e7829594375c2040313fd77b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a465dcd2e7829594375c2040313fd77b7">activity_handlers::travel_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a465dcd2e7829594375c2040313fd77b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5adf166d265eea7e82c6220fa2efeca7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a5adf166d265eea7e82c6220fa2efeca7">activity_handlers::adv_inventory_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a5adf166d265eea7e82c6220fa2efeca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96d48f2ca30d79e517554b0cae252f99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a96d48f2ca30d79e517554b0cae252f99">activity_handlers::armor_layers_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a96d48f2ca30d79e517554b0cae252f99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a687a90d899f0c5fd08ce7b79b7e3dbd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a687a90d899f0c5fd08ce7b79b7e3dbd1">activity_handlers::atm_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a687a90d899f0c5fd08ce7b79b7e3dbd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99e1073bb67d82ed67658f28397dafe0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a99e1073bb67d82ed67658f28397dafe0">activity_handlers::fish_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a99e1073bb67d82ed67658f28397dafe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f1fdf668db6be51654b622955efe055"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a5f1fdf668db6be51654b622955efe055">activity_handlers::cracking_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a5f1fdf668db6be51654b622955efe055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab505a354af181c0a9cb55204b8f16c0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ab505a354af181c0a9cb55204b8f16c0f">activity_handlers::repair_item_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ab505a354af181c0a9cb55204b8f16c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9ecace8d5b66302279916dc02054bb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ab9ecace8d5b66302279916dc02054bb7">activity_handlers::butcher_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ab9ecace8d5b66302279916dc02054bb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b617f280dc482fcbb050eb9e749ae45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a8b617f280dc482fcbb050eb9e749ae45">activity_handlers::pry_nails_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a8b617f280dc482fcbb050eb9e749ae45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57d7a373a69d6690c58986f424c43d06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a57d7a373a69d6690c58986f424c43d06">activity_handlers::hacksaw_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a57d7a373a69d6690c58986f424c43d06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de34613ec1b1f48380d6bfa1eb59541"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a5de34613ec1b1f48380d6bfa1eb59541">activity_handlers::chop_tree_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a5de34613ec1b1f48380d6bfa1eb59541"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0bc405947d8a469926a37864e1226e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ac0bc405947d8a469926a37864e1226e1">activity_handlers::jackhammer_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ac0bc405947d8a469926a37864e1226e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda9a48d266cd586ab081654a451fa4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#adda9a48d266cd586ab081654a451fa4c">activity_handlers::find_mount_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:adda9a48d266cd586ab081654a451fa4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fcf8f030899f270a6e1870dcf36323d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a5fcf8f030899f270a6e1870dcf36323d">activity_handlers::tidy_up_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a5fcf8f030899f270a6e1870dcf36323d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37dcfcccd9ce86c0cb0e179155fc3eb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a37dcfcccd9ce86c0cb0e179155fc3eb1">activity_handlers::build_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a37dcfcccd9ce86c0cb0e179155fc3eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83b19bb786f3b4135c19faf592b27814"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a83b19bb786f3b4135c19faf592b27814">activity_handlers::fill_pit_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a83b19bb786f3b4135c19faf592b27814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5926ba73ca7214e64f0e64f23de78b80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a5926ba73ca7214e64f0e64f23de78b80">activity_handlers::fertilize_plot_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a5926ba73ca7214e64f0e64f23de78b80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab47610c3ce1d29e37902b6d09145b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a7ab47610c3ce1d29e37902b6d09145b1">activity_handlers::try_sleep_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a7ab47610c3ce1d29e37902b6d09145b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab516f8f02a2da42a4041c33d2fc3bdc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ab516f8f02a2da42a4041c33d2fc3bdc2">activity_handlers::operation_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ab516f8f02a2da42a4041c33d2fc3bdc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68c009d69fded14f1f174ce0c1c9c5c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a68c009d69fded14f1f174ce0c1c9c5c9">activity_handlers::robot_control_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a68c009d69fded14f1f174ce0c1c9c5c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add28da720514f12a812ef879ef730b5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#add28da720514f12a812ef879ef730b5c">activity_handlers::tree_communion_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:add28da720514f12a812ef879ef730b5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc71e4bdafb981bc0fc06058bd00837b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#adc71e4bdafb981bc0fc06058bd00837b">activity_handlers::spellcasting_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:adc71e4bdafb981bc0fc06058bd00837b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1b4e380c730fb4f87ee03d90dd66fac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ad1b4e380c730fb4f87ee03d90dd66fac">activity_handlers::study_spell_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ad1b4e380c730fb4f87ee03d90dd66fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56d00563bbec192f1f6aeef47d52011d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a56d00563bbec192f1f6aeef47d52011d">activity_handlers::read_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a56d00563bbec192f1f6aeef47d52011d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adef6d8af9ae40fb41538c6e6321631ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#adef6d8af9ae40fb41538c6e6321631ec">activity_handlers::wait_stamina_do_turn</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:adef6d8af9ae40fb41538c6e6321631ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77ab2d13617aa58b9f52a12891916d60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a77ab2d13617aa58b9f52a12891916d60">activity_handlers::burrow_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="memdesc:a77ab2d13617aa58b9f52a12891916d60"><td class="mdescLeft">&#160;</td><td class="mdescRight">activity_finish functions:  <a href="namespaceactivity__handlers.html#a77ab2d13617aa58b9f52a12891916d60">More...</a><br /></td></tr>
<tr class="separator:a77ab2d13617aa58b9f52a12891916d60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37691f6506e5f3fec27f615821796b44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a37691f6506e5f3fec27f615821796b44">activity_handlers::butcher_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a37691f6506e5f3fec27f615821796b44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e120dfda9c19fc46fc2b83c37120e25"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a2e120dfda9c19fc46fc2b83c37120e25">activity_handlers::firstaid_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a2e120dfda9c19fc46fc2b83c37120e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69a53914f6e79aff9630846a6514c689"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a69a53914f6e79aff9630846a6514c689">activity_handlers::fish_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a69a53914f6e79aff9630846a6514c689"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bf213d111f6bcae0213960f15b00784"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a8bf213d111f6bcae0213960f15b00784">activity_handlers::forage_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a8bf213d111f6bcae0213960f15b00784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3256ce8c70aa022e77b2acffe184a805"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a3256ce8c70aa022e77b2acffe184a805">activity_handlers::hotwire_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a3256ce8c70aa022e77b2acffe184a805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31b2c35c9c3c968ddb57f08f42ee2aef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a31b2c35c9c3c968ddb57f08f42ee2aef">activity_handlers::longsalvage_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a31b2c35c9c3c968ddb57f08f42ee2aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a654b35e8a4f3d48b3ea5efbc1c3e1237"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a654b35e8a4f3d48b3ea5efbc1c3e1237">activity_handlers::pulp_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a654b35e8a4f3d48b3ea5efbc1c3e1237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cb5439f913aa1143306481408376491"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a1cb5439f913aa1143306481408376491">activity_handlers::make_zlave_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a1cb5439f913aa1143306481408376491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ea4d8b07e809d4aaa1757b0f716d722"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a1ea4d8b07e809d4aaa1757b0f716d722">activity_handlers::pickaxe_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a1ea4d8b07e809d4aaa1757b0f716d722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6732cf8984badc76d0bd11ac5ae583d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a6732cf8984badc76d0bd11ac5ae583d4">activity_handlers::reload_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a6732cf8984badc76d0bd11ac5ae583d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d3c978479a0e06e9641a86fd92b3ce8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a7d3c978479a0e06e9641a86fd92b3ce8">activity_handlers::start_fire_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a7d3c978479a0e06e9641a86fd92b3ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ca66238f894e2c53b83d5489032995e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a1ca66238f894e2c53b83d5489032995e">activity_handlers::train_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a1ca66238f894e2c53b83d5489032995e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b00db980d34e6cba146567e0d1ecda2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a8b00db980d34e6cba146567e0d1ecda2">activity_handlers::milk_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a8b00db980d34e6cba146567e0d1ecda2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc383da42a7224c55f5056b5287f157f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#abc383da42a7224c55f5056b5287f157f">activity_handlers::shear_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:abc383da42a7224c55f5056b5287f157f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcd64ea96ad01e7fe06c7282b91820d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#adcd64ea96ad01e7fe06c7282b91820d4">activity_handlers::vehicle_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:adcd64ea96ad01e7fe06c7282b91820d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f4577539f328498ce7eef12d8432cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a20f4577539f328498ce7eef12d8432cc">activity_handlers::start_engines_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a20f4577539f328498ce7eef12d8432cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7fd0f1776c20951819301b6ded2912e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ad7fd0f1776c20951819301b6ded2912e">activity_handlers::churn_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ad7fd0f1776c20951819301b6ded2912e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f813f5d224e874955ed901c4893ffaa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a0f813f5d224e874955ed901c4893ffaa">activity_handlers::plant_seed_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a0f813f5d224e874955ed901c4893ffaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70d14baa1cccd72c12f075ad421b8d32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a70d14baa1cccd72c12f075ad421b8d32">activity_handlers::oxytorch_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a70d14baa1cccd72c12f075ad421b8d32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1c445a69322a94b96147bfcf2bff1a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ae1c445a69322a94b96147bfcf2bff1a3">activity_handlers::cracking_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ae1c445a69322a94b96147bfcf2bff1a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeca7f48b6473c6b257d697695e89fea1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#aeca7f48b6473c6b257d697695e89fea1">activity_handlers::lockpicking_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:aeca7f48b6473c6b257d697695e89fea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1020b75bb4aafb454bfbbd71f941df8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ab1020b75bb4aafb454bfbbd71f941df8">activity_handlers::repair_item_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ab1020b75bb4aafb454bfbbd71f941df8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea030fde97ea6ef9d60439979c183c9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#aea030fde97ea6ef9d60439979c183c9b">activity_handlers::mend_item_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:aea030fde97ea6ef9d60439979c183c9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a8d3fa9f0cc7e49b6886eff4a4e59fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a4a8d3fa9f0cc7e49b6886eff4a4e59fd">activity_handlers::gunmod_add_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a4a8d3fa9f0cc7e49b6886eff4a4e59fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a888af867962d3ffed723aa60816ab298"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a888af867962d3ffed723aa60816ab298">activity_handlers::toolmod_add_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a888af867962d3ffed723aa60816ab298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a340ba24c83ed5360fc3373591c3e1532"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a340ba24c83ed5360fc3373591c3e1532">activity_handlers::clear_rubble_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a340ba24c83ed5360fc3373591c3e1532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad774c554b59d4e4c994e4ff3e795957b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ad774c554b59d4e4c994e4ff3e795957b">activity_handlers::meditate_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ad774c554b59d4e4c994e4ff3e795957b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade2e674abb802679bb8931db4e7252d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ade2e674abb802679bb8931db4e7252d0">activity_handlers::read_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ade2e674abb802679bb8931db4e7252d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4da1b64c96dc40b907fdd566406f283b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a4da1b64c96dc40b907fdd566406f283b">activity_handlers::wait_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a4da1b64c96dc40b907fdd566406f283b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a412e45e38ff9f4a141bf6647c531dd98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a412e45e38ff9f4a141bf6647c531dd98">activity_handlers::wait_weather_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a412e45e38ff9f4a141bf6647c531dd98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57ca1fcc1901af68d1fc4311debb1dd7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a57ca1fcc1901af68d1fc4311debb1dd7">activity_handlers::wait_npc_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a57ca1fcc1901af68d1fc4311debb1dd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f4a8cb6e4bb364223328beaed1abf63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a4f4a8cb6e4bb364223328beaed1abf63">activity_handlers::wait_stamina_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a4f4a8cb6e4bb364223328beaed1abf63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a648f0d81ef05dd52a1a91ca53db6637a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a648f0d81ef05dd52a1a91ca53db6637a">activity_handlers::socialize_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a648f0d81ef05dd52a1a91ca53db6637a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad38192fe374d13348d709d48d4cc6bd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ad38192fe374d13348d709d48d4cc6bd4">activity_handlers::try_sleep_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ad38192fe374d13348d709d48d4cc6bd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a144100c4d4617c0cc59a6207a23ceda4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a144100c4d4617c0cc59a6207a23ceda4">activity_handlers::operation_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a144100c4d4617c0cc59a6207a23ceda4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52d73cb62f421e8e12b7515b43eada59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a52d73cb62f421e8e12b7515b43eada59">activity_handlers::vibe_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a52d73cb62f421e8e12b7515b43eada59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac348e758c161e7a8e9558b7136335213"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ac348e758c161e7a8e9558b7136335213">activity_handlers::hand_crank_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ac348e758c161e7a8e9558b7136335213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021580bbf66aa9af009728d6ba75c5f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a021580bbf66aa9af009728d6ba75c5f4">activity_handlers::atm_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a021580bbf66aa9af009728d6ba75c5f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98206c8c16611b6389be770dd4126017"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a98206c8c16611b6389be770dd4126017">activity_handlers::eat_menu_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a98206c8c16611b6389be770dd4126017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6ad473fdfb1d2f5ff12b0bc98eae094"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ae6ad473fdfb1d2f5ff12b0bc98eae094">activity_handlers::washing_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ae6ad473fdfb1d2f5ff12b0bc98eae094"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cac53e3a20b2e0d59b5e1d6ec7fd9cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a6cac53e3a20b2e0d59b5e1d6ec7fd9cd">activity_handlers::hacksaw_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a6cac53e3a20b2e0d59b5e1d6ec7fd9cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42bf71e43377c295bd97423941a50d42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a42bf71e43377c295bd97423941a50d42">activity_handlers::pry_nails_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a42bf71e43377c295bd97423941a50d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7499883221b650e772fd5bd7be35d137"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a7499883221b650e772fd5bd7be35d137">activity_handlers::chop_tree_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a7499883221b650e772fd5bd7be35d137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6fa92f01b47bf34b16cd5cc6948c7ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ad6fa92f01b47bf34b16cd5cc6948c7ff">activity_handlers::chop_logs_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ad6fa92f01b47bf34b16cd5cc6948c7ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a126a09db8374b69f9996653161772e33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a126a09db8374b69f9996653161772e33">activity_handlers::chop_planks_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a126a09db8374b69f9996653161772e33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1a7620719b21442e763ce7242bf88ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ae1a7620719b21442e763ce7242bf88ec">activity_handlers::jackhammer_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ae1a7620719b21442e763ce7242bf88ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef4a236ea10a544e1ff2c981b46766d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#aef4a236ea10a544e1ff2c981b46766d7">activity_handlers::fill_pit_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:aef4a236ea10a544e1ff2c981b46766d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a689199d11ab82cdcc13dd9bce16dbea8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a689199d11ab82cdcc13dd9bce16dbea8">activity_handlers::play_with_pet_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a689199d11ab82cdcc13dd9bce16dbea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6aa42b6cafa838339c3027e54a297a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#af6aa42b6cafa838339c3027e54a297a8">activity_handlers::shaving_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:af6aa42b6cafa838339c3027e54a297a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab00281af61b1220a75902e6254266d57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#ab00281af61b1220a75902e6254266d57">activity_handlers::haircut_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:ab00281af61b1220a75902e6254266d57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fe24a22a1e2d1116e18b55cd066cec4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a1fe24a22a1e2d1116e18b55cd066cec4">activity_handlers::unload_mag_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a1fe24a22a1e2d1116e18b55cd066cec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b3a37278c3d5f0f707dd1922409a7e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a5b3a37278c3d5f0f707dd1922409a7e6">activity_handlers::robot_control_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a5b3a37278c3d5f0f707dd1922409a7e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb0539c26f66e980e549153dde4ca2fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#aeb0539c26f66e980e549153dde4ca2fa">activity_handlers::mind_splicer_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:aeb0539c26f66e980e549153dde4ca2fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaab9143f15b451c7d5928d09b722b5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#abaab9143f15b451c7d5928d09b722b5b">activity_handlers::spellcasting_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:abaab9143f15b451c7d5928d09b722b5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab1101e22eb2d3cee1022585ec999e5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#aab1101e22eb2d3cee1022585ec999e5b">activity_handlers::study_spell_finish</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:aab1101e22eb2d3cee1022585ec999e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f8c03aa5f28e60ff55d82f8b0daca8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a0f8c03aa5f28e60ff55d82f8b0daca8d">activity_handlers::try_sleep_query</a> (<a class="el" href="classplayer__activity.html">player_activity</a> *<a class="el" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>, <a class="el" href="classplayer.html">player</a> *p)</td></tr>
<tr class="separator:a0f8c03aa5f28e60ff55d82f8b0daca8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a06628fc3bbbfafb38b9b5b44e819d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers_1_1repair__activity__hack.html#a5a06628fc3bbbfafb38b9b5b44e819d3">activity_handlers::repair_activity_hack::patch_activity_for_vehicle_welder</a> (<a class="el" href="classplayer__activity.html">player_activity</a> &amp;activity, const <a class="el" href="structtripoint.html">tripoint</a> &amp;veh_part_position, const <a class="el" href="classvehicle.html">vehicle</a> &amp;veh, int interact_part_idx)</td></tr>
<tr class="separator:a5a06628fc3bbbfafb38b9b5b44e819d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3797595d4215a8977cd3c5a39f063b4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers_1_1repair__activity__hack.html#a3797595d4215a8977cd3c5a39f063b4e">activity_handlers::repair_activity_hack::patch_activity_for_furniture</a> (<a class="el" href="classplayer__activity.html">player_activity</a> &amp;activity, const <a class="el" href="structtripoint.html">tripoint</a> &amp;furniture_position)</td></tr>
<tr class="separator:a3797595d4215a8977cd3c5a39f063b4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0a459df933d8a4ce25ab5bb1193e4fd4"><td class="memItemLeft" align="right" valign="top">const std::map&lt; <a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>, std::function&lt; void(<a class="el" href="classplayer__activity.html">player_activity</a> *, <a class="el" href="classplayer.html">player</a> *)&gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a0a459df933d8a4ce25ab5bb1193e4fd4">activity_handlers::do_turn_functions</a></td></tr>
<tr class="separator:a0a459df933d8a4ce25ab5bb1193e4fd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06390f39000b191a7582a8432a31bcd3"><td class="memItemLeft" align="right" valign="top">const std::map&lt; <a class="el" href="activity__type_8h.html#a61b219d1f1a69a8d5e8af6b500f09354">activity_id</a>, std::function&lt; void(<a class="el" href="classplayer__activity.html">player_activity</a> *, <a class="el" href="classplayer.html">player</a> *)&gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceactivity__handlers.html#a06390f39000b191a7582a8432a31bcd3">activity_handlers::finish_functions</a></td></tr>
<tr class="separator:a06390f39000b191a7582a8432a31bcd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1eaf4ee55409f0428c481c9b50246660" name="a1eaf4ee55409f0428c481c9b50246660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eaf4ee55409f0428c481c9b50246660">&#9670;&nbsp;</a></span>CATA_SRC_ACTIVITY_HANDLERS_H</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CATA_SRC_ACTIVITY_HANDLERS_H</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__handlers_8h_source.html#l00003">3</a> of file <a class="el" href="activity__handlers_8h_source.html">activity_handlers.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a9c785a0b9eb129639f10c4d6f48b49c1" name="a9c785a0b9eb129639f10c4d6f48b49c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c785a0b9eb129639f10c4d6f48b49c1">&#9670;&nbsp;</a></span>butcher_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1">butcher_type</a> : int</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9c785a0b9eb129639f10c4d6f48b49c1ac13438ce42e14a3a50fc1858528e3d42" name="a9c785a0b9eb129639f10c4d6f48b49c1ac13438ce42e14a3a50fc1858528e3d42"></a>BUTCHER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9c785a0b9eb129639f10c4d6f48b49c1aea995e8faa4e4b8cd15a212e24108602" name="a9c785a0b9eb129639f10c4d6f48b49c1aea995e8faa4e4b8cd15a212e24108602"></a>BUTCHER_FULL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9c785a0b9eb129639f10c4d6f48b49c1a7f7feb2ce2cfa0bf5c75c1a72c867d74" name="a9c785a0b9eb129639f10c4d6f48b49c1a7f7feb2ce2cfa0bf5c75c1a72c867d74"></a>F_DRESS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9c785a0b9eb129639f10c4d6f48b49c1ad420aa458d168109d8aceea0aa6193ab" name="a9c785a0b9eb129639f10c4d6f48b49c1ad420aa458d168109d8aceea0aa6193ab"></a>SKIN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9c785a0b9eb129639f10c4d6f48b49c1a8dd9342a0e4fd716d2beb9961f5deeed" name="a9c785a0b9eb129639f10c4d6f48b49c1a8dd9342a0e4fd716d2beb9961f5deeed"></a>QUARTER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9c785a0b9eb129639f10c4d6f48b49c1acfebd714efad0d668053120b59c25998" name="a9c785a0b9eb129639f10c4d6f48b49c1acfebd714efad0d668053120b59c25998"></a>DISMEMBER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9c785a0b9eb129639f10c4d6f48b49c1a6919cf355956a5e2b193081486e19ab7" name="a9c785a0b9eb129639f10c4d6f48b49c1a6919cf355956a5e2b193081486e19ab7"></a>DISSECT&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="activity__handlers_8h_source.html#l00035">35</a> of file <a class="el" href="activity__handlers_8h_source.html">activity_handlers.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>                  : <span class="keywordtype">int</span> {</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1ac13438ce42e14a3a50fc1858528e3d42">BUTCHER</a>,        <span class="comment">// quick butchery</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1aea995e8faa4e4b8cd15a212e24108602">BUTCHER_FULL</a>,   <span class="comment">// full workshop butchery</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a7f7feb2ce2cfa0bf5c75c1a72c867d74">F_DRESS</a>,        <span class="comment">// field dressing a corpse</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1ad420aa458d168109d8aceea0aa6193ab">SKIN</a>,           <span class="comment">// skinning a corpse</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a8dd9342a0e4fd716d2beb9961f5deeed">QUARTER</a>,        <span class="comment">// quarter a corpse</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1acfebd714efad0d668053120b59c25998">DISMEMBER</a>,      <span class="comment">// destroy a corpse</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a6919cf355956a5e2b193081486e19ab7">DISSECT</a>         <span class="comment">// dissect a corpse for CBMs</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>};</div>
<div class="ttc" id="aactivity__handlers_8h_html_a9c785a0b9eb129639f10c4d6f48b49c1a6919cf355956a5e2b193081486e19ab7"><div class="ttname"><a href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a6919cf355956a5e2b193081486e19ab7">DISSECT</a></div><div class="ttdeci">@ DISSECT</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00043">activity_handlers.h:42</a></div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a9c785a0b9eb129639f10c4d6f48b49c1a7f7feb2ce2cfa0bf5c75c1a72c867d74"><div class="ttname"><a href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a7f7feb2ce2cfa0bf5c75c1a72c867d74">F_DRESS</a></div><div class="ttdeci">@ F_DRESS</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00038">activity_handlers.h:38</a></div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a9c785a0b9eb129639f10c4d6f48b49c1a8dd9342a0e4fd716d2beb9961f5deeed"><div class="ttname"><a href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a8dd9342a0e4fd716d2beb9961f5deeed">QUARTER</a></div><div class="ttdeci">@ QUARTER</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00040">activity_handlers.h:40</a></div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a9c785a0b9eb129639f10c4d6f48b49c1ac13438ce42e14a3a50fc1858528e3d42"><div class="ttname"><a href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1ac13438ce42e14a3a50fc1858528e3d42">BUTCHER</a></div><div class="ttdeci">@ BUTCHER</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00036">activity_handlers.h:36</a></div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a9c785a0b9eb129639f10c4d6f48b49c1acfebd714efad0d668053120b59c25998"><div class="ttname"><a href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1acfebd714efad0d668053120b59c25998">DISMEMBER</a></div><div class="ttdeci">@ DISMEMBER</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00041">activity_handlers.h:41</a></div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a9c785a0b9eb129639f10c4d6f48b49c1ad420aa458d168109d8aceea0aa6193ab"><div class="ttname"><a href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1ad420aa458d168109d8aceea0aa6193ab">SKIN</a></div><div class="ttdeci">@ SKIN</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00039">activity_handlers.h:39</a></div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a9c785a0b9eb129639f10c4d6f48b49c1aea995e8faa4e4b8cd15a212e24108602"><div class="ttname"><a href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1aea995e8faa4e4b8cd15a212e24108602">BUTCHER_FULL</a></div><div class="ttdeci">@ BUTCHER_FULL</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00037">activity_handlers.h:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a08dd09ef68bc61547f55f17bec54a15c" name="a08dd09ef68bc61547f55f17bec54a15c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08dd09ef68bc61547f55f17bec54a15c">&#9670;&nbsp;</a></span>butchery_possibility</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15c">butchery_possibility</a> : int</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a08dd09ef68bc61547f55f17bec54a15caa6105c0a611b41b08f1209506350279e" name="a08dd09ef68bc61547f55f17bec54a15caa6105c0a611b41b08f1209506350279e"></a>yes&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a08dd09ef68bc61547f55f17bec54a15cabf76092eefdd40065fff115fd922df4a" name="a08dd09ef68bc61547f55f17bec54a15cabf76092eefdd40065fff115fd922df4a"></a>need_confirmation&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a08dd09ef68bc61547f55f17bec54a15cac7561db7a418dd39b2201dfe110ab4a4" name="a08dd09ef68bc61547f55f17bec54a15cac7561db7a418dd39b2201dfe110ab4a4"></a>never&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a08dd09ef68bc61547f55f17bec54a15ca4bb72b6fd6db308ce11ba2fc2897f84b" name="a08dd09ef68bc61547f55f17bec54a15ca4bb72b6fd6db308ce11ba2fc2897f84b"></a>not_this&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="activity__handlers_8h_source.html#l00101">101</a> of file <a class="el" href="activity__handlers_8h_source.html">activity_handlers.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>                                : <span class="keywordtype">int</span> {</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <a class="code hl_enumvalue" href="action_8h.html#ab643c21c89be85b6bb09fd73ce4c26bdaa6105c0a611b41b08f1209506350279e">yes</a> = 0,</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15cabf76092eefdd40065fff115fd922df4a">need_confirmation</a>,</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15cac7561db7a418dd39b2201dfe110ab4a4">never</a>,</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15ca4bb72b6fd6db308ce11ba2fc2897f84b">not_this</a></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>};</div>
<div class="ttc" id="aaction_8h_html_ab643c21c89be85b6bb09fd73ce4c26bdaa6105c0a611b41b08f1209506350279e"><div class="ttname"><a href="action_8h.html#ab643c21c89be85b6bb09fd73ce4c26bdaa6105c0a611b41b08f1209506350279e">iso_rotate::yes</a></div><div class="ttdeci">@ yes</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a08dd09ef68bc61547f55f17bec54a15ca4bb72b6fd6db308ce11ba2fc2897f84b"><div class="ttname"><a href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15ca4bb72b6fd6db308ce11ba2fc2897f84b">butchery_possibility::not_this</a></div><div class="ttdeci">@ not_this</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a08dd09ef68bc61547f55f17bec54a15cabf76092eefdd40065fff115fd922df4a"><div class="ttname"><a href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15cabf76092eefdd40065fff115fd922df4a">butchery_possibility::need_confirmation</a></div><div class="ttdeci">@ need_confirmation</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a08dd09ef68bc61547f55f17bec54a15cac7561db7a418dd39b2201dfe110ab4a4"><div class="ttname"><a href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15cac7561db7a418dd39b2201dfe110ab4a4">butchery_possibility::never</a></div><div class="ttdeci">@ never</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae8548a48274a06c70c2ef9ee607d8b02" name="ae8548a48274a06c70c2ef9ee607d8b02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8548a48274a06c70c2ef9ee607d8b02">&#9670;&nbsp;</a></span>do_activity_reason</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02">do_activity_reason</a> : int</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02a3da50daa2ab101773f862e36f60fc83b" name="ae8548a48274a06c70c2ef9ee607d8b02a3da50daa2ab101773f862e36f60fc83b"></a>CAN_DO_CONSTRUCTION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02af4545b5034bca16908a3ca2e5d36e561" name="ae8548a48274a06c70c2ef9ee607d8b02af4545b5034bca16908a3ca2e5d36e561"></a>CAN_DO_FETCH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02ae1b7ff33f7243594cf571d849e713e72" name="ae8548a48274a06c70c2ef9ee607d8b02ae1b7ff33f7243594cf571d849e713e72"></a>CAN_DO_PREREQ&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02a435fbe7f4b024782f027c78c60d9911c" name="ae8548a48274a06c70c2ef9ee607d8b02a435fbe7f4b024782f027c78c60d9911c"></a>CAN_DO_PREREQ_2&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02a8a970d6aac1a88238196df9f76dbb936" name="ae8548a48274a06c70c2ef9ee607d8b02a8a970d6aac1a88238196df9f76dbb936"></a>NO_COMPONENTS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02a9b2c0d4467c7bacc24d189b3836e67b4" name="ae8548a48274a06c70c2ef9ee607d8b02a9b2c0d4467c7bacc24d189b3836e67b4"></a>NO_COMPONENTS_PREREQ&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02a0d52f98b90d8d343596cc14e7e3cd165" name="ae8548a48274a06c70c2ef9ee607d8b02a0d52f98b90d8d343596cc14e7e3cd165"></a>NO_COMPONENTS_PREREQ_2&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02a3717f8a9356e78428fc47eafc82952ba" name="ae8548a48274a06c70c2ef9ee607d8b02a3717f8a9356e78428fc47eafc82952ba"></a>DONT_HAVE_SKILL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02ae0ca751541acc5c03da85f1bdfaf7381" name="ae8548a48274a06c70c2ef9ee607d8b02ae0ca751541acc5c03da85f1bdfaf7381"></a>NO_ZONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02a262c70cc17c652f22b841bd342c43c15" name="ae8548a48274a06c70c2ef9ee607d8b02a262c70cc17c652f22b841bd342c43c15"></a>ALREADY_DONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02a3eb940520208feac8fca66c627004095" name="ae8548a48274a06c70c2ef9ee607d8b02a3eb940520208feac8fca66c627004095"></a>UNKNOWN_ACTIVITY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02ac223b6dd767c18283d69443f6c3d2e65" name="ae8548a48274a06c70c2ef9ee607d8b02ac223b6dd767c18283d69443f6c3d2e65"></a>NEEDS_HARVESTING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02a7e686404c3a888ef447af195a08ba272" name="ae8548a48274a06c70c2ef9ee607d8b02a7e686404c3a888ef447af195a08ba272"></a>NEEDS_PLANTING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02a93c46e32d63cf638ea4708e1cb5b13f0" name="ae8548a48274a06c70c2ef9ee607d8b02a93c46e32d63cf638ea4708e1cb5b13f0"></a>NEEDS_TILLING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02ab05fb3827218c475fb1468d60066e6ab" name="ae8548a48274a06c70c2ef9ee607d8b02ab05fb3827218c475fb1468d60066e6ab"></a>BLOCKING_TILE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02a5596d452f99bc0a2715578a0e8fbea0d" name="ae8548a48274a06c70c2ef9ee607d8b02a5596d452f99bc0a2715578a0e8fbea0d"></a>NEEDS_CHOPPING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02aeb2d455ea0c07089a5292f9eb139decb" name="ae8548a48274a06c70c2ef9ee607d8b02aeb2d455ea0c07089a5292f9eb139decb"></a>NEEDS_TREE_CHOPPING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02ae4d79744aa8cf0727e83a8203d61ac16" name="ae8548a48274a06c70c2ef9ee607d8b02ae4d79744aa8cf0727e83a8203d61ac16"></a>NEEDS_BIG_BUTCHERING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02a152445d6cc1927304a0b6f3e00b72c21" name="ae8548a48274a06c70c2ef9ee607d8b02a152445d6cc1927304a0b6f3e00b72c21"></a>NEEDS_BUTCHERING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02a058149efb2dc60bc613ebfc56ccfc05d" name="ae8548a48274a06c70c2ef9ee607d8b02a058149efb2dc60bc613ebfc56ccfc05d"></a>ALREADY_WORKING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02af86d171ca957f2674cfc37e55b0a4cbf" name="ae8548a48274a06c70c2ef9ee607d8b02af86d171ca957f2674cfc37e55b0a4cbf"></a>NEEDS_VEH_DECONST&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02a513b89ee8d15dc895def7fb92af1439e" name="ae8548a48274a06c70c2ef9ee607d8b02a513b89ee8d15dc895def7fb92af1439e"></a>NEEDS_VEH_REPAIR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02a20b4a3172c253d9ba613d7b89ec3b81a" name="ae8548a48274a06c70c2ef9ee607d8b02a20b4a3172c253d9ba613d7b89ec3b81a"></a>NEEDS_MINING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae8548a48274a06c70c2ef9ee607d8b02a23e0c6680fe02718de4606c4e12ef70c" name="ae8548a48274a06c70c2ef9ee607d8b02a23e0c6680fe02718de4606c4e12ef70c"></a>NEEDS_FISHING&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="activity__handlers_8h_source.html#l00045">45</a> of file <a class="el" href="activity__handlers_8h_source.html">activity_handlers.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>                              : <span class="keywordtype">int</span> {</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a3da50daa2ab101773f862e36f60fc83b">CAN_DO_CONSTRUCTION</a>,    <span class="comment">// Can do construction.</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02af4545b5034bca16908a3ca2e5d36e561">CAN_DO_FETCH</a>,           <span class="comment">// Can do fetch - this is usually the default result for fetch task</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02ae1b7ff33f7243594cf571d849e713e72">CAN_DO_PREREQ</a>,          <span class="comment">// for constructions - can&#39;t build the main construction, but can build the pre-req</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a435fbe7f4b024782f027c78c60d9911c">CAN_DO_PREREQ_2</a>,        <span class="comment">// Can do the second pre-req deep below the desired one.</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a8a970d6aac1a88238196df9f76dbb936">NO_COMPONENTS</a>,          <span class="comment">// can&#39;t do the activity there due to lack of components /tools</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a9b2c0d4467c7bacc24d189b3836e67b4">NO_COMPONENTS_PREREQ</a>,   <span class="comment">// need components to build the pre-requisite for the actual desired construction</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a0d52f98b90d8d343596cc14e7e3cd165">NO_COMPONENTS_PREREQ_2</a>, <span class="comment">// need components to the second pre-req deep.</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a3717f8a9356e78428fc47eafc82952ba">DONT_HAVE_SKILL</a>,        <span class="comment">// don&#39;t have the required skill</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02ae0ca751541acc5c03da85f1bdfaf7381">NO_ZONE</a>,                <span class="comment">// There is no required zone anymore</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a262c70cc17c652f22b841bd342c43c15">ALREADY_DONE</a>,           <span class="comment">// the activity is done already ( maybe by someone else )</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a3eb940520208feac8fca66c627004095">UNKNOWN_ACTIVITY</a>,       <span class="comment">// This is probably an error - got to the end of function with no previous reason</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02ac223b6dd767c18283d69443f6c3d2e65">NEEDS_HARVESTING</a>,       <span class="comment">// For farming - tile is harvestable now.</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a7e686404c3a888ef447af195a08ba272">NEEDS_PLANTING</a>,         <span class="comment">// For farming - tile can be planted</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a93c46e32d63cf638ea4708e1cb5b13f0">NEEDS_TILLING</a>,          <span class="comment">// For farming - tile can be tilled</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02ab05fb3827218c475fb1468d60066e6ab">BLOCKING_TILE</a>,           <span class="comment">// Something has made it&#39;s way onto the tile, so the activity cannot proceed</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a5596d452f99bc0a2715578a0e8fbea0d">NEEDS_CHOPPING</a>,         <span class="comment">// There is wood there to be chopped</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02aeb2d455ea0c07089a5292f9eb139decb">NEEDS_TREE_CHOPPING</a>,    <span class="comment">// There is a tree there that needs to be chopped</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02ae4d79744aa8cf0727e83a8203d61ac16">NEEDS_BIG_BUTCHERING</a>,   <span class="comment">// There is at least one corpse there to butcher, and it&#39;s a big one</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a152445d6cc1927304a0b6f3e00b72c21">NEEDS_BUTCHERING</a>,       <span class="comment">// THere is at least one corpse there to butcher, and there&#39;s no need for additional tools</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a058149efb2dc60bc613ebfc56ccfc05d">ALREADY_WORKING</a>,        <span class="comment">// somebody is already working there</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02af86d171ca957f2674cfc37e55b0a4cbf">NEEDS_VEH_DECONST</a>,       <span class="comment">// There is a vehicle part there that we can deconstruct, given the right tools.</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a513b89ee8d15dc895def7fb92af1439e">NEEDS_VEH_REPAIR</a>,       <span class="comment">// There is a vehicle part there that can be repaired, given the right tools.</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a20b4a3172c253d9ba613d7b89ec3b81a">NEEDS_MINING</a>,           <span class="comment">// This spot can be mined, if the right tool is present.</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a23e0c6680fe02718de4606c4e12ef70c">NEEDS_FISHING</a>           <span class="comment">// This spot can be fished, if the right tool is present.</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>};</div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02a058149efb2dc60bc613ebfc56ccfc05d"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a058149efb2dc60bc613ebfc56ccfc05d">do_activity_reason::ALREADY_WORKING</a></div><div class="ttdeci">@ ALREADY_WORKING</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02a0d52f98b90d8d343596cc14e7e3cd165"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a0d52f98b90d8d343596cc14e7e3cd165">do_activity_reason::NO_COMPONENTS_PREREQ_2</a></div><div class="ttdeci">@ NO_COMPONENTS_PREREQ_2</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02a152445d6cc1927304a0b6f3e00b72c21"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a152445d6cc1927304a0b6f3e00b72c21">do_activity_reason::NEEDS_BUTCHERING</a></div><div class="ttdeci">@ NEEDS_BUTCHERING</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02a20b4a3172c253d9ba613d7b89ec3b81a"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a20b4a3172c253d9ba613d7b89ec3b81a">do_activity_reason::NEEDS_MINING</a></div><div class="ttdeci">@ NEEDS_MINING</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02a23e0c6680fe02718de4606c4e12ef70c"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a23e0c6680fe02718de4606c4e12ef70c">do_activity_reason::NEEDS_FISHING</a></div><div class="ttdeci">@ NEEDS_FISHING</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02a262c70cc17c652f22b841bd342c43c15"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a262c70cc17c652f22b841bd342c43c15">do_activity_reason::ALREADY_DONE</a></div><div class="ttdeci">@ ALREADY_DONE</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02a3717f8a9356e78428fc47eafc82952ba"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a3717f8a9356e78428fc47eafc82952ba">do_activity_reason::DONT_HAVE_SKILL</a></div><div class="ttdeci">@ DONT_HAVE_SKILL</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02a3da50daa2ab101773f862e36f60fc83b"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a3da50daa2ab101773f862e36f60fc83b">do_activity_reason::CAN_DO_CONSTRUCTION</a></div><div class="ttdeci">@ CAN_DO_CONSTRUCTION</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02a3eb940520208feac8fca66c627004095"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a3eb940520208feac8fca66c627004095">do_activity_reason::UNKNOWN_ACTIVITY</a></div><div class="ttdeci">@ UNKNOWN_ACTIVITY</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02a435fbe7f4b024782f027c78c60d9911c"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a435fbe7f4b024782f027c78c60d9911c">do_activity_reason::CAN_DO_PREREQ_2</a></div><div class="ttdeci">@ CAN_DO_PREREQ_2</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02a513b89ee8d15dc895def7fb92af1439e"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a513b89ee8d15dc895def7fb92af1439e">do_activity_reason::NEEDS_VEH_REPAIR</a></div><div class="ttdeci">@ NEEDS_VEH_REPAIR</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02a5596d452f99bc0a2715578a0e8fbea0d"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a5596d452f99bc0a2715578a0e8fbea0d">do_activity_reason::NEEDS_CHOPPING</a></div><div class="ttdeci">@ NEEDS_CHOPPING</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02a7e686404c3a888ef447af195a08ba272"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a7e686404c3a888ef447af195a08ba272">do_activity_reason::NEEDS_PLANTING</a></div><div class="ttdeci">@ NEEDS_PLANTING</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02a8a970d6aac1a88238196df9f76dbb936"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a8a970d6aac1a88238196df9f76dbb936">do_activity_reason::NO_COMPONENTS</a></div><div class="ttdeci">@ NO_COMPONENTS</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02a93c46e32d63cf638ea4708e1cb5b13f0"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a93c46e32d63cf638ea4708e1cb5b13f0">do_activity_reason::NEEDS_TILLING</a></div><div class="ttdeci">@ NEEDS_TILLING</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02a9b2c0d4467c7bacc24d189b3836e67b4"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02a9b2c0d4467c7bacc24d189b3836e67b4">do_activity_reason::NO_COMPONENTS_PREREQ</a></div><div class="ttdeci">@ NO_COMPONENTS_PREREQ</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02ab05fb3827218c475fb1468d60066e6ab"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02ab05fb3827218c475fb1468d60066e6ab">do_activity_reason::BLOCKING_TILE</a></div><div class="ttdeci">@ BLOCKING_TILE</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02ac223b6dd767c18283d69443f6c3d2e65"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02ac223b6dd767c18283d69443f6c3d2e65">do_activity_reason::NEEDS_HARVESTING</a></div><div class="ttdeci">@ NEEDS_HARVESTING</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02ae0ca751541acc5c03da85f1bdfaf7381"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02ae0ca751541acc5c03da85f1bdfaf7381">do_activity_reason::NO_ZONE</a></div><div class="ttdeci">@ NO_ZONE</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02ae1b7ff33f7243594cf571d849e713e72"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02ae1b7ff33f7243594cf571d849e713e72">do_activity_reason::CAN_DO_PREREQ</a></div><div class="ttdeci">@ CAN_DO_PREREQ</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02ae4d79744aa8cf0727e83a8203d61ac16"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02ae4d79744aa8cf0727e83a8203d61ac16">do_activity_reason::NEEDS_BIG_BUTCHERING</a></div><div class="ttdeci">@ NEEDS_BIG_BUTCHERING</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02aeb2d455ea0c07089a5292f9eb139decb"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02aeb2d455ea0c07089a5292f9eb139decb">do_activity_reason::NEEDS_TREE_CHOPPING</a></div><div class="ttdeci">@ NEEDS_TREE_CHOPPING</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02af4545b5034bca16908a3ca2e5d36e561"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02af4545b5034bca16908a3ca2e5d36e561">do_activity_reason::CAN_DO_FETCH</a></div><div class="ttdeci">@ CAN_DO_FETCH</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_ae8548a48274a06c70c2ef9ee607d8b02af86d171ca957f2674cfc37e55b0a4cbf"><div class="ttname"><a href="activity__handlers_8h.html#ae8548a48274a06c70c2ef9ee607d8b02af86d171ca957f2674cfc37e55b0a4cbf">do_activity_reason::NEEDS_VEH_DECONST</a></div><div class="ttdeci">@ NEEDS_VEH_DECONST</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3931cba30166834e066ef80c02d84611" name="a3931cba30166834e066ef80c02d84611"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3931cba30166834e066ef80c02d84611">&#9670;&nbsp;</a></span>item_drop_reason</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611">item_drop_reason</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a3931cba30166834e066ef80c02d84611a38dd6f2bec3ea3b3cde92db954842bdb" name="a3931cba30166834e066ef80c02d84611a38dd6f2bec3ea3b3cde92db954842bdb"></a>deliberate&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a3931cba30166834e066ef80c02d84611a7a45a1d1bfe36a2c1205fbd1b450d80a" name="a3931cba30166834e066ef80c02d84611a7a45a1d1bfe36a2c1205fbd1b450d80a"></a>too_large&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a3931cba30166834e066ef80c02d84611aff8308727957bfea9d0a143e9fc77e5e" name="a3931cba30166834e066ef80c02d84611aff8308727957bfea9d0a143e9fc77e5e"></a>too_heavy&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a3931cba30166834e066ef80c02d84611a5d678b593bf07d40cb146abdb74e5d51" name="a3931cba30166834e066ef80c02d84611a5d678b593bf07d40cb146abdb74e5d51"></a>tumbling&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="activity__handlers_8h_source.html#l00129">129</a> of file <a class="el" href="activity__handlers_8h_source.html">activity_handlers.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>                            {</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a38dd6f2bec3ea3b3cde92db954842bdb">deliberate</a>,</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a7a45a1d1bfe36a2c1205fbd1b450d80a">too_large</a>,</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611aff8308727957bfea9d0a143e9fc77e5e">too_heavy</a>,</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a5d678b593bf07d40cb146abdb74e5d51">tumbling</a></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>};</div>
<div class="ttc" id="aactivity__handlers_8h_html_a3931cba30166834e066ef80c02d84611a38dd6f2bec3ea3b3cde92db954842bdb"><div class="ttname"><a href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a38dd6f2bec3ea3b3cde92db954842bdb">item_drop_reason::deliberate</a></div><div class="ttdeci">@ deliberate</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a3931cba30166834e066ef80c02d84611a5d678b593bf07d40cb146abdb74e5d51"><div class="ttname"><a href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a5d678b593bf07d40cb146abdb74e5d51">item_drop_reason::tumbling</a></div><div class="ttdeci">@ tumbling</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a3931cba30166834e066ef80c02d84611a7a45a1d1bfe36a2c1205fbd1b450d80a"><div class="ttname"><a href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a7a45a1d1bfe36a2c1205fbd1b450d80a">item_drop_reason::too_large</a></div><div class="ttdeci">@ too_large</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a3931cba30166834e066ef80c02d84611aff8308727957bfea9d0a143e9fc77e5e"><div class="ttname"><a href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611aff8308727957bfea9d0a143e9fc77e5e">item_drop_reason::too_heavy</a></div><div class="ttdeci">@ too_heavy</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2cf8ad8704e57889e58223fb5609d7b2" name="a2cf8ad8704e57889e58223fb5609d7b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cf8ad8704e57889e58223fb5609d7b2">&#9670;&nbsp;</a></span>requirement_check_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="activity__handlers_8h.html#a2cf8ad8704e57889e58223fb5609d7b2">requirement_check_result</a> : int</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2cf8ad8704e57889e58223fb5609d7b2a882a3852685e8a07c2c845af5bc94815" name="a2cf8ad8704e57889e58223fb5609d7b2a882a3852685e8a07c2c845af5bc94815"></a>SKIP_LOCATION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2cf8ad8704e57889e58223fb5609d7b2ad14a7210a88cd8680e99953de01ff322" name="a2cf8ad8704e57889e58223fb5609d7b2ad14a7210a88cd8680e99953de01ff322"></a>CAN_DO_LOCATION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2cf8ad8704e57889e58223fb5609d7b2af041676998adbc486b01d93023cb6978" name="a2cf8ad8704e57889e58223fb5609d7b2af041676998adbc486b01d93023cb6978"></a>RETURN_EARLY&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="activity__handlers_8h_source.html#l00029">29</a> of file <a class="el" href="activity__handlers_8h_source.html">activity_handlers.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>                              : <span class="keywordtype">int</span> {</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a2cf8ad8704e57889e58223fb5609d7b2a882a3852685e8a07c2c845af5bc94815">SKIP_LOCATION</a> = 0,</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a2cf8ad8704e57889e58223fb5609d7b2ad14a7210a88cd8680e99953de01ff322">CAN_DO_LOCATION</a>,</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    <a class="code hl_enumvalue" href="activity__handlers_8h.html#a2cf8ad8704e57889e58223fb5609d7b2af041676998adbc486b01d93023cb6978">RETURN_EARLY</a>       <span class="comment">//another activity like a fetch activity has been started.</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>};</div>
<div class="ttc" id="aactivity__handlers_8h_html_a2cf8ad8704e57889e58223fb5609d7b2a882a3852685e8a07c2c845af5bc94815"><div class="ttname"><a href="activity__handlers_8h.html#a2cf8ad8704e57889e58223fb5609d7b2a882a3852685e8a07c2c845af5bc94815">SKIP_LOCATION</a></div><div class="ttdeci">@ SKIP_LOCATION</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00030">activity_handlers.h:30</a></div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a2cf8ad8704e57889e58223fb5609d7b2ad14a7210a88cd8680e99953de01ff322"><div class="ttname"><a href="activity__handlers_8h.html#a2cf8ad8704e57889e58223fb5609d7b2ad14a7210a88cd8680e99953de01ff322">CAN_DO_LOCATION</a></div><div class="ttdeci">@ CAN_DO_LOCATION</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00031">activity_handlers.h:31</a></div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a2cf8ad8704e57889e58223fb5609d7b2af041676998adbc486b01d93023cb6978"><div class="ttname"><a href="activity__handlers_8h.html#a2cf8ad8704e57889e58223fb5609d7b2af041676998adbc486b01d93023cb6978">RETURN_EARLY</a></div><div class="ttdeci">@ RETURN_EARLY</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00033">activity_handlers.h:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9fa9e42b952ac8bc9192c466f25359c3" name="a9fa9e42b952ac8bc9192c466f25359c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fa9e42b952ac8bc9192c466f25359c3">&#9670;&nbsp;</a></span>activity_on_turn_drop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void activity_on_turn_drop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3b31c00f251de00f842ae2f362f2e05b" name="a3b31c00f251de00f842ae2f362f2e05b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b31c00f251de00f842ae2f362f2e05b">&#9670;&nbsp;</a></span>activity_on_turn_fetch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void activity_on_turn_fetch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer__activity.html">player_activity</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> *&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0c5025eba31285e8abac02afab5079a8" name="a0c5025eba31285e8abac02afab5079a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c5025eba31285e8abac02afab5079a8">&#9670;&nbsp;</a></span>activity_on_turn_move_loot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void activity_on_turn_move_loot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer__activity.html">player_activity</a> &amp;&#160;</td>
          <td class="paramname"><em>act</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l02137">2137</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>{</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>    <span class="keyword">enum</span> activity_stage : <span class="keywordtype">int</span> {</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>        <span class="comment">//Initial stage</span></div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>        INIT = 0,</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>        <span class="comment">//Think about what to do first: choose destination</span></div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span>        THINK,</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>        <span class="comment">//Do activity</span></div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span>        DO,</div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span>    };</div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span> </div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span>    <span class="keywordtype">int</span> &amp;stage = <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.index;</div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span>    <span class="comment">//Prepare activity stage</span></div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span>    <span class="keywordflow">if</span>( stage &lt; 0 ) {</div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>        stage = INIT;</div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span>        <span class="comment">//num_processed</span></div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span>        <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values.push_back( 0 );</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>    }</div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span>    <span class="keywordtype">int</span> &amp;num_processed = <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values[ 0 ];</div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span> </div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span>    <span class="keyword">const</span> <span class="keyword">auto</span> abspos = here.<a class="code hl_function" href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">getabs</a>( p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>    <span class="keyword">auto</span> &amp;mgr = <a class="code hl_function" href="classzone__manager.html#a11e6a0ecb51069e3c334b6f4b9c5c6bc">zone_manager::get_manager</a>();</div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span>    <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#a8a6e17bf2b027fe957361bb7c5d857ce">check_vehicle_zones</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_levz() ) ) {</div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span>        mgr.cache_vzones();</div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span>    }</div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span> </div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span>    <span class="keywordflow">if</span>( stage == INIT ) {</div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span>        <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.coord_set = mgr.get_near( <a class="code hl_variable" href="activity__item__handling_8cpp.html#a5a86c44ff9433e6f488251b0bc38c0c7">zone_type_LOOT_UNSORTED</a>, abspos, <a class="code hl_variable" href="activity__item__handling_8cpp.html#aaa6c33979b90fe3147ab7e18a0c407b4">ACTIVITY_SEARCH_DISTANCE</a> );</div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span>        stage = THINK;</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>    }</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span> </div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>    <span class="keywordflow">if</span>( stage == THINK ) {</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>        <span class="comment">//initialize num_processed</span></div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span>        num_processed = 0;</div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;src_set = <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.coord_set;</div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>        <span class="comment">// sort source tiles by distance</span></div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;src_sorted = <a class="code hl_function" href="activity__handlers_8cpp.html#ad56bc2a183ef33fafef613435a366c27">get_sorted_tiles_by_distance</a>( abspos, src_set );</div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span> </div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;src : src_sorted ) {</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>            <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.placement = src;</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>            <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.coord_set.erase( src );</div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span> </div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;src_loc = here.<a class="code hl_function" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( src );</div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>            <span class="keywordflow">if</span>( !here.<a class="code hl_function" href="classmap.html#a46608709f68358365d0734b1063fed73">inbounds</a>( src_loc ) ) {</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>                <span class="keywordflow">if</span>( !here.<a class="code hl_function" href="classmap.html#a46608709f68358365d0734b1063fed73">inbounds</a>( p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>                    <span class="comment">// p is implicitly an NPC that has been moved off the map, so reset the activity</span></div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>                    <span class="comment">// and unload them</span></div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>                    p.<a class="code hl_function" href="classCharacter.html#a597968eba450c923b56a1c9cac1676dc">cancel_activity</a>();</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>                    p.<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="activity__item__handling_8cpp.html#a0313dde9b91b312463fd84bf985b42a6">ACT_MOVE_LOOT</a> );</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>                    p.<a class="code hl_function" href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080">set_moves</a>( 0 );</div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>                    <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;reload_npcs();</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>                    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>                }</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>                std::vector&lt;tripoint&gt; route;</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span>                route = here.<a class="code hl_function" href="classmap.html#a6b4a1306861221ee22ba193a884ef606">route</a>( p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), src_loc, p.<a class="code hl_function" href="classCharacter.html#aa7240b1a7ad2b5c556a6aeafc2132d46">get_pathfinding_settings</a>(),</div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span>                                    p.<a class="code hl_function" href="classCharacter.html#a4820be3a01e28cb0ad60f95a2df82e06">get_path_avoid</a>() );</div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span>                <span class="keywordflow">if</span>( route.empty() ) {</div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>                    <span class="comment">// can&#39;t get there, can&#39;t do anything, skip it</span></div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>                }</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>                stage = DO;</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>                p.<a class="code hl_function" href="classCharacter.html#a05f34432b3b1eabef92da141910daf09">set_destination</a>( route, <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>                p.<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_function" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">set_to_null</a>();</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>            }</div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span> </div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>            <span class="comment">// skip tiles in IGNORE zone and tiles on fire</span></div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>            <span class="comment">// (to prevent taking out wood off the lit brazier)</span></div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>            <span class="comment">// and inaccessible furniture, like filled charcoal kiln</span></div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>            <span class="keywordflow">if</span>( mgr.has( <a class="code hl_variable" href="activity__item__handling_8cpp.html#ac9f5aa9f4829215e78bae055da0210f2">zone_type_LOOT_IGNORE</a>, src ) ||</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>                here.<a class="code hl_function" href="classmap.html#a30cfefdb115c16c5e1af6cc99f94bbbd">get_field</a>( src_loc, <a class="code hl_variable" href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a> ) != <span class="keyword">nullptr</span> ||</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>                !here.<a class="code hl_function" href="classmap.html#a3014d235b1298cadddb4c412d133ae6b">can_put_items_ter_furn</a>( src_loc ) ) {</div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span>            }</div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span> </div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>            <span class="comment">//nothing to sort?</span></div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>            <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;vpart_reference&gt;</a> vp = here.<a class="code hl_function" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( src_loc ).<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <span class="stringliteral">&quot;CARGO&quot;</span>,</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>                    <span class="keyword">false</span> );</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>            <span class="keywordflow">if</span>( ( !vp || vp-&gt;vehicle().get_items( vp-&gt;part_index() ).empty() )</div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>                &amp;&amp; here.<a class="code hl_function" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( src_loc ).<a class="code hl_function" href="classitem__stack.html#a83fd3bd296c75326b3709280804acef4">empty</a>() ) {</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>            }</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span> </div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span>            <span class="keywordtype">bool</span> is_adjacent_or_closer = <a class="code hl_function" href="coordinates_8h.html#a5ca1722555a6d5ab9ab7ae8e35c35eaa">square_dist</a>( p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), src_loc ) &lt;= 1;</div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>            <span class="comment">// before we move any item, check if player is at or</span></div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span>            <span class="comment">// adjacent to the loot source tile</span></div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>            <span class="keywordflow">if</span>( !is_adjacent_or_closer ) {</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>                std::vector&lt;tripoint&gt; route;</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>                <span class="keywordtype">bool</span> adjacent = <span class="keyword">false</span>;</div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span> </div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>                <span class="comment">// get either direct route or route to nearest adjacent tile if</span></div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>                <span class="comment">// source tile is impassable</span></div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>                <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#af563dc2397e71a053569cb45c6bb7e77">passable</a>( src_loc ) ) {</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>                    route = here.<a class="code hl_function" href="classmap.html#a6b4a1306861221ee22ba193a884ef606">route</a>( p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), src_loc, p.<a class="code hl_function" href="classCharacter.html#aa7240b1a7ad2b5c556a6aeafc2132d46">get_pathfinding_settings</a>(),</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>                                        p.<a class="code hl_function" href="classCharacter.html#a4820be3a01e28cb0ad60f95a2df82e06">get_path_avoid</a>() );</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>                    <span class="comment">// impassable source tile (locker etc.),</span></div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>                    <span class="comment">// get route to nearest adjacent tile instead</span></div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>                    route = <a class="code hl_function" href="activity__item__handling_8cpp.html#a999ed86fc2f9b736a6cbf4b6f195c96c">route_adjacent</a>( p, src_loc );</div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>                    adjacent = <span class="keyword">true</span>;</div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>                }</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span> </div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>                <span class="comment">// check if we found path to source / adjacent tile</span></div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>                <span class="keywordflow">if</span>( route.empty() ) {</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>                    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s can&#39;t reach the source tile.  Try to sort out loot without a cart.&quot;</span> ),</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>                             p.<a class="code hl_function" href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">disp_name</a>() );</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>                }</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span> </div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span>                <span class="comment">// shorten the route to adjacent tile, if necessary</span></div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>                <span class="keywordflow">if</span>( !adjacent ) {</div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>                    route.pop_back();</div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>                }</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span> </div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span>                <span class="comment">// set the destination and restart activity after player arrives there</span></div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>                <span class="comment">// we don&#39;t need to check for safe mode,</span></div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>                <span class="comment">// activity will be restarted only if</span></div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>                <span class="comment">// player arrives on destination tile</span></div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>                stage = DO;</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>                p.<a class="code hl_function" href="classCharacter.html#a05f34432b3b1eabef92da141910daf09">set_destination</a>( route, <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a> );</div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>                p.<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_function" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">set_to_null</a>();</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>            }</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>            stage = DO;</div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>        }</div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span>    }</div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>    <span class="keywordflow">if</span>( stage == DO ) {</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;src = <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.placement;</div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;src_loc = here.<a class="code hl_function" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( src );</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span> </div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>        <span class="keywordtype">bool</span> is_adjacent_or_closer = <a class="code hl_function" href="coordinates_8h.html#a5ca1722555a6d5ab9ab7ae8e35c35eaa">square_dist</a>( p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), src_loc ) &lt;= 1;</div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span>        <span class="comment">// before we move any item, check if player is at or</span></div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>        <span class="comment">// adjacent to the loot source tile</span></div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>        <span class="keywordflow">if</span>( !is_adjacent_or_closer ) {</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span>            stage = THINK;</div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span>        }</div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span> </div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span>        <span class="comment">// the boolean in this pair being true indicates the item is from a vehicle storage space</span></div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>        <span class="keyword">auto</span> items = std::vector&lt;std::pair&lt;item *, bool&gt;&gt;();</div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span>        <a class="code hl_class" href="classvehicle.html">vehicle</a> *src_veh, *dest_veh;</div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span>        <span class="keywordtype">int</span> src_part, dest_part;</div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span> </div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span>        <span class="comment">//Check source for cargo part</span></div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span>        <span class="comment">//map_stack and vehicle_stack are different types but inherit from item_stack</span></div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span>        <span class="comment">// TODO: use one for loop</span></div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span>        <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;vpart_reference&gt;</a> vp = here.<a class="code hl_function" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( src_loc ).<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <span class="stringliteral">&quot;CARGO&quot;</span>,</div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>                <span class="keyword">false</span> ) ) {</div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span>            src_veh = &amp;vp-&gt;vehicle();</div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span>            src_part = vp-&gt;part_index();</div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;it : src_veh-&gt;get_items( src_part ) ) {</div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span>                <span class="keywordflow">if</span>( !it.is_owned_by( p, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span>                }</div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span>                it.set_owner( p );</div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>                items.push_back( std::make_pair( &amp;it, <span class="keyword">true</span> ) );</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>            }</div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>            src_veh = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span>            src_part = -1;</div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span>        }</div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;it : here.<a class="code hl_function" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( src_loc ) ) {</div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>            <span class="keywordflow">if</span>( !it.is_owned_by( p, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>            }</div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span>            it.set_owner( p );</div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span>            items.push_back( std::make_pair( &amp;it, <span class="keyword">false</span> ) );</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>        }</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span> </div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>        <span class="comment">//Skip items that have already been processed</span></div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> it = items.begin() + num_processed; it &lt; items.end(); ++it ) {</div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>            ++num_processed;</div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>            <a class="code hl_class" href="classitem.html">item</a> &amp;thisitem = *it-&gt;first;</div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span> </div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>            <span class="comment">// skip unpickable liquid</span></div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>            <span class="keywordflow">if</span>( thisitem.<a class="code hl_function" href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">made_of</a>( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>            }</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span> </div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>            <span class="comment">// skip favorite items in ignore favorite zones</span></div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>            <span class="keywordflow">if</span>( thisitem.<a class="code hl_variable" href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">is_favorite</a> &amp;&amp; mgr.has( <a class="code hl_variable" href="activity__item__handling_8cpp.html#a78bb8f77904a7a889ec2de6833852ea3">zone_type_LOOT_IGNORE_FAVORITES</a>, src ) ) {</div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>            }</div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span> </div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>            <span class="comment">// Only if it&#39;s from a vehicle do we use the vehicle source location information.</span></div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span>            <a class="code hl_class" href="classvehicle.html">vehicle</a> *this_veh = it-&gt;second ? src_veh : <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> this_part = it-&gt;second ? src_part : -1;</div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span> </div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>            <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">zone_type_id</a> <span class="keywordtype">id</span> = mgr.get_near_zone_type_for_item( thisitem, abspos,</div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span>                                    <a class="code hl_variable" href="activity__item__handling_8cpp.html#aaa6c33979b90fe3147ab7e18a0c407b4">ACTIVITY_SEARCH_DISTANCE</a> );</div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span> </div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>            <span class="comment">// checks whether the item is already on correct loot zone or not</span></div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span>            <span class="comment">// if it is, we can skip such item, if not we move the item to correct pile</span></div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>            <span class="comment">// think empty bag on food pile, after you ate the content</span></div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>            <span class="keywordflow">if</span>( mgr.has( <span class="keywordtype">id</span>, src ) ) {</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>            }</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span> </div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>            <span class="keyword">const</span> std::unordered_set&lt;tripoint&gt; &amp;dest_set = mgr.get_near( <span class="keywordtype">id</span>, abspos, <a class="code hl_variable" href="activity__item__handling_8cpp.html#aaa6c33979b90fe3147ab7e18a0c407b4">ACTIVITY_SEARCH_DISTANCE</a>,</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>                    &amp;thisitem );</div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest : dest_set ) {</div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span>                <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;dest_loc = here.<a class="code hl_function" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( dest );</div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span> </div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>                <span class="comment">//Check destination for cargo part</span></div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>                <span class="keywordflow">if</span>( <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;vpart_reference&gt;</a> vp = here.<a class="code hl_function" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( dest_loc ).<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <span class="stringliteral">&quot;CARGO&quot;</span>,</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>                        <span class="keyword">false</span> ) ) {</div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>                    dest_veh = &amp;vp-&gt;vehicle();</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span>                    dest_part = vp-&gt;part_index();</div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span>                    dest_veh = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>                    dest_part = -1;</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span>                }</div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span> </div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span>                <span class="comment">// skip tiles with inaccessible furniture, like filled charcoal kiln</span></div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span>                <span class="keywordflow">if</span>( !here.<a class="code hl_function" href="classmap.html#a3014d235b1298cadddb4c412d133ae6b">can_put_items_ter_furn</a>( dest_loc ) ||</div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>                    <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( here.<a class="code hl_function" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( dest_loc ).<a class="code hl_function" href="classitem__stack.html#a09718022e82be5bc5dd6d84463521751">size</a>() ) &gt;= <a class="code hl_variable" href="game__constants_8h.html#aee38c8a585c0020fc8ade031dab65393">MAX_ITEM_IN_SQUARE</a> ) {</div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span>                }</div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span> </div>
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"> 2358</span>                <a class="code hl_class" href="classunits_1_1quantity.html">units::volume</a> free_space;</div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"> 2359</span>                <span class="comment">// if there&#39;s a vehicle with space do not check the tile beneath</span></div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>                <span class="keywordflow">if</span>( dest_veh ) {</div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span>                    free_space = dest_veh-&gt;free_volume( dest_part );</div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span>                    free_space = here.<a class="code hl_function" href="classmap.html#a5aed3d4e04f4571603bb532f95f08f47">free_volume</a>( dest_loc );</div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>                }</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>                <span class="comment">// check free space at destination</span></div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>                <span class="keywordflow">if</span>( free_space &gt;= thisitem.<a class="code hl_function" href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">volume</a>() ) {</div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span>                    <a class="code hl_function" href="activity__item__handling_8cpp.html#aa503550e17ef5526e621cdace3449e1f">move_item</a>( p, thisitem, thisitem.<a class="code hl_function" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>(), src_loc, dest_loc, this_veh, this_part );</div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span> </div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>                    <span class="comment">// moved item away from source so decrement</span></div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span>                    <span class="keywordflow">if</span>( num_processed &gt; 0 ) {</div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"> 2371</span>                        --num_processed;</div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span>                    }</div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>                }</div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span>            }</div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span>            <span class="keywordflow">if</span>( p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> &lt;= 0 ) {</div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span>            }</div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span>        }</div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span> </div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span>        <span class="comment">//this location is sorted</span></div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"> 2382</span>        stage = THINK;</div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span>    }</div>
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"> 2385</span> </div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span>    <span class="comment">// If we got here without restarting the activity, it means we&#39;re done</span></div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%s sorted out every item possible.&quot;</span> ), p.<a class="code hl_function" href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">disp_name</a>( <span class="keyword">false</span>, <span class="keyword">true</span> ) );</div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span>    <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span>        <a class="code hl_class" href="classnpc.html">npc</a> *guy = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classnpc.html">npc</a> *<span class="keyword">&gt;</span>( &amp;p );</div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"> 2390</span>        guy-&gt;<a class="code hl_function" href="classnpc.html#aefeae3d14dd64533e5bff412e280c2e8">revert_after_activity</a>();</div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span>    }</div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span>    p.<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a>.<a class="code hl_function" href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">set_to_null</a>();</div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span>}</div>
<div class="ttc" id="aactivity__handlers_8cpp_html_ad56bc2a183ef33fafef613435a366c27"><div class="ttname"><a href="activity__handlers_8cpp.html#ad56bc2a183ef33fafef613435a366c27">get_sorted_tiles_by_distance</a></div><div class="ttdeci">std::vector&lt; tripoint &gt; get_sorted_tiles_by_distance(const tripoint &amp;abspos, const std::unordered_set&lt; tripoint &gt; &amp;tiles)</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8cpp_source.html#l04371">activity_handlers.cpp:4371</a></div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a0313dde9b91b312463fd84bf985b42a6"><div class="ttname"><a href="activity__item__handling_8cpp.html#a0313dde9b91b312463fd84bf985b42a6">ACT_MOVE_LOOT</a></div><div class="ttdeci">static const activity_id ACT_MOVE_LOOT(&quot;ACT_MOVE_LOOT&quot;)</div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a5a86c44ff9433e6f488251b0bc38c0c7"><div class="ttname"><a href="activity__item__handling_8cpp.html#a5a86c44ff9433e6f488251b0bc38c0c7">zone_type_LOOT_UNSORTED</a></div><div class="ttdeci">static const zone_type_id zone_type_LOOT_UNSORTED(&quot;LOOT_UNSORTED&quot;)</div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a78bb8f77904a7a889ec2de6833852ea3"><div class="ttname"><a href="activity__item__handling_8cpp.html#a78bb8f77904a7a889ec2de6833852ea3">zone_type_LOOT_IGNORE_FAVORITES</a></div><div class="ttdeci">static const zone_type_id zone_type_LOOT_IGNORE_FAVORITES(&quot;LOOT_IGNORE_FAVORITES&quot;)</div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a999ed86fc2f9b736a6cbf4b6f195c96c"><div class="ttname"><a href="activity__item__handling_8cpp.html#a999ed86fc2f9b736a6cbf4b6f195c96c">route_adjacent</a></div><div class="ttdeci">std::vector&lt; tripoint &gt; route_adjacent(const player &amp;p, const tripoint &amp;dest)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l01024">activity_item_handling.cpp:1024</a></div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_aa503550e17ef5526e621cdace3449e1f"><div class="ttname"><a href="activity__item__handling_8cpp.html#aa503550e17ef5526e621cdace3449e1f">move_item</a></div><div class="ttdeci">static void move_item(player &amp;p, item &amp;it, const int quantity, const tripoint &amp;src, const tripoint &amp;dest, vehicle *src_veh, int src_part, const activity_id &amp;activity_to_restore=activity_id::NULL_ID())</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00978">activity_item_handling.cpp:978</a></div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_aaa6c33979b90fe3147ab7e18a0c407b4"><div class="ttname"><a href="activity__item__handling_8cpp.html#aaa6c33979b90fe3147ab7e18a0c407b4">ACTIVITY_SEARCH_DISTANCE</a></div><div class="ttdeci">const int ACTIVITY_SEARCH_DISTANCE</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00153">activity_item_handling.cpp:153</a></div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_ac9f5aa9f4829215e78bae055da0210f2"><div class="ttname"><a href="activity__item__handling_8cpp.html#ac9f5aa9f4829215e78bae055da0210f2">zone_type_LOOT_IGNORE</a></div><div class="ttdeci">static const zone_type_id zone_type_LOOT_IGNORE(&quot;LOOT_IGNORE&quot;)</div></div>
<div class="ttc" id="aclassCharacter_html_a05f34432b3b1eabef92da141910daf09"><div class="ttname"><a href="classCharacter.html#a05f34432b3b1eabef92da141910daf09">Character::set_destination</a></div><div class="ttdeci">void set_destination(const std::vector&lt; tripoint &gt; &amp;route, const player_activity &amp;new_destination_activity=player_activity())</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l10467">character.cpp:10467</a></div></div>
<div class="ttc" id="aclassCharacter_html_a1e1996b6d6fc0a86d917cd155e1656d8"><div class="ttname"><a href="classCharacter.html#a1e1996b6d6fc0a86d917cd155e1656d8">Character::disp_name</a></div><div class="ttdeci">std::string disp_name(bool possessive=false, bool capitalize_first=false) const override</div><div class="ttdoc">Returns either &quot;you&quot; or the player's name.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00546">character.cpp:546</a></div></div>
<div class="ttc" id="aclassCharacter_html_a20839520f569c4f05876a55e89f67361"><div class="ttname"><a href="classCharacter.html#a20839520f569c4f05876a55e89f67361">Character::activity</a></div><div class="ttdeci">player_activity activity</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01516">character.h:1516</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4820be3a01e28cb0ad60f95a2df82e06"><div class="ttname"><a href="classCharacter.html#a4820be3a01e28cb0ad60f95a2df82e06">Character::get_path_avoid</a></div><div class="ttdeci">std::set&lt; tripoint &gt; get_path_avoid() const override</div><div class="ttdoc">Returns a set of points we do not want to path through.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09951">character.cpp:9951</a></div></div>
<div class="ttc" id="aclassCharacter_html_a597968eba450c923b56a1c9cac1676dc"><div class="ttname"><a href="classCharacter.html#a597968eba450c923b56a1c9cac1676dc">Character::cancel_activity</a></div><div class="ttdeci">void cancel_activity()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09237">character.cpp:9237</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa7240b1a7ad2b5c556a6aeafc2132d46"><div class="ttname"><a href="classCharacter.html#aa7240b1a7ad2b5c556a6aeafc2132d46">Character::get_pathfinding_settings</a></div><div class="ttdeci">const pathfinding_settings &amp; get_pathfinding_settings() const override</div><div class="ttdoc">Returns settings for pathfinding.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09965">character.cpp:9965</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad24859164517ed6e392e21df69527199"><div class="ttname"><a href="classCharacter.html#ad24859164517ed6e392e21df69527199">Character::pos</a></div><div class="ttdeci">const tripoint &amp; pos() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00714">character.cpp:714</a></div></div>
<div class="ttc" id="aclassCharacter_html_af7d50915d362a56eeff40bc6b392326d"><div class="ttname"><a href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">Character::assign_activity</a></div><div class="ttdeci">void assign_activity(const activity_id &amp;type, int moves=calendar::INDEFINITELY_LONG, int index=-1, int pos=INT_MIN, const std::string &amp;name=&quot;&quot;)</div><div class="ttdoc">Legacy activity assignment, does not work for any activites using the new activity_actor class and ma...</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09194">character.cpp:9194</a></div></div>
<div class="ttc" id="aclassCreature_html_a8c5a392caa213bee9581b47e9f0e2052"><div class="ttname"><a href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">Creature::moves</a></div><div class="ttdeci">int moves</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00569">creature.h:569</a></div></div>
<div class="ttc" id="aclassCreature_html_af826bfbdc9d7f81a8b9e53775f43d080"><div class="ttname"><a href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080">Creature::set_moves</a></div><div class="ttdeci">void set_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01412">creature.cpp:1412</a></div></div>
<div class="ttc" id="aclasscata_1_1optional_html"><div class="ttname"><a href="classcata_1_1optional.html">cata::optional</a></div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00030">optional.h:31</a></div></div>
<div class="ttc" id="aclassitem__stack_html_a09718022e82be5bc5dd6d84463521751"><div class="ttname"><a href="classitem__stack.html#a09718022e82be5bc5dd6d84463521751">item_stack::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00010">item_stack.cpp:10</a></div></div>
<div class="ttc" id="aclassitem__stack_html_a83fd3bd296c75326b3709280804acef4"><div class="ttname"><a href="classitem__stack.html#a83fd3bd296c75326b3709280804acef4">item_stack::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="item__stack_8cpp_source.html#l00015">item_stack.cpp:15</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00176">item.h:177</a></div></div>
<div class="ttc" id="aclassitem_html_a016494fa25a7a403fe78fadbd90b267b"><div class="ttname"><a href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">item::count</a></div><div class="ttdeci">int count() const</div><div class="ttdoc">If count_by_charges(), returns charges, otherwise 1.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05881">item.cpp:5881</a></div></div>
<div class="ttc" id="aclassitem_html_a05c24ca1052a7a8cb9fd314acdb49f40"><div class="ttname"><a href="classitem.html#a05c24ca1052a7a8cb9fd314acdb49f40">item::is_favorite</a></div><div class="ttdeci">bool is_favorite</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02236">item.h:2236</a></div></div>
<div class="ttc" id="aclassitem_html_a4326944ae95f4d265c8ca1c76ed89a03"><div class="ttname"><a href="classitem.html#a4326944ae95f4d265c8ca1c76ed89a03">item::made_of</a></div><div class="ttdeci">const std::vector&lt; material_id &gt; &amp; made_of() const</div><div class="ttdoc">The ids of all the materials this is made of.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06284">item.cpp:6284</a></div></div>
<div class="ttc" id="aclassitem_html_a51eafbdf8b331d88b741c0c527f98eb9"><div class="ttname"><a href="classitem.html#a51eafbdf8b331d88b741c0c527f98eb9">item::volume</a></div><div class="ttdeci">units::volume volume(bool integral=false) const</div><div class="ttdoc">Total volume of an item accounting for all contained/integrated items NOTE: Result is rounded up to n...</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05012">item.cpp:5012</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00388">map.h:389</a></div></div>
<div class="ttc" id="aclassmap_html_a3014d235b1298cadddb4c412d133ae6b"><div class="ttname"><a href="classmap.html#a3014d235b1298cadddb4c412d133ae6b">map::can_put_items_ter_furn</a></div><div class="ttdeci">bool can_put_items_ter_furn(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02307">map.cpp:2307</a></div></div>
<div class="ttc" id="aclassmap_html_a30cfefdb115c16c5e1af6cc99f94bbbd"><div class="ttname"><a href="classmap.html#a30cfefdb115c16c5e1af6cc99f94bbbd">map::get_field</a></div><div class="ttdeci">field_entry * get_field(const tripoint &amp;p, const field_type_id &amp;type)</div><div class="ttdoc">Get field of specific type at point.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05373">map.cpp:5373</a></div></div>
<div class="ttc" id="aclassmap_html_a426c21f7244ff80a61685a89e9146fec"><div class="ttname"><a href="classmap.html#a426c21f7244ff80a61685a89e9146fec">map::getlocal</a></div><div class="ttdeci">tripoint getlocal(const tripoint &amp;p) const</div><div class="ttdoc">Inverse of getabs.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08266">map.cpp:8266</a></div></div>
<div class="ttc" id="aclassmap_html_a46608709f68358365d0734b1063fed73"><div class="ttname"><a href="classmap.html#a46608709f68358365d0734b1063fed73">map::inbounds</a></div><div class="ttdeci">virtual bool inbounds(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l07756">map.cpp:7756</a></div></div>
<div class="ttc" id="aclassmap_html_a501f3a1d449ac022f1b36b99da653e94"><div class="ttname"><a href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">map::getabs</a></div><div class="ttdeci">tripoint getabs(const tripoint &amp;p) const</div><div class="ttdoc">Translates local (to this map) coordinates of a square to global absolute coordinates.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08261">map.cpp:8261</a></div></div>
<div class="ttc" id="aclassmap_html_a5130a127601b67e569eaef37a1a88610"><div class="ttname"><a href="classmap.html#a5130a127601b67e569eaef37a1a88610">map::i_at</a></div><div class="ttdeci">map_stack i_at(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04079">map.cpp:4079</a></div></div>
<div class="ttc" id="aclassmap_html_a5aed3d4e04f4571603bb532f95f08f47"><div class="ttname"><a href="classmap.html#a5aed3d4e04f4571603bb532f95f08f47">map::free_volume</a></div><div class="ttdeci">units::volume free_volume(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04219">map.cpp:4219</a></div></div>
<div class="ttc" id="aclassmap_html_a6b4a1306861221ee22ba193a884ef606"><div class="ttname"><a href="classmap.html#a6b4a1306861221ee22ba193a884ef606">map::route</a></div><div class="ttdeci">std::vector&lt; tripoint &gt; route(const tripoint &amp;f, const tripoint &amp;t, const pathfinding_settings &amp;settings, const std::set&lt; tripoint &gt; &amp;pre_closed={{ }}) const</div><div class="ttdoc">Calculate the best path using A*.</div><div class="ttdef"><b>Definition:</b> <a href="pathfinding_8cpp_source.html#l00194">pathfinding.cpp:194</a></div></div>
<div class="ttc" id="aclassmap_html_a8a6e17bf2b027fe957361bb7c5d857ce"><div class="ttname"><a href="classmap.html#a8a6e17bf2b027fe957361bb7c5d857ce">map::check_vehicle_zones</a></div><div class="ttdeci">bool check_vehicle_zones(int zlev)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00929">map.cpp:929</a></div></div>
<div class="ttc" id="aclassmap_html_aa487d96256c3d35db7a1bf273156b64a"><div class="ttname"><a href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">map::veh_at</a></div><div class="ttdeci">optional_vpart_position veh_at(const tripoint &amp;p) const</div><div class="ttdoc">Checks if tile is occupied by vehicle and by which part.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01009">map.cpp:1009</a></div></div>
<div class="ttc" id="aclassmap_html_af563dc2397e71a053569cb45c6bb7e77"><div class="ttname"><a href="classmap.html#af563dc2397e71a053569cb45c6bb7e77">map::passable</a></div><div class="ttdeci">bool passable(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01800">map.cpp:1800</a></div></div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00780">npc.h:781</a></div></div>
<div class="ttc" id="aclassnpc_html_aefeae3d14dd64533e5bff412e280c2e8"><div class="ttname"><a href="classnpc.html#aefeae3d14dd64533e5bff412e280c2e8">npc::revert_after_activity</a></div><div class="ttdeci">void revert_after_activity()</div><div class="ttdef"><b>Definition:</b> <a href="npc_8cpp_source.html#l00648">npc.cpp:648</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html_a2f0829fa83c2c4d3007e26b91af11856"><div class="ttname"><a href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">optional_vpart_position::part_with_feature</a></div><div class="ttdeci">cata::optional&lt; vpart_reference &gt; part_with_feature(const std::string &amp;f, bool unbroken) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02481">vehicle.cpp:2481</a></div></div>
<div class="ttc" id="aclassplayer__activity_html_a765ca7b3410253c05939a8c1f1999c4a"><div class="ttname"><a href="classplayer__activity.html#a765ca7b3410253c05939a8c1f1999c4a">player_activity::set_to_null</a></div><div class="ttdeci">void set_to_null()</div><div class="ttdoc">This replaces the former usage act.type = ACT_NULL</div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8cpp_source.html#l00080">player_activity.cpp:80</a></div></div>
<div class="ttc" id="aclassplayer_html_a4b34c26cb73111ff42bcab11576f51a0"><div class="ttname"><a href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">player::is_npc</a></div><div class="ttdeci">bool is_npc() const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00123">player.h:123</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; zone_type &gt;</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units__def_8h_source.html#l00014">units_def.h:15</a></div></div>
<div class="ttc" id="aclassvehicle_html"><div class="ttname"><a href="classvehicle.html">vehicle</a></div><div class="ttdoc">A vehicle as a whole with all its components.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00674">vehicle.h:675</a></div></div>
<div class="ttc" id="aclasszone__manager_html_a11e6a0ecb51069e3c334b6f4b9c5c6bc"><div class="ttname"><a href="classzone__manager.html#a11e6a0ecb51069e3c334b6f4b9c5c6bc">zone_manager::get_manager</a></div><div class="ttdeci">static zone_manager &amp; get_manager()</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8cpp_source.html#l00126">clzones.cpp:126</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a5ca1722555a6d5ab9ab7ae8e35c35eaa"><div class="ttname"><a href="coordinates_8h.html#a5ca1722555a6d5ab9ab7ae8e35c35eaa">square_dist</a></div><div class="ttdeci">int square_dist(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00505">coordinates.h:505</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a></div><div class="ttdeci">@ m_info</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00265">enums.h:265</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a></div><div class="ttdeci">@ LIQUID</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00175">enums.h:175</a></div></div>
<div class="ttc" id="afield__type_8cpp_html_a261d438c14892c55153e1b615c548164"><div class="ttname"><a href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a></div><div class="ttdeci">field_type_id fd_fire</div><div class="ttdef"><b>Definition:</b> <a href="field__type_8cpp_source.html#l00345">field_type.cpp:345</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00273">game.cpp:273</a></div></div>
<div class="ttc" id="agame__constants_8h_html_aee38c8a585c0020fc8ade031dab65393"><div class="ttname"><a href="game__constants_8h.html#aee38c8a585c0020fc8ade031dab65393">MAX_ITEM_IN_SQUARE</a></div><div class="ttdeci">static constexpr int MAX_ITEM_IN_SQUARE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00025">game_constants.h:25</a></div></div>
<div class="ttc" id="amap_8cpp_html_acb0b34be6e497bdd2f9f40ae6929d562"><div class="ttname"><a href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00146">map.cpp:146</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00884">messages.cpp:884</a></div></div>
<div class="ttc" id="asounds_8cpp_html_ad9fe7b616a93a8209da903eba756237e"><div class="ttname"><a href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a></div><div class="ttdeci">activity_id act</div><div class="ttdef"><b>Definition:</b> <a href="sounds_8cpp_source.html#l00075">sounds.cpp:75</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00147">point.h:147</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="sounds_8cpp_source.html#l00075">act</a>, <a class="el" href="activity__item__handling_8cpp.html#a0313dde9b91b312463fd84bf985b42a6">ACT_MOVE_LOOT</a>, <a class="el" href="character_8h_source.html#l01516">Character::activity</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00153">ACTIVITY_SEARCH_DISTANCE</a>, <a class="el" href="messages_8cpp_source.html#l00884">add_msg()</a>, <a class="el" href="character_8cpp_source.html#l09194">Character::assign_activity()</a>, <a class="el" href="map_8cpp_source.html#l02307">map::can_put_items_ter_furn()</a>, <a class="el" href="character_8cpp_source.html#l09237">Character::cancel_activity()</a>, <a class="el" href="map_8cpp_source.html#l00929">map::check_vehicle_zones()</a>, <a class="el" href="item_8cpp_source.html#l05881">item::count()</a>, <a class="el" href="character_8cpp_source.html#l00546">Character::disp_name()</a>, <a class="el" href="item__stack_8cpp_source.html#l00015">item_stack::empty()</a>, <a class="el" href="field__type_8cpp_source.html#l00345">fd_fire</a>, <a class="el" href="map_8cpp_source.html#l04219">map::free_volume()</a>, <a class="el" href="game_8cpp_source.html#l00273">g</a>, <a class="el" href="map_8cpp_source.html#l05373">map::get_field()</a>, <a class="el" href="clzones_8cpp_source.html#l00126">zone_manager::get_manager()</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="character_8cpp_source.html#l09951">Character::get_path_avoid()</a>, <a class="el" href="character_8cpp_source.html#l09965">Character::get_pathfinding_settings()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04371">get_sorted_tiles_by_distance()</a>, <a class="el" href="map_8cpp_source.html#l08261">map::getabs()</a>, <a class="el" href="map_8cpp_source.html#l08266">map::getlocal()</a>, <a class="el" href="map_8cpp_source.html#l04079">map::i_at()</a>, <a class="el" href="map_8cpp_source.html#l07756">map::inbounds()</a>, <a class="el" href="item_8h_source.html#l02236">item::is_favorite</a>, <a class="el" href="player_8h_source.html#l00123">player::is_npc()</a>, <a class="el" href="item_8cpp_source.html#l01245">item::is_owned_by()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="enums_8h_source.html#l00265">m_info</a>, <a class="el" href="item_8cpp_source.html#l06284">item::made_of()</a>, <a class="el" href="game__constants_8h_source.html#l00025">MAX_ITEM_IN_SQUARE</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00978">move_item()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="vehicle_8cpp_source.html#l02481">optional_vpart_position::part_with_feature()</a>, <a class="el" href="map_8cpp_source.html#l01800">map::passable()</a>, <a class="el" href="character_8cpp_source.html#l00714">Character::pos()</a>, <a class="el" href="npc_8cpp_source.html#l00648">npc::revert_after_activity()</a>, <a class="el" href="pathfinding_8cpp_source.html#l00194">map::route()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01024">route_adjacent()</a>, <a class="el" href="character_8cpp_source.html#l10467">Character::set_destination()</a>, <a class="el" href="creature_8cpp_source.html#l01412">Creature::set_moves()</a>, <a class="el" href="item_8h_source.html#l02024">item::set_owner()</a>, <a class="el" href="player__activity_8cpp_source.html#l00080">player_activity::set_to_null()</a>, <a class="el" href="item__stack_8cpp_source.html#l00010">item_stack::size()</a>, <a class="el" href="coordinates_8h_source.html#l00505">square_dist()</a>, <a class="el" href="map_8cpp_source.html#l01009">map::veh_at()</a>, <a class="el" href="vehicle_8cpp_source.html#l00251">vehicle::vehicle()</a>, <a class="el" href="item_8cpp_source.html#l05012">item::volume()</a>, <a class="el" href="activity__item__handling_8cpp.html#ac9f5aa9f4829215e78bae055da0210f2">zone_type_LOOT_IGNORE</a>, <a class="el" href="activity__item__handling_8cpp.html#a78bb8f77904a7a889ec2de6833852ea3">zone_type_LOOT_IGNORE_FAVORITES</a>, and <a class="el" href="activity__item__handling_8cpp.html#a5a86c44ff9433e6f488251b0bc38c0c7">zone_type_LOOT_UNSORTED</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__handlers_8cpp_source.html#l03158">activity_handlers::move_loot_do_turn()</a>.</p>

</div>
</div>
<a id="a811557ac25cbf8515ef677b9dff061d8" name="a811557ac25cbf8515ef677b9dff061d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a811557ac25cbf8515ef677b9dff061d8">&#9670;&nbsp;</a></span>activity_on_turn_wear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void activity_on_turn_wear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer__activity.html">player_activity</a> &amp;&#160;</td>
          <td class="paramname"><em>act</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l00698">698</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>{</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    <span class="comment">// ACT_WEAR has item_location targets, and int quantities</span></div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    <span class="keywordflow">while</span>( p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> &gt; 0 &amp;&amp; !<a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.targets.empty() ) {</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>        <a class="code hl_class" href="classitem__location.html">item_location</a> target = <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.targets.back() );</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>        <span class="keywordtype">int</span> quantity = <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values.back();</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>        <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.targets.pop_back();</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>        <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.values.pop_back();</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span> </div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>        <span class="keywordflow">if</span>( !target ) {</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Lost target item of ACT_WEAR&quot;</span> );</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>        }</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span> </div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>        <span class="comment">// Make copies so the original remains untouched if wearing fails</span></div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>        <a class="code hl_class" href="classitem.html">item</a> newit = *target;</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>        <a class="code hl_class" href="classitem.html">item</a> leftovers = newit;</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span> </div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>        <span class="comment">// Handle charges, quantity == 0 means move all</span></div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>        <span class="keywordflow">if</span>( quantity != 0 &amp;&amp; newit.<a class="code hl_function" href="classitem.html#a40963a016376016eb408bdb9dbb94388">count_by_charges</a>() ) {</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>            leftovers.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = newit.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> - quantity;</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>            <span class="keywordflow">if</span>( leftovers.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; 0 ) {</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>                newit.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = quantity;</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>            }</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>            leftovers.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> = 0;</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>        }</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span> </div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>        <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCharacter.html#a298ce5c5382920e7bffb8f146a18cce1">wear_item</a>( newit ) ) {</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>            <span class="comment">// If we wore up a whole stack, remove the original item</span></div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>            <span class="comment">// Otherwise, replace the item with the leftovers</span></div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>            <span class="keywordflow">if</span>( leftovers.<a class="code hl_variable" href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">charges</a> &gt; 0 ) {</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>                *target = <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( leftovers );</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>                target.<a class="code hl_function" href="classitem__location.html#a41e90133672d99aa1cecde670e37c23c">remove_item</a>();</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>            }</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>        }</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>    }</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span> </div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>    <span class="comment">// If there are no items left we are done</span></div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.targets.empty() ) {</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>        p.<a class="code hl_function" href="classCharacter.html#a597968eba450c923b56a1c9cac1676dc">cancel_activity</a>();</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>    }</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>}</div>
<div class="ttc" id="aclassCharacter_html_a298ce5c5382920e7bffb8f146a18cce1"><div class="ttname"><a href="classCharacter.html#a298ce5c5382920e7bffb8f146a18cce1">Character::wear_item</a></div><div class="ttdeci">cata::optional&lt; std::list&lt; item &gt;::iterator &gt; wear_item(const item &amp;to_wear, bool interactive=true)</div><div class="ttdoc">Wear item; returns nullopt on fail, or pointer to newly worn item on success.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02181">character.cpp:2181</a></div></div>
<div class="ttc" id="aclassitem__location_html"><div class="ttname"><a href="classitem__location.html">item_location</a></div><div class="ttdoc">A lightweight handle to an item independent of it's location Unlike a raw pointer can be (de-)seriali...</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8h_source.html#l00022">item_location.h:23</a></div></div>
<div class="ttc" id="aclassitem__location_html_a41e90133672d99aa1cecde670e37c23c"><div class="ttname"><a href="classitem__location.html#a41e90133672d99aa1cecde670e37c23c">item_location::remove_item</a></div><div class="ttdeci">void remove_item()</div><div class="ttdoc">Removes the selected item from the game.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00758">item_location.cpp:758</a></div></div>
<div class="ttc" id="aclassitem_html_a40963a016376016eb408bdb9dbb94388"><div class="ttname"><a href="classitem.html#a40963a016376016eb408bdb9dbb94388">item::count_by_charges</a></div><div class="ttdeci">bool count_by_charges() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05876">item.cpp:5876</a></div></div>
<div class="ttc" id="aclassitem_html_a6bfb92ab5d41e0eb3a1da160fac71b0e"><div class="ttname"><a href="classitem.html#a6bfb92ab5d41e0eb3a1da160fac71b0e">item::charges</a></div><div class="ttdeci">int charges</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02196">item.h:2196</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="anamespaceavatar__action_html_a76ba74774376a08222b8cdcce08f7304"><div class="ttname"><a href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">avatar_action::move</a></div><div class="ttdeci">bool move(avatar &amp;you, map &amp;m, const tripoint &amp;d)</div><div class="ttdef"><b>Definition:</b> <a href="avatar__action_8cpp_source.html#l00093">avatar_action.cpp:93</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sounds_8cpp_source.html#l00075">act</a>, <a class="el" href="character_8cpp_source.html#l09237">Character::cancel_activity()</a>, <a class="el" href="item_8h_source.html#l02196">item::charges</a>, <a class="el" href="item_8cpp_source.html#l05876">item::count_by_charges()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="avatar__action_8cpp_source.html#l00093">avatar_action::move()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="item__location_8cpp_source.html#l00758">item_location::remove_item()</a>, and <a class="el" href="character_8cpp_source.html#l02181">Character::wear_item()</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__handlers_8cpp_source.html#l03132">activity_handlers::wear_do_turn()</a>.</p>

</div>
</div>
<a id="ab197546d87c39b70720af14982cbbd14" name="ab197546d87c39b70720af14982cbbd14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab197546d87c39b70720af14982cbbd14">&#9670;&nbsp;</a></span>butcher_time_to_cut()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int butcher_time_to_cut </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classinventory.html">inventory</a> &amp;&#160;</td>
          <td class="paramname"><em>inv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>corpse_item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1">butcher_type</a>&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__handlers_8cpp_source.html#l00764">764</a> of file <a class="el" href="activity__handlers_8cpp_source.html">activity_handlers.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>{</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structmtype.html">mtype</a> &amp;<a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a> = *corpse_item.<a class="code hl_function" href="classitem.html#a66ba4b05a8ea5f9f15e4694027235aae">get_mtype</a>();</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> initial_factor = inv.<a class="code hl_function" href="classvisitable.html#a2d2cb1acccff210289e90eb29ca02db8">max_quality</a>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a6919cf355956a5e2b193081486e19ab7">DISSECT</a> ? <a class="code hl_variable" href="activity__handlers_8cpp.html#a79102cccd879186fb2a3e9a0443c604d">qual_CUT_FINE</a> : <a class="code hl_variable" href="activity__handlers_8cpp.html#a3fc86f1d1632ea68f1f84cb278dc1674">qual_BUTCHER</a> );</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>    <span class="comment">// Multiplier for dissection, since it uses different &quot;quality units&quot;</span></div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> factor = <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a6919cf355956a5e2b193081486e19ab7">DISSECT</a> ? ( initial_factor * 15 ) : initial_factor;</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span> </div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>    <span class="keywordtype">int</span> time_to_cut = <a class="code hl_function" href="activity__handlers_8cpp.html#a5971dc7cce6f52b8d6bd0a372d47744d">size_factor_in_time_to_cut</a>( <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.size );</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>    <span class="comment">// At factor 0, base 100 time_to_cut remains 100. At factor 50, it&#39;s 50 , at factor 75 it&#39;s 25</span></div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>    time_to_cut *= std::max( 25, 100 - factor );</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>    <span class="keywordflow">if</span>( time_to_cut &lt; 3000 ) {</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>        time_to_cut = 3000;</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    }</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span> </div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>    <span class="keywordflow">switch</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> ) {</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1ac13438ce42e14a3a50fc1858528e3d42">BUTCHER</a>:</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1aea995e8faa4e4b8cd15a212e24108602">BUTCHER_FULL</a>:</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>            <span class="keywordflow">if</span>( !corpse_item.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="activity__handlers_8cpp.html#ab575d269485a5dcacd4e76fe19d02e2c">flag_FIELD_DRESS</a> ) || corpse_item.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="activity__handlers_8cpp.html#aa087b80a5e68f856d87edf3bee08fb2e">flag_FIELD_DRESS_FAILED</a> ) ) {</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>                time_to_cut *= 6;</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>                time_to_cut *= 4;</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>            }</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a7f7feb2ce2cfa0bf5c75c1a72c867d74">F_DRESS</a>:</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1ad420aa458d168109d8aceea0aa6193ab">SKIN</a>:</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>            time_to_cut *= 2;</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a8dd9342a0e4fd716d2beb9961f5deeed">QUARTER</a>:</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>            time_to_cut = std::max( 1000, time_to_cut / 4 );</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1acfebd714efad0d668053120b59c25998">DISMEMBER</a>:</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>            time_to_cut = std::max( 400, time_to_cut / 10 );</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a6919cf355956a5e2b193081486e19ab7">DISSECT</a>:</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>            time_to_cut *= 7;</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>    }</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span> </div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>    <span class="keywordflow">if</span>( corpse_item.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="activity__handlers_8cpp.html#a1d186960bf1b2fb9a56aa74849ce870d">flag_QUARTERED</a> ) ) {</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>        time_to_cut /= 4;</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>    }</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>    time_to_cut = time_to_cut * ( 10 - <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.get_crafting_helpers( 3 ).size() ) / 10;</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>    <span class="keywordflow">return</span> time_to_cut;</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>}</div>
<div class="ttc" id="aactive__item__cache_8h_html_acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f"><div class="ttname"><a href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">special_item_type::corpse</a></div><div class="ttdeci">@ corpse</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a1d186960bf1b2fb9a56aa74849ce870d"><div class="ttname"><a href="activity__handlers_8cpp.html#a1d186960bf1b2fb9a56aa74849ce870d">flag_QUARTERED</a></div><div class="ttdeci">static const std::string flag_QUARTERED(&quot;QUARTERED&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a3fc86f1d1632ea68f1f84cb278dc1674"><div class="ttname"><a href="activity__handlers_8cpp.html#a3fc86f1d1632ea68f1f84cb278dc1674">qual_BUTCHER</a></div><div class="ttdeci">static const quality_id qual_BUTCHER(&quot;BUTCHER&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a5971dc7cce6f52b8d6bd0a372d47744d"><div class="ttname"><a href="activity__handlers_8cpp.html#a5971dc7cce6f52b8d6bd0a372d47744d">size_factor_in_time_to_cut</a></div><div class="ttdeci">static int size_factor_in_time_to_cut(m_size size)</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8cpp_source.html#l00743">activity_handlers.cpp:743</a></div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a79102cccd879186fb2a3e9a0443c604d"><div class="ttname"><a href="activity__handlers_8cpp.html#a79102cccd879186fb2a3e9a0443c604d">qual_CUT_FINE</a></div><div class="ttdeci">static const quality_id qual_CUT_FINE(&quot;CUT_FINE&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_aa087b80a5e68f856d87edf3bee08fb2e"><div class="ttname"><a href="activity__handlers_8cpp.html#aa087b80a5e68f856d87edf3bee08fb2e">flag_FIELD_DRESS_FAILED</a></div><div class="ttdeci">static const std::string flag_FIELD_DRESS_FAILED(&quot;FIELD_DRESS_FAILED&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_ab575d269485a5dcacd4e76fe19d02e2c"><div class="ttname"><a href="activity__handlers_8cpp.html#ab575d269485a5dcacd4e76fe19d02e2c">flag_FIELD_DRESS</a></div><div class="ttdeci">static const std::string flag_FIELD_DRESS(&quot;FIELD_DRESS&quot;)</div></div>
<div class="ttc" id="aclassitem_html_a66ba4b05a8ea5f9f15e4694027235aae"><div class="ttname"><a href="classitem.html#a66ba4b05a8ea5f9f15e4694027235aae">item::get_mtype</a></div><div class="ttdeci">const mtype * get_mtype() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06496">item.cpp:6496</a></div></div>
<div class="ttc" id="aclassitem_html_aaa5aeb6f838927babb10ede535cf2a73"><div class="ttname"><a href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">item::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag) const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l05213">item.cpp:5213</a></div></div>
<div class="ttc" id="aclassvisitable_html_a2d2cb1acccff210289e90eb29ca02db8"><div class="ttname"><a href="classvisitable.html#a2d2cb1acccff210289e90eb29ca02db8">visitable::max_quality</a></div><div class="ttdeci">int max_quality(const quality_id &amp;qual) const</div><div class="ttdoc">Return maximum tool quality level provided by instance or INT_MIN if not found.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00276">visitable.cpp:276</a></div></div>
<div class="ttc" id="adialogue_8h_html_abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8"><div class="ttname"><a href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a></div><div class="ttdeci">@ action</div><div class="ttdef"><b>Definition:</b> <a href="dialogue_8h_source.html#l00037">dialogue.h:36</a></div></div>
<div class="ttc" id="astructmtype_html"><div class="ttname"><a href="structmtype.html">mtype</a></div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00208">mtype.h:208</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dialogue_8h_source.html#l00036">action</a>, <a class="el" href="activity__handlers_8h_source.html#l00036">BUTCHER</a>, <a class="el" href="activity__handlers_8h_source.html#l00037">BUTCHER_FULL</a>, <a class="el" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>, <a class="el" href="activity__handlers_8h_source.html#l00041">DISMEMBER</a>, <a class="el" href="activity__handlers_8h_source.html#l00042">DISSECT</a>, <a class="el" href="activity__handlers_8h_source.html#l00038">F_DRESS</a>, <a class="el" href="activity__handlers_8cpp.html#ab575d269485a5dcacd4e76fe19d02e2c">flag_FIELD_DRESS()</a>, <a class="el" href="activity__handlers_8cpp.html#aa087b80a5e68f856d87edf3bee08fb2e">flag_FIELD_DRESS_FAILED()</a>, <a class="el" href="activity__handlers_8cpp.html#a1d186960bf1b2fb9a56aa74849ce870d">flag_QUARTERED()</a>, <a class="el" href="game_8cpp_source.html#l00273">g</a>, <a class="el" href="item_8cpp_source.html#l06496">item::get_mtype()</a>, <a class="el" href="item_8cpp_source.html#l05213">item::has_flag()</a>, <a class="el" href="visitable_8cpp_source.html#l00276">visitable&lt; T &gt;::max_quality()</a>, <a class="el" href="activity__handlers_8cpp.html#a3fc86f1d1632ea68f1f84cb278dc1674">qual_BUTCHER</a>, <a class="el" href="activity__handlers_8cpp.html#a79102cccd879186fb2a3e9a0443c604d">qual_CUT_FINE</a>, <a class="el" href="activity__handlers_8h_source.html#l00040">QUARTER</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00743">size_factor_in_time_to_cut()</a>, and <a class="el" href="activity__handlers_8h_source.html#l00039">SKIN</a>.</p>

<p class="reference">Referenced by <a class="el" href="game_8cpp_source.html#l08261">butcher_submenu()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l00532">consider_butchery()</a>.</p>

</div>
</div>
<a id="a8466e2cb2a6024c0d344e5544ac54422" name="a8466e2cb2a6024c0d344e5544ac54422"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8466e2cb2a6024c0d344e5544ac54422">&#9670;&nbsp;</a></span>consider_butchery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbutchery__setup.html">butchery_setup</a> consider_butchery </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>corpse_item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1">butcher_type</a>&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__handlers_8cpp_source.html#l00532">532</a> of file <a class="el" href="activity__handlers_8cpp_source.html">activity_handlers.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>{</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    <a class="code hl_struct" href="structbutchery__setup.html">butchery_setup</a> setup;</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    setup.<a class="code hl_variable" href="structbutchery__setup.html#a929297b8f809d0e02c83ec1e8f4a0b2d">can_do</a> = <a class="code hl_enumvalue" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15caa6105c0a611b41b08f1209506350279e">butchery_possibility::yes</a>;</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>    setup.<a class="code hl_variable" href="structbutchery__setup.html#a0c1b10cffee17fcdc876a761d49d24f5">type</a> = <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a>;</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    <span class="keyword">const</span> <span class="keyword">auto</span> wont_do = [&amp;setup]( <span class="keyword">const</span> std::string &amp; msg, <a class="code hl_enumeration" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98c">butcherable_rating</a> ) {</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>        setup.<a class="code hl_variable" href="structbutchery__setup.html#abd4c3730e3426466a189c03d09357467">problems</a>.emplace_back( msg );</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>        setup.<a class="code hl_variable" href="structbutchery__setup.html#a929297b8f809d0e02c83ec1e8f4a0b2d">can_do</a> = <a class="code hl_enumvalue" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15cac7561db7a418dd39b2201dfe110ab4a4">butchery_possibility::never</a>;</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    };</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    <span class="keyword">const</span> <span class="keyword">auto</span> not_this_one = [&amp;setup]( <span class="keyword">const</span> std::string &amp; msg, <a class="code hl_enumeration" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98c">butcherable_rating</a> ) {</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>        setup.<a class="code hl_variable" href="structbutchery__setup.html#abd4c3730e3426466a189c03d09357467">problems</a>.emplace_back( msg );</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>        <span class="keywordflow">if</span>( setup.<a class="code hl_variable" href="structbutchery__setup.html#a929297b8f809d0e02c83ec1e8f4a0b2d">can_do</a> != <a class="code hl_enumvalue" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15cac7561db7a418dd39b2201dfe110ab4a4">butchery_possibility::never</a> ) {</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>            setup.<a class="code hl_variable" href="structbutchery__setup.html#a929297b8f809d0e02c83ec1e8f4a0b2d">can_do</a> = <a class="code hl_enumvalue" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15ca4bb72b6fd6db308ce11ba2fc2897f84b">butchery_possibility::not_this</a>;</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>        }</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    };</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>    <span class="keyword">const</span> <span class="keyword">auto</span> info = [&amp;setup]( <span class="keyword">const</span> std::string &amp; msg, <a class="code hl_enumeration" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98c">butcherable_rating</a> ) {</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>        setup.<a class="code hl_variable" href="structbutchery__setup.html#a235a5dcd122cf4cb3761dd7393c6985c">info</a>.emplace_back( msg );</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>    };</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>    <span class="keyword">const</span> <span class="keyword">auto</span> need_confirm = [&amp;setup]( <span class="keyword">const</span> std::string &amp; msg, <a class="code hl_enumeration" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98c">butcherable_rating</a> ) {</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>        setup.<a class="code hl_variable" href="structbutchery__setup.html#abd4c3730e3426466a189c03d09357467">problems</a>.emplace_back( msg );</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>        <span class="keywordflow">if</span>( setup.<a class="code hl_variable" href="structbutchery__setup.html#a929297b8f809d0e02c83ec1e8f4a0b2d">can_do</a> == <a class="code hl_enumvalue" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15caa6105c0a611b41b08f1209506350279e">butchery_possibility::yes</a> ) {</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>            setup.<a class="code hl_variable" href="structbutchery__setup.html#a929297b8f809d0e02c83ec1e8f4a0b2d">can_do</a> = <a class="code hl_enumvalue" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15cabf76092eefdd40065fff115fd922df4a">butchery_possibility::need_confirmation</a>;</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>        }</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>    };</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span> </div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>    <span class="keyword">const</span> <a class="code hl_class" href="classinventory.html">inventory</a> &amp;inv = u.<a class="code hl_function" href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">crafting_inventory</a>();</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> factor = inv.<a class="code hl_function" href="classvisitable.html#a2d2cb1acccff210289e90eb29ca02db8">max_quality</a>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a6919cf355956a5e2b193081486e19ab7">DISSECT</a> ? <a class="code hl_variable" href="activity__handlers_8cpp.html#a79102cccd879186fb2a3e9a0443c604d">qual_CUT_FINE</a> : <a class="code hl_variable" href="activity__handlers_8cpp.html#a3fc86f1d1632ea68f1f84cb278dc1674">qual_BUTCHER</a> );</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span> </div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structmtype.html">mtype</a> &amp;<a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a> = *corpse_item.<a class="code hl_function" href="classitem.html#a66ba4b05a8ea5f9f15e4694027235aae">get_mtype</a>();</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span> </div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> != <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a6919cf355956a5e2b193081486e19ab7">DISSECT</a> &amp;&amp; factor == INT_MIN ) {</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>        wont_do( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;None of your cutting tools are suitable for butchering.&quot;</span> ),</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>                 <a class="code hl_enumvalue" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca0165972a7b3702e2d84cad0fd0d07c95">butcherable_rating::no_tool</a> );</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>    }</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span> </div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a6919cf355956a5e2b193081486e19ab7">DISSECT</a> ) {</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>        <span class="keywordflow">switch</span>( factor ) {</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>            <span class="keywordflow">case</span> INT_MIN:</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>                wont_do( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;None of your tools are sharp and precise enough to do that.&quot;</span> ),</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>                         <a class="code hl_enumvalue" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca0165972a7b3702e2d84cad0fd0d07c95">butcherable_rating::no_tool</a> );</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>            <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>                info( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You could use a better tool, but this will do.&quot;</span> ), <a class="code hl_enumvalue" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98caa2ef0f9fb5fe475179ec30f5513aedbd">butcherable_rating::info_tools</a> );</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>            <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>                info( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This tool is great, but you still would like a scalpel.&quot;</span> ),</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>                      <a class="code hl_enumvalue" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98caa2ef0f9fb5fe475179ec30f5513aedbd">butcherable_rating::info_tools</a> );</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>            <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>                info( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You dissect the corpse with a trusty scalpel.&quot;</span> ), <a class="code hl_enumvalue" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98caa2ef0f9fb5fe475179ec30f5513aedbd">butcherable_rating::info_tools</a> );</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>            <span class="keywordflow">case</span> 5:</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>                info( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You dissect the corpse with a sophisticated system of surgical grade scalpels.&quot;</span> ),</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>                      <a class="code hl_enumvalue" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98caa2ef0f9fb5fe475179ec30f5513aedbd">butcherable_rating::info_tools</a> );</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>        }</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>    }</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span> </div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>    <span class="keywordtype">bool</span> has_tree_nearby = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pt : here.<a class="code hl_function" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( u.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a> ) ) {</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>        <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#a27e22f0999ea03eff18babc48643c568">has_flag</a>( <a class="code hl_function" href="activity__handlers_8cpp.html#a966b4e9f56cb4b350b288257241a9e46">flag_TREE</a>, pt ) ) {</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>            has_tree_nearby = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>        }</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>    }</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    <span class="keywordtype">bool</span> b_rack_present = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pt : here.<a class="code hl_function" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( u.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a> ) ) {</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>        <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#a09ef3e8c2e6664e3ed98d1e1e18a4b4f">has_flag_furn</a>( <a class="code hl_function" href="activity__handlers_8cpp.html#ae28438dbcf7aebe3ba4e4c75f66c19d1">flag_BUTCHER_EQ</a>, pt ) ) {</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>            b_rack_present = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>        }</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>    }</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>    <span class="keywordflow">if</span>( !b_rack_present ) {</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>        b_rack_present = inv.<a class="code hl_function" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a>( []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>            <span class="keywordflow">return</span> it.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <span class="stringliteral">&quot;BUTCHER_RACK&quot;</span> );</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>        } );</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    }</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>    <span class="comment">// workshop butchery (full) prequisites</span></div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1aea995e8faa4e4b8cd15a212e24108602">BUTCHER_FULL</a> ) {</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> has_rope = inv.<a class="code hl_function" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a>( <a class="code hl_variable" href="activity__handlers_8cpp.html#a4f940be105e2ae32877c09cce523b3ad">itype_rope_30</a>, 1 ) ||</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>                              inv.<a class="code hl_function" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a>( <a class="code hl_variable" href="activity__handlers_8cpp.html#a38266a973d0f6c1176ce29b62b1686e4">itype_rope_makeshift_30</a>, 1 ) ||</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>                              inv.<a class="code hl_function" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a>( <a class="code hl_variable" href="activity__handlers_8cpp.html#a2e0438a9355392d5920a23385768b3a4">itype_hd_tow_cable</a>, 1 ) ||</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>                              inv.<a class="code hl_function" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a>( <a class="code hl_variable" href="activity__handlers_8cpp.html#a1fdb12ed6f2b5964d6686ad3e1d5b056">itype_vine_30</a>, 1 ) ||</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>                              inv.<a class="code hl_function" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a>( <a class="code hl_variable" href="activity__handlers_8cpp.html#aafb1b26622217051e88207772589b086">itype_grapnel</a>, 1 );</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> big_corpse = <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.size &gt;= <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592aaef7580aead8b8a18bc50cb6c1f98b31">MS_MEDIUM</a>;</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span> </div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>        <span class="keywordflow">if</span>( big_corpse ) {</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>            <span class="keywordflow">if</span>( has_rope &amp;&amp; !has_tree_nearby &amp;&amp; !b_rack_present ) {</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>                not_this_one(</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>                    <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need to suspend this corpse to butcher it.  While you have a rope to lift the corpse, there is no tree nearby to hang it from.&quot;</span> ),</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>                    <a class="code hl_enumvalue" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca3af5f476cb6bdabd45d60b1fc30ab571">butcherable_rating::no_tree_rope_rack</a> );</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>            }</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>            <span class="keywordflow">if</span>( !has_rope &amp;&amp; !b_rack_present ) {</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>                not_this_one(</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>                    <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;To perform a full butchery on a corpse this big, you need either a butchering rack, a nearby hanging meathook, or both a long rope in your inventory and a nearby tree to hang the corpse from.&quot;</span> ),</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>                    <a class="code hl_enumvalue" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca3af5f476cb6bdabd45d60b1fc30ab571">butcherable_rating::no_tree_rope_rack</a> );</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>            }</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>            <span class="keywordflow">if</span>( !( here.<a class="code hl_function" href="classmap.html#a12abdc940dd179905a8df41be1fa3240">has_nearby_table</a>( u.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a> ) || inv.<a class="code hl_function" href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">has_item_with</a>( []( <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp; it ) {</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>            return it.has_flag( <span class="stringliteral">&quot;FLAT_SURFACE&quot;</span> );</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>            } ) ) ) {</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>                not_this_one(</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>                    <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;To perform a full butchery on a corpse this big, you need a table nearby or something else with a flat surface.  A leather tarp spread out on the ground could suffice.&quot;</span> ),</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>                    <a class="code hl_enumvalue" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca2de3826e9eb1e1a8e5cfd432bbe52265">butcherable_rating::no_table</a> );</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>            }</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>        }</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>    }</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span> </div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a6919cf355956a5e2b193081486e19ab7">DISSECT</a> &amp;&amp; ( corpse_item.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="activity__handlers_8cpp.html#a1d186960bf1b2fb9a56aa74849ce870d">flag_QUARTERED</a> ) ||</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>                               corpse_item.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="activity__handlers_8cpp.html#aa087b80a5e68f856d87edf3bee08fb2e">flag_FIELD_DRESS_FAILED</a> ) ) ) {</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>        not_this_one( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It would be futile to search for implants inside this badly damaged corpse.&quot;</span> ),</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>                      <a class="code hl_enumvalue" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98caacb26016ac9641683875be8447419712">butcherable_rating::too_damaged</a> );</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>    }</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span> </div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a7f7feb2ce2cfa0bf5c75c1a72c867d74">F_DRESS</a> &amp;&amp; ( corpse_item.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="activity__handlers_8cpp.html#ab575d269485a5dcacd4e76fe19d02e2c">flag_FIELD_DRESS</a> ) ||</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>                               corpse_item.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="activity__handlers_8cpp.html#aa087b80a5e68f856d87edf3bee08fb2e">flag_FIELD_DRESS_FAILED</a> ) ) ) {</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>        not_this_one( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This corpse is already field dressed.&quot;</span> ),</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>                      <a class="code hl_enumvalue" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca115056f36834f6612822438d3e896652">butcherable_rating::already_dressed</a> );</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    }</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span> </div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1ad420aa458d168109d8aceea0aa6193ab">SKIN</a> &amp;&amp; corpse_item.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="activity__handlers_8cpp.html#a1d7ac4becfeaaa64b846aa3570298b85">flag_SKINNED</a> ) ) {</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>        not_this_one( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This corpse is already skinned.&quot;</span> ), <a class="code hl_enumvalue" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca6fe241da5f617cae3001b8db2721bd44">butcherable_rating::already_skinned</a> );</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>    }</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span> </div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> == <a class="code hl_enumvalue" href="activity__handlers_8h.html#a9c785a0b9eb129639f10c4d6f48b49c1a8dd9342a0e4fd716d2beb9961f5deeed">QUARTER</a> ) {</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>        <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.size == <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614">MS_TINY</a> ) {</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>            not_this_one( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This corpse is too small to quarter without damaging.&quot;</span> ),</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>                          <a class="code hl_enumvalue" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98cae8fca065c883322fc33dcf9c5f422340">butcherable_rating::too_small</a> );</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>        }</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>        <span class="keywordflow">if</span>( corpse_item.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="activity__handlers_8cpp.html#a1d186960bf1b2fb9a56aa74849ce870d">flag_QUARTERED</a> ) ) {</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>            not_this_one( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;This is already quartered.&quot;</span> ), <a class="code hl_enumvalue" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98cac54966e898166337668da8557cb9a5df">butcherable_rating::already_quartered</a> );</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>        }</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>        <span class="keywordflow">if</span>( !( corpse_item.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="activity__handlers_8cpp.html#ab575d269485a5dcacd4e76fe19d02e2c">flag_FIELD_DRESS</a> ) ||</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>               corpse_item.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="activity__handlers_8cpp.html#aa087b80a5e68f856d87edf3bee08fb2e">flag_FIELD_DRESS_FAILED</a> ) ) &amp;&amp;</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>            corpse_item.<a class="code hl_function" href="classitem.html#a66ba4b05a8ea5f9f15e4694027235aae">get_mtype</a>()-&gt;<a class="code hl_variable" href="structmtype.html#af030166bf534dd2e4af6897c269bec38">harvest</a>-&gt;<a class="code hl_function" href="classharvest__list.html#ad41b6f2da745f60a65f295894099d9e5">has_entry_type</a>( <span class="stringliteral">&quot;offal&quot;</span> ) ) {</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>            not_this_one( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need to perform field dressing before quartering.&quot;</span> ),</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>                          <a class="code hl_enumvalue" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca27b95b47f64836836fb39e57a392746d">butcherable_rating::needs_dressing</a> );</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>        }</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>    }</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span> </div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>    <span class="comment">// applies to all butchery actions</span></div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_human = <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.id == <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">mtype_id::NULL_ID</a>() || ( <a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.in_species( <a class="code hl_variable" href="activity__handlers_8cpp.html#a68c5ef383bc1e0a72f76c0e09276a494">HUMAN</a> ) &amp;&amp;</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>                          !<a class="code hl_enumvalue" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>.in_species( <a class="code hl_variable" href="activity__handlers_8cpp.html#a4e2730248c54d4d07fa7e215efb35d1a">ZOMBIE</a> ) );</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>    <span class="keywordflow">if</span>( is_human &amp;&amp; !( u.<a class="code hl_function" href="classCharacter.html#a21a89fdd699655461fd63d27179d3adb">has_trait_flag</a>( <a class="code hl_function" href="activity__handlers_8cpp.html#aa0a8171c82d9d98177ec082a22416d61">trait_flag_CANNIBAL</a> ) ||</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>                       u.<a class="code hl_function" href="classCharacter.html#a21a89fdd699655461fd63d27179d3adb">has_trait_flag</a>( <a class="code hl_function" href="activity__handlers_8cpp.html#ae8ed4b892eeba8b39d0bdde599e8fd18">trait_flag_PSYCHOPATH</a> ) ||</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>                       u.<a class="code hl_function" href="classCharacter.html#a21a89fdd699655461fd63d27179d3adb">has_trait_flag</a>( <a class="code hl_function" href="activity__handlers_8cpp.html#acf7b10183ed62181f9677ec9b0ed962d">trait_flag_SAPIOVORE</a> ) ) ) {</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>        need_confirm( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Would you dare desecrate the mortal remains of a fellow human being?&quot;</span> ),</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>                      <a class="code hl_enumvalue" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca4fd7bdf589b0cc26d84f17430d7c166e">butcherable_rating::warn_cannibalism</a> );</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>    }</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span> </div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    setup.<a class="code hl_variable" href="structbutchery__setup.html#a772c39697a79c2ee3baa6db4977bc795">move_cost</a> = <a class="code hl_function" href="activity__handlers_8cpp.html#a88957d52cc36bf546b3adf39c89ed1e2">butcher_time_to_cut</a>( inv, corpse_item, <a class="code hl_enumvalue" href="dialogue_8h.html#abfef6960b077f40e23bc00055370cc71a0639a24a99be1d60fe688dd938b7eca8">action</a> );</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span> </div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    <span class="keywordflow">return</span> setup;</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>}</div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a1d7ac4becfeaaa64b846aa3570298b85"><div class="ttname"><a href="activity__handlers_8cpp.html#a1d7ac4becfeaaa64b846aa3570298b85">flag_SKINNED</a></div><div class="ttdeci">static const std::string flag_SKINNED(&quot;SKINNED&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a1fdb12ed6f2b5964d6686ad3e1d5b056"><div class="ttname"><a href="activity__handlers_8cpp.html#a1fdb12ed6f2b5964d6686ad3e1d5b056">itype_vine_30</a></div><div class="ttdeci">static const itype_id itype_vine_30(&quot;vine_30&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a2e0438a9355392d5920a23385768b3a4"><div class="ttname"><a href="activity__handlers_8cpp.html#a2e0438a9355392d5920a23385768b3a4">itype_hd_tow_cable</a></div><div class="ttdeci">static const itype_id itype_hd_tow_cable(&quot;hd_tow_cable&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a38266a973d0f6c1176ce29b62b1686e4"><div class="ttname"><a href="activity__handlers_8cpp.html#a38266a973d0f6c1176ce29b62b1686e4">itype_rope_makeshift_30</a></div><div class="ttdeci">static const itype_id itype_rope_makeshift_30(&quot;rope_makeshift_30&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a4331e09811b20c1de003fd222deca98c"><div class="ttname"><a href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98c">butcherable_rating</a></div><div class="ttdeci">butcherable_rating</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8cpp_source.html#l00516">activity_handlers.cpp:516</a></div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a4331e09811b20c1de003fd222deca98ca0165972a7b3702e2d84cad0fd0d07c95"><div class="ttname"><a href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca0165972a7b3702e2d84cad0fd0d07c95">butcherable_rating::no_tool</a></div><div class="ttdeci">@ no_tool</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a4331e09811b20c1de003fd222deca98ca115056f36834f6612822438d3e896652"><div class="ttname"><a href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca115056f36834f6612822438d3e896652">butcherable_rating::already_dressed</a></div><div class="ttdeci">@ already_dressed</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a4331e09811b20c1de003fd222deca98ca27b95b47f64836836fb39e57a392746d"><div class="ttname"><a href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca27b95b47f64836836fb39e57a392746d">butcherable_rating::needs_dressing</a></div><div class="ttdeci">@ needs_dressing</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a4331e09811b20c1de003fd222deca98ca2de3826e9eb1e1a8e5cfd432bbe52265"><div class="ttname"><a href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca2de3826e9eb1e1a8e5cfd432bbe52265">butcherable_rating::no_table</a></div><div class="ttdeci">@ no_table</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a4331e09811b20c1de003fd222deca98ca3af5f476cb6bdabd45d60b1fc30ab571"><div class="ttname"><a href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca3af5f476cb6bdabd45d60b1fc30ab571">butcherable_rating::no_tree_rope_rack</a></div><div class="ttdeci">@ no_tree_rope_rack</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a4331e09811b20c1de003fd222deca98ca4fd7bdf589b0cc26d84f17430d7c166e"><div class="ttname"><a href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca4fd7bdf589b0cc26d84f17430d7c166e">butcherable_rating::warn_cannibalism</a></div><div class="ttdeci">@ warn_cannibalism</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a4331e09811b20c1de003fd222deca98ca6fe241da5f617cae3001b8db2721bd44"><div class="ttname"><a href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca6fe241da5f617cae3001b8db2721bd44">butcherable_rating::already_skinned</a></div><div class="ttdeci">@ already_skinned</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a4331e09811b20c1de003fd222deca98caa2ef0f9fb5fe475179ec30f5513aedbd"><div class="ttname"><a href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98caa2ef0f9fb5fe475179ec30f5513aedbd">butcherable_rating::info_tools</a></div><div class="ttdeci">@ info_tools</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a4331e09811b20c1de003fd222deca98caacb26016ac9641683875be8447419712"><div class="ttname"><a href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98caacb26016ac9641683875be8447419712">butcherable_rating::too_damaged</a></div><div class="ttdeci">@ too_damaged</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a4331e09811b20c1de003fd222deca98cac54966e898166337668da8557cb9a5df"><div class="ttname"><a href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98cac54966e898166337668da8557cb9a5df">butcherable_rating::already_quartered</a></div><div class="ttdeci">@ already_quartered</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a4331e09811b20c1de003fd222deca98cae8fca065c883322fc33dcf9c5f422340"><div class="ttname"><a href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98cae8fca065c883322fc33dcf9c5f422340">butcherable_rating::too_small</a></div><div class="ttdeci">@ too_small</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a4e2730248c54d4d07fa7e215efb35d1a"><div class="ttname"><a href="activity__handlers_8cpp.html#a4e2730248c54d4d07fa7e215efb35d1a">ZOMBIE</a></div><div class="ttdeci">static const species_id ZOMBIE(&quot;ZOMBIE&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a4f940be105e2ae32877c09cce523b3ad"><div class="ttname"><a href="activity__handlers_8cpp.html#a4f940be105e2ae32877c09cce523b3ad">itype_rope_30</a></div><div class="ttdeci">static const itype_id itype_rope_30(&quot;rope_30&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a68c5ef383bc1e0a72f76c0e09276a494"><div class="ttname"><a href="activity__handlers_8cpp.html#a68c5ef383bc1e0a72f76c0e09276a494">HUMAN</a></div><div class="ttdeci">static const species_id HUMAN(&quot;HUMAN&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a88957d52cc36bf546b3adf39c89ed1e2"><div class="ttname"><a href="activity__handlers_8cpp.html#a88957d52cc36bf546b3adf39c89ed1e2">butcher_time_to_cut</a></div><div class="ttdeci">int butcher_time_to_cut(const inventory &amp;inv, const item &amp;corpse_item, const butcher_type action)</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8cpp_source.html#l00764">activity_handlers.cpp:764</a></div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_a966b4e9f56cb4b350b288257241a9e46"><div class="ttname"><a href="activity__handlers_8cpp.html#a966b4e9f56cb4b350b288257241a9e46">flag_TREE</a></div><div class="ttdeci">static const std::string flag_TREE(&quot;TREE&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_aa0a8171c82d9d98177ec082a22416d61"><div class="ttname"><a href="activity__handlers_8cpp.html#aa0a8171c82d9d98177ec082a22416d61">trait_flag_CANNIBAL</a></div><div class="ttdeci">static const std::string trait_flag_CANNIBAL(&quot;CANNIBAL&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_aafb1b26622217051e88207772589b086"><div class="ttname"><a href="activity__handlers_8cpp.html#aafb1b26622217051e88207772589b086">itype_grapnel</a></div><div class="ttdeci">static const itype_id itype_grapnel(&quot;grapnel&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_acf7b10183ed62181f9677ec9b0ed962d"><div class="ttname"><a href="activity__handlers_8cpp.html#acf7b10183ed62181f9677ec9b0ed962d">trait_flag_SAPIOVORE</a></div><div class="ttdeci">static const std::string trait_flag_SAPIOVORE(&quot;SAPIOVORE&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_ae28438dbcf7aebe3ba4e4c75f66c19d1"><div class="ttname"><a href="activity__handlers_8cpp.html#ae28438dbcf7aebe3ba4e4c75f66c19d1">flag_BUTCHER_EQ</a></div><div class="ttdeci">static const std::string flag_BUTCHER_EQ(&quot;BUTCHER_EQ&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8cpp_html_ae8ed4b892eeba8b39d0bdde599e8fd18"><div class="ttname"><a href="activity__handlers_8cpp.html#ae8ed4b892eeba8b39d0bdde599e8fd18">trait_flag_PSYCHOPATH</a></div><div class="ttdeci">static const std::string trait_flag_PSYCHOPATH(&quot;PSYCHOPATH&quot;)</div></div>
<div class="ttc" id="aactivity__handlers_8h_html_a08dd09ef68bc61547f55f17bec54a15caa6105c0a611b41b08f1209506350279e"><div class="ttname"><a href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15caa6105c0a611b41b08f1209506350279e">butchery_possibility::yes</a></div><div class="ttdeci">@ yes</div></div>
<div class="ttc" id="acached__options_8cpp_html_a1467e25ae6a1c8f9d4489be4a8e014a3"><div class="ttname"><a href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a></div><div class="ttdeci">int PICKUP_RANGE</div><div class="ttdoc">Items on the map with at most this distance to the player are considered available for crafting,...</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00019">cached_options.cpp:19</a></div></div>
<div class="ttc" id="aclassCharacter_html_a21a89fdd699655461fd63d27179d3adb"><div class="ttname"><a href="classCharacter.html#a21a89fdd699655461fd63d27179d3adb">Character::has_trait_flag</a></div><div class="ttdeci">bool has_trait_flag(const std::string &amp;b) const</div><div class="ttdoc">Returns true if player has a trait with a flag.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00108">mutation.cpp:108</a></div></div>
<div class="ttc" id="aclassCharacter_html_abd358c7a7757575b70b1613dbcce40a7"><div class="ttname"><a href="classCharacter.html#abd358c7a7757575b70b1613dbcce40a7">Character::crafting_inventory</a></div><div class="ttdeci">const inventory &amp; crafting_inventory(bool clear_path)</div><div class="ttdef"><b>Definition:</b> <a href="crafting_8cpp_source.html#l00553">crafting.cpp:553</a></div></div>
<div class="ttc" id="aclassharvest__list_html_ad41b6f2da745f60a65f295894099d9e5"><div class="ttname"><a href="classharvest__list.html#ad41b6f2da745f60a65f295894099d9e5">harvest_list::has_entry_type</a></div><div class="ttdeci">bool has_entry_type(std::string type) const</div><div class="ttdef"><b>Definition:</b> <a href="harvest_8cpp_source.html#l00058">harvest.cpp:58</a></div></div>
<div class="ttc" id="aclassinventory_html"><div class="ttname"><a href="classinventory.html">inventory</a></div><div class="ttdef"><b>Definition:</b> <a href="inventory_8h_source.html#l00089">inventory.h:90</a></div></div>
<div class="ttc" id="aclassmap_html_a09ef3e8c2e6664e3ed98d1e1e18a4b4f"><div class="ttname"><a href="classmap.html#a09ef3e8c2e6664e3ed98d1e1e18a4b4f">map::has_flag_furn</a></div><div class="ttdeci">bool has_flag_furn(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02317">map.cpp:2317</a></div></div>
<div class="ttc" id="aclassmap_html_a12abdc940dd179905a8df41be1fa3240"><div class="ttname"><a href="classmap.html#a12abdc940dd179905a8df41be1fa3240">map::has_nearby_table</a></div><div class="ttdeci">bool has_nearby_table(const tripoint &amp;p, int radius=1)</div><div class="ttdoc">Check whether a table/workbench/vehicle kitchen or other flat surface is nearby that could be used fo...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02766">map.cpp:2766</a></div></div>
<div class="ttc" id="aclassmap_html_a27e22f0999ea03eff18babc48643c568"><div class="ttname"><a href="classmap.html#a27e22f0999ea03eff18babc48643c568">map::has_flag</a></div><div class="ttdeci">bool has_flag(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02293">map.cpp:2293</a></div></div>
<div class="ttc" id="aclassmap_html_a4f5f812d7e89a998429958573a4c340f"><div class="ttname"><a href="classmap.html#a4f5f812d7e89a998429958573a4c340f">map::points_in_radius</a></div><div class="ttdeci">tripoint_range&lt; tripoint &gt; points_in_radius(const tripoint &amp;center, size_t radius, size_t radiusz=0) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l08605">map.cpp:8605</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae29dd8ed38d2b5eb443a65ad46f10b2d"><div class="ttname"><a href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; mtype &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; mtype &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="aclassvisitable_html_abf24bf044bbf16def702fd78351fc46f"><div class="ttname"><a href="classvisitable.html#abf24bf044bbf16def702fd78351fc46f">visitable::has_item_with</a></div><div class="ttdeci">bool has_item_with(const std::function&lt; bool(const item &amp;)&gt; &amp;filter) const</div><div class="ttdoc">Returns true if any item (including those within a container) matches the filter.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l00104">visitable.cpp:104</a></div></div>
<div class="ttc" id="aclassvisitable_html_ac50bc4422d4636a70a97d41787f22d0d"><div class="ttname"><a href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">visitable::has_amount</a></div><div class="ttdeci">bool has_amount(const itype_id &amp;what, int qty, bool pseudo=true, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdoc">Check instance provides at least qty of an item (.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l01108">visitable.cpp:1108</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614">MS_TINY</a></div><div class="ttdeci">@ MS_TINY</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00058">creature.h:58</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592aaef7580aead8b8a18bc50cb6c1f98b31"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592aaef7580aead8b8a18bc50cb6c1f98b31">MS_MEDIUM</a></div><div class="ttdeci">@ MS_MEDIUM</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00060">creature.h:60</a></div></div>
<div class="ttc" id="astructbutchery__setup_html"><div class="ttname"><a href="structbutchery__setup.html">butchery_setup</a></div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00108">activity_handlers.h:108</a></div></div>
<div class="ttc" id="astructbutchery__setup_html_a0c1b10cffee17fcdc876a761d49d24f5"><div class="ttname"><a href="structbutchery__setup.html#a0c1b10cffee17fcdc876a761d49d24f5">butchery_setup::type</a></div><div class="ttdeci">butcher_type type</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00113">activity_handlers.h:113</a></div></div>
<div class="ttc" id="astructbutchery__setup_html_a235a5dcd122cf4cb3761dd7393c6985c"><div class="ttname"><a href="structbutchery__setup.html#a235a5dcd122cf4cb3761dd7393c6985c">butchery_setup::info</a></div><div class="ttdeci">std::vector&lt; std::string &gt; info</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00110">activity_handlers.h:110</a></div></div>
<div class="ttc" id="astructbutchery__setup_html_a772c39697a79c2ee3baa6db4977bc795"><div class="ttname"><a href="structbutchery__setup.html#a772c39697a79c2ee3baa6db4977bc795">butchery_setup::move_cost</a></div><div class="ttdeci">int move_cost</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00112">activity_handlers.h:112</a></div></div>
<div class="ttc" id="astructbutchery__setup_html_a929297b8f809d0e02c83ec1e8f4a0b2d"><div class="ttname"><a href="structbutchery__setup.html#a929297b8f809d0e02c83ec1e8f4a0b2d">butchery_setup::can_do</a></div><div class="ttdeci">butchery_possibility can_do</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00111">activity_handlers.h:111</a></div></div>
<div class="ttc" id="astructbutchery__setup_html_abd4c3730e3426466a189c03d09357467"><div class="ttname"><a href="structbutchery__setup.html#abd4c3730e3426466a189c03d09357467">butchery_setup::problems</a></div><div class="ttdeci">std::vector&lt; std::string &gt; problems</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00109">activity_handlers.h:109</a></div></div>
<div class="ttc" id="astructmtype_html_af030166bf534dd2e4af6897c269bec38"><div class="ttname"><a href="structmtype.html#af030166bf534dd2e4af6897c269bec38">mtype::harvest</a></div><div class="ttdeci">harvest_id harvest</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00312">mtype.h:312</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="dialogue_8h_source.html#l00036">action</a>, <a class="el" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca115056f36834f6612822438d3e896652">already_dressed</a>, <a class="el" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98cac54966e898166337668da8557cb9a5df">already_quartered</a>, <a class="el" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca6fe241da5f617cae3001b8db2721bd44">already_skinned</a>, <a class="el" href="activity__handlers_8h_source.html#l00037">BUTCHER_FULL</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00764">butcher_time_to_cut()</a>, <a class="el" href="activity__handlers_8h_source.html#l00111">butchery_setup::can_do</a>, <a class="el" href="active__item__cache_8h.html#acc683dc9a32f0cb3fb0032b41c6e17b5ae89196f1cb52069efe1f4bf0942bcb7f">corpse</a>, <a class="el" href="crafting_8cpp_source.html#l00553">Character::crafting_inventory()</a>, <a class="el" href="activity__handlers_8h_source.html#l00042">DISSECT</a>, <a class="el" href="activity__handlers_8h_source.html#l00038">F_DRESS</a>, <a class="el" href="activity__handlers_8cpp.html#ae28438dbcf7aebe3ba4e4c75f66c19d1">flag_BUTCHER_EQ()</a>, <a class="el" href="activity__handlers_8cpp.html#ab575d269485a5dcacd4e76fe19d02e2c">flag_FIELD_DRESS()</a>, <a class="el" href="activity__handlers_8cpp.html#aa087b80a5e68f856d87edf3bee08fb2e">flag_FIELD_DRESS_FAILED()</a>, <a class="el" href="activity__handlers_8cpp.html#a1d186960bf1b2fb9a56aa74849ce870d">flag_QUARTERED()</a>, <a class="el" href="activity__handlers_8cpp.html#a1d7ac4becfeaaa64b846aa3570298b85">flag_SKINNED()</a>, <a class="el" href="activity__handlers_8cpp.html#a966b4e9f56cb4b350b288257241a9e46">flag_TREE()</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="item_8cpp_source.html#l06496">item::get_mtype()</a>, <a class="el" href="mtype_8h_source.html#l00312">mtype::harvest</a>, <a class="el" href="visitable_8cpp_source.html#l01108">visitable&lt; T &gt;::has_amount()</a>, <a class="el" href="harvest_8cpp_source.html#l00058">harvest_list::has_entry_type()</a>, <a class="el" href="item_8cpp_source.html#l05213">item::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l02293">map::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l02317">map::has_flag_furn()</a>, <a class="el" href="visitable_8cpp_source.html#l00104">visitable&lt; T &gt;::has_item_with()</a>, <a class="el" href="map_8cpp_source.html#l02766">map::has_nearby_table()</a>, <a class="el" href="mutation_8cpp_source.html#l00108">Character::has_trait_flag()</a>, <a class="el" href="activity__handlers_8cpp.html#a68c5ef383bc1e0a72f76c0e09276a494">HUMAN</a>, <a class="el" href="activity__handlers_8h_source.html#l00110">butchery_setup::info</a>, <a class="el" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98caa2ef0f9fb5fe475179ec30f5513aedbd">info_tools</a>, <a class="el" href="activity__handlers_8cpp.html#aafb1b26622217051e88207772589b086">itype_grapnel</a>, <a class="el" href="activity__handlers_8cpp.html#a2e0438a9355392d5920a23385768b3a4">itype_hd_tow_cable</a>, <a class="el" href="activity__handlers_8cpp.html#a4f940be105e2ae32877c09cce523b3ad">itype_rope_30</a>, <a class="el" href="activity__handlers_8cpp.html#a38266a973d0f6c1176ce29b62b1686e4">itype_rope_makeshift_30</a>, <a class="el" href="activity__handlers_8cpp.html#a1fdb12ed6f2b5964d6686ad3e1d5b056">itype_vine_30</a>, <a class="el" href="visitable_8cpp_source.html#l00276">visitable&lt; T &gt;::max_quality()</a>, <a class="el" href="activity__handlers_8h_source.html#l00112">butchery_setup::move_cost</a>, <a class="el" href="creature_8h_source.html#l00060">MS_MEDIUM</a>, <a class="el" href="creature_8h_source.html#l00058">MS_TINY</a>, <a class="el" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15cabf76092eefdd40065fff115fd922df4a">need_confirmation</a>, <a class="el" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca27b95b47f64836836fb39e57a392746d">needs_dressing</a>, <a class="el" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15cac7561db7a418dd39b2201dfe110ab4a4">never</a>, <a class="el" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca2de3826e9eb1e1a8e5cfd432bbe52265">no_table</a>, <a class="el" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca0165972a7b3702e2d84cad0fd0d07c95">no_tool</a>, <a class="el" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca3af5f476cb6bdabd45d60b1fc30ab571">no_tree_rope_rack</a>, <a class="el" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15ca4bb72b6fd6db308ce11ba2fc2897f84b">not_this</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; mtype &gt;::NULL_ID()</a>, <a class="el" href="cached__options_8cpp_source.html#l00019">PICKUP_RANGE</a>, <a class="el" href="map_8cpp_source.html#l08605">map::points_in_radius()</a>, <a class="el" href="character_8cpp_source.html#l00714">Character::pos()</a>, <a class="el" href="activity__handlers_8h_source.html#l00109">butchery_setup::problems</a>, <a class="el" href="activity__handlers_8cpp.html#a3fc86f1d1632ea68f1f84cb278dc1674">qual_BUTCHER</a>, <a class="el" href="activity__handlers_8cpp.html#a79102cccd879186fb2a3e9a0443c604d">qual_CUT_FINE</a>, <a class="el" href="activity__handlers_8h_source.html#l00040">QUARTER</a>, <a class="el" href="activity__handlers_8h_source.html#l00039">SKIN</a>, <a class="el" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98caacb26016ac9641683875be8447419712">too_damaged</a>, <a class="el" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98cae8fca065c883322fc33dcf9c5f422340">too_small</a>, <a class="el" href="activity__handlers_8cpp.html#aa0a8171c82d9d98177ec082a22416d61">trait_flag_CANNIBAL()</a>, <a class="el" href="activity__handlers_8cpp.html#ae8ed4b892eeba8b39d0bdde599e8fd18">trait_flag_PSYCHOPATH()</a>, <a class="el" href="activity__handlers_8cpp.html#acf7b10183ed62181f9677ec9b0ed962d">trait_flag_SAPIOVORE()</a>, <a class="el" href="activity__handlers_8h_source.html#l00113">butchery_setup::type</a>, <a class="el" href="activity__handlers_8cpp.html#a4331e09811b20c1de003fd222deca98ca4fd7bdf589b0cc26d84f17430d7c166e">warn_cannibalism</a>, <a class="el" href="activity__handlers_8h.html#a08dd09ef68bc61547f55f17bec54a15caa6105c0a611b41b08f1209506350279e">yes</a>, and <a class="el" href="activity__handlers_8cpp.html#a4e2730248c54d4d07fa7e215efb35d1a">ZOMBIE</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__handlers_8cpp_source.html#l01130">activity_handlers::butcher_finish()</a>, and <a class="el" href="game_8cpp_source.html#l08261">butcher_submenu()</a>.</p>

</div>
</div>
<a id="a7a8187a46223fffe87a69ae5c289b1c5" name="a7a8187a46223fffe87a69ae5c289b1c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a8187a46223fffe87a69ae5c289b1c5">&#9670;&nbsp;</a></span>drop_on_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drop_on_map </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611">item_drop_reason</a>&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>where</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l00306">306</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>{</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    <span class="keywordflow">if</span>( items.empty() ) {</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    }</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    <span class="keyword">const</span> std::string ter_name = here.<a class="code hl_function" href="classmap.html#a148fb7ddc87ffb1da97dd33e0529c983">name</a>( where );</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_move_there = here.<a class="code hl_function" href="classmap.html#af563dc2397e71a053569cb45c6bb7e77">passable</a>( where );</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span> </div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="activity__item__handling_8cpp.html#ad519af899571e96094ca0cd2e286b38b">same_type</a>( items ) ) {</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>        <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;it = items.front();</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> dropcount = items.size() * it.<a class="code hl_function" href="classitem.html#a016494fa25a7a403fe78fadbd90b267b">count</a>();</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>        <span class="keyword">const</span> std::string it_name = it.<a class="code hl_function" href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">tname</a>( dropcount );</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span> </div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>        <span class="keywordflow">switch</span>( reason ) {</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a38dd6f2bec3ea3b3cde92db954842bdb">item_drop_reason::deliberate</a>:</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>                <span class="keywordflow">if</span>( can_move_there ) {</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>                    <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.add_msg_player_or_npc(</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>                        <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;You drop your %1$s on the %2$s.&quot;</span>,</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>                                  <span class="stringliteral">&quot;You drop your %1$s on the %2$s.&quot;</span>, dropcount ),</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>                        <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;&lt;npcname&gt; drops their %1$s on the %2$s.&quot;</span>,</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>                                  <span class="stringliteral">&quot;&lt;npcname&gt; drops their %1$s on the %2$s.&quot;</span>, dropcount ),</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>                        it_name, ter_name</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>                    );</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>                    <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.add_msg_player_or_npc(</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>                        <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;You put your %1$s in the %2$s.&quot;</span>,</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>                                  <span class="stringliteral">&quot;You put your %1$s in the %2$s.&quot;</span>, dropcount ),</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>                        <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;&lt;npcname&gt; puts their %1$s in the %2$s.&quot;</span>,</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>                                  <span class="stringliteral">&quot;&lt;npcname&gt; puts their %1$s in the %2$s.&quot;</span>, dropcount ),</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>                        it_name, ter_name</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>                    );</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>                }</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a7a45a1d1bfe36a2c1205fbd1b450d80a">item_drop_reason::too_large</a>:</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>                <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.add_msg_if_player(</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>                    <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;There&#39;s no room in your inventory for the %s, so you drop it.&quot;</span>,</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>                              <span class="stringliteral">&quot;There&#39;s no room in your inventory for the %s, so you drop them.&quot;</span>, dropcount ),</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>                    it_name</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>                );</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611aff8308727957bfea9d0a143e9fc77e5e">item_drop_reason::too_heavy</a>:</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>                <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.add_msg_if_player(</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>                    <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;The %s is too heavy to carry, so you drop it.&quot;</span>,</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>                              <span class="stringliteral">&quot;The %s is too heavy to carry, so you drop them.&quot;</span>, dropcount ),</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>                    it_name</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>                );</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a5d678b593bf07d40cb146abdb74e5d51">item_drop_reason::tumbling</a>:</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>                <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.add_msg_if_player(</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>                    <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>,</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>                    <a class="code hl_function" href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a>( <span class="stringliteral">&quot;Your %1$s tumbles to the %2$s.&quot;</span>,</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>                              <span class="stringliteral">&quot;Your %1$s tumble to the %2$s.&quot;</span>, dropcount ),</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>                    it_name, ter_name</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>                );</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>        }</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>        <span class="keywordflow">switch</span>( reason ) {</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a38dd6f2bec3ea3b3cde92db954842bdb">item_drop_reason::deliberate</a>:</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>                <span class="keywordflow">if</span>( can_move_there ) {</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>                    <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.add_msg_player_or_npc(</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>                        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You drop several items on the %s.&quot;</span> ),</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>                        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; drops several items on the %s.&quot;</span> ),</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>                        ter_name</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>                    );</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>                    <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.add_msg_player_or_npc(</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>                        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You put several items in the %s.&quot;</span> ),</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>                        <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; puts several items in the %s.&quot;</span> ),</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>                        ter_name</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>                    );</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>                }</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a7a45a1d1bfe36a2c1205fbd1b450d80a">item_drop_reason::too_large</a>:</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611aff8308727957bfea9d0a143e9fc77e5e">item_drop_reason::too_heavy</a>:</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a5d678b593bf07d40cb146abdb74e5d51">item_drop_reason::tumbling</a>:</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>                <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.add_msg_if_player( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Some items tumble to the %s.&quot;</span> ), ter_name );</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>        }</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    }</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;it : items ) {</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>        here.<a class="code hl_function" href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">add_item_or_charges</a>( where, it );</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>        <a class="code hl_function" href="activity__item__handling_8cpp.html#aa45f8f31d17ea4416023704ee27ef6e5">pass_to_ownership_handling</a>( it, <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a> );</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    }</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>}</div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_aa45f8f31d17ea4416023704ee27ef6e5"><div class="ttname"><a href="activity__item__handling_8cpp.html#aa45f8f31d17ea4416023704ee27ef6e5">pass_to_ownership_handling</a></div><div class="ttdeci">static void pass_to_ownership_handling(item obj, Character &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00276">activity_item_handling.cpp:276</a></div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_ad519af899571e96094ca0cd2e286b38b"><div class="ttname"><a href="activity__item__handling_8cpp.html#ad519af899571e96094ca0cd2e286b38b">same_type</a></div><div class="ttdeci">static bool same_type(const std::list&lt; item &gt; &amp;items)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00155">activity_item_handling.cpp:155</a></div></div>
<div class="ttc" id="aclassitem_html_a7e78e26dcf9b357cda769c3ca2938eda"><div class="ttname"><a href="classitem.html#a7e78e26dcf9b357cda769c3ca2938eda">item::tname</a></div><div class="ttdeci">std::string tname(unsigned int quantity=1, bool with_prefix=true, unsigned int truncate=0) const</div><div class="ttdoc">Return the (translated) item name.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04465">item.cpp:4465</a></div></div>
<div class="ttc" id="aclassmap_html_a148fb7ddc87ffb1da97dd33e0529c983"><div class="ttname"><a href="classmap.html#a148fb7ddc87ffb1da97dd33e0529c983">map::name</a></div><div class="ttdeci">std::string name(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01325">map.cpp:1325</a></div></div>
<div class="ttc" id="aclassmap_html_a5579e13088b4ccd9c5a75458919d528a"><div class="ttname"><a href="classmap.html#a5579e13088b4ccd9c5a75458919d528a">map::add_item_or_charges</a></div><div class="ttdeci">item &amp; add_item_or_charges(const tripoint &amp;pos, item obj, bool overflow=true)</div><div class="ttdoc">Adds an item to map tile or stacks charges.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l04224">map.cpp:4224</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a></div><div class="ttdeci">@ m_bad</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00261">enums.h:261</a></div></div>
<div class="ttc" id="amagic_8cpp_html_a6753ecfe87da659675b18c2f81d6ec12"><div class="ttname"><a href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a></div><div class="ttdeci">constexpr double c</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01032">magic.cpp:1032</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_a82b835742108b8d7f5f6a291b41e208e"><div class="ttname"><a href="translations_8cpp.html#a82b835742108b8d7f5f6a291b41e208e">vgettext</a></div><div class="ttdeci">const char * vgettext(const char *msgid, const char *msgid_plural, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00036">translations.cpp:36</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="map_8cpp_source.html#l04224">map::add_item_or_charges()</a>, <a class="el" href="magic_8cpp_source.html#l01032">c</a>, <a class="el" href="item_8cpp_source.html#l05881">item::count()</a>, <a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a38dd6f2bec3ea3b3cde92db954842bdb">deliberate</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="enums_8h_source.html#l00261">m_bad</a>, <a class="el" href="map_8cpp_source.html#l01325">map::name()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00276">pass_to_ownership_handling()</a>, <a class="el" href="map_8cpp_source.html#l01800">map::passable()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00155">same_type()</a>, <a class="el" href="item_8cpp_source.html#l04465">item::tname()</a>, <a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611aff8308727957bfea9d0a143e9fc77e5e">too_heavy</a>, <a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a7a45a1d1bfe36a2c1205fbd1b450d80a">too_large</a>, <a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611a5d678b593bf07d40cb146abdb74e5d51">tumbling</a>, and <a class="el" href="translations_8cpp_source.html#l00036">vgettext()</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__handlers_8cpp_source.html#l00868">butchery_drops_harvest()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00904">move_items_activity_actor::do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l00476">extract_or_wreck_cbms()</a>, and <a class="el" href="activity__item__handling_8cpp_source.html#l00399">put_into_vehicle_or_drop()</a>.</p>

</div>
</div>
<a id="aab4d9965fb0cbf630cd17fd92ae115b1" name="aab4d9965fb0cbf630cd17fd92ae115b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab4d9965fb0cbf630cd17fd92ae115b1">&#9670;&nbsp;</a></span>find_auto_consume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool find_auto_consume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>food</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l03136">3136</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03137" name="l03137"></a><span class="lineno"> 3137</span>{</div>
<div class="line"><a id="l03138" name="l03138"></a><span class="lineno"> 3138</span>    <span class="comment">// return false if there is no point searching again while the activity is still happening.</span></div>
<div class="line"><a id="l03139" name="l03139"></a><span class="lineno"> 3139</span>    <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classplayer.html#a4b34c26cb73111ff42bcab11576f51a0">is_npc</a>() ) {</div>
<div class="line"><a id="l03140" name="l03140"></a><span class="lineno"> 3140</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03141" name="l03141"></a><span class="lineno"> 3141</span>    }</div>
<div class="line"><a id="l03142" name="l03142"></a><span class="lineno"> 3142</span>    <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="activity__item__handling_8cpp.html#ac00dfe681a5a2f2b03bfe2ad27df1721">effect_nausea</a> ) ) {</div>
<div class="line"><a id="l03143" name="l03143"></a><span class="lineno"> 3143</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03144" name="l03144"></a><span class="lineno"> 3144</span>    }</div>
<div class="line"><a id="l03145" name="l03145"></a><span class="lineno"> 3145</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::string flag_MELTS( <span class="stringliteral">&quot;MELTS&quot;</span> );</div>
<div class="line"><a id="l03146" name="l03146"></a><span class="lineno"> 3146</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::string flag_EDIBLE_FROZEN( <span class="stringliteral">&quot;EDIBLE_FROZEN&quot;</span> );</div>
<div class="line"><a id="l03147" name="l03147"></a><span class="lineno"> 3147</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> pos = p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>();</div>
<div class="line"><a id="l03148" name="l03148"></a><span class="lineno"> 3148</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l03149" name="l03149"></a><span class="lineno"> 3149</span>    <a class="code hl_class" href="classzone__manager.html">zone_manager</a> &amp;mgr = <a class="code hl_function" href="classzone__manager.html#a11e6a0ecb51069e3c334b6f4b9c5c6bc">zone_manager::get_manager</a>();</div>
<div class="line"><a id="l03150" name="l03150"></a><span class="lineno"> 3150</span>    <a class="code hl_class" href="classstring__id.html">zone_type_id</a> consume_type_zone( <span class="stringliteral">&quot;&quot;</span> );</div>
<div class="line"><a id="l03151" name="l03151"></a><span class="lineno"> 3151</span>    <span class="keywordflow">if</span>( food ) {</div>
<div class="line"><a id="l03152" name="l03152"></a><span class="lineno"> 3152</span>        consume_type_zone = <a class="code hl_typedef" href="type__id_8h.html#a4ec2337d992ab8b0115c2bd7ff30902a">zone_type_id</a>( <span class="stringliteral">&quot;AUTO_EAT&quot;</span> );</div>
<div class="line"><a id="l03153" name="l03153"></a><span class="lineno"> 3153</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03154" name="l03154"></a><span class="lineno"> 3154</span>        consume_type_zone = <a class="code hl_typedef" href="type__id_8h.html#a4ec2337d992ab8b0115c2bd7ff30902a">zone_type_id</a>( <span class="stringliteral">&quot;AUTO_DRINK&quot;</span> );</div>
<div class="line"><a id="l03155" name="l03155"></a><span class="lineno"> 3155</span>    }</div>
<div class="line"><a id="l03156" name="l03156"></a><span class="lineno"> 3156</span>    <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#a8a6e17bf2b027fe957361bb7c5d857ce">check_vehicle_zones</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_levz() ) ) {</div>
<div class="line"><a id="l03157" name="l03157"></a><span class="lineno"> 3157</span>        mgr.<a class="code hl_function" href="classzone__manager.html#a4a274503e1533dbfa343c22cdd082c4d">cache_vzones</a>();</div>
<div class="line"><a id="l03158" name="l03158"></a><span class="lineno"> 3158</span>    }</div>
<div class="line"><a id="l03159" name="l03159"></a><span class="lineno"> 3159</span>    <span class="keyword">const</span> std::unordered_set&lt;tripoint&gt; &amp;dest_set = mgr.<a class="code hl_function" href="classzone__manager.html#a9790f2a2f3d3b707b0fb0a9d873de1ab">get_near</a>( consume_type_zone, here.<a class="code hl_function" href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">getabs</a>( pos ),</div>
<div class="line"><a id="l03160" name="l03160"></a><span class="lineno"> 3160</span>            <a class="code hl_variable" href="activity__item__handling_8cpp.html#aaa6c33979b90fe3147ab7e18a0c407b4">ACTIVITY_SEARCH_DISTANCE</a> );</div>
<div class="line"><a id="l03161" name="l03161"></a><span class="lineno"> 3161</span>    <span class="keywordflow">if</span>( dest_set.empty() ) {</div>
<div class="line"><a id="l03162" name="l03162"></a><span class="lineno"> 3162</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03163" name="l03163"></a><span class="lineno"> 3163</span>    }</div>
<div class="line"><a id="l03164" name="l03164"></a><span class="lineno"> 3164</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> loc : dest_set ) {</div>
<div class="line"><a id="l03165" name="l03165"></a><span class="lineno"> 3165</span>        <span class="keywordflow">if</span>( loc.z != p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>().<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) {</div>
<div class="line"><a id="l03166" name="l03166"></a><span class="lineno"> 3166</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03167" name="l03167"></a><span class="lineno"> 3167</span>        }</div>
<div class="line"><a id="l03168" name="l03168"></a><span class="lineno"> 3168</span> </div>
<div class="line"><a id="l03169" name="l03169"></a><span class="lineno"> 3169</span>        <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = here.<a class="code hl_function" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;m.getlocal( loc ) );</div>
<div class="line"><a id="l03170" name="l03170"></a><span class="lineno"> 3170</span>        std::vector&lt;item *&gt; items_here;</div>
<div class="line"><a id="l03171" name="l03171"></a><span class="lineno"> 3171</span>        <span class="keywordflow">if</span>( vp ) {</div>
<div class="line"><a id="l03172" name="l03172"></a><span class="lineno"> 3172</span>            <a class="code hl_class" href="classvehicle.html">vehicle</a> &amp;veh = vp-&gt;vehicle();</div>
<div class="line"><a id="l03173" name="l03173"></a><span class="lineno"> 3173</span>            <span class="keywordtype">int</span> <a class="code hl_enumvalue" href="namespacedetail.html#ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86">index</a> = veh.<a class="code hl_function" href="classvehicle.html#a00f013bfeaa4b6d44eaa67961f0c1e59">part_with_feature</a>( vp-&gt;part_index(), <span class="stringliteral">&quot;CARGO&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l03174" name="l03174"></a><span class="lineno"> 3174</span>            <span class="keywordflow">if</span>( index &gt;= 0 ) {</div>
<div class="line"><a id="l03175" name="l03175"></a><span class="lineno"> 3175</span>                <a class="code hl_class" href="classvehicle__stack.html">vehicle_stack</a> vehitems = veh.<a class="code hl_function" href="classvehicle.html#a983dd9db3cd64078b176a82289e0b260">get_items</a>( index );</div>
<div class="line"><a id="l03176" name="l03176"></a><span class="lineno"> 3176</span>                <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> &amp;it : vehitems ) {</div>
<div class="line"><a id="l03177" name="l03177"></a><span class="lineno"> 3177</span>                    items_here.push_back( &amp;it );</div>
<div class="line"><a id="l03178" name="l03178"></a><span class="lineno"> 3178</span>                }</div>
<div class="line"><a id="l03179" name="l03179"></a><span class="lineno"> 3179</span>            }</div>
<div class="line"><a id="l03180" name="l03180"></a><span class="lineno"> 3180</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03181" name="l03181"></a><span class="lineno"> 3181</span>            <a class="code hl_class" href="classmap__stack.html">map_stack</a> mapitems = here.<a class="code hl_function" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( here.<a class="code hl_function" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( loc ) );</div>
<div class="line"><a id="l03182" name="l03182"></a><span class="lineno"> 3182</span>            <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> &amp;it : mapitems ) {</div>
<div class="line"><a id="l03183" name="l03183"></a><span class="lineno"> 3183</span>                items_here.push_back( &amp;it );</div>
<div class="line"><a id="l03184" name="l03184"></a><span class="lineno"> 3184</span>            }</div>
<div class="line"><a id="l03185" name="l03185"></a><span class="lineno"> 3185</span>        }</div>
<div class="line"><a id="l03186" name="l03186"></a><span class="lineno"> 3186</span> </div>
<div class="line"><a id="l03187" name="l03187"></a><span class="lineno"> 3187</span>        <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> *it : items_here ) {</div>
<div class="line"><a id="l03188" name="l03188"></a><span class="lineno"> 3188</span>            <a class="code hl_class" href="classitem.html">item</a> &amp;comest = p.<a class="code hl_function" href="classCharacter.html#ad58bc3e4db2aa237a070695ca2746ee5">get_consumable_from</a>( *it );</div>
<div class="line"><a id="l03189" name="l03189"></a><span class="lineno"> 3189</span>            <span class="keywordflow">if</span>( comest.<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() || comest.<a class="code hl_function" href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">is_craft</a>() || !comest.<a class="code hl_function" href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">is_food</a>() ||</div>
<div class="line"><a id="l03190" name="l03190"></a><span class="lineno"> 3190</span>                p.<a class="code hl_function" href="classCharacter.html#ace2d1a2ba10920f5986e562fb8ff8aff">fun_for</a>( comest ).first &lt; -5 ) {</div>
<div class="line"><a id="l03191" name="l03191"></a><span class="lineno"> 3191</span>                <span class="comment">// not good eatings.</span></div>
<div class="line"><a id="l03192" name="l03192"></a><span class="lineno"> 3192</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03193" name="l03193"></a><span class="lineno"> 3193</span>            }</div>
<div class="line"><a id="l03194" name="l03194"></a><span class="lineno"> 3194</span>            <span class="keywordflow">if</span>( !p.<a class="code hl_function" href="classCharacter.html#aef5b7618d63c19913facbdf221098cf2">can_consume</a>( *it ) ) {</div>
<div class="line"><a id="l03195" name="l03195"></a><span class="lineno"> 3195</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03196" name="l03196"></a><span class="lineno"> 3196</span>            }</div>
<div class="line"><a id="l03197" name="l03197"></a><span class="lineno"> 3197</span>            <span class="keywordflow">if</span>( food &amp;&amp; p.<a class="code hl_function" href="classCharacter.html#a30ae2557de3be7c7e7f353fffc557c91">compute_effective_nutrients</a>( comest ).<a class="code hl_variable" href="structnutrients.html#a250b8d24985580cc4b6a640050bef208">kcal</a> &lt; 50 ) {</div>
<div class="line"><a id="l03198" name="l03198"></a><span class="lineno"> 3198</span>                <span class="comment">// not filling enough</span></div>
<div class="line"><a id="l03199" name="l03199"></a><span class="lineno"> 3199</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03200" name="l03200"></a><span class="lineno"> 3200</span>            }</div>
<div class="line"><a id="l03201" name="l03201"></a><span class="lineno"> 3201</span>            <span class="keywordflow">if</span>( !p.<a class="code hl_function" href="classCharacter.html#a4eb1793aafe89d34ba7ab96bf9facc19">will_eat</a>( comest, <span class="keyword">false</span> ).success() ) {</div>
<div class="line"><a id="l03202" name="l03202"></a><span class="lineno"> 3202</span>                <span class="comment">// wont like it, cannibal meat etc</span></div>
<div class="line"><a id="l03203" name="l03203"></a><span class="lineno"> 3203</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03204" name="l03204"></a><span class="lineno"> 3204</span>            }</div>
<div class="line"><a id="l03205" name="l03205"></a><span class="lineno"> 3205</span>            <span class="keywordflow">if</span>( !it-&gt;is_owned_by( p, <span class="keyword">true</span> ) ) {</div>
<div class="line"><a id="l03206" name="l03206"></a><span class="lineno"> 3206</span>                <span class="comment">// it aint ours.</span></div>
<div class="line"><a id="l03207" name="l03207"></a><span class="lineno"> 3207</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03208" name="l03208"></a><span class="lineno"> 3208</span>            }</div>
<div class="line"><a id="l03209" name="l03209"></a><span class="lineno"> 3209</span>            <span class="keywordflow">if</span>( !food &amp;&amp; comest.<a class="code hl_function" href="classitem.html#a411163e892e27c57b802d0d015c05162">get_comestible</a>()-&gt;quench &lt; 15 ) {</div>
<div class="line"><a id="l03210" name="l03210"></a><span class="lineno"> 3210</span>                <span class="comment">// not quenching enough</span></div>
<div class="line"><a id="l03211" name="l03211"></a><span class="lineno"> 3211</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03212" name="l03212"></a><span class="lineno"> 3212</span>            }</div>
<div class="line"><a id="l03213" name="l03213"></a><span class="lineno"> 3213</span>            <span class="keywordflow">if</span>( comest.<a class="code hl_function" href="classitem.html#aaa5aeb6f838927babb10ede535cf2a73">has_flag</a>( <a class="code hl_function" href="activity__item__handling_8cpp.html#a85f8e7cbf6a0c5bbfd4b6068eaa7acb2">flag_UNSAFE_CONSUME</a> ) ) {</div>
<div class="line"><a id="l03214" name="l03214"></a><span class="lineno"> 3214</span>                <span class="comment">// Unsafe to drink or eat</span></div>
<div class="line"><a id="l03215" name="l03215"></a><span class="lineno"> 3215</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03216" name="l03216"></a><span class="lineno"> 3216</span>            }</div>
<div class="line"><a id="l03217" name="l03217"></a><span class="lineno"> 3217</span>            <span class="keywordflow">if</span>( !food &amp;&amp; it-&gt;is_watertight_container() &amp;&amp; it-&gt;contents_made_of( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a1b45f84e1f6603b52e5ef442836df9af">SOLID</a> ) ) {</div>
<div class="line"><a id="l03218" name="l03218"></a><span class="lineno"> 3218</span>                <span class="comment">// its frozen</span></div>
<div class="line"><a id="l03219" name="l03219"></a><span class="lineno"> 3219</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03220" name="l03220"></a><span class="lineno"> 3220</span>            }</div>
<div class="line"><a id="l03221" name="l03221"></a><span class="lineno"> 3221</span> </div>
<div class="line"><a id="l03222" name="l03222"></a><span class="lineno"> 3222</span>            p.<a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( -<a class="code hl_function" href="namespacepickup.html#ad0504cbefee6dae79de2a504b355840d">pickup::cost_to_move_item</a>( p, *it ) * std::max( <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(),</div>
<div class="line"><a id="l03223" name="l03223"></a><span class="lineno"> 3223</span>                         here.<a class="code hl_function" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( loc ) ), 1 ) );</div>
<div class="line"><a id="l03224" name="l03224"></a><span class="lineno"> 3224</span>            <a class="code hl_class" href="classitem__location.html">item_location</a> item_loc;</div>
<div class="line"><a id="l03225" name="l03225"></a><span class="lineno"> 3225</span>            <span class="keywordflow">if</span>( vp ) {</div>
<div class="line"><a id="l03226" name="l03226"></a><span class="lineno"> 3226</span>                item_loc = <a class="code hl_class" href="classitem__location.html">item_location</a>( <a class="code hl_class" href="classvehicle__cursor.html">vehicle_cursor</a>( vp-&gt;vehicle(), vp-&gt;part_index() ), &amp;comest );</div>
<div class="line"><a id="l03227" name="l03227"></a><span class="lineno"> 3227</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03228" name="l03228"></a><span class="lineno"> 3228</span>                item_loc = <a class="code hl_class" href="classitem__location.html">item_location</a>( <a class="code hl_class" href="classmap__cursor.html">map_cursor</a>( here.<a class="code hl_function" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( loc ) ), &amp;comest );</div>
<div class="line"><a id="l03229" name="l03229"></a><span class="lineno"> 3229</span>            }</div>
<div class="line"><a id="l03230" name="l03230"></a><span class="lineno"> 3230</span>            <a class="code hl_function" href="namespaceavatar__action.html#a48a64ece8131b44e4aa5ac9882defde5">avatar_action::eat</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u, item_loc );</div>
<div class="line"><a id="l03231" name="l03231"></a><span class="lineno"> 3231</span>            <span class="comment">// eat() may have removed the item, so check its still there.</span></div>
<div class="line"><a id="l03232" name="l03232"></a><span class="lineno"> 3232</span>            <span class="keywordflow">if</span>( item_loc.<a class="code hl_function" href="classitem__location.html#a350bb267073f30205f780b394324a32c">get_item</a>() &amp;&amp; item_loc-&gt;<a class="code hl_function" href="classitem.html#a723753bab4cc789e3ec186846c9916a3">is_container</a>() ) {</div>
<div class="line"><a id="l03233" name="l03233"></a><span class="lineno"> 3233</span>                item_loc-&gt;<a class="code hl_function" href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">on_contents_changed</a>();</div>
<div class="line"><a id="l03234" name="l03234"></a><span class="lineno"> 3234</span>            }</div>
<div class="line"><a id="l03235" name="l03235"></a><span class="lineno"> 3235</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03236" name="l03236"></a><span class="lineno"> 3236</span>        }</div>
<div class="line"><a id="l03237" name="l03237"></a><span class="lineno"> 3237</span>    }</div>
<div class="line"><a id="l03238" name="l03238"></a><span class="lineno"> 3238</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03239" name="l03239"></a><span class="lineno"> 3239</span>}</div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a85f8e7cbf6a0c5bbfd4b6068eaa7acb2"><div class="ttname"><a href="activity__item__handling_8cpp.html#a85f8e7cbf6a0c5bbfd4b6068eaa7acb2">flag_UNSAFE_CONSUME</a></div><div class="ttdeci">static const std::string flag_UNSAFE_CONSUME(&quot;UNSAFE_CONSUME&quot;)</div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_ac00dfe681a5a2f2b03bfe2ad27df1721"><div class="ttname"><a href="activity__item__handling_8cpp.html#ac00dfe681a5a2f2b03bfe2ad27df1721">effect_nausea</a></div><div class="ttdeci">static const efftype_id effect_nausea(&quot;nausea&quot;)</div></div>
<div class="ttc" id="aclassCharacter_html_a30ae2557de3be7c7e7f353fffc557c91"><div class="ttname"><a href="classCharacter.html#a30ae2557de3be7c7e7f353fffc557c91">Character::compute_effective_nutrients</a></div><div class="ttdeci">nutrients compute_effective_nutrients(const item &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00328">consumption.cpp:328</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4eb1793aafe89d34ba7ab96bf9facc19"><div class="ttname"><a href="classCharacter.html#a4eb1793aafe89d34ba7ab96bf9facc19">Character::will_eat</a></div><div class="ttdeci">ret_val&lt; edible_rating &gt; will_eat(const item &amp;food, bool interactive=false) const</div><div class="ttdoc">Same as can_eat, but takes consequences into account.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00725">consumption.cpp:725</a></div></div>
<div class="ttc" id="aclassCharacter_html_ace2d1a2ba10920f5986e562fb8ff8aff"><div class="ttname"><a href="classCharacter.html#ace2d1a2ba10920f5986e562fb8ff8aff">Character::fun_for</a></div><div class="ttdeci">std::pair&lt; int, int &gt; fun_for(const item &amp;comest) const</div><div class="ttdoc">Handles the enjoyability value for a comestible.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00465">consumption.cpp:465</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad58bc3e4db2aa237a070695ca2746ee5"><div class="ttname"><a href="classCharacter.html#ad58bc3e4db2aa237a070695ca2746ee5">Character::get_consumable_from</a></div><div class="ttdeci">item &amp; get_consumable_from(item &amp;it) const</div><div class="ttdoc">Returns a reference to the item itself (if it's consumable), the first of its contents (if it's consu...</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01502">consumption.cpp:1502</a></div></div>
<div class="ttc" id="aclassCharacter_html_aef5b7618d63c19913facbdf221098cf2"><div class="ttname"><a href="classCharacter.html#aef5b7618d63c19913facbdf221098cf2">Character::can_consume</a></div><div class="ttdeci">bool can_consume(const item &amp;it) const</div><div class="ttdoc">Check character's capability of consumption overall.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l01492">consumption.cpp:1492</a></div></div>
<div class="ttc" id="aclassCreature_html_a6fb79df9315dc2bed6f34d9a2e37da90"><div class="ttname"><a href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">Creature::has_effect</a></div><div class="ttdeci">bool has_effect(const efftype_id &amp;eff_id, body_part bp=num_bp) const</div><div class="ttdoc">Check if creature has the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01179">creature.cpp:1179</a></div></div>
<div class="ttc" id="aclassCreature_html_a891bc2d0c564449cb462178317819254"><div class="ttname"><a href="classCreature.html#a891bc2d0c564449cb462178317819254">Creature::mod_moves</a></div><div class="ttdeci">void mod_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01408">creature.cpp:1408</a></div></div>
<div class="ttc" id="aclassitem__location_html_a350bb267073f30205f780b394324a32c"><div class="ttname"><a href="classitem__location.html#a350bb267073f30205f780b394324a32c">item_location::get_item</a></div><div class="ttdeci">item * get_item()</div><div class="ttdoc">Gets the selected item or nullptr.</div><div class="ttdef"><b>Definition:</b> <a href="item__location_8cpp_source.html#l00768">item_location.cpp:768</a></div></div>
<div class="ttc" id="aclassitem_html_a411163e892e27c57b802d0d015c05162"><div class="ttname"><a href="classitem.html#a411163e892e27c57b802d0d015c05162">item::get_comestible</a></div><div class="ttdeci">const cata::value_ptr&lt; islot_comestible &gt; &amp; get_comestible() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09972">item.cpp:9972</a></div></div>
<div class="ttc" id="aclassitem_html_a4d5555082454b3cb192f59a70838c891"><div class="ttname"><a href="classitem.html#a4d5555082454b3cb192f59a70838c891">item::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00732">item.cpp:732</a></div></div>
<div class="ttc" id="aclassitem_html_a6d1575c31b1dc0df51cbe3a1dfbfef16"><div class="ttname"><a href="classitem.html#a6d1575c31b1dc0df51cbe3a1dfbfef16">item::on_contents_changed</a></div><div class="ttdeci">void on_contents_changed()</div><div class="ttdoc">Callback when contents of the item are affected in any way other than just processing.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l04449">item.cpp:4449</a></div></div>
<div class="ttc" id="aclassitem_html_a723753bab4cc789e3ec186846c9916a3"><div class="ttname"><a href="classitem.html#a723753bab4cc789e3ec186846c9916a3">item::is_container</a></div><div class="ttdeci">bool is_container() const</div><div class="ttdoc">Whether this is container.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06590">item.cpp:6590</a></div></div>
<div class="ttc" id="aclassitem_html_a7f25e0430419609c538b07f704d6ba7a"><div class="ttname"><a href="classitem.html#a7f25e0430419609c538b07f704d6ba7a">item::is_craft</a></div><div class="ttdeci">bool is_craft() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06789">item.cpp:6789</a></div></div>
<div class="ttc" id="aclassitem_html_aad45569fa1fdd99d602eabbbbca04f75"><div class="ttname"><a href="classitem.html#aad45569fa1fdd99d602eabbbbca04f75">item::is_food</a></div><div class="ttdeci">bool is_food() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l06463">item.cpp:6463</a></div></div>
<div class="ttc" id="aclassmap__cursor_html"><div class="ttname"><a href="classmap__cursor.html">map_cursor</a></div><div class="ttdef"><b>Definition:</b> <a href="map__selector_8h_source.html#l00010">map_selector.h:11</a></div></div>
<div class="ttc" id="aclassmap__stack_html"><div class="ttname"><a href="classmap__stack.html">map_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00104">map.h:105</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html"><div class="ttname"><a href="classoptional__vpart__position.html">optional_vpart_position</a></div><div class="ttdoc">Simple wrapper to forward functions that may return a cata::optional to vpart_position.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00103">vpart_position.h:104</a></div></div>
<div class="ttc" id="aclassvehicle__cursor_html"><div class="ttname"><a href="classvehicle__cursor.html">vehicle_cursor</a></div><div class="ttdef"><b>Definition:</b> <a href="vehicle__selector_8h_source.html#l00013">vehicle_selector.h:14</a></div></div>
<div class="ttc" id="aclassvehicle__stack_html"><div class="ttname"><a href="classvehicle__stack.html">vehicle_stack</a></div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00122">vehicle.h:123</a></div></div>
<div class="ttc" id="aclassvehicle_html_a00f013bfeaa4b6d44eaa67961f0c1e59"><div class="ttname"><a href="classvehicle.html#a00f013bfeaa4b6d44eaa67961f0c1e59">vehicle::part_with_feature</a></div><div class="ttdeci">int part_with_feature(int p, const std::string &amp;f, bool unbroken) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l02520">vehicle.cpp:2520</a></div></div>
<div class="ttc" id="aclassvehicle_html_a983dd9db3cd64078b176a82289e0b260"><div class="ttname"><a href="classvehicle.html#a983dd9db3cd64078b176a82289e0b260">vehicle::get_items</a></div><div class="ttdeci">vehicle_stack get_items(int part) const</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l05468">vehicle.cpp:5468</a></div></div>
<div class="ttc" id="aclasszone__manager_html"><div class="ttname"><a href="classzone__manager.html">zone_manager</a></div><div class="ttdef"><b>Definition:</b> <a href="clzones_8h_source.html#l00339">clzones.h:340</a></div></div>
<div class="ttc" id="aclasszone__manager_html_a4a274503e1533dbfa343c22cdd082c4d"><div class="ttname"><a href="classzone__manager.html#a4a274503e1533dbfa343c22cdd082c4d">zone_manager::cache_vzones</a></div><div class="ttdeci">void cache_vzones()</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8cpp_source.html#l00624">clzones.cpp:624</a></div></div>
<div class="ttc" id="aclasszone__manager_html_a9790f2a2f3d3b707b0fb0a9d873de1ab"><div class="ttname"><a href="classzone__manager.html#a9790f2a2f3d3b707b0fb0a9d873de1ab">zone_manager::get_near</a></div><div class="ttdeci">std::unordered_set&lt; tripoint &gt; get_near(const zone_type_id &amp;type, const tripoint &amp;where, int range=MAX_DISTANCE, const item *it=nullptr, const faction_id &amp;fac=your_fac) const</div><div class="ttdef"><b>Definition:</b> <a href="clzones_8cpp_source.html#l00772">clzones.cpp:772</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a47953b33a873caa0861b12222842a5ec"><div class="ttname"><a href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00519">coordinates.h:519</a></div></div>
<div class="ttc" id="aenums_8h_html_ade8f325e8cc8463cef8f944f3209d0e5a1b45f84e1f6603b52e5ef442836df9af"><div class="ttname"><a href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5a1b45f84e1f6603b52e5ef442836df9af">SOLID</a></div><div class="ttdeci">@ SOLID</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00175">enums.h:175</a></div></div>
<div class="ttc" id="anamespaceavatar__action_html_a48a64ece8131b44e4aa5ac9882defde5"><div class="ttname"><a href="namespaceavatar__action.html#a48a64ece8131b44e4aa5ac9882defde5">avatar_action::eat</a></div><div class="ttdeci">void eat(avatar &amp;you)</div><div class="ttdoc">Eat food or fuel 'E' (or 'a')</div><div class="ttdef"><b>Definition:</b> <a href="avatar__action_8cpp_source.html#l00824">avatar_action.cpp:824</a></div></div>
<div class="ttc" id="anamespacedetail_html_ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86"><div class="ttname"><a href="namespacedetail.html#ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86">detail::arg_id_kind::index</a></div><div class="ttdeci">@ index</div></div>
<div class="ttc" id="anamespacepickup_html_ad0504cbefee6dae79de2a504b355840d"><div class="ttname"><a href="namespacepickup.html#ad0504cbefee6dae79de2a504b355840d">pickup::cost_to_move_item</a></div><div class="ttdeci">int cost_to_move_item(const Character &amp;who, const item &amp;it)</div><div class="ttdoc">Determines the cost of moving an item by a character.</div><div class="ttdef"><b>Definition:</b> <a href="pickup_8cpp_source.html#l01267">pickup.cpp:1267</a></div></div>
<div class="ttc" id="astructnutrients_html_a250b8d24985580cc4b6a640050bef208"><div class="ttname"><a href="structnutrients.html#a250b8d24985580cc4b6a640050bef208">nutrients::kcal</a></div><div class="ttdeci">int kcal</div><div class="ttdoc">amount of kcal this food has</div><div class="ttdef"><b>Definition:</b> <a href="stomach_8h_source.html#l00018">stomach.h:18</a></div></div>
<div class="ttc" id="astructtripoint_html_ac944c0e329b5eba2602f7a52f66bbbb9"><div class="ttname"><a href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">tripoint::z</a></div><div class="ttdeci">int z</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00152">point.h:152</a></div></div>
<div class="ttc" id="atype__id_8h_html_a4ec2337d992ab8b0115c2bd7ff30902a"><div class="ttname"><a href="type__id_8h.html#a4ec2337d992ab8b0115c2bd7ff30902a">zone_type_id</a></div><div class="ttdeci">string_id&lt; zone_type &gt; zone_type_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00199">type_id.h:199</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="activity__item__handling_8cpp_source.html#l00153">ACTIVITY_SEARCH_DISTANCE</a>, <a class="el" href="clzones_8cpp_source.html#l00624">zone_manager::cache_vzones()</a>, <a class="el" href="consumption_8cpp_source.html#l01492">Character::can_consume()</a>, <a class="el" href="map_8cpp_source.html#l00929">map::check_vehicle_zones()</a>, <a class="el" href="consumption_8cpp_source.html#l00328">Character::compute_effective_nutrients()</a>, <a class="el" href="item_8cpp_source.html#l06336">item::contents_made_of()</a>, <a class="el" href="pickup_8cpp_source.html#l01267">pickup::cost_to_move_item()</a>, <a class="el" href="avatar__action_8cpp_source.html#l00824">avatar_action::eat()</a>, <a class="el" href="activity__item__handling_8cpp.html#ac00dfe681a5a2f2b03bfe2ad27df1721">effect_nausea</a>, <a class="el" href="activity__item__handling_8cpp.html#a85f8e7cbf6a0c5bbfd4b6068eaa7acb2">flag_UNSAFE_CONSUME()</a>, <a class="el" href="consumption_8cpp_source.html#l00465">Character::fun_for()</a>, <a class="el" href="game_8cpp_source.html#l00273">g</a>, <a class="el" href="item_8cpp_source.html#l09972">item::get_comestible()</a>, <a class="el" href="consumption_8cpp_source.html#l01502">Character::get_consumable_from()</a>, <a class="el" href="item__location_8cpp_source.html#l00768">item_location::get_item()</a>, <a class="el" href="vehicle_8cpp_source.html#l05468">vehicle::get_items()</a>, <a class="el" href="clzones_8cpp_source.html#l00126">zone_manager::get_manager()</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="clzones_8cpp_source.html#l00772">zone_manager::get_near()</a>, <a class="el" href="map_8cpp_source.html#l08261">map::getabs()</a>, <a class="el" href="map_8cpp_source.html#l08266">map::getlocal()</a>, <a class="el" href="creature_8cpp_source.html#l01179">Creature::has_effect()</a>, <a class="el" href="item_8cpp_source.html#l05213">item::has_flag()</a>, <a class="el" href="map_8cpp_source.html#l04079">map::i_at()</a>, <a class="el" href="item_8cpp_source.html#l06590">item::is_container()</a>, <a class="el" href="item_8cpp_source.html#l06789">item::is_craft()</a>, <a class="el" href="item_8cpp_source.html#l06463">item::is_food()</a>, <a class="el" href="player_8h_source.html#l00123">player::is_npc()</a>, <a class="el" href="item_8cpp_source.html#l00732">item::is_null()</a>, <a class="el" href="item_8cpp_source.html#l01245">item::is_owned_by()</a>, <a class="el" href="item_8cpp_source.html#l06595">item::is_watertight_container()</a>, <a class="el" href="stomach_8h_source.html#l00018">nutrients::kcal</a>, <a class="el" href="creature_8cpp_source.html#l01408">Creature::mod_moves()</a>, <a class="el" href="item_8cpp_source.html#l04449">item::on_contents_changed()</a>, <a class="el" href="vehicle_8cpp_source.html#l02520">vehicle::part_with_feature()</a>, <a class="el" href="character_8cpp_source.html#l00714">Character::pos()</a>, <a class="el" href="coordinates_8h_source.html#l00519">rl_dist()</a>, <a class="el" href="enums_8h_source.html#l00175">SOLID</a>, <a class="el" href="map_8cpp_source.html#l01009">map::veh_at()</a>, <a class="el" href="consumption_8cpp_source.html#l00725">Character::will_eat()</a>, and <a class="el" href="point_8h_source.html#l00152">tripoint::z</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00272">player_activity::do_turn()</a>.</p>

</div>
</div>
<a id="ae0d3a380602c60330914da5c44b56b19" name="ae0d3a380602c60330914da5c44b56b19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0d3a380602c60330914da5c44b56b19">&#9670;&nbsp;</a></span>generic_multi_activity_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool generic_multi_activity_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer__activity.html">player_activity</a> &amp;&#160;</td>
          <td class="paramname"><em>act</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>check_only</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l02950">2950</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l02951" name="l02951"></a><span class="lineno"> 2951</span>{</div>
<div class="line"><a id="l02952" name="l02952"></a><span class="lineno"> 2952</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l02953" name="l02953"></a><span class="lineno"> 2953</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> abspos = here.<a class="code hl_function" href="classmap.html#a501f3a1d449ac022f1b36b99da653e94">getabs</a>( p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l02954" name="l02954"></a><span class="lineno"> 2954</span>    <span class="comment">// NOLINTNEXTLINE(performance-unnecessary-copy-initialization)</span></div>
<div class="line"><a id="l02955" name="l02955"></a><span class="lineno"> 2955</span>    <a class="code hl_class" href="classstring__id.html">activity_id</a> activity_to_restore = <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.<a class="code hl_function" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>();</div>
<div class="line"><a id="l02956" name="l02956"></a><span class="lineno"> 2956</span>    <span class="comment">// Nuke the current activity, leaving the backlog alone</span></div>
<div class="line"><a id="l02957" name="l02957"></a><span class="lineno"> 2957</span>    <span class="keywordflow">if</span>( !check_only ) {</div>
<div class="line"><a id="l02958" name="l02958"></a><span class="lineno"> 2958</span>        p.<a class="code hl_variable" href="classCharacter.html#a20839520f569c4f05876a55e89f67361">activity</a> = <a class="code hl_class" href="classplayer__activity.html">player_activity</a>();</div>
<div class="line"><a id="l02959" name="l02959"></a><span class="lineno"> 2959</span>    }</div>
<div class="line"><a id="l02960" name="l02960"></a><span class="lineno"> 2960</span>    <span class="comment">// now we setup the target spots based on which activity is occurring</span></div>
<div class="line"><a id="l02961" name="l02961"></a><span class="lineno"> 2961</span>    <span class="comment">// the set of target work spots - potentially after we have fetched required tools.</span></div>
<div class="line"><a id="l02962" name="l02962"></a><span class="lineno"> 2962</span>    std::unordered_set&lt;tripoint&gt; src_set = <a class="code hl_function" href="activity__item__handling_8cpp.html#aff6d8e0d296c7b3030cfaa5e0ccead8a">generic_multi_activity_locations</a>( p, activity_to_restore );</div>
<div class="line"><a id="l02963" name="l02963"></a><span class="lineno"> 2963</span>    <span class="comment">// now we have our final set of points</span></div>
<div class="line"><a id="l02964" name="l02964"></a><span class="lineno"> 2964</span>    std::vector&lt;tripoint&gt; src_sorted = <a class="code hl_function" href="activity__handlers_8cpp.html#ad56bc2a183ef33fafef613435a366c27">get_sorted_tiles_by_distance</a>( abspos, src_set );</div>
<div class="line"><a id="l02965" name="l02965"></a><span class="lineno"> 2965</span>    <span class="comment">// now loop through the work-spot tiles and judge whether its worth traveling to it yet</span></div>
<div class="line"><a id="l02966" name="l02966"></a><span class="lineno"> 2966</span>    <span class="comment">// or if we need to fetch something first.</span></div>
<div class="line"><a id="l02967" name="l02967"></a><span class="lineno"> 2967</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;src : src_sorted ) {</div>
<div class="line"><a id="l02968" name="l02968"></a><span class="lineno"> 2968</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;src_loc = here.<a class="code hl_function" href="classmap.html#a426c21f7244ff80a61685a89e9146fec">getlocal</a>( src );</div>
<div class="line"><a id="l02969" name="l02969"></a><span class="lineno"> 2969</span>        <span class="keywordflow">if</span>( !here.<a class="code hl_function" href="classmap.html#a46608709f68358365d0734b1063fed73">inbounds</a>( src_loc ) &amp;&amp; !check_only ) {</div>
<div class="line"><a id="l02970" name="l02970"></a><span class="lineno"> 2970</span>            <span class="keywordflow">if</span>( !here.<a class="code hl_function" href="classmap.html#a46608709f68358365d0734b1063fed73">inbounds</a>( p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() ) ) {</div>
<div class="line"><a id="l02971" name="l02971"></a><span class="lineno"> 2971</span>                <span class="comment">// p is implicitly an NPC that has been moved off the map, so reset the activity</span></div>
<div class="line"><a id="l02972" name="l02972"></a><span class="lineno"> 2972</span>                <span class="comment">// and unload them</span></div>
<div class="line"><a id="l02973" name="l02973"></a><span class="lineno"> 2973</span>                p.<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( activity_to_restore );</div>
<div class="line"><a id="l02974" name="l02974"></a><span class="lineno"> 2974</span>                p.<a class="code hl_function" href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080">set_moves</a>( 0 );</div>
<div class="line"><a id="l02975" name="l02975"></a><span class="lineno"> 2975</span>                <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;reload_npcs();</div>
<div class="line"><a id="l02976" name="l02976"></a><span class="lineno"> 2976</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02977" name="l02977"></a><span class="lineno"> 2977</span>            }</div>
<div class="line"><a id="l02978" name="l02978"></a><span class="lineno"> 2978</span>            <span class="keyword">const</span> std::vector&lt;tripoint&gt; route = <a class="code hl_function" href="activity__item__handling_8cpp.html#a999ed86fc2f9b736a6cbf4b6f195c96c">route_adjacent</a>( p, src_loc );</div>
<div class="line"><a id="l02979" name="l02979"></a><span class="lineno"> 2979</span>            <span class="keywordflow">if</span>( route.empty() ) {</div>
<div class="line"><a id="l02980" name="l02980"></a><span class="lineno"> 2980</span>                <span class="comment">// can&#39;t get there, can&#39;t do anything, skip it</span></div>
<div class="line"><a id="l02981" name="l02981"></a><span class="lineno"> 2981</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02982" name="l02982"></a><span class="lineno"> 2982</span>            }</div>
<div class="line"><a id="l02983" name="l02983"></a><span class="lineno"> 2983</span>            p.<a class="code hl_function" href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080">set_moves</a>( 0 );</div>
<div class="line"><a id="l02984" name="l02984"></a><span class="lineno"> 2984</span>            p.<a class="code hl_function" href="classCharacter.html#a05f34432b3b1eabef92da141910daf09">set_destination</a>( route, <a class="code hl_class" href="classplayer__activity.html">player_activity</a>( activity_to_restore ) );</div>
<div class="line"><a id="l02985" name="l02985"></a><span class="lineno"> 2985</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l02986" name="l02986"></a><span class="lineno"> 2986</span>        }</div>
<div class="line"><a id="l02987" name="l02987"></a><span class="lineno"> 2987</span>        <a class="code hl_struct" href="structactivity__reason__info.html">activity_reason_info</a> act_info = <a class="code hl_function" href="activity__item__handling_8cpp.html#a1b5ef0f9c39f879fb02af755fc8c5b9f">can_do_activity_there</a>( activity_to_restore, p,</div>
<div class="line"><a id="l02988" name="l02988"></a><span class="lineno"> 2988</span>                                        src_loc, <a class="code hl_variable" href="activity__item__handling_8cpp.html#aaa6c33979b90fe3147ab7e18a0c407b4">ACTIVITY_SEARCH_DISTANCE</a> );</div>
<div class="line"><a id="l02989" name="l02989"></a><span class="lineno"> 2989</span>        <span class="comment">// see activity_handlers.h enum for requirement_check_result</span></div>
<div class="line"><a id="l02990" name="l02990"></a><span class="lineno"> 2990</span>        <span class="keyword">const</span> <a class="code hl_enumeration" href="activity__handlers_8h.html#a2cf8ad8704e57889e58223fb5609d7b2">requirement_check_result</a> req_res = <a class="code hl_function" href="activity__item__handling_8cpp.html#ad3c3e11e1ff9175fc7a484822777df8e">generic_multi_activity_check_requirement</a>( p,</div>
<div class="line"><a id="l02991" name="l02991"></a><span class="lineno"> 2991</span>                activity_to_restore, act_info, src, src_loc, src_set, check_only );</div>
<div class="line"><a id="l02992" name="l02992"></a><span class="lineno"> 2992</span>        <span class="keywordflow">if</span>( req_res == <a class="code hl_enumvalue" href="activity__handlers_8h.html#a2cf8ad8704e57889e58223fb5609d7b2a882a3852685e8a07c2c845af5bc94815">SKIP_LOCATION</a> ) {</div>
<div class="line"><a id="l02993" name="l02993"></a><span class="lineno"> 2993</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02994" name="l02994"></a><span class="lineno"> 2994</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( req_res == <a class="code hl_enumvalue" href="activity__handlers_8h.html#a2cf8ad8704e57889e58223fb5609d7b2af041676998adbc486b01d93023cb6978">RETURN_EARLY</a> ) {</div>
<div class="line"><a id="l02995" name="l02995"></a><span class="lineno"> 2995</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l02996" name="l02996"></a><span class="lineno"> 2996</span>        }</div>
<div class="line"><a id="l02997" name="l02997"></a><span class="lineno"> 2997</span> </div>
<div class="line"><a id="l02998" name="l02998"></a><span class="lineno"> 2998</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="coordinates_8h.html#a5ca1722555a6d5ab9ab7ae8e35c35eaa">square_dist</a>( p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), src_loc ) &gt; 1 ) {</div>
<div class="line"><a id="l02999" name="l02999"></a><span class="lineno"> 2999</span>            std::vector&lt;tripoint&gt; route = <a class="code hl_function" href="activity__item__handling_8cpp.html#a999ed86fc2f9b736a6cbf4b6f195c96c">route_adjacent</a>( p, src_loc );</div>
<div class="line"><a id="l03000" name="l03000"></a><span class="lineno"> 3000</span> </div>
<div class="line"><a id="l03001" name="l03001"></a><span class="lineno"> 3001</span>            <span class="comment">// check if we found path to source / adjacent tile</span></div>
<div class="line"><a id="l03002" name="l03002"></a><span class="lineno"> 3002</span>            <span class="keywordflow">if</span>( route.empty() ) {</div>
<div class="line"><a id="l03003" name="l03003"></a><span class="lineno"> 3003</span>                <a class="code hl_function" href="activity__item__handling_8cpp.html#a0a872445644f42419f269695d5a145d9">check_npc_revert</a>( p );</div>
<div class="line"><a id="l03004" name="l03004"></a><span class="lineno"> 3004</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03005" name="l03005"></a><span class="lineno"> 3005</span>            }</div>
<div class="line"><a id="l03006" name="l03006"></a><span class="lineno"> 3006</span>            <span class="keywordflow">if</span>( !check_only ) {</div>
<div class="line"><a id="l03007" name="l03007"></a><span class="lineno"> 3007</span>                <span class="keywordflow">if</span>( p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> &lt;= 0 ) {</div>
<div class="line"><a id="l03008" name="l03008"></a><span class="lineno"> 3008</span>                    <span class="comment">// Restart activity and break from cycle.</span></div>
<div class="line"><a id="l03009" name="l03009"></a><span class="lineno"> 3009</span>                    p.<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( activity_to_restore );</div>
<div class="line"><a id="l03010" name="l03010"></a><span class="lineno"> 3010</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03011" name="l03011"></a><span class="lineno"> 3011</span>                }</div>
<div class="line"><a id="l03012" name="l03012"></a><span class="lineno"> 3012</span>                <span class="comment">// set the destination and restart activity after player arrives there</span></div>
<div class="line"><a id="l03013" name="l03013"></a><span class="lineno"> 3013</span>                <span class="comment">// we don&#39;t need to check for safe mode,</span></div>
<div class="line"><a id="l03014" name="l03014"></a><span class="lineno"> 3014</span>                <span class="comment">// activity will be restarted only if</span></div>
<div class="line"><a id="l03015" name="l03015"></a><span class="lineno"> 3015</span>                <span class="comment">// player arrives on destination tile</span></div>
<div class="line"><a id="l03016" name="l03016"></a><span class="lineno"> 3016</span>                p.<a class="code hl_function" href="classCharacter.html#a05f34432b3b1eabef92da141910daf09">set_destination</a>( route, <a class="code hl_class" href="classplayer__activity.html">player_activity</a>( activity_to_restore ) );</div>
<div class="line"><a id="l03017" name="l03017"></a><span class="lineno"> 3017</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03018" name="l03018"></a><span class="lineno"> 3018</span>            }</div>
<div class="line"><a id="l03019" name="l03019"></a><span class="lineno"> 3019</span>        }</div>
<div class="line"><a id="l03020" name="l03020"></a><span class="lineno"> 3020</span>        <span class="comment">// we checked if the work spot was in darkness earlier</span></div>
<div class="line"><a id="l03021" name="l03021"></a><span class="lineno"> 3021</span>        <span class="comment">// but there is a niche case where the player is in darkness but the work spot is not</span></div>
<div class="line"><a id="l03022" name="l03022"></a><span class="lineno"> 3022</span>        <span class="comment">// this can create infinite loops</span></div>
<div class="line"><a id="l03023" name="l03023"></a><span class="lineno"> 3023</span>        <span class="comment">// and we can&#39;t check player.pos() for darkness before they&#39;ve traveled to where they are going to be.</span></div>
<div class="line"><a id="l03024" name="l03024"></a><span class="lineno"> 3024</span>        <span class="comment">// but now we are here, we check</span></div>
<div class="line"><a id="l03025" name="l03025"></a><span class="lineno"> 3025</span>        <span class="keywordflow">if</span>( activity_to_restore != <a class="code hl_variable" href="activity__item__handling_8cpp.html#a3ba251501edde65d85515f5febd2fd8b">ACT_TIDY_UP</a> &amp;&amp;</div>
<div class="line"><a id="l03026" name="l03026"></a><span class="lineno"> 3026</span>            activity_to_restore != <a class="code hl_variable" href="activity__item__handling_8cpp.html#a0313dde9b91b312463fd84bf985b42a6">ACT_MOVE_LOOT</a> &amp;&amp;</div>
<div class="line"><a id="l03027" name="l03027"></a><span class="lineno"> 3027</span>            activity_to_restore != <a class="code hl_variable" href="activity__item__handling_8cpp.html#a36a6f3fc9f4495cb137954996c82ab6a">ACT_FETCH_REQUIRED</a> &amp;&amp;</div>
<div class="line"><a id="l03028" name="l03028"></a><span class="lineno"> 3028</span>            !<a class="code hl_function" href="namespacecharacter__funcs.html#a813a9decd34980fe53f38ba18ffd6374">character_funcs::can_see_fine_details</a>( p ) ) {</div>
<div class="line"><a id="l03029" name="l03029"></a><span class="lineno"> 3029</span>            p.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea5d3734a51686ceb1848704dd277dfc7f">m_info</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It is too dark to work here.&quot;</span> ) );</div>
<div class="line"><a id="l03030" name="l03030"></a><span class="lineno"> 3030</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03031" name="l03031"></a><span class="lineno"> 3031</span>        }</div>
<div class="line"><a id="l03032" name="l03032"></a><span class="lineno"> 3032</span>        <span class="keywordflow">if</span>( !check_only ) {</div>
<div class="line"><a id="l03033" name="l03033"></a><span class="lineno"> 3033</span>            <span class="keywordflow">if</span>( !<a class="code hl_function" href="activity__item__handling_8cpp.html#a2e43dcee24e539e016e7238b00a78355">generic_multi_activity_do</a>( p, activity_to_restore, act_info, src, src_loc ) ) {</div>
<div class="line"><a id="l03034" name="l03034"></a><span class="lineno"> 3034</span>                <span class="comment">// if the activity was succesful</span></div>
<div class="line"><a id="l03035" name="l03035"></a><span class="lineno"> 3035</span>                <span class="comment">// then a new activity was assigned</span></div>
<div class="line"><a id="l03036" name="l03036"></a><span class="lineno"> 3036</span>                <span class="comment">// and the backlog was given the multi-act</span></div>
<div class="line"><a id="l03037" name="l03037"></a><span class="lineno"> 3037</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03038" name="l03038"></a><span class="lineno"> 3038</span>            }</div>
<div class="line"><a id="l03039" name="l03039"></a><span class="lineno"> 3039</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l03040" name="l03040"></a><span class="lineno"> 3040</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l03041" name="l03041"></a><span class="lineno"> 3041</span>        }</div>
<div class="line"><a id="l03042" name="l03042"></a><span class="lineno"> 3042</span>    }</div>
<div class="line"><a id="l03043" name="l03043"></a><span class="lineno"> 3043</span>    <span class="keywordflow">if</span>( !check_only ) {</div>
<div class="line"><a id="l03044" name="l03044"></a><span class="lineno"> 3044</span>        <span class="keywordflow">if</span>( p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> &lt;= 0 ) {</div>
<div class="line"><a id="l03045" name="l03045"></a><span class="lineno"> 3045</span>            <span class="comment">// Restart activity and break from cycle.</span></div>
<div class="line"><a id="l03046" name="l03046"></a><span class="lineno"> 3046</span>            p.<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( activity_to_restore );</div>
<div class="line"><a id="l03047" name="l03047"></a><span class="lineno"> 3047</span>            p.<a class="code hl_variable" href="classCharacter.html#a4052e65bf4b774aaa9ce459719fa0c82">activity_vehicle_part_index</a> = -1;</div>
<div class="line"><a id="l03048" name="l03048"></a><span class="lineno"> 3048</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03049" name="l03049"></a><span class="lineno"> 3049</span>        }</div>
<div class="line"><a id="l03050" name="l03050"></a><span class="lineno"> 3050</span>        <span class="comment">// if we got here, we need to revert otherwise NPC will be stuck in AI Limbo and have a head explosion.</span></div>
<div class="line"><a id="l03051" name="l03051"></a><span class="lineno"> 3051</span>        <span class="keywordflow">if</span>( p.<a class="code hl_variable" href="classCharacter.html#ad2f8dc354e09863a8d257b353a749caa">backlog</a>.empty() || src_set.empty() ) {</div>
<div class="line"><a id="l03052" name="l03052"></a><span class="lineno"> 3052</span>            <a class="code hl_function" href="activity__item__handling_8cpp.html#a0a872445644f42419f269695d5a145d9">check_npc_revert</a>( p );</div>
<div class="line"><a id="l03053" name="l03053"></a><span class="lineno"> 3053</span>            <span class="comment">// tidy up leftover moved parts and tools left lying near the work spots.</span></div>
<div class="line"><a id="l03054" name="l03054"></a><span class="lineno"> 3054</span>            <span class="keywordflow">if</span>( <a class="code hl_class" href="classplayer__activity.html">player_activity</a>( activity_to_restore ).is_multi_type() ) {</div>
<div class="line"><a id="l03055" name="l03055"></a><span class="lineno"> 3055</span>                p.<a class="code hl_function" href="classCharacter.html#af7d50915d362a56eeff40bc6b392326d">assign_activity</a>( <a class="code hl_variable" href="activity__item__handling_8cpp.html#a3ba251501edde65d85515f5febd2fd8b">ACT_TIDY_UP</a> );</div>
<div class="line"><a id="l03056" name="l03056"></a><span class="lineno"> 3056</span>            }</div>
<div class="line"><a id="l03057" name="l03057"></a><span class="lineno"> 3057</span>        }</div>
<div class="line"><a id="l03058" name="l03058"></a><span class="lineno"> 3058</span>        p.<a class="code hl_variable" href="classCharacter.html#a4052e65bf4b774aaa9ce459719fa0c82">activity_vehicle_part_index</a> = -1;</div>
<div class="line"><a id="l03059" name="l03059"></a><span class="lineno"> 3059</span>    }</div>
<div class="line"><a id="l03060" name="l03060"></a><span class="lineno"> 3060</span>    <span class="comment">// scanned every location, tried every path.</span></div>
<div class="line"><a id="l03061" name="l03061"></a><span class="lineno"> 3061</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l03062" name="l03062"></a><span class="lineno"> 3062</span>}</div>
<div class="ttc" id="aactivity__handlers_8h_html_a2cf8ad8704e57889e58223fb5609d7b2"><div class="ttname"><a href="activity__handlers_8h.html#a2cf8ad8704e57889e58223fb5609d7b2">requirement_check_result</a></div><div class="ttdeci">requirement_check_result</div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00029">activity_handlers.h:29</a></div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a0a872445644f42419f269695d5a145d9"><div class="ttname"><a href="activity__item__handling_8cpp.html#a0a872445644f42419f269695d5a145d9">check_npc_revert</a></div><div class="ttdeci">static void check_npc_revert(player &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l02466">activity_item_handling.cpp:2466</a></div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a1b5ef0f9c39f879fb02af755fc8c5b9f"><div class="ttname"><a href="activity__item__handling_8cpp.html#a1b5ef0f9c39f879fb02af755fc8c5b9f">can_do_activity_there</a></div><div class="ttdeci">static activity_reason_info can_do_activity_there(const activity_id &amp;act, player &amp;p, const tripoint &amp;src_loc, const int distance=ACTIVITY_SEARCH_DISTANCE)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l01290">activity_item_handling.cpp:1290</a></div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a2e43dcee24e539e016e7238b00a78355"><div class="ttname"><a href="activity__item__handling_8cpp.html#a2e43dcee24e539e016e7238b00a78355">generic_multi_activity_do</a></div><div class="ttdeci">static bool generic_multi_activity_do(player &amp;p, const activity_id &amp;act_id, const activity_reason_info &amp;act_info, const tripoint &amp;src, const tripoint &amp;src_loc)</div><div class="ttdoc">Do activity at this location.</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l02837">activity_item_handling.cpp:2837</a></div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a36a6f3fc9f4495cb137954996c82ab6a"><div class="ttname"><a href="activity__item__handling_8cpp.html#a36a6f3fc9f4495cb137954996c82ab6a">ACT_FETCH_REQUIRED</a></div><div class="ttdeci">static const activity_id ACT_FETCH_REQUIRED(&quot;ACT_FETCH_REQUIRED&quot;)</div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a3ba251501edde65d85515f5febd2fd8b"><div class="ttname"><a href="activity__item__handling_8cpp.html#a3ba251501edde65d85515f5febd2fd8b">ACT_TIDY_UP</a></div><div class="ttdeci">static const activity_id ACT_TIDY_UP(&quot;ACT_TIDY_UP&quot;)</div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_ad3c3e11e1ff9175fc7a484822777df8e"><div class="ttname"><a href="activity__item__handling_8cpp.html#ad3c3e11e1ff9175fc7a484822777df8e">generic_multi_activity_check_requirement</a></div><div class="ttdeci">static requirement_check_result generic_multi_activity_check_requirement(player &amp;p, const activity_id &amp;act_id, activity_reason_info &amp;act_info, const tripoint &amp;src, const tripoint &amp;src_loc, const std::unordered_set&lt; tripoint &gt; &amp;src_set, const bool check_only=false)</div><div class="ttdoc">Check if this activity can not be done immediately because it has some requirements.</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l02636">activity_item_handling.cpp:2636</a></div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_aff6d8e0d296c7b3030cfaa5e0ccead8a"><div class="ttname"><a href="activity__item__handling_8cpp.html#aff6d8e0d296c7b3030cfaa5e0ccead8a">generic_multi_activity_locations</a></div><div class="ttdeci">static std::unordered_set&lt; tripoint &gt; generic_multi_activity_locations(player &amp;p, const activity_id &amp;act_id)</div><div class="ttdoc">Determine all locations for this generic activity.</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l02518">activity_item_handling.cpp:2518</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4052e65bf4b774aaa9ce459719fa0c82"><div class="ttname"><a href="classCharacter.html#a4052e65bf4b774aaa9ce459719fa0c82">Character::activity_vehicle_part_index</a></div><div class="ttdeci">int activity_vehicle_part_index</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01560">character.h:1560</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad2f8dc354e09863a8d257b353a749caa"><div class="ttname"><a href="classCharacter.html#ad2f8dc354e09863a8d257b353a749caa">Character::backlog</a></div><div class="ttdeci">std::list&lt; player_activity &gt; backlog</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l01517">character.h:1517</a></div></div>
<div class="ttc" id="aclassplayer__activity_html"><div class="ttname"><a href="classplayer__activity.html">player_activity</a></div><div class="ttdef"><b>Definition:</b> <a href="player__activity_8h_source.html#l00031">player_activity.h:32</a></div></div>
<div class="ttc" id="aclassplayer_html_ae7009d849f19a4f5ebe877cbe463c459"><div class="ttname"><a href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">player::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03973">player.cpp:3973</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa3cde2bfb58efa9621289c0a70d24c5a"><div class="ttname"><a href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">string_id::id</a></div><div class="ttdeci">int_id&lt; T &gt; id() const</div><div class="ttdoc">Translate the string based it to the matching integer based id.</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00054">ammo_effect.cpp:54</a></div></div>
<div class="ttc" id="anamespacecharacter__funcs_html_a813a9decd34980fe53f38ba18ffd6374"><div class="ttname"><a href="namespacecharacter__funcs.html#a813a9decd34980fe53f38ba18ffd6374">character_funcs::can_see_fine_details</a></div><div class="ttdeci">bool can_see_fine_details(const Character &amp;who)</div><div class="ttdoc">Checks whether character vision at given pos is good enough to see fine details.</div><div class="ttdef"><b>Definition:</b> <a href="character__functions_8cpp_source.html#l00129">character_functions.cpp:129</a></div></div>
<div class="ttc" id="astructactivity__reason__info_html"><div class="ttname"><a href="structactivity__reason__info.html">activity_reason_info</a></div><div class="ttdef"><b>Definition:</b> <a href="activity__handlers_8h_source.html#l00072">activity_handlers.h:72</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="sounds_8cpp_source.html#l00075">act</a>, <a class="el" href="activity__item__handling_8cpp.html#a36a6f3fc9f4495cb137954996c82ab6a">ACT_FETCH_REQUIRED</a>, <a class="el" href="activity__item__handling_8cpp.html#a0313dde9b91b312463fd84bf985b42a6">ACT_MOVE_LOOT</a>, <a class="el" href="activity__item__handling_8cpp.html#a3ba251501edde65d85515f5febd2fd8b">ACT_TIDY_UP</a>, <a class="el" href="character_8h_source.html#l01516">Character::activity</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00153">ACTIVITY_SEARCH_DISTANCE</a>, <a class="el" href="character_8h_source.html#l01560">Character::activity_vehicle_part_index</a>, <a class="el" href="player_8cpp_source.html#l03973">player::add_msg_if_player()</a>, <a class="el" href="character_8cpp_source.html#l09194">Character::assign_activity()</a>, <a class="el" href="character_8h_source.html#l01517">Character::backlog</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01290">can_do_activity_there()</a>, <a class="el" href="character__functions_8cpp_source.html#l00129">character_funcs::can_see_fine_details()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02466">check_npc_revert()</a>, <a class="el" href="game_8cpp_source.html#l00273">g</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02636">generic_multi_activity_check_requirement()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02837">generic_multi_activity_do()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02518">generic_multi_activity_locations()</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04371">get_sorted_tiles_by_distance()</a>, <a class="el" href="map_8cpp_source.html#l08261">map::getabs()</a>, <a class="el" href="map_8cpp_source.html#l08266">map::getlocal()</a>, <a class="el" href="ammo__effect_8cpp_source.html#l00054">string_id&lt; T &gt;::id()</a>, <a class="el" href="map_8cpp_source.html#l07756">map::inbounds()</a>, <a class="el" href="enums_8h_source.html#l00265">m_info</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="character_8cpp_source.html#l00714">Character::pos()</a>, <a class="el" href="activity__handlers_8h_source.html#l00032">RETURN_EARLY</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01024">route_adjacent()</a>, <a class="el" href="character_8cpp_source.html#l10467">Character::set_destination()</a>, <a class="el" href="creature_8cpp_source.html#l01412">Creature::set_moves()</a>, <a class="el" href="activity__handlers_8h_source.html#l00030">SKIP_LOCATION</a>, and <a class="el" href="coordinates_8h_source.html#l00505">square_dist()</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__handlers_8cpp_source.html#l03874">activity_handlers::chop_trees_do_turn()</a>, <a class="el" href="npcmove_8cpp_source.html#l03351">npc::do_player_activity()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03884">activity_handlers::fetch_do_turn()</a>, <a class="el" href="npcmove_8cpp_source.html#l02575">npc::find_job_to_perform()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03859">activity_handlers::multiple_butcher_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03854">activity_handlers::multiple_chop_planks_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03844">activity_handlers::multiple_construction_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03879">activity_handlers::multiple_farm_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03839">activity_handlers::multiple_fish_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03849">activity_handlers::multiple_mine_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03834">activity_handlers::tidy_up_do_turn()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03864">activity_handlers::vehicle_deconstruction_do_turn()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l03869">activity_handlers::vehicle_repair_do_turn()</a>.</p>

</div>
</div>
<a id="ad56bc2a183ef33fafef613435a366c27" name="ad56bc2a183ef33fafef613435a366c27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad56bc2a183ef33fafef613435a366c27">&#9670;&nbsp;</a></span>get_sorted_tiles_by_distance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; get_sorted_tiles_by_distance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>abspos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>tiles</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__handlers_8cpp_source.html#l04371">4371</a> of file <a class="el" href="activity__handlers_8cpp_source.html">activity_handlers.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l04373" name="l04373"></a><span class="lineno"> 4373</span>{</div>
<div class="line"><a id="l04374" name="l04374"></a><span class="lineno"> 4374</span>    <span class="keyword">const</span> <span class="keyword">auto</span> cmp = [abspos]( <a class="code hl_struct" href="structtripoint.html">tripoint</a> <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a>, <a class="code hl_struct" href="structtripoint.html">tripoint</a> <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> ) {</div>
<div class="line"><a id="l04375" name="l04375"></a><span class="lineno"> 4375</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> da = <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( abspos, <a class="code hl_variable" href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a> );</div>
<div class="line"><a id="l04376" name="l04376"></a><span class="lineno"> 4376</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> db = <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( abspos, <a class="code hl_variable" href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a> );</div>
<div class="line"><a id="l04377" name="l04377"></a><span class="lineno"> 4377</span> </div>
<div class="line"><a id="l04378" name="l04378"></a><span class="lineno"> 4378</span>        <span class="keywordflow">return</span> da &lt; db;</div>
<div class="line"><a id="l04379" name="l04379"></a><span class="lineno"> 4379</span>    };</div>
<div class="line"><a id="l04380" name="l04380"></a><span class="lineno"> 4380</span> </div>
<div class="line"><a id="l04381" name="l04381"></a><span class="lineno"> 4381</span>    std::vector&lt;tripoint&gt; sorted( tiles.begin(), tiles.end() );</div>
<div class="line"><a id="l04382" name="l04382"></a><span class="lineno"> 4382</span>    std::sort( sorted.begin(), sorted.end(), cmp );</div>
<div class="line"><a id="l04383" name="l04383"></a><span class="lineno"> 4383</span> </div>
<div class="line"><a id="l04384" name="l04384"></a><span class="lineno"> 4384</span>    <span class="keywordflow">return</span> sorted;</div>
<div class="line"><a id="l04385" name="l04385"></a><span class="lineno"> 4385</span>}</div>
<div class="ttc" id="amagic_8cpp_html_a188caae18b60b66f9f44214c7e28ac1f"><div class="ttname"><a href="magic_8cpp.html#a188caae18b60b66f9f44214c7e28ac1f">a</a></div><div class="ttdeci">constexpr double a</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01030">magic.cpp:1030</a></div></div>
<div class="ttc" id="amagic_8cpp_html_aa93a189fb7bbbf87be54bcc7bd11bb6f"><div class="ttname"><a href="magic_8cpp.html#aa93a189fb7bbbf87be54bcc7bd11bb6f">b</a></div><div class="ttdeci">constexpr double b</div><div class="ttdef"><b>Definition:</b> <a href="magic_8cpp_source.html#l01031">magic.cpp:1031</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01030">a</a>, <a class="el" href="magic_8cpp_source.html#l01031">b</a>, and <a class="el" href="coordinates_8h_source.html#l00519">rl_dist()</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l02137">activity_on_turn_move_loot()</a>, <a class="el" href="faction__camp_8cpp_source.html#l00639">talk_function::basecamp_mission()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03099">find_refuel_spot_zone()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02950">generic_multi_activity_handler()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04403">perform_zone_activity_turn()</a>, <a class="el" href="faction__camp_8cpp_source.html#l03989">basecamp::place_results()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01024">route_adjacent()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l01945">tidy_activity()</a>, and <a class="el" href="faction__camp_8cpp_source.html#l03586">basecamp::validate_sort_points()</a>.</p>

</div>
</div>
<a id="aaffe872a8e49c99b600d61b6e1b4062e" name="aaffe872a8e49c99b600d61b6e1b4062e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaffe872a8e49c99b600d61b6e1b4062e">&#9670;&nbsp;</a></span>put_into_vehicle_or_drop() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_into_vehicle_or_drop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611">item_drop_reason</a>&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>items</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l00394">394</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>{</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="activity__item__handling_8cpp.html#a4b1368b8a2c647e79a3c9dea01761eed">put_into_vehicle_or_drop</a>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>, reason, items, <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>.pos() );</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>}</div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a4b1368b8a2c647e79a3c9dea01761eed"><div class="ttname"><a href="activity__item__handling_8cpp.html#a4b1368b8a2c647e79a3c9dea01761eed">put_into_vehicle_or_drop</a></div><div class="ttdeci">void put_into_vehicle_or_drop(Character &amp;c, item_drop_reason reason, const std::list&lt; item &gt; &amp;items)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00394">activity_item_handling.cpp:394</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01032">c</a>, and <a class="el" href="activity__item__handling_8cpp_source.html#l00394">put_into_vehicle_or_drop()</a>.</p>

<p class="reference">Referenced by <a class="el" href="player_8cpp_source.html#l02855">player::add_or_drop_with_msg()</a>, <a class="el" href="character_8cpp_source.html#l08407">Character::apply_damage()</a>, <a class="el" href="crafting_8cpp_source.html#l02111">crafting::complete_disassemble()</a>, <a class="el" href="veh__interact_8cpp_source.html#l02989">veh_interact::complete_vehicle()</a>, <a class="el" href="player_8cpp_source.html#l01905">player::consume()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l03413">damage_item()</a>, <a class="el" href="character_8cpp_source.html#l07366">Character::dispose_item()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00685">drop_activity_actor::do_turn()</a>, <a class="el" href="activity__actor_8cpp_source.html#l00904">move_items_activity_actor::do_turn()</a>, <a class="el" href="character_8cpp_source.html#l03198">Character::drop_invalid_inventory()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00743">wash_activity_actor::finish()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00978">move_item()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00394">put_into_vehicle_or_drop()</a>, <a class="el" href="vehicle__use_8cpp_source.html#l01205">vehicle::reload_seeds()</a>, and <a class="el" href="activity__item__handling_8cpp_source.html#l01945">tidy_activity()</a>.</p>

</div>
</div>
<a id="adc1d1e90ae5ecc1e900ecbbd8f18667c" name="adc1d1e90ae5ecc1e900ecbbd8f18667c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc1d1e90ae5ecc1e900ecbbd8f18667c">&#9670;&nbsp;</a></span>put_into_vehicle_or_drop() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_into_vehicle_or_drop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCharacter.html">Character</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="activity__handlers_8h.html#a3931cba30166834e066ef80c02d84611">item_drop_reason</a>&#160;</td>
          <td class="paramname"><em>reason</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::list&lt; <a class="el" href="classitem.html">item</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>where</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force_ground</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l00399">399</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>{</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>    <span class="keyword">const</span> <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;vpart_reference&gt;</a> vp = here.<a class="code hl_function" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( where ).<a class="code hl_function" href="classoptional__vpart__position.html#a2f0829fa83c2c4d3007e26b91af11856">part_with_feature</a>( <span class="stringliteral">&quot;CARGO&quot;</span>, <span class="keyword">false</span> );</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    <span class="keywordflow">if</span>( vp &amp;&amp; !force_ground ) {</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>        <a class="code hl_function" href="activity__item__handling_8cpp.html#af82f07f13b770c64f66fff0c523b0a03">put_into_vehicle</a>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>, reason, items, vp-&gt;vehicle(), vp-&gt;part_index() );</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    }</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>    <a class="code hl_function" href="activity__item__handling_8cpp.html#a7a8187a46223fffe87a69ae5c289b1c5">drop_on_map</a>( <a class="code hl_variable" href="magic_8cpp.html#a6753ecfe87da659675b18c2f81d6ec12">c</a>, reason, items, where );</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>}</div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a7a8187a46223fffe87a69ae5c289b1c5"><div class="ttname"><a href="activity__item__handling_8cpp.html#a7a8187a46223fffe87a69ae5c289b1c5">drop_on_map</a></div><div class="ttdeci">void drop_on_map(Character &amp;c, item_drop_reason reason, const std::list&lt; item &gt; &amp;items, const tripoint &amp;where)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00306">activity_item_handling.cpp:306</a></div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_af82f07f13b770c64f66fff0c523b0a03"><div class="ttname"><a href="activity__item__handling_8cpp.html#af82f07f13b770c64f66fff0c523b0a03">put_into_vehicle</a></div><div class="ttdeci">static void put_into_vehicle(Character &amp;c, item_drop_reason reason, const std::list&lt; item &gt; &amp;items, vehicle &amp;veh, int part)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l00162">activity_item_handling.cpp:162</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="magic_8cpp_source.html#l01032">c</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00306">drop_on_map()</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="vehicle_8cpp_source.html#l02481">optional_vpart_position::part_with_feature()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00162">put_into_vehicle()</a>, and <a class="el" href="map_8cpp_source.html#l01009">map::veh_at()</a>.</p>

</div>
</div>
<a id="a999ed86fc2f9b736a6cbf4b6f195c96c" name="a999ed86fc2f9b736a6cbf4b6f195c96c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a999ed86fc2f9b736a6cbf4b6f195c96c">&#9670;&nbsp;</a></span>route_adjacent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structtripoint.html">tripoint</a> &gt; route_adjacent </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l01024">1024</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>{</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>    <span class="keyword">auto</span> passable_tiles = std::unordered_set&lt;tripoint&gt;();</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span> </div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;tp : here.<a class="code hl_function" href="classmap.html#a4f5f812d7e89a998429958573a4c340f">points_in_radius</a>( dest, 1 ) ) {</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>        <span class="keywordflow">if</span>( tp != p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() &amp;&amp; here.<a class="code hl_function" href="classmap.html#af563dc2397e71a053569cb45c6bb7e77">passable</a>( tp ) &amp;&amp; !here.<a class="code hl_function" href="classmap.html#a1a51a23a59c4341fd4d8f3c4723fd818">obstructed_by_vehicle_rotation</a>( dest, tp ) ) {</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>            passable_tiles.emplace( tp );</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>        }</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>    }</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span> </div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;sorted = <a class="code hl_function" href="activity__handlers_8cpp.html#ad56bc2a183ef33fafef613435a366c27">get_sorted_tiles_by_distance</a>( p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), passable_tiles );</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span> </div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;avoid = p.<a class="code hl_function" href="classCharacter.html#a4820be3a01e28cb0ad60f95a2df82e06">get_path_avoid</a>();</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;tp : sorted ) {</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>        <span class="keyword">auto</span> route = here.<a class="code hl_function" href="classmap.html#a6b4a1306861221ee22ba193a884ef606">route</a>( p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), tp, p.<a class="code hl_function" href="classCharacter.html#aa7240b1a7ad2b5c556a6aeafc2132d46">get_pathfinding_settings</a>(), avoid );</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span> </div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>        <span class="keywordflow">if</span>( !route.empty() ) {</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>            <span class="keywordflow">return</span> route;</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>        }</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>    }</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span> </div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>    <span class="keywordflow">return</span> std::vector&lt;tripoint&gt;();</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>}</div>
<div class="ttc" id="aclassmap_html_a1a51a23a59c4341fd4d8f3c4723fd818"><div class="ttname"><a href="classmap.html#a1a51a23a59c4341fd4d8f3c4723fd818">map::obstructed_by_vehicle_rotation</a></div><div class="ttdeci">bool obstructed_by_vehicle_rotation(const tripoint &amp;from, const tripoint &amp;to) const</div><div class="ttdoc">Checks if a rotated vehicle is blocking diagonal movement, tripoints must be adjacent.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06482">map.cpp:6482</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="character_8cpp_source.html#l09951">Character::get_path_avoid()</a>, <a class="el" href="character_8cpp_source.html#l09965">Character::get_pathfinding_settings()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l04371">get_sorted_tiles_by_distance()</a>, <a class="el" href="map_8cpp_source.html#l06482">map::obstructed_by_vehicle_rotation()</a>, <a class="el" href="map_8cpp_source.html#l01800">map::passable()</a>, <a class="el" href="map_8cpp_source.html#l08605">map::points_in_radius()</a>, <a class="el" href="character_8cpp_source.html#l00714">Character::pos()</a>, and <a class="el" href="pathfinding_8cpp_source.html#l00194">map::route()</a>.</p>

<p class="reference">Referenced by <a class="el" href="activity__item__handling_8cpp_source.html#l02137">activity_on_turn_move_loot()</a>, <a class="el" href="activity__handlers_8cpp_source.html#l03391">activity_handlers::find_mount_do_turn()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l02950">generic_multi_activity_handler()</a>, and <a class="el" href="activity__item__handling_8cpp_source.html#l02518">generic_multi_activity_locations()</a>.</p>

</div>
</div>
<a id="a7a32ef665b942c94079f45593d021901" name="a7a32ef665b942c94079f45593d021901"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a32ef665b942c94079f45593d021901">&#9670;&nbsp;</a></span>try_fuel_fire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void try_fuel_fire </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer__activity.html">player_activity</a> &amp;&#160;</td>
          <td class="paramname"><em>act</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>starting_fire</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="activity__item__handling_8cpp_source.html#l03241">3241</a> of file <a class="el" href="activity__item__handling_8cpp_source.html">activity_item_handling.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l03242" name="l03242"></a><span class="lineno"> 3242</span>{</div>
<div class="line"><a id="l03243" name="l03243"></a><span class="lineno"> 3243</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> pos = p.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>();</div>
<div class="line"><a id="l03244" name="l03244"></a><span class="lineno"> 3244</span>    std::vector&lt;tripoint&gt; adjacent = <a class="code hl_function" href="coordinates_8h.html#a13a12943d34d5f17e6c3b4e730659fc6">closest_points_first</a>( pos, <a class="code hl_variable" href="cached__options_8cpp.html#a1467e25ae6a1c8f9d4489be4a8e014a3">PICKUP_RANGE</a> );</div>
<div class="line"><a id="l03245" name="l03245"></a><span class="lineno"> 3245</span>    adjacent.erase( adjacent.begin() );</div>
<div class="line"><a id="l03246" name="l03246"></a><span class="lineno"> 3246</span> </div>
<div class="line"><a id="l03247" name="l03247"></a><span class="lineno"> 3247</span>    <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> best_fire = starting_fire ? <a class="code hl_variable" href="sounds_8cpp.html#ad9fe7b616a93a8209da903eba756237e">act</a>.placement : <a class="code hl_function" href="activity__item__handling_8cpp.html#abcf5947a826b3530284367e6f4fd18ca">find_best_fire</a>( adjacent,</div>
<div class="line"><a id="l03248" name="l03248"></a><span class="lineno"> 3248</span>                                         pos );</div>
<div class="line"><a id="l03249" name="l03249"></a><span class="lineno"> 3249</span> </div>
<div class="line"><a id="l03250" name="l03250"></a><span class="lineno"> 3250</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l03251" name="l03251"></a><span class="lineno"> 3251</span>    <span class="keywordflow">if</span>( !best_fire || !here.<a class="code hl_function" href="classmap.html#ab669e4df068956bf9b69599c85c2a0b2">accessible_items</a>( *best_fire ) ) {</div>
<div class="line"><a id="l03252" name="l03252"></a><span class="lineno"> 3252</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03253" name="l03253"></a><span class="lineno"> 3253</span>    }</div>
<div class="line"><a id="l03254" name="l03254"></a><span class="lineno"> 3254</span> </div>
<div class="line"><a id="l03255" name="l03255"></a><span class="lineno"> 3255</span>    <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;tripoint&gt;</a> refuel_spot = <a class="code hl_function" href="activity__item__handling_8cpp.html#ae88e0e2ac0344ef93eb3ca8d3aa75e8d">find_refuel_spot_zone</a>( pos );</div>
<div class="line"><a id="l03256" name="l03256"></a><span class="lineno"> 3256</span>    <span class="keywordflow">if</span>( !refuel_spot ) {</div>
<div class="line"><a id="l03257" name="l03257"></a><span class="lineno"> 3257</span>        refuel_spot = <a class="code hl_function" href="activity__item__handling_8cpp.html#a425b8259c712a3b3d93caf0dbc94d13e">find_refuel_spot_trap</a>( adjacent, pos );</div>
<div class="line"><a id="l03258" name="l03258"></a><span class="lineno"> 3258</span>        <span class="keywordflow">if</span>( !refuel_spot ) {</div>
<div class="line"><a id="l03259" name="l03259"></a><span class="lineno"> 3259</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03260" name="l03260"></a><span class="lineno"> 3260</span>        }</div>
<div class="line"><a id="l03261" name="l03261"></a><span class="lineno"> 3261</span>    }</div>
<div class="line"><a id="l03262" name="l03262"></a><span class="lineno"> 3262</span> </div>
<div class="line"><a id="l03263" name="l03263"></a><span class="lineno"> 3263</span>    <span class="comment">// Special case: fire containers allow burning logs, so use them as fuel if fire is contained</span></div>
<div class="line"><a id="l03264" name="l03264"></a><span class="lineno"> 3264</span>    <span class="keywordtype">bool</span> contained = here.<a class="code hl_function" href="classmap.html#a09ef3e8c2e6664e3ed98d1e1e18a4b4f">has_flag_furn</a>( <a class="code hl_enumvalue" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258accfec381626070e2f0131404e1e964c7">TFLAG_FIRE_CONTAINER</a>, *best_fire );</div>
<div class="line"><a id="l03265" name="l03265"></a><span class="lineno"> 3265</span>    <a class="code hl_struct" href="structfire__data.html">fire_data</a> fd( 1, contained );</div>
<div class="line"><a id="l03266" name="l03266"></a><span class="lineno"> 3266</span>    <a class="code hl_class" href="classtime__duration.html">time_duration</a> fire_age = here.<a class="code hl_function" href="classmap.html#a1e2d0ee9656a17039576cad540e73dff">get_field_age</a>( *best_fire, <a class="code hl_variable" href="field__type_8cpp.html#a261d438c14892c55153e1b615c548164">fd_fire</a> );</div>
<div class="line"><a id="l03267" name="l03267"></a><span class="lineno"> 3267</span> </div>
<div class="line"><a id="l03268" name="l03268"></a><span class="lineno"> 3268</span>    <span class="comment">// Maybe TODO: - refueling in the rain could use more fuel</span></div>
<div class="line"><a id="l03269" name="l03269"></a><span class="lineno"> 3269</span>    <span class="comment">// First, simulate expected burn per turn, to see if we need more fuel</span></div>
<div class="line"><a id="l03270" name="l03270"></a><span class="lineno"> 3270</span>    <a class="code hl_class" href="classmap__stack.html">map_stack</a> fuel_on_fire = here.<a class="code hl_function" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( *best_fire );</div>
<div class="line"><a id="l03271" name="l03271"></a><span class="lineno"> 3271</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> &amp;it : fuel_on_fire ) {</div>
<div class="line"><a id="l03272" name="l03272"></a><span class="lineno"> 3272</span>        it.simulate_burn( fd );</div>
<div class="line"><a id="l03273" name="l03273"></a><span class="lineno"> 3273</span>        <span class="comment">// Unconstrained fires grow below -50_minutes age</span></div>
<div class="line"><a id="l03274" name="l03274"></a><span class="lineno"> 3274</span>        <span class="keywordflow">if</span>( !contained &amp;&amp; fire_age &lt; -40_minutes &amp;&amp; fd.fuel_produced &gt; 1.0f &amp;&amp; !it.made_of( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l03275" name="l03275"></a><span class="lineno"> 3275</span>            <span class="comment">// Too much - we don&#39;t want a firestorm!</span></div>
<div class="line"><a id="l03276" name="l03276"></a><span class="lineno"> 3276</span>            <span class="comment">// Move item back to refueling pile</span></div>
<div class="line"><a id="l03277" name="l03277"></a><span class="lineno"> 3277</span>            <span class="comment">// Note: move_item() handles messages (they&#39;re the generic &quot;you drop x&quot;)</span></div>
<div class="line"><a id="l03278" name="l03278"></a><span class="lineno"> 3278</span>            <a class="code hl_function" href="activity__item__handling_8cpp.html#aa503550e17ef5526e621cdace3449e1f">move_item</a>( p, it, 0, *best_fire, *refuel_spot, <span class="keyword">nullptr</span>, -1 );</div>
<div class="line"><a id="l03279" name="l03279"></a><span class="lineno"> 3279</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03280" name="l03280"></a><span class="lineno"> 3280</span>        }</div>
<div class="line"><a id="l03281" name="l03281"></a><span class="lineno"> 3281</span>    }</div>
<div class="line"><a id="l03282" name="l03282"></a><span class="lineno"> 3282</span> </div>
<div class="line"><a id="l03283" name="l03283"></a><span class="lineno"> 3283</span>    <span class="comment">// Enough to sustain the fire</span></div>
<div class="line"><a id="l03284" name="l03284"></a><span class="lineno"> 3284</span>    <span class="comment">// TODO: It&#39;s not enough in the rain</span></div>
<div class="line"><a id="l03285" name="l03285"></a><span class="lineno"> 3285</span>    <span class="keywordflow">if</span>( !starting_fire &amp;&amp; ( fd.fuel_produced &gt;= 1.0f || fire_age &lt; 10_minutes ) ) {</div>
<div class="line"><a id="l03286" name="l03286"></a><span class="lineno"> 3286</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03287" name="l03287"></a><span class="lineno"> 3287</span>    }</div>
<div class="line"><a id="l03288" name="l03288"></a><span class="lineno"> 3288</span> </div>
<div class="line"><a id="l03289" name="l03289"></a><span class="lineno"> 3289</span>    <span class="comment">// We need to move fuel from stash to fire</span></div>
<div class="line"><a id="l03290" name="l03290"></a><span class="lineno"> 3290</span>    <a class="code hl_class" href="classmap__stack.html">map_stack</a> potential_fuel = here.<a class="code hl_function" href="classmap.html#a5130a127601b67e569eaef37a1a88610">i_at</a>( *refuel_spot );</div>
<div class="line"><a id="l03291" name="l03291"></a><span class="lineno"> 3291</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classitem.html">item</a> &amp;it : potential_fuel ) {</div>
<div class="line"><a id="l03292" name="l03292"></a><span class="lineno"> 3292</span>        <span class="keywordflow">if</span>( it.made_of( <a class="code hl_enumvalue" href="enums_8h.html#ade8f325e8cc8463cef8f944f3209d0e5aa87f9501ff2b390be1ea7d261b0d7cce">LIQUID</a> ) ) {</div>
<div class="line"><a id="l03293" name="l03293"></a><span class="lineno"> 3293</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l03294" name="l03294"></a><span class="lineno"> 3294</span>        }</div>
<div class="line"><a id="l03295" name="l03295"></a><span class="lineno"> 3295</span> </div>
<div class="line"><a id="l03296" name="l03296"></a><span class="lineno"> 3296</span>        <span class="keywordtype">float</span> last_fuel = fd.fuel_produced;</div>
<div class="line"><a id="l03297" name="l03297"></a><span class="lineno"> 3297</span>        it.simulate_burn( fd );</div>
<div class="line"><a id="l03298" name="l03298"></a><span class="lineno"> 3298</span>        <span class="keywordflow">if</span>( fd.fuel_produced &gt; last_fuel ) {</div>
<div class="line"><a id="l03299" name="l03299"></a><span class="lineno"> 3299</span>            <span class="keywordtype">int</span> quantity = std::max( 1, std::min( it.charges, it.charges_per_volume( 250_ml ) ) );</div>
<div class="line"><a id="l03300" name="l03300"></a><span class="lineno"> 3300</span>            <span class="comment">// Note: move_item() handles messages (they&#39;re the generic &quot;you drop x&quot;)</span></div>
<div class="line"><a id="l03301" name="l03301"></a><span class="lineno"> 3301</span>            <a class="code hl_function" href="activity__item__handling_8cpp.html#aa503550e17ef5526e621cdace3449e1f">move_item</a>( p, it, quantity, *refuel_spot, *best_fire, <span class="keyword">nullptr</span>, -1 );</div>
<div class="line"><a id="l03302" name="l03302"></a><span class="lineno"> 3302</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l03303" name="l03303"></a><span class="lineno"> 3303</span>        }</div>
<div class="line"><a id="l03304" name="l03304"></a><span class="lineno"> 3304</span>    }</div>
<div class="line"><a id="l03305" name="l03305"></a><span class="lineno"> 3305</span>}</div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_a425b8259c712a3b3d93caf0dbc94d13e"><div class="ttname"><a href="activity__item__handling_8cpp.html#a425b8259c712a3b3d93caf0dbc94d13e">find_refuel_spot_trap</a></div><div class="ttdeci">static cata::optional&lt; tripoint &gt; find_refuel_spot_trap(const std::vector&lt; tripoint &gt; &amp;from, const tripoint &amp;center)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l03120">activity_item_handling.cpp:3120</a></div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_abcf5947a826b3530284367e6f4fd18ca"><div class="ttname"><a href="activity__item__handling_8cpp.html#abcf5947a826b3530284367e6f4fd18ca">find_best_fire</a></div><div class="ttdeci">static cata::optional&lt; tripoint &gt; find_best_fire(const std::vector&lt; tripoint &gt; &amp;from, const tripoint &amp;center)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l03064">activity_item_handling.cpp:3064</a></div></div>
<div class="ttc" id="aactivity__item__handling_8cpp_html_ae88e0e2ac0344ef93eb3ca8d3aa75e8d"><div class="ttname"><a href="activity__item__handling_8cpp.html#ae88e0e2ac0344ef93eb3ca8d3aa75e8d">find_refuel_spot_zone</a></div><div class="ttdeci">static cata::optional&lt; tripoint &gt; find_refuel_spot_zone(const tripoint &amp;center)</div><div class="ttdef"><b>Definition:</b> <a href="activity__item__handling_8cpp_source.html#l03099">activity_item_handling.cpp:3099</a></div></div>
<div class="ttc" id="aclassmap_html_a1e2d0ee9656a17039576cad540e73dff"><div class="ttname"><a href="classmap.html#a1e2d0ee9656a17039576cad540e73dff">map::get_field_age</a></div><div class="ttdeci">time_duration get_field_age(const tripoint &amp;p, const field_type_id &amp;type) const</div><div class="ttdoc">Get the age of a field entry (field_entry::age), if there is no field of that type,...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05361">map.cpp:5361</a></div></div>
<div class="ttc" id="aclassmap_html_ab669e4df068956bf9b69599c85c2a0b2"><div class="ttname"><a href="classmap.html#ab669e4df068956bf9b69599c85c2a0b2">map::accessible_items</a></div><div class="ttdeci">bool accessible_items(const tripoint &amp;t) const</div><div class="ttdoc">Check whether the player can access the items located .</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06555">map.cpp:6555</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00179">calendar.h:180</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a13a12943d34d5f17e6c3b4e730659fc6"><div class="ttname"><a href="coordinates_8h.html#a13a12943d34d5f17e6c3b4e730659fc6">closest_points_first</a></div><div class="ttdeci">std::vector&lt; coords::coord_point&lt; Point, Origin, Scale &gt; &gt; closest_points_first(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc, int min_dist, int max_dist)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00596">coordinates.h:596</a></div></div>
<div class="ttc" id="amapdata_8h_html_aa04d037303ea30193f7cf0cd82304258accfec381626070e2f0131404e1e964c7"><div class="ttname"><a href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258accfec381626070e2f0131404e1e964c7">TFLAG_FIRE_CONTAINER</a></div><div class="ttdeci">@ TFLAG_FIRE_CONTAINER</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00293">mapdata.h:293</a></div></div>
<div class="ttc" id="astructfire__data_html"><div class="ttname"><a href="structfire__data.html">fire_data</a></div><div class="ttdoc">Contains the state of a fire in one tile on one turn.</div><div class="ttdef"><b>Definition:</b> <a href="fire_8h_source.html#l00018">fire.h:18</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="map_8cpp_source.html#l06555">map::accessible_items()</a>, <a class="el" href="sounds_8cpp_source.html#l00075">act</a>, <a class="el" href="item_8h_source.html#l02196">item::charges</a>, <a class="el" href="item_8cpp_source.html#l00864">item::charges_per_volume()</a>, <a class="el" href="coordinates_8h_source.html#l00596">closest_points_first()</a>, <a class="el" href="field__type_8cpp_source.html#l00345">fd_fire</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03064">find_best_fire()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03120">find_refuel_spot_trap()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l03099">find_refuel_spot_zone()</a>, <a class="el" href="fire_8h_source.html#l00029">fire_data::fuel_produced</a>, <a class="el" href="map_8cpp_source.html#l05361">map::get_field_age()</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="map_8cpp_source.html#l02317">map::has_flag_furn()</a>, <a class="el" href="map_8cpp_source.html#l04079">map::i_at()</a>, <a class="el" href="enums_8h_source.html#l00175">LIQUID</a>, <a class="el" href="item_8cpp_source.html#l06284">item::made_of()</a>, <a class="el" href="activity__item__handling_8cpp_source.html#l00978">move_item()</a>, <a class="el" href="cached__options_8cpp_source.html#l00019">PICKUP_RANGE</a>, <a class="el" href="character_8cpp_source.html#l00714">Character::pos()</a>, <a class="el" href="item_8cpp_source.html#l08090">item::simulate_burn()</a>, and <a class="el" href="mapdata_8h_source.html#l00293">TFLAG_FIRE_CONTAINER</a>.</p>

<p class="reference">Referenced by <a class="el" href="player__activity_8cpp_source.html#l00272">player_activity::do_turn()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l02169">activity_handlers::start_fire_do_turn()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="activity__handlers_8h.html">activity_handlers.h</a></li>
    <li class="footer">Generated on Sun Oct 30 2022 15:34:05 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
