<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: consume_drug_iuse Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classconsume__drug__iuse.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classconsume__drug__iuse-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">consume_drug_iuse Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This iuse encapsulates the effects of taking a drug.  
 <a href="classconsume__drug__iuse.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for consume_drug_iuse:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classconsume__drug__iuse.png" usemap="#consume_5Fdrug_5Fiuse_map" alt=""/>
  <map id="consume_5Fdrug_5Fiuse_map" name="consume_5Fdrug_5Fiuse_map">
<area href="classiuse__actor.html" alt="iuse_actor" shape="rect" coords="0,0,125,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9bc7fe15cae8bc8f7ff176e6ff6278ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a9bc7fe15cae8bc8f7ff176e6ff6278ba">consume_drug_iuse</a> (const std::string &amp;<a class="el" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a>=&quot;consume_drug&quot;)</td></tr>
<tr class="separator:a9bc7fe15cae8bc8f7ff176e6ff6278ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3958ddc5ae2a43fdfd05cba572528e69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a3958ddc5ae2a43fdfd05cba572528e69">~consume_drug_iuse</a> () override=default</td></tr>
<tr class="separator:a3958ddc5ae2a43fdfd05cba572528e69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ae3ba037d80e342a6bad182740dae76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a7ae3ba037d80e342a6bad182740dae76">load</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;obj) override</td></tr>
<tr class="separator:a7ae3ba037d80e342a6bad182740dae76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64e0b2fb2f426f86593abe6f949c069b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a64e0b2fb2f426f86593abe6f949c069b">use</a> (<a class="el" href="classplayer.html">player</a> &amp;, <a class="el" href="classitem.html">item</a> &amp;, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;) const override</td></tr>
<tr class="separator:a64e0b2fb2f426f86593abe6f949c069b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc90757cabfcb9d5fc30bbe2c65b466b"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classiuse__actor.html">iuse_actor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#adc90757cabfcb9d5fc30bbe2c65b466b">clone</a> () const override</td></tr>
<tr class="memdesc:adc90757cabfcb9d5fc30bbe2c65b466b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a deep copy of this object.  <a href="classconsume__drug__iuse.html#adc90757cabfcb9d5fc30bbe2c65b466b">More...</a><br /></td></tr>
<tr class="separator:adc90757cabfcb9d5fc30bbe2c65b466b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ccf0520487cb3da00cefbbe93c538e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a9ccf0520487cb3da00cefbbe93c538e3">info</a> (const <a class="el" href="classitem.html">item</a> &amp;, std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;) const override</td></tr>
<tr class="separator:a9ccf0520487cb3da00cefbbe93c538e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classiuse__actor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classiuse__actor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classiuse__actor.html">iuse_actor</a></td></tr>
<tr class="memitem:a2dad7b4ac740759a1db73515af5f7f99 inherit pub_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a2dad7b4ac740759a1db73515af5f7f99">~iuse_actor</a> ()=default</td></tr>
<tr class="separator:a2dad7b4ac740759a1db73515af5f7f99 inherit pub_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46803e26f384386f9f8061044c7373ff inherit pub_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classret__val.html">ret_val</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a46803e26f384386f9f8061044c7373ff">can_use</a> (const <a class="el" href="classCharacter.html">Character</a> &amp;, const <a class="el" href="classitem.html">item</a> &amp;, bool, const <a class="el" href="structtripoint.html">tripoint</a> &amp;) const</td></tr>
<tr class="separator:a46803e26f384386f9f8061044c7373ff inherit pub_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a012da399f97dd64e29a78e477a202b8e inherit pub_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a012da399f97dd64e29a78e477a202b8e">is_valid</a> () const</td></tr>
<tr class="memdesc:a012da399f97dd64e29a78e477a202b8e inherit pub_methods_classiuse__actor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the actor is valid (exists in the generator).  <a href="classiuse__actor.html#a012da399f97dd64e29a78e477a202b8e">More...</a><br /></td></tr>
<tr class="separator:a012da399f97dd64e29a78e477a202b8e inherit pub_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c0e5b1f19b2f17d2a40220bc8ac28dc inherit pub_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a4c0e5b1f19b2f17d2a40220bc8ac28dc">get_name</a> () const</td></tr>
<tr class="memdesc:a4c0e5b1f19b2f17d2a40220bc8ac28dc inherit pub_methods_classiuse__actor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the translated name of the action.  <a href="classiuse__actor.html#a4c0e5b1f19b2f17d2a40220bc8ac28dc">More...</a><br /></td></tr>
<tr class="separator:a4c0e5b1f19b2f17d2a40220bc8ac28dc inherit pub_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7123b9e8ee6610ef1694f0451f05624 inherit pub_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#ae7123b9e8ee6610ef1694f0451f05624">finalize</a> (const <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a> &amp;)</td></tr>
<tr class="memdesc:ae7123b9e8ee6610ef1694f0451f05624 inherit pub_methods_classiuse__actor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalizes the actor.  <a href="classiuse__actor.html#ae7123b9e8ee6610ef1694f0451f05624">More...</a><br /></td></tr>
<tr class="separator:ae7123b9e8ee6610ef1694f0451f05624 inherit pub_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac866c2f86ba50bab0f1e3c701b98dfd4"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#ac866c2f86ba50bab0f1e3c701b98dfd4">activation_message</a></td></tr>
<tr class="memdesc:ac866c2f86ba50bab0f1e3c701b98dfd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message to display when drug is consumed.  <a href="classconsume__drug__iuse.html#ac866c2f86ba50bab0f1e3c701b98dfd4">More...</a><br /></td></tr>
<tr class="separator:ac866c2f86ba50bab0f1e3c701b98dfd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bb881b47b886853bea7dde0d5217d10"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a5bb881b47b886853bea7dde0d5217d10">fields_produced</a></td></tr>
<tr class="memdesc:a5bb881b47b886853bea7dde0d5217d10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fields to produce when you take the drug, mostly intended for various kinds of smoke.  <a href="classconsume__drug__iuse.html#a5bb881b47b886853bea7dde0d5217d10">More...</a><br /></td></tr>
<tr class="separator:a5bb881b47b886853bea7dde0d5217d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff3b6e32510755e1838f61780eda3c1"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a4ff3b6e32510755e1838f61780eda3c1">charges_needed</a></td></tr>
<tr class="memdesc:a4ff3b6e32510755e1838f61780eda3c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tool charges needed to take the drug, e.g.  <a href="classconsume__drug__iuse.html#a4ff3b6e32510755e1838f61780eda3c1">More...</a><br /></td></tr>
<tr class="separator:a4ff3b6e32510755e1838f61780eda3c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a626aba494d3645ac2276fb1de6471dce"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a626aba494d3645ac2276fb1de6471dce">tools_needed</a></td></tr>
<tr class="memdesc:a626aba494d3645ac2276fb1de6471dce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tools needed, but not consumed, e.g.  <a href="classconsume__drug__iuse.html#a626aba494d3645ac2276fb1de6471dce">More...</a><br /></td></tr>
<tr class="separator:a626aba494d3645ac2276fb1de6471dce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adffdee01013915c3ca219fc6f71e4672"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structeffect__data.html">effect_data</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#adffdee01013915c3ca219fc6f71e4672">effects</a></td></tr>
<tr class="memdesc:adffdee01013915c3ca219fc6f71e4672"><td class="mdescLeft">&#160;</td><td class="mdescRight">An effect or effects (conditions) to give the player for the stated duration.  <a href="classconsume__drug__iuse.html#adffdee01013915c3ca219fc6f71e4672">More...</a><br /></td></tr>
<tr class="separator:adffdee01013915c3ca219fc6f71e4672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56b544bb918618205efa1840256e2f3a"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a56b544bb918618205efa1840256e2f3a">stat_adjustments</a></td></tr>
<tr class="memdesc:a56b544bb918618205efa1840256e2f3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list of stats and adjustments to them.  <a href="classconsume__drug__iuse.html#a56b544bb918618205efa1840256e2f3a">More...</a><br /></td></tr>
<tr class="separator:a56b544bb918618205efa1840256e2f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b7635aaefc1601bf9515fbc7487ef23"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="type__id_8h.html#a62798cd4a1ea702e8d25b8c0f17a4834">vitamin_id</a>, std::pair&lt; int, int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a9b7635aaefc1601bf9515fbc7487ef23">vitamins</a></td></tr>
<tr class="memdesc:a9b7635aaefc1601bf9515fbc7487ef23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modify player vitamin_levels by random amount between min (first) and max (second)  <a href="classconsume__drug__iuse.html#a9b7635aaefc1601bf9515fbc7487ef23">More...</a><br /></td></tr>
<tr class="separator:a9b7635aaefc1601bf9515fbc7487ef23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fba02f796712c6c4257acd984834c31"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a0fba02f796712c6c4257acd984834c31">moves</a> = 100</td></tr>
<tr class="memdesc:a0fba02f796712c6c4257acd984834c31"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many move points this action takes.  <a href="classconsume__drug__iuse.html#a0fba02f796712c6c4257acd984834c31">More...</a><br /></td></tr>
<tr class="separator:a0fba02f796712c6c4257acd984834c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28e2e2582269550ac8bb3db5a5e908ea"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconsume__drug__iuse.html#a28e2e2582269550ac8bb3db5a5e908ea">used_up_item</a></td></tr>
<tr class="memdesc:a28e2e2582269550ac8bb3db5a5e908ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Item produced after using drugs.  <a href="classconsume__drug__iuse.html#a28e2e2582269550ac8bb3db5a5e908ea">More...</a><br /></td></tr>
<tr class="separator:a28e2e2582269550ac8bb3db5a5e908ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classiuse__actor"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classiuse__actor')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classiuse__actor.html">iuse_actor</a></td></tr>
<tr class="memitem:a5bfc0cc8ea9046eb540641ff464af80c inherit pub_attribs_classiuse__actor"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a></td></tr>
<tr class="memdesc:a5bfc0cc8ea9046eb540641ff464af80c inherit pub_attribs_classiuse__actor"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of the action.  <a href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">More...</a><br /></td></tr>
<tr class="separator:a5bfc0cc8ea9046eb540641ff464af80c inherit pub_attribs_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d48ce3563f6107d1ead2463560b523e inherit pub_attribs_classiuse__actor"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a6d48ce3563f6107d1ead2463560b523e">cost</a></td></tr>
<tr class="memdesc:a6d48ce3563f6107d1ead2463560b523e inherit pub_attribs_classiuse__actor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Units of ammo required per invocation (or use value from base item if negative)  <a href="classiuse__actor.html#a6d48ce3563f6107d1ead2463560b523e">More...</a><br /></td></tr>
<tr class="separator:a6d48ce3563f6107d1ead2463560b523e inherit pub_attribs_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classiuse__actor"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classiuse__actor')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classiuse__actor.html">iuse_actor</a></td></tr>
<tr class="memitem:a3e13735b7baa2c93610ccb78abda2d09 inherit pro_methods_classiuse__actor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiuse__actor.html#a3e13735b7baa2c93610ccb78abda2d09">iuse_actor</a> (const std::string &amp;<a class="el" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a>, int <a class="el" href="classiuse__actor.html#a6d48ce3563f6107d1ead2463560b523e">cost</a>=-1)</td></tr>
<tr class="separator:a3e13735b7baa2c93610ccb78abda2d09 inherit pro_methods_classiuse__actor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This iuse encapsulates the effects of taking a drug. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00248">248</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9bc7fe15cae8bc8f7ff176e6ff6278ba" name="a9bc7fe15cae8bc8f7ff176e6ff6278ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bc7fe15cae8bc8f7ff176e6ff6278ba">&#9670;&nbsp;</a></span>consume_drug_iuse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">consume_drug_iuse::consume_drug_iuse </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>type</em> = <code>&quot;consume_drug&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00270">270</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>
<div class="fragment"><div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>: <a class="code hl_function" href="classiuse__actor.html#a3e13735b7baa2c93610ccb78abda2d09">iuse_actor</a>( <a class="code hl_variable" href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">type</a> ) {}</div>
<div class="ttc" id="aclassiuse__actor_html_a3e13735b7baa2c93610ccb78abda2d09"><div class="ttname"><a href="classiuse__actor.html#a3e13735b7baa2c93610ccb78abda2d09">iuse_actor::iuse_actor</a></div><div class="ttdeci">iuse_actor(const std::string &amp;type, int cost=-1)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8h_source.html#l00259">iuse.h:259</a></div></div>
<div class="ttc" id="aclassiuse__actor_html_a5bfc0cc8ea9046eb540641ff464af80c"><div class="ttname"><a href="classiuse__actor.html#a5bfc0cc8ea9046eb540641ff464af80c">iuse_actor::type</a></div><div class="ttdeci">const std::string type</div><div class="ttdoc">The type of the action.</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8h_source.html#l00266">iuse.h:266</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3958ddc5ae2a43fdfd05cba572528e69" name="a3958ddc5ae2a43fdfd05cba572528e69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3958ddc5ae2a43fdfd05cba572528e69">&#9670;&nbsp;</a></span>~consume_drug_iuse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">consume_drug_iuse::~consume_drug_iuse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adc90757cabfcb9d5fc30bbe2c65b466b" name="adc90757cabfcb9d5fc30bbe2c65b466b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc90757cabfcb9d5fc30bbe2c65b466b">&#9670;&nbsp;</a></span>clone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt; <a class="el" href="classiuse__actor.html">iuse_actor</a> &gt; consume_drug_iuse::clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a deep copy of this object. </p>
<p >Example implementation: </p><div class="fragment"><div class="line"><span class="keyword">class </span>my_iuse_actor {</div>
<div class="line">    std::unique_ptr&lt;iuse_actor&gt; <a class="code hl_function" href="classconsume__drug__iuse.html#adc90757cabfcb9d5fc30bbe2c65b466b">clone</a>()<span class="keyword"> const override </span>{</div>
<div class="line">        <span class="keywordflow">return</span> std::make_unique&lt;my_iuse_actor&gt;( *<span class="keyword">this</span> );</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="ttc" id="aclassconsume__drug__iuse_html_adc90757cabfcb9d5fc30bbe2c65b466b"><div class="ttname"><a href="classconsume__drug__iuse.html#adc90757cabfcb9d5fc30bbe2c65b466b">consume_drug_iuse::clone</a></div><div class="ttdeci">std::unique_ptr&lt; iuse_actor &gt; clone() const override</div><div class="ttdoc">Returns a deep copy of this object.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l00707">iuse_actor.cpp:707</a></div></div>
</div><!-- fragment --><p> The returned value should behave like the original item and must have the same type. </p>

<p>Implements <a class="el" href="classiuse__actor.html#a79a3e229ab9a4f5433d061cc1faec42d">iuse_actor</a>.</p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l00707">707</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>{</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    <span class="keywordflow">return</span> std::make_unique&lt;consume_drug_iuse&gt;( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ccf0520487cb3da00cefbbe93c538e3" name="a9ccf0520487cb3da00cefbbe93c538e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ccf0520487cb3da00cefbbe93c538e3">&#9670;&nbsp;</a></span>info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void consume_drug_iuse::info </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structiteminfo.html">iteminfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>dump</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classiuse__actor.html#aa0955326b251f45c76a7a16e84b6b9e6">iuse_actor</a>.</p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l00764">764</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>{</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>    <span class="keyword">const</span> std::string vits = <a class="code hl_function" href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a>( <a class="code hl_variable" href="classconsume__drug__iuse.html#a9b7635aaefc1601bf9515fbc7487ef23">vitamins</a>.begin(), <a class="code hl_variable" href="classconsume__drug__iuse.html#a9b7635aaefc1601bf9515fbc7487ef23">vitamins</a>.end(),</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>    []( <span class="keyword">const</span> <span class="keyword">decltype</span>( <a class="code hl_variable" href="classconsume__drug__iuse.html#a9b7635aaefc1601bf9515fbc7487ef23">vitamins</a> )::value_type &amp; v ) {</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>        const time_duration rate = get_player_character().vitamin_rate( v.first );</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>        if( rate &lt;= 0_turns ) {</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>            return std::string();</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>        }</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( v.second.first  * rate / 1_days * 100 );</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> hi = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( v.second.second * rate / 1_days * 100 );</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span> </div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a> == hi ? <span class="stringliteral">&quot;%s (%i%%)&quot;</span> : <span class="stringliteral">&quot;%s (%i-%i%%)&quot;</span>, v.first.obj().name(), <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a>,</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>                              hi );</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>    } );</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span> </div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>    <span class="keywordflow">if</span>( !vits.empty() ) {</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>        dump.emplace_back( <span class="stringliteral">&quot;TOOL&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Vitamins (RDA): &quot;</span> ), vits );</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>    }</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span> </div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classconsume__drug__iuse.html#a626aba494d3645ac2276fb1de6471dce">tools_needed</a>.count( <a class="code hl_variable" href="iuse__actor_8cpp.html#ac94da8d391815c77827574ea45ba553b">itype_syringe</a> ) ) {</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>        dump.emplace_back( <span class="stringliteral">&quot;TOOL&quot;</span>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need a &lt;info&gt;syringe&lt;/info&gt; to inject this drug.&quot;</span> ) );</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>    }</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>}</div>
<div class="ttc" id="aclassconsume__drug__iuse_html_a626aba494d3645ac2276fb1de6471dce"><div class="ttname"><a href="classconsume__drug__iuse.html#a626aba494d3645ac2276fb1de6471dce">consume_drug_iuse::tools_needed</a></div><div class="ttdeci">std::map&lt; itype_id, int &gt; tools_needed</div><div class="ttdoc">Tools needed, but not consumed, e.g.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00258">iuse_actor.h:258</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_a9b7635aaefc1601bf9515fbc7487ef23"><div class="ttname"><a href="classconsume__drug__iuse.html#a9b7635aaefc1601bf9515fbc7487ef23">consume_drug_iuse::vitamins</a></div><div class="ttdeci">std::map&lt; vitamin_id, std::pair&lt; int, int &gt; &gt; vitamins</div><div class="ttdoc">Modify player vitamin_levels by random amount between min (first) and max (second)</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00265">iuse_actor.h:265</a></div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_ac94da8d391815c77827574ea45ba553b"><div class="ttname"><a href="iuse__actor_8cpp.html#ac94da8d391815c77827574ea45ba553b">itype_syringe</a></div><div class="ttdeci">static const itype_id itype_syringe(&quot;syringe&quot;)</div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_aa83c5be51fbbf9c1e23c0369c6b31137"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">cata::hash64_detail::lo</a></div><div class="ttdeci">std::uint32_t lo</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00096">hash_utils.h:96</a></div></div>
<div class="ttc" id="aoutput_8h_html_abc4022ff920f936d2ee400cedc458733"><div class="ttname"><a href="output_8h.html#abc4022ff920f936d2ee400cedc458733">enumerate_as_string</a></div><div class="ttdeci">std::string enumerate_as_string(const _Container &amp;values, enumeration_conjunction conj=enumeration_conjunction::and_)</div><div class="ttdef"><b>Definition:</b> <a href="output_8h_source.html#l00680">output.h:680</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a9b089d0b697443b096063219dab08ef5"><div class="ttname"><a href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a></div><div class="ttdeci">std::string string_format(std::string format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00418">string_formatter.h:418</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="output_8h_source.html#l00680">enumerate_as_string()</a>, <a class="el" href="hash__utils_8h_source.html#l00096">cata::hash64_detail::lo</a>, <a class="el" href="string__formatter_8h_source.html#l00418">string_format()</a>, and <a class="el" href="iuse__actor_8h_source.html#l00265">vitamins</a>.</p>

</div>
</div>
<a id="a7ae3ba037d80e342a6bad182740dae76" name="a7ae3ba037d80e342a6bad182740dae76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ae3ba037d80e342a6bad182740dae76">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void consume_drug_iuse::load </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classiuse__actor.html#aa93b616e6f6e450b098209ad19ae78c4">iuse_actor</a>.</p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l00739">739</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>{</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>    obj.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;activation_message&quot;</span>, <a class="code hl_variable" href="classconsume__drug__iuse.html#ac866c2f86ba50bab0f1e3c701b98dfd4">activation_message</a> );</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>    obj.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;charges_needed&quot;</span>, <a class="code hl_variable" href="classconsume__drug__iuse.html#a4ff3b6e32510755e1838f61780eda3c1">charges_needed</a> );</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>    obj.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;tools_needed&quot;</span>, <a class="code hl_variable" href="classconsume__drug__iuse.html#a626aba494d3645ac2276fb1de6471dce">tools_needed</a> );</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span> </div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>    <span class="keywordflow">if</span>( obj.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;effects&quot;</span> ) ) {</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> e : obj.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;effects&quot;</span> ) ) {</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>            <a class="code hl_variable" href="classconsume__drug__iuse.html#adffdee01013915c3ca219fc6f71e4672">effects</a>.push_back( <a class="code hl_function" href="iuse__actor_8cpp.html#af9424173e4dd2e968f60195f984283b5">load_effect_data</a>( e ) );</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>        }</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>    }</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>    obj.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;stat_adjustments&quot;</span>, <a class="code hl_variable" href="classconsume__drug__iuse.html#a56b544bb918618205efa1840256e2f3a">stat_adjustments</a> );</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>    obj.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;fields_produced&quot;</span>, <a class="code hl_variable" href="classconsume__drug__iuse.html#a5bb881b47b886853bea7dde0d5217d10">fields_produced</a> );</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>    obj.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;moves&quot;</span>, <a class="code hl_variable" href="classconsume__drug__iuse.html#a0fba02f796712c6c4257acd984834c31">moves</a> );</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span> </div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>    <span class="keywordflow">for</span>( <a class="code hl_class" href="classJsonArray.html">JsonArray</a> vit : obj.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;vitamins&quot;</span> ) ) {</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>        <span class="keyword">auto</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a> = vit.get_int( 1 );</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>        <span class="keyword">auto</span> hi = vit.size() &gt;= 3 ? vit.get_int( 2 ) : <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a>;</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>        <a class="code hl_variable" href="classconsume__drug__iuse.html#a9b7635aaefc1601bf9515fbc7487ef23">vitamins</a>.emplace( <a class="code hl_typedef" href="type__id_8h.html#a62798cd4a1ea702e8d25b8c0f17a4834">vitamin_id</a>( vit.get_string( 0 ) ), std::make_pair( <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#aa83c5be51fbbf9c1e23c0369c6b31137">lo</a>, hi ) );</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>    }</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span> </div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>    <a class="code hl_variable" href="classconsume__drug__iuse.html#a28e2e2582269550ac8bb3db5a5e908ea">used_up_item</a> = obj.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;used_up_item&quot;</span>, <a class="code hl_variable" href="classconsume__drug__iuse.html#a28e2e2582269550ac8bb3db5a5e908ea">used_up_item</a> );</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span> </div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>}</div>
<div class="ttc" id="aclassJsonArray_html"><div class="ttname"><a href="classJsonArray.html">JsonArray</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l01028">json.h:1029</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00831">json.h:832</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a69f62f59b5e39da6059b7c3cf8b12421"><div class="ttname"><a href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00332">json.cpp:332</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a96b6d1b9cf7bda4fc9cd177a99e0631c"><div class="ttname"><a href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">JsonObject::get_string</a></div><div class="ttdeci">std::string get_string(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00314">json.cpp:314</a></div></div>
<div class="ttc" id="aclassJsonObject_html_aa92b5eb23f6b39645877d79fbef784a0"><div class="ttname"><a href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00415">json.cpp:415</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae66d47f9cb4993dfaf79819ec2aff2f8"><div class="ttname"><a href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">JsonObject::read</a></div><div class="ttdeci">bool read(const std::string &amp;name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00944">json.h:944</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_a0fba02f796712c6c4257acd984834c31"><div class="ttname"><a href="classconsume__drug__iuse.html#a0fba02f796712c6c4257acd984834c31">consume_drug_iuse::moves</a></div><div class="ttdeci">int moves</div><div class="ttdoc">How many move points this action takes.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00268">iuse_actor.h:268</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_a28e2e2582269550ac8bb3db5a5e908ea"><div class="ttname"><a href="classconsume__drug__iuse.html#a28e2e2582269550ac8bb3db5a5e908ea">consume_drug_iuse::used_up_item</a></div><div class="ttdeci">std::string used_up_item</div><div class="ttdoc">Item produced after using drugs.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00279">iuse_actor.h:279</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_a4ff3b6e32510755e1838f61780eda3c1"><div class="ttname"><a href="classconsume__drug__iuse.html#a4ff3b6e32510755e1838f61780eda3c1">consume_drug_iuse::charges_needed</a></div><div class="ttdeci">std::map&lt; itype_id, int &gt; charges_needed</div><div class="ttdoc">Tool charges needed to take the drug, e.g.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00256">iuse_actor.h:256</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_a56b544bb918618205efa1840256e2f3a"><div class="ttname"><a href="classconsume__drug__iuse.html#a56b544bb918618205efa1840256e2f3a">consume_drug_iuse::stat_adjustments</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; stat_adjustments</div><div class="ttdoc">A list of stats and adjustments to them.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00262">iuse_actor.h:262</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_a5bb881b47b886853bea7dde0d5217d10"><div class="ttname"><a href="classconsume__drug__iuse.html#a5bb881b47b886853bea7dde0d5217d10">consume_drug_iuse::fields_produced</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; fields_produced</div><div class="ttdoc">Fields to produce when you take the drug, mostly intended for various kinds of smoke.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00254">iuse_actor.h:254</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_ac866c2f86ba50bab0f1e3c701b98dfd4"><div class="ttname"><a href="classconsume__drug__iuse.html#ac866c2f86ba50bab0f1e3c701b98dfd4">consume_drug_iuse::activation_message</a></div><div class="ttdeci">std::string activation_message</div><div class="ttdoc">Message to display when drug is consumed.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00252">iuse_actor.h:252</a></div></div>
<div class="ttc" id="aclassconsume__drug__iuse_html_adffdee01013915c3ca219fc6f71e4672"><div class="ttname"><a href="classconsume__drug__iuse.html#adffdee01013915c3ca219fc6f71e4672">consume_drug_iuse::effects</a></div><div class="ttdeci">std::vector&lt; effect_data &gt; effects</div><div class="ttdoc">An effect or effects (conditions) to give the player for the stated duration.</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8h_source.html#l00260">iuse_actor.h:260</a></div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_af9424173e4dd2e968f60195f984283b5"><div class="ttname"><a href="iuse__actor_8cpp.html#af9424173e4dd2e968f60195f984283b5">load_effect_data</a></div><div class="ttdeci">static effect_data load_effect_data(const JsonObject &amp;e)</div><div class="ttdef"><b>Definition:</b> <a href="iuse__actor_8cpp_source.html#l00712">iuse_actor.cpp:712</a></div></div>
<div class="ttc" id="atype__id_8h_html_a62798cd4a1ea702e8d25b8c0f17a4834"><div class="ttname"><a href="type__id_8h.html#a62798cd4a1ea702e8d25b8c0f17a4834">vitamin_id</a></div><div class="ttdeci">string_id&lt; vitamin &gt; vitamin_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00187">type_id.h:187</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="iuse__actor_8h_source.html#l00252">activation_message</a>, <a class="el" href="iuse__actor_8h_source.html#l00256">charges_needed</a>, <a class="el" href="iuse__actor_8h_source.html#l00260">effects</a>, <a class="el" href="iuse__actor_8h_source.html#l00254">fields_produced</a>, <a class="el" href="json_8cpp_source.html#l00332">JsonObject::get_array()</a>, <a class="el" href="json_8cpp_source.html#l00314">JsonObject::get_string()</a>, <a class="el" href="json_8cpp_source.html#l00415">JsonObject::has_array()</a>, <a class="el" href="hash__utils_8h_source.html#l00096">cata::hash64_detail::lo</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00712">load_effect_data()</a>, <a class="el" href="iuse__actor_8h_source.html#l00268">moves</a>, <a class="el" href="json_8h_source.html#l00944">JsonObject::read()</a>, <a class="el" href="iuse__actor_8h_source.html#l00262">stat_adjustments</a>, <a class="el" href="iuse__actor_8h_source.html#l00258">tools_needed</a>, <a class="el" href="iuse__actor_8h_source.html#l00279">used_up_item</a>, and <a class="el" href="iuse__actor_8h_source.html#l00265">vitamins</a>.</p>

</div>
</div>
<a id="a64e0b2fb2f426f86593abe6f949c069b" name="a64e0b2fb2f426f86593abe6f949c069b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64e0b2fb2f426f86593abe6f949c069b">&#9670;&nbsp;</a></span>use()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int consume_drug_iuse::use </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classplayer.html">player</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classitem.html">item</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtripoint.html">tripoint</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classiuse__actor.html#aa7ab08413d05764e42ae4471799fd6b0">iuse_actor</a>.</p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8cpp_source.html#l00788">788</a> of file <a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>{</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>    <span class="keyword">auto</span> need_these = <a class="code hl_variable" href="classconsume__drug__iuse.html#a626aba494d3645ac2276fb1de6471dce">tools_needed</a>;</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>    <span class="keywordflow">if</span>( need_these.count( <a class="code hl_variable" href="iuse__actor_8cpp.html#ac94da8d391815c77827574ea45ba553b">itype_syringe</a> ) &amp;&amp; p.<a class="code hl_function" href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">has_bionic</a>( <a class="code hl_variable" href="iuse__actor_8cpp.html#a0378c4d7c8bedb3b625c06e488f25dd9">bio_syringe</a> ) ) {</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>        need_these.erase( <a class="code hl_variable" href="iuse__actor_8cpp.html#ac94da8d391815c77827574ea45ba553b">itype_syringe</a> ); <span class="comment">// no need for a syringe with bionics like these!</span></div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>    }</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>    <span class="comment">// Check prerequisites first.</span></div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a> : need_these ) {</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>        <span class="comment">// Amount == -1 means need one, but don&#39;t consume it.</span></div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>        <span class="keywordflow">if</span>( !p.<a class="code hl_function" href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">has_amount</a>( <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>.first, 1 ) ) {</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>            p.<a class="code hl_function" href="classplayer.html#afcbd1476690aeb6a2b8de82e9e7a9cee">add_msg_player_or_say</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need %1$s to consume %2$s!&quot;</span> ),</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>                                     <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;I need a %1$s to consume %2$s!&quot;</span> ),</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>                                     <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( <a class="code hl_enumvalue" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>.first ),</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>                                     it.<a class="code hl_function" href="classitem.html#a70359b9e831ed97023891631058595b6">type_name</a>( 1 ) );</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>        }</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>    }</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;consumable : <a class="code hl_variable" href="classconsume__drug__iuse.html#a4ff3b6e32510755e1838f61780eda3c1">charges_needed</a> ) {</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>        <span class="comment">// Amount == -1 means need one, but don&#39;t consume it.</span></div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>        <span class="keywordflow">if</span>( !p.<a class="code hl_function" href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">has_charges</a>( consumable.first, ( consumable.second == -1 ) ?</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>                            1 : consumable.second ) ) {</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>            p.<a class="code hl_function" href="classplayer.html#afcbd1476690aeb6a2b8de82e9e7a9cee">add_msg_player_or_say</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You need %1$s to consume %2$s!&quot;</span> ),</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>                                     <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;I need a %1$s to consume %2$s!&quot;</span> ),</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>                                     <a class="code hl_function" href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a>( consumable.first ),</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>                                     it.<a class="code hl_function" href="classitem.html#a70359b9e831ed97023891631058595b6">type_name</a>( 1 ) );</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>        }</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    }</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>    <span class="comment">// Apply the various effects.</span></div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;eff : <a class="code hl_variable" href="classconsume__drug__iuse.html#adffdee01013915c3ca219fc6f71e4672">effects</a> ) {</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>        <a class="code hl_class" href="classtime__duration.html">time_duration</a> dur = eff.duration;</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>        <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse__actor_8cpp.html#a2d866d9790623dc33511f3f08ec510b5">trait_TOLERANCE</a> ) ) {</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>            dur *= .8;</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( p.<a class="code hl_function" href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">has_trait</a>( <a class="code hl_variable" href="iuse__actor_8cpp.html#a513ee3dfdb798f83e30d99f697f2fa5b">trait_LIGHTWEIGHT</a> ) ) {</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>            dur *= 1.2;</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>        }</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>        p.<a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( eff.id, dur, eff.bp );</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>        <span class="keywordflow">if</span>( eff.permanent ) {</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>            p.<a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( eff.id, eff.bp ).<a class="code hl_function" href="classeffect.html#a2932b8f27b7a13fbedade3961430e4d5">set_permanent</a>();</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>        }</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>    }</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;stat_adjustment : <a class="code hl_variable" href="classconsume__drug__iuse.html#a56b544bb918618205efa1840256e2f3a">stat_adjustments</a> ) {</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>        p.<a class="code hl_function" href="classplayer.html#a2d4ff6f5e604d64d8b82650f0673ccdd">mod_stat</a>( stat_adjustment.first, stat_adjustment.second );</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    }</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_class" href="classfield.html">field</a> : <a class="code hl_variable" href="classconsume__drug__iuse.html#a5bb881b47b886853bea7dde0d5217d10">fields_produced</a> ) {</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>        <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> fid = <a class="code hl_typedef" href="type__id_8h.html#a2a56520b7eef7294fc98230cb883c9d2">field_type_id</a>( <a class="code hl_class" href="classfield.html">field</a>.first );</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; 3; i++ ) {</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>            here.<a class="code hl_function" href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">add_field</a>( {p.<a class="code hl_function" href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">posx</a>() + <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -2, 2 ) ), p.<a class="code hl_function" href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">posy</a>() + <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( -2, 2 ) ), p.<a class="code hl_function" href="classCharacter.html#a0d0cb32a95161137e0c61303f84b3753">posz</a>()},</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>                            fid,</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>                            <a class="code hl_class" href="classfield.html">field</a>.second );</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>        }</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>    }</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span> </div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>    <span class="comment">// for vitamins that accumulate (max &gt; 0) multivitamins risk causing hypervitaminosis</span></div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;v : <a class="code hl_variable" href="classconsume__drug__iuse.html#a9b7635aaefc1601bf9515fbc7487ef23">vitamins</a> ) {</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>        <span class="comment">// players with mutations that remove the requirement for a vitamin cannot suffer accumulation of it</span></div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>        p.<a class="code hl_function" href="classCharacter.html#af090da1ea61ecf999c1136d48cc35a07">vitamin_mod</a>( v.first, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( v.second.first, v.second.second ),</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>                       p.<a class="code hl_function" href="classCharacter.html#aca04618a096cdf167a88143d66d4aa0a">vitamin_rate</a>( v.first ) &lt;= 0_turns );</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>    }</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span> </div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>    <span class="comment">// Output message.</span></div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>    p.<a class="code hl_function" href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">add_msg_if_player</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <a class="code hl_variable" href="classconsume__drug__iuse.html#ac866c2f86ba50bab0f1e3c701b98dfd4">activation_message</a> ), it.<a class="code hl_function" href="classitem.html#a70359b9e831ed97023891631058595b6">type_name</a>( 1 ) );</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>    <span class="comment">// Consume charges.</span></div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;consumable : <a class="code hl_variable" href="classconsume__drug__iuse.html#a4ff3b6e32510755e1838f61780eda3c1">charges_needed</a> ) {</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>        <span class="keywordflow">if</span>( consumable.second != -1 ) {</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>            p.<a class="code hl_function" href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">use_charges</a>( consumable.first, consumable.second );</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>        }</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>    }</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span> </div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classconsume__drug__iuse.html#a28e2e2582269550ac8bb3db5a5e908ea">used_up_item</a>.empty() ) {</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>        <a class="code hl_class" href="classitem.html">item</a> used_up( <a class="code hl_variable" href="classconsume__drug__iuse.html#a28e2e2582269550ac8bb3db5a5e908ea">used_up_item</a>, it.<a class="code hl_function" href="classitem.html#a46b9bb1181827a365eb83d935c663677">birthday</a>() );</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>        p.<a class="code hl_function" href="classCharacter.html#ab80b4bcd5228af487bb1a26c14864e5d">i_add_or_drop</a>( used_up );</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>    }</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span> </div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>    p.<a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> -= <a class="code hl_variable" href="classconsume__drug__iuse.html#a0fba02f796712c6c4257acd984834c31">moves</a>;</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>    <span class="keywordflow">return</span> it.<a class="code hl_variable" href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">type</a>-&gt;<a class="code hl_function" href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">charges_to_use</a>();</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>}</div>
<div class="ttc" id="aartifact_8cpp_html_a70800e95389f34dd34186fafaea2a840"><div class="ttname"><a href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a></div><div class="ttdeci">units::quantity&lt; V, B &gt; rng(const units::quantity&lt; V, B &gt; &amp;min, const units::quantity&lt; V, B &gt; &amp;max)</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8cpp_source.html#l00032">artifact.cpp:32</a></div></div>
<div class="ttc" id="aclassCharacter_html_a0d0cb32a95161137e0c61303f84b3753"><div class="ttname"><a href="classCharacter.html#a0d0cb32a95161137e0c61303f84b3753">Character::posz</a></div><div class="ttdeci">int posz() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00785">character.h:785</a></div></div>
<div class="ttc" id="aclassCharacter_html_a3d0ec2b4e80527bd2daad576c2bbb187"><div class="ttname"><a href="classCharacter.html#a3d0ec2b4e80527bd2daad576c2bbb187">Character::use_charges</a></div><div class="ttdeci">std::list&lt; item &gt; use_charges(const itype_id &amp;what, int qty, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09663">character.cpp:9663</a></div></div>
<div class="ttc" id="aclassCharacter_html_a464e960411f87bd3be76d5142dc255cb"><div class="ttname"><a href="classCharacter.html#a464e960411f87bd3be76d5142dc255cb">Character::posx</a></div><div class="ttdeci">int posx() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00779">character.h:779</a></div></div>
<div class="ttc" id="aclassCharacter_html_a4b4d2e6bf4190c6470b282ce60183c0f"><div class="ttname"><a href="classCharacter.html#a4b4d2e6bf4190c6470b282ce60183c0f">Character::posy</a></div><div class="ttdeci">int posy() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00782">character.h:782</a></div></div>
<div class="ttc" id="aclassCharacter_html_a5751b689e5a4ecd43b6de5c3e2d31541"><div class="ttname"><a href="classCharacter.html#a5751b689e5a4ecd43b6de5c3e2d31541">Character::has_bionic</a></div><div class="ttdeci">bool has_bionic(const bionic_id &amp;b) const</div><div class="ttdoc">Returns true if the player has the entered bionic id.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01877">character.cpp:1877</a></div></div>
<div class="ttc" id="aclassCharacter_html_a9bff3208a5e121c4e3a71b81b378e4e7"><div class="ttname"><a href="classCharacter.html#a9bff3208a5e121c4e3a71b81b378e4e7">Character::has_charges</a></div><div class="ttdeci">bool has_charges(const itype_id &amp;it, int quantity, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l09603">character.cpp:9603</a></div></div>
<div class="ttc" id="aclassCharacter_html_ab80b4bcd5228af487bb1a26c14864e5d"><div class="ttname"><a href="classCharacter.html#ab80b4bcd5228af487bb1a26c14864e5d">Character::i_add_or_drop</a></div><div class="ttdeci">bool i_add_or_drop(item &amp;it, int qty=1)</div><div class="ttdoc">Sets invlet and adds to inventory if possible, drops otherwise, returns true if either succeeded.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l02459">character.cpp:2459</a></div></div>
<div class="ttc" id="aclassCharacter_html_aca04618a096cdf167a88143d66d4aa0a"><div class="ttname"><a href="classCharacter.html#aca04618a096cdf167a88143d66d4aa0a">Character::vitamin_rate</a></div><div class="ttdeci">time_duration vitamin_rate(const vitamin_id &amp;vit) const</div><div class="ttdoc">Get vitamin usage rate (minutes per unit) accounting for bionics, mutations and effects.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00526">consumption.cpp:526</a></div></div>
<div class="ttc" id="aclassCharacter_html_af06dd97724f4f05df782e7a4b4f9cfe1"><div class="ttname"><a href="classCharacter.html#af06dd97724f4f05df782e7a4b4f9cfe1">Character::has_trait</a></div><div class="ttdeci">bool has_trait(const trait_id &amp;b) const override</div><div class="ttdoc">Returns true if the player has the entered trait.</div><div class="ttdef"><b>Definition:</b> <a href="mutation_8cpp_source.html#l00103">mutation.cpp:103</a></div></div>
<div class="ttc" id="aclassCharacter_html_af090da1ea61ecf999c1136d48cc35a07"><div class="ttname"><a href="classCharacter.html#af090da1ea61ecf999c1136d48cc35a07">Character::vitamin_mod</a></div><div class="ttdeci">int vitamin_mod(const vitamin_id &amp;vit, int qty, bool capped=true)</div><div class="ttdoc">Add or subtract vitamins from character storage pools.</div><div class="ttdef"><b>Definition:</b> <a href="consumption_8cpp_source.html#l00541">consumption.cpp:541</a></div></div>
<div class="ttc" id="aclassCreature_html_a666022fd3ed772fa109d273c20e8de55"><div class="ttname"><a href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a></div><div class="ttdeci">void add_effect(const effect &amp;eff, bool force=false, bool deferred=false)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00980">creature.cpp:980</a></div></div>
<div class="ttc" id="aclassCreature_html_a89f56544cdbf34297b4c0e62f3350817"><div class="ttname"><a href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">Creature::get_effect</a></div><div class="ttdeci">const effect &amp; get_effect(const efftype_id &amp;eff_id, body_part bp=num_bp) const</div><div class="ttdoc">Return the effect that matches the given arguments exactly.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01219">creature.cpp:1219</a></div></div>
<div class="ttc" id="aclassCreature_html_a8c5a392caa213bee9581b47e9f0e2052"><div class="ttname"><a href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">Creature::moves</a></div><div class="ttdeci">int moves</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00569">creature.h:569</a></div></div>
<div class="ttc" id="aclasseffect_html_a2932b8f27b7a13fbedade3961430e4d5"><div class="ttname"><a href="classeffect.html#a2932b8f27b7a13fbedade3961430e4d5">effect::set_permanent</a></div><div class="ttdeci">void set_permanent()</div><div class="ttdoc">Legacy compatibility TODO: Remove No set un-permanent, because no use case.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00844">effect.cpp:844</a></div></div>
<div class="ttc" id="aclassfield_html"><div class="ttname"><a href="classfield.html">field</a></div><div class="ttdoc">A variable sized collection of field entries on a given map square.</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00130">field.h:131</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; field_type &gt;</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00176">item.h:177</a></div></div>
<div class="ttc" id="aclassitem_html_a438855ffd52d33307e1dfba6d607535b"><div class="ttname"><a href="classitem.html#a438855ffd52d33307e1dfba6d607535b">item::nname</a></div><div class="ttdeci">static std::string nname(const itype_id &amp;id, unsigned int quantity=1)</div><div class="ttdoc">Returns the translated item name for the item with given id.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09770">item.cpp:9770</a></div></div>
<div class="ttc" id="aclassitem_html_a46b9bb1181827a365eb83d935c663677"><div class="ttname"><a href="classitem.html#a46b9bb1181827a365eb83d935c663677">item::birthday</a></div><div class="ttdeci">time_point birthday() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09874">item.cpp:9874</a></div></div>
<div class="ttc" id="aclassitem_html_a70359b9e831ed97023891631058595b6"><div class="ttname"><a href="classitem.html#a70359b9e831ed97023891631058595b6">item::type_name</a></div><div class="ttdeci">std::string type_name(unsigned int quantity=1) const</div><div class="ttdoc">Name of the item type (not the item), with proper plural.</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l09699">item.cpp:9699</a></div></div>
<div class="ttc" id="aclassitem_html_ac1d2c4c33b8a499812f3437cb2fad742"><div class="ttname"><a href="classitem.html#ac1d2c4c33b8a499812f3437cb2fad742">item::type</a></div><div class="ttdeci">const itype * type</div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l02157">item.h:2157</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00388">map.h:389</a></div></div>
<div class="ttc" id="aclassmap_html_a32a9de57ddea3145ca42e6acfde7f3d6"><div class="ttname"><a href="classmap.html#a32a9de57ddea3145ca42e6acfde7f3d6">map::add_field</a></div><div class="ttdeci">bool add_field(const tripoint &amp;p, const field_type_id &amp;type_id, int intensity=INT_MAX, const time_duration &amp;age=0_turns, bool hit_player=true)</div><div class="ttdoc">Add field entry at point, or set intensity if present.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05396">map.cpp:5396</a></div></div>
<div class="ttc" id="aclassplayer_html_a2d4ff6f5e604d64d8b82650f0673ccdd"><div class="ttname"><a href="classplayer.html#a2d4ff6f5e604d64d8b82650f0673ccdd">player::mod_stat</a></div><div class="ttdeci">void mod_stat(const std::string &amp;stat, float modifier) override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l00554">player.cpp:554</a></div></div>
<div class="ttc" id="aclassplayer_html_ae7009d849f19a4f5ebe877cbe463c459"><div class="ttname"><a href="classplayer.html#ae7009d849f19a4f5ebe877cbe463c459">player::add_msg_if_player</a></div><div class="ttdeci">void add_msg_if_player(const std::string &amp;msg) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03973">player.cpp:3973</a></div></div>
<div class="ttc" id="aclassplayer_html_afcbd1476690aeb6a2b8de82e9e7a9cee"><div class="ttname"><a href="classplayer.html#afcbd1476690aeb6a2b8de82e9e7a9cee">player::add_msg_player_or_say</a></div><div class="ttdeci">void add_msg_player_or_say(const std::string &amp;player_msg, const std::string &amp;npc_speech) const override</div><div class="ttdef"><b>Definition:</b> <a href="player_8cpp_source.html#l03997">player.cpp:3997</a></div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00179">calendar.h:180</a></div></div>
<div class="ttc" id="aclassvisitable_html_ac50bc4422d4636a70a97d41787f22d0d"><div class="ttname"><a href="classvisitable.html#ac50bc4422d4636a70a97d41787f22d0d">visitable::has_amount</a></div><div class="ttdeci">bool has_amount(const itype_id &amp;what, int qty, bool pseudo=true, const std::function&lt; bool(const item &amp;)&gt; &amp;filter=return_true&lt; item &gt;) const</div><div class="ttdoc">Check instance provides at least qty of an item (.</div><div class="ttdef"><b>Definition:</b> <a href="visitable_8cpp_source.html#l01108">visitable.cpp:1108</a></div></div>
<div class="ttc" id="aconsumption_8cpp_html_ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023"><div class="ttname"><a href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">item_consumption_t::tool</a></div><div class="ttdeci">@ tool</div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_a0378c4d7c8bedb3b625c06e488f25dd9"><div class="ttname"><a href="iuse__actor_8cpp.html#a0378c4d7c8bedb3b625c06e488f25dd9">bio_syringe</a></div><div class="ttdeci">static const bionic_id bio_syringe(&quot;bio_syringe&quot;)</div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_a2d866d9790623dc33511f3f08ec510b5"><div class="ttname"><a href="iuse__actor_8cpp.html#a2d866d9790623dc33511f3f08ec510b5">trait_TOLERANCE</a></div><div class="ttdeci">static const trait_id trait_TOLERANCE(&quot;TOLERANCE&quot;)</div></div>
<div class="ttc" id="aiuse__actor_8cpp_html_a513ee3dfdb798f83e30d99f697f2fa5b"><div class="ttname"><a href="iuse__actor_8cpp.html#a513ee3dfdb798f83e30d99f697f2fa5b">trait_LIGHTWEIGHT</a></div><div class="ttdeci">static const trait_id trait_LIGHTWEIGHT(&quot;LIGHTWEIGHT&quot;)</div></div>
<div class="ttc" id="amap_8cpp_html_acb0b34be6e497bdd2f9f40ae6929d562"><div class="ttname"><a href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00146">map.cpp:146</a></div></div>
<div class="ttc" id="astructitype_html_a953828c9c01185fef0f619ecdcd7f3b1"><div class="ttname"><a href="structitype.html#a953828c9c01185fef0f619ecdcd7f3b1">itype::charges_to_use</a></div><div class="ttdeci">int charges_to_use() const</div><div class="ttdef"><b>Definition:</b> <a href="itype_8h_source.html#l01091">itype.h:1091</a></div></div>
<div class="ttc" id="atype__id_8h_html_a2a56520b7eef7294fc98230cb883c9d2"><div class="ttname"><a href="type__id_8h.html#a2a56520b7eef7294fc98230cb883c9d2">field_type_id</a></div><div class="ttdeci">int_id&lt; field_type &gt; field_type_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00060">type_id.h:60</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="translations_8h_source.html#l00116">_</a>, <a class="el" href="iuse__actor_8h_source.html#l00252">activation_message</a>, <a class="el" href="creature_8cpp_source.html#l00980">Creature::add_effect()</a>, <a class="el" href="map_8cpp_source.html#l05396">map::add_field()</a>, <a class="el" href="player_8cpp_source.html#l03973">player::add_msg_if_player()</a>, <a class="el" href="player_8cpp_source.html#l03997">player::add_msg_player_or_say()</a>, <a class="el" href="iuse__actor_8cpp.html#a0378c4d7c8bedb3b625c06e488f25dd9">bio_syringe</a>, <a class="el" href="item_8cpp_source.html#l09874">item::birthday()</a>, <a class="el" href="iuse__actor_8h_source.html#l00256">charges_needed</a>, <a class="el" href="itype_8h_source.html#l01091">itype::charges_to_use()</a>, <a class="el" href="iuse__actor_8h_source.html#l00260">effects</a>, <a class="el" href="iuse__actor_8h_source.html#l00254">fields_produced</a>, <a class="el" href="creature_8cpp_source.html#l01219">Creature::get_effect()</a>, <a class="el" href="map_8cpp_source.html#l00146">get_map()</a>, <a class="el" href="visitable_8cpp_source.html#l01108">visitable&lt; T &gt;::has_amount()</a>, <a class="el" href="character_8cpp_source.html#l01877">Character::has_bionic()</a>, <a class="el" href="character_8cpp_source.html#l09603">Character::has_charges()</a>, <a class="el" href="mutation_8cpp_source.html#l00103">Character::has_trait()</a>, <a class="el" href="character_8cpp_source.html#l02459">Character::i_add_or_drop()</a>, <a class="el" href="iuse__actor_8cpp.html#ac94da8d391815c77827574ea45ba553b">itype_syringe</a>, <a class="el" href="player_8cpp_source.html#l00554">player::mod_stat()</a>, <a class="el" href="creature_8h_source.html#l00569">Creature::moves</a>, <a class="el" href="iuse__actor_8h_source.html#l00268">moves</a>, <a class="el" href="item_8cpp_source.html#l09770">item::nname()</a>, <a class="el" href="character_8h_source.html#l00779">Character::posx()</a>, <a class="el" href="character_8h_source.html#l00782">Character::posy()</a>, <a class="el" href="character_8h_source.html#l00785">Character::posz()</a>, <a class="el" href="artifact_8cpp_source.html#l00032">rng()</a>, <a class="el" href="effect_8cpp_source.html#l00844">effect::set_permanent()</a>, <a class="el" href="iuse__actor_8h_source.html#l00262">stat_adjustments</a>, <a class="el" href="consumption_8cpp.html#ab52b3b592a42745385edcf8d90c690a1a39ab32c5aeb56c9f5ae17f073ce31023">tool</a>, <a class="el" href="iuse__actor_8h_source.html#l00258">tools_needed</a>, <a class="el" href="iuse__actor_8cpp.html#a513ee3dfdb798f83e30d99f697f2fa5b">trait_LIGHTWEIGHT</a>, <a class="el" href="iuse__actor_8cpp.html#a2d866d9790623dc33511f3f08ec510b5">trait_TOLERANCE</a>, <a class="el" href="item_8h_source.html#l02157">item::type</a>, <a class="el" href="item_8cpp_source.html#l09699">item::type_name()</a>, <a class="el" href="character_8cpp_source.html#l09663">Character::use_charges()</a>, <a class="el" href="iuse__actor_8h_source.html#l00279">used_up_item</a>, <a class="el" href="consumption_8cpp_source.html#l00541">Character::vitamin_mod()</a>, <a class="el" href="consumption_8cpp_source.html#l00526">Character::vitamin_rate()</a>, and <a class="el" href="iuse__actor_8h_source.html#l00265">vitamins</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac866c2f86ba50bab0f1e3c701b98dfd4" name="ac866c2f86ba50bab0f1e3c701b98dfd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac866c2f86ba50bab0f1e3c701b98dfd4">&#9670;&nbsp;</a></span>activation_message</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string consume_drug_iuse::activation_message</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message to display when drug is consumed. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00252">252</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00739">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00788">use()</a>.</p>

</div>
</div>
<a id="a4ff3b6e32510755e1838f61780eda3c1" name="a4ff3b6e32510755e1838f61780eda3c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ff3b6e32510755e1838f61780eda3c1">&#9670;&nbsp;</a></span>charges_needed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, int&gt; consume_drug_iuse::charges_needed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tool charges needed to take the drug, e.g. </p>
<p >fire. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00256">256</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00739">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00788">use()</a>.</p>

</div>
</div>
<a id="adffdee01013915c3ca219fc6f71e4672" name="adffdee01013915c3ca219fc6f71e4672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adffdee01013915c3ca219fc6f71e4672">&#9670;&nbsp;</a></span>effects</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structeffect__data.html">effect_data</a>&gt; consume_drug_iuse::effects</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An effect or effects (conditions) to give the player for the stated duration. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00260">260</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00739">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00788">use()</a>.</p>

</div>
</div>
<a id="a5bb881b47b886853bea7dde0d5217d10" name="a5bb881b47b886853bea7dde0d5217d10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bb881b47b886853bea7dde0d5217d10">&#9670;&nbsp;</a></span>fields_produced</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, int&gt; consume_drug_iuse::fields_produced</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fields to produce when you take the drug, mostly intended for various kinds of smoke. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00254">254</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00739">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00788">use()</a>.</p>

</div>
</div>
<a id="a0fba02f796712c6c4257acd984834c31" name="a0fba02f796712c6c4257acd984834c31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fba02f796712c6c4257acd984834c31">&#9670;&nbsp;</a></span>moves</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int consume_drug_iuse::moves = 100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many move points this action takes. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00268">268</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00739">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00788">use()</a>.</p>

</div>
</div>
<a id="a56b544bb918618205efa1840256e2f3a" name="a56b544bb918618205efa1840256e2f3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56b544bb918618205efa1840256e2f3a">&#9670;&nbsp;</a></span>stat_adjustments</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, int&gt; consume_drug_iuse::stat_adjustments</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A list of stats and adjustments to them. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00262">262</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00739">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00788">use()</a>.</p>

</div>
</div>
<a id="a626aba494d3645ac2276fb1de6471dce" name="a626aba494d3645ac2276fb1de6471dce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a626aba494d3645ac2276fb1de6471dce">&#9670;&nbsp;</a></span>tools_needed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="type__id_8h.html#ac2f82f863d4e9e8f267a77a73910ebbf">itype_id</a>, int&gt; consume_drug_iuse::tools_needed</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tools needed, but not consumed, e.g. </p>
<p >"smoking apparatus". </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00258">258</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00739">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00788">use()</a>.</p>

</div>
</div>
<a id="a28e2e2582269550ac8bb3db5a5e908ea" name="a28e2e2582269550ac8bb3db5a5e908ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28e2e2582269550ac8bb3db5a5e908ea">&#9670;&nbsp;</a></span>used_up_item</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string consume_drug_iuse::used_up_item</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Item produced after using drugs. </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00279">279</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00739">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00788">use()</a>.</p>

</div>
</div>
<a id="a9b7635aaefc1601bf9515fbc7487ef23" name="a9b7635aaefc1601bf9515fbc7487ef23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b7635aaefc1601bf9515fbc7487ef23">&#9670;&nbsp;</a></span>vitamins</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="type__id_8h.html#a62798cd4a1ea702e8d25b8c0f17a4834">vitamin_id</a>, std::pair&lt;int, int&gt; &gt; consume_drug_iuse::vitamins</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modify player vitamin_levels by random amount between min (first) and max (second) </p>

<p class="definition">Definition at line <a class="el" href="iuse__actor_8h_source.html#l00265">265</a> of file <a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="iuse__actor_8cpp_source.html#l00764">info()</a>, <a class="el" href="iuse__actor_8cpp_source.html#l00739">load()</a>, and <a class="el" href="iuse__actor_8cpp_source.html#l00788">use()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="iuse__actor_8h_source.html">iuse_actor.h</a></li>
<li>src/<a class="el" href="iuse__actor_8cpp_source.html">iuse_actor.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classconsume__drug__iuse.html">consume_drug_iuse</a></li>
    <li class="footer">Generated on Mon Oct 31 2022 04:45:46 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
