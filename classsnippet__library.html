<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: snippet_library Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classsnippet__library.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classsnippet__library-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">snippet_library Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="text__snippets_8h_source.html">text_snippets.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsnippet__library_1_1category__snippets.html">category_snippets</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac09e30d518cb9b0a7d6904c27d37f5c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnippet__library.html#ac09e30d518cb9b0a7d6904c27d37f5c0">load_snippet</a> (const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jsobj)</td></tr>
<tr class="memdesc:ac09e30d518cb9b0a7d6904c27d37f5c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load snippet from the standalone entry, used by the <a class="el" href="classDynamicDataLoader.html">DynamicDataLoader</a>.  <a href="classsnippet__library.html#ac09e30d518cb9b0a7d6904c27d37f5c0">More...</a><br /></td></tr>
<tr class="separator:ac09e30d518cb9b0a7d6904c27d37f5c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55d727b514e4af846a131fa956763637"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnippet__library.html#a55d727b514e4af846a131fa956763637">add_snippets_from_json</a> (const std::string &amp;category, const <a class="el" href="classJsonArray.html">JsonArray</a> &amp;jarr)</td></tr>
<tr class="memdesc:a55d727b514e4af846a131fa956763637"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load all snippet definitions in the json array into given category.  <a href="classsnippet__library.html#a55d727b514e4af846a131fa956763637">More...</a><br /></td></tr>
<tr class="separator:a55d727b514e4af846a131fa956763637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02b8fc0759ba2956485b8913f616c747"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnippet__library.html#a02b8fc0759ba2956485b8913f616c747">add_snippet_from_json</a> (const std::string &amp;category, const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;jo)</td></tr>
<tr class="memdesc:a02b8fc0759ba2956485b8913f616c747"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a single snippet text from the json object.  <a href="classsnippet__library.html#a02b8fc0759ba2956485b8913f616c747">More...</a><br /></td></tr>
<tr class="separator:a02b8fc0759ba2956485b8913f616c747"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2445197cd872aac751100ea5b609243"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnippet__library.html#af2445197cd872aac751100ea5b609243">clear_snippets</a> ()</td></tr>
<tr class="separator:af2445197cd872aac751100ea5b609243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04775bb228b86633909183ba39d274d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnippet__library.html#a04775bb228b86633909183ba39d274d8">has_category</a> (const std::string &amp;category) const</td></tr>
<tr class="separator:a04775bb228b86633909183ba39d274d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0988b68078e489e8e12e4a1a03931ed0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; <a class="el" href="classtranslation.html">translation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnippet__library.html#a0988b68078e489e8e12e4a1a03931ed0">get_snippet_by_id</a> (const <a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a> &amp;id) const</td></tr>
<tr class="memdesc:a0988b68078e489e8e12e4a1a03931ed0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the snippet referenced by the id, or <a class="el" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a> if there is no snippet with such id.  <a href="classsnippet__library.html#a0988b68078e489e8e12e4a1a03931ed0">More...</a><br /></td></tr>
<tr class="separator:a0988b68078e489e8e12e4a1a03931ed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4628a72254a2d3548b472078a77f1c9"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classtranslation.html">translation</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnippet__library.html#aa4628a72254a2d3548b472078a77f1c9">get_snippet_ref_by_id</a> (const <a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a> &amp;id) const</td></tr>
<tr class="memdesc:aa4628a72254a2d3548b472078a77f1c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to the snippet with the id, or a reference to an empty translation object if no such snippet exist.  <a href="classsnippet__library.html#aa4628a72254a2d3548b472078a77f1c9">More...</a><br /></td></tr>
<tr class="separator:aa4628a72254a2d3548b472078a77f1c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a243a03181727b41cd513d066e7c5b908"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnippet__library.html#a243a03181727b41cd513d066e7c5b908">has_snippet_with_id</a> (const <a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a> &amp;id) const</td></tr>
<tr class="memdesc:a243a03181727b41cd513d066e7c5b908"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if there exists a snippet with the id.  <a href="classsnippet__library.html#a243a03181727b41cd513d066e7c5b908">More...</a><br /></td></tr>
<tr class="separator:a243a03181727b41cd513d066e7c5b908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c546ab8c71efe861ce1400b8d3e1261"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnippet__library.html#a2c546ab8c71efe861ce1400b8d3e1261">expand</a> (const std::string &amp;str) const</td></tr>
<tr class="memdesc:a2c546ab8c71efe861ce1400b8d3e1261"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expand the string by recursively replacing tags in angle brackets (&lt;&gt;) with random snippets from the tags' respective category.  <a href="classsnippet__library.html#a2c546ab8c71efe861ce1400b8d3e1261">More...</a><br /></td></tr>
<tr class="separator:a2c546ab8c71efe861ce1400b8d3e1261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff12dd426e9f0340f5e861ddd291cea3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnippet__library.html#aff12dd426e9f0340f5e861ddd291cea3">random_id_from_category</a> (const std::string &amp;cat) const</td></tr>
<tr class="memdesc:aff12dd426e9f0340f5e861ddd291cea3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the id of a random snippet out of the given category.  <a href="classsnippet__library.html#aff12dd426e9f0340f5e861ddd291cea3">More...</a><br /></td></tr>
<tr class="separator:aff12dd426e9f0340f5e861ddd291cea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0748b0d5862db55872b54b61736d8907"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; <a class="el" href="classtranslation.html">translation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnippet__library.html#a0748b0d5862db55872b54b61736d8907">random_from_category</a> (const std::string &amp;cat) const</td></tr>
<tr class="memdesc:a0748b0d5862db55872b54b61736d8907"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a random snippet out of the given category.  <a href="classsnippet__library.html#a0748b0d5862db55872b54b61736d8907">More...</a><br /></td></tr>
<tr class="separator:a0748b0d5862db55872b54b61736d8907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcac94a6ea7b73e49df2b9f901647501"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; <a class="el" href="classtranslation.html">translation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnippet__library.html#abcac94a6ea7b73e49df2b9f901647501">random_from_category</a> (const std::string &amp;cat, unsigned int seed) const</td></tr>
<tr class="memdesc:abcac94a6ea7b73e49df2b9f901647501"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use the given seed to select a random snippet from the category.  <a href="classsnippet__library.html#abcac94a6ea7b73e49df2b9f901647501">More...</a><br /></td></tr>
<tr class="separator:abcac94a6ea7b73e49df2b9f901647501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac60917e4982bf750054e6a3d5f8770dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnippet__library.html#ac60917e4982bf750054e6a3d5f8770dd">migrate_hash_to_id</a> (int hash)</td></tr>
<tr class="memdesc:ac60917e4982bf750054e6a3d5f8770dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used only for legacy compatibility.  <a href="classsnippet__library.html#ac60917e4982bf750054e6a3d5f8770dd">More...</a><br /></td></tr>
<tr class="separator:ac60917e4982bf750054e6a3d5f8770dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a3a6102f5bf51e26605072508b3088c15"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; <a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a>, <a class="el" href="classtranslation.html">translation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnippet__library.html#a3a6102f5bf51e26605072508b3088c15">snippets_by_id</a></td></tr>
<tr class="separator:a3a6102f5bf51e26605072508b3088c15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0e270ac99d472054be52471a02ad48d"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, <a class="el" href="structsnippet__library_1_1category__snippets.html">category_snippets</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnippet__library.html#ab0e270ac99d472054be52471a02ad48d">snippets_by_category</a></td></tr>
<tr class="separator:ab0e270ac99d472054be52471a02ad48d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a032b92272a495c241dfa46736343133f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; std::map&lt; int, <a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsnippet__library.html#a032b92272a495c241dfa46736343133f">hash_to_id_migration</a></td></tr>
<tr class="separator:a032b92272a495c241dfa46736343133f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="text__snippets_8h_source.html#l00017">17</a> of file <a class="el" href="text__snippets_8h_source.html">text_snippets.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a02b8fc0759ba2956485b8913f616c747" name="a02b8fc0759ba2956485b8913f616c747"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02b8fc0759ba2956485b8913f616c747">&#9670;&nbsp;</a></span>add_snippet_from_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void snippet_library::add_snippet_from_json </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load a single snippet text from the json object. </p>
<p >The object should have a "text" member with the text of the snippet. A "id" member is optional and if present gives the snippet text a id, stored in snippets_by_id. </p>

<p class="definition">Definition at line <a class="el" href="text__snippets_8cpp_source.html#l00048">48</a> of file <a class="el" href="text__snippets_8cpp_source.html">text_snippets.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>{</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classsnippet__library.html#a032b92272a495c241dfa46736343133f">hash_to_id_migration</a>.has_value() ) {</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;snippet_library::add_snippet_from_json called after snippet_library::migrate_hash_to_id.&quot;</span> );</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    }</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <a class="code hl_variable" href="classsnippet__library.html#a032b92272a495c241dfa46736343133f">hash_to_id_migration</a> = <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    <a class="code hl_class" href="classtranslation.html">translation</a> text;</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <a class="code hl_function" href="generic__factory_8h.html#a0a177c754c5ba89ac6c543656b0652cc">mandatory</a>( jo, <span class="keyword">false</span>, <span class="stringliteral">&quot;text&quot;</span>, text );</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">has_member</a>( <span class="stringliteral">&quot;id&quot;</span> ) ) {</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>        <a class="code hl_class" href="classstring__id.html">snippet_id</a> <a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;id&quot;</span>, <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>        <span class="keywordflow">if</span>( <span class="keywordtype">id</span>.is_null() ) {</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>            jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;Null snippet id specified&quot;</span>, <span class="stringliteral">&quot;id&quot;</span> );</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>        }</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        <span class="keywordflow">if</span>( <a class="code hl_variable" href="classsnippet__library.html#a3a6102f5bf51e26605072508b3088c15">snippets_by_id</a>.find( <span class="keywordtype">id</span> ) != <a class="code hl_variable" href="classsnippet__library.html#a3a6102f5bf51e26605072508b3088c15">snippets_by_id</a>.end() ) {</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>            jo.<a class="code hl_function" href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">throw_error</a>( <span class="stringliteral">&quot;Duplicate snippet id&quot;</span>, <span class="stringliteral">&quot;id&quot;</span> );</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>        }</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>        <a class="code hl_variable" href="classsnippet__library.html#ab0e270ac99d472054be52471a02ad48d">snippets_by_category</a>[category].ids.emplace_back( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>        <a class="code hl_variable" href="classsnippet__library.html#a3a6102f5bf51e26605072508b3088c15">snippets_by_id</a>[<a class="code hl_variable" href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">id</a>] = text;</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>        <a class="code hl_variable" href="classsnippet__library.html#ab0e270ac99d472054be52471a02ad48d">snippets_by_category</a>[category].no_id.emplace_back( text );</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    }</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>}</div>
<div class="ttc" id="aclassJsonObject_html_a887d230c6a42ef2a6cf72c0e040cd4e3"><div class="ttname"><a href="classJsonObject.html#a887d230c6a42ef2a6cf72c0e040cd4e3">JsonObject::has_member</a></div><div class="ttdeci">bool has_member(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00181">json.cpp:181</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae66d47f9cb4993dfaf79819ec2aff2f8"><div class="ttname"><a href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">JsonObject::read</a></div><div class="ttdeci">bool read(const std::string &amp;name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00944">json.h:944</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae7bcdb4ec8ab2c64e607b411cb98d00c"><div class="ttname"><a href="classJsonObject.html#ae7bcdb4ec8ab2c64e607b411cb98d00c">JsonObject::throw_error</a></div><div class="ttdeci">void throw_error(std::string err) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00233">json.cpp:233</a></div></div>
<div class="ttc" id="aclasssnippet__library_html_a032b92272a495c241dfa46736343133f"><div class="ttname"><a href="classsnippet__library.html#a032b92272a495c241dfa46736343133f">snippet_library::hash_to_id_migration</a></div><div class="ttdeci">cata::optional&lt; std::map&lt; int, snippet_id &gt; &gt; hash_to_id_migration</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8h_source.html#l00112">text_snippets.h:112</a></div></div>
<div class="ttc" id="aclasssnippet__library_html_a3a6102f5bf51e26605072508b3088c15"><div class="ttname"><a href="classsnippet__library.html#a3a6102f5bf51e26605072508b3088c15">snippet_library::snippets_by_id</a></div><div class="ttdeci">std::unordered_map&lt; snippet_id, translation &gt; snippets_by_id</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8h_source.html#l00104">text_snippets.h:104</a></div></div>
<div class="ttc" id="aclasssnippet__library_html_ab0e270ac99d472054be52471a02ad48d"><div class="ttname"><a href="classsnippet__library.html#ab0e270ac99d472054be52471a02ad48d">snippet_library::snippets_by_category</a></div><div class="ttdeci">std::unordered_map&lt; std::string, category_snippets &gt; snippets_by_category</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8h_source.html#l00110">text_snippets.h:110</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id&lt; translation &gt;</a></div></div>
<div class="ttc" id="aclasstranslation_html"><div class="ttname"><a href="classtranslation.html">translation</a></div><div class="ttdoc">Class for storing translation context and raw string for deferred translation.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00151">translations.h:152</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="ageneric__factory_8h_html_a0a177c754c5ba89ac6c543656b0652cc"><div class="ttname"><a href="generic__factory_8h.html#a0a177c754c5ba89ac6c543656b0652cc">mandatory</a></div><div class="ttdeci">void mandatory(const JsonObject &amp;jo, const bool was_loaded, const std::string &amp;name, MemberType &amp;member)</div><div class="ttdef"><b>Definition:</b> <a href="generic__factory_8h_source.html#l00611">generic_factory.h:611</a></div></div>
<div class="ttc" id="anamespacebase__camps_html_a04fa69b1c0952a34dc4a7d26b3f9f786"><div class="ttname"><a href="namespacebase__camps.html#a04fa69b1c0952a34dc4a7d26b3f9f786">base_camps::id</a></div><div class="ttdeci">const std::string id</div><div class="ttdef"><b>Definition:</b> <a href="basecamp_8h_source.html#l00087">basecamp.h:87</a></div></div>
<div class="ttc" id="anamespacecata_html_ad05314667ac5d05f984aeeef26b9a87f"><div class="ttname"><a href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a></div><div class="ttdeci">static constexpr nullopt_t nullopt</div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00022">optional.h:22</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="json_8cpp_source.html#l00181">JsonObject::has_member()</a>, <a class="el" href="text__snippets_8h_source.html#l00112">hash_to_id_migration</a>, <a class="el" href="basecamp_8h_source.html#l00087">base_camps::id</a>, <a class="el" href="generic__factory_8h_source.html#l00611">mandatory()</a>, <a class="el" href="optional_8h_source.html#l00022">cata::nullopt</a>, <a class="el" href="json_8h_source.html#l00944">JsonObject::read()</a>, <a class="el" href="text__snippets_8h_source.html#l00110">snippets_by_category</a>, <a class="el" href="text__snippets_8h_source.html#l00104">snippets_by_id</a>, and <a class="el" href="json_8cpp_source.html#l00233">JsonObject::throw_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="text__snippets_8cpp_source.html#l00028">add_snippets_from_json()</a>, and <a class="el" href="text__snippets_8cpp_source.html#l00014">load_snippet()</a>.</p>

</div>
</div>
<a id="a55d727b514e4af846a131fa956763637" name="a55d727b514e4af846a131fa956763637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55d727b514e4af846a131fa956763637">&#9670;&nbsp;</a></span>add_snippets_from_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void snippet_library::add_snippets_from_json </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classJsonArray.html">JsonArray</a> &amp;&#160;</td>
          <td class="paramname"><em>jarr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load all snippet definitions in the json array into given category. </p>
<p >Entries in the array can be simple strings, or json objects (for the later see add_snippet_from_json). </p>

<p class="definition">Definition at line <a class="el" href="text__snippets_8cpp_source.html#l00028">28</a> of file <a class="el" href="text__snippets_8cpp_source.html">text_snippets.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>{</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classsnippet__library.html#a032b92272a495c241dfa46736343133f">hash_to_id_migration</a>.has_value() ) {</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;snippet_library::add_snippets_from_json called after snippet_library::migrate_hash_to_id.&quot;</span> );</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    }</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>    <a class="code hl_variable" href="classsnippet__library.html#a032b92272a495c241dfa46736343133f">hash_to_id_migration</a> = <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonValue.html">JsonValue</a> entry : jarr ) {</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>        <span class="keywordflow">if</span>( entry.test_string() ) {</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>            <a class="code hl_class" href="classtranslation.html">translation</a> text;</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>            <span class="keywordflow">if</span>( !entry.read( text ) ) {</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>                entry.throw_error( <span class="stringliteral">&quot;Error reading snippet from JSON array&quot;</span> );</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>            }</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>            <a class="code hl_variable" href="classsnippet__library.html#ab0e270ac99d472054be52471a02ad48d">snippets_by_category</a>[category].no_id.emplace_back( text );</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>            <a class="code hl_class" href="classJsonObject.html">JsonObject</a> jo = entry.<a class="code hl_function" href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">get_object</a>();</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>            <a class="code hl_function" href="classsnippet__library.html#a02b8fc0759ba2956485b8913f616c747">add_snippet_from_json</a>( category, jo );</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>        }</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    }</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>}</div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00831">json.h:832</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a0cd609c1bb7527609e6025d54f427a5c"><div class="ttname"><a href="classJsonObject.html#a0cd609c1bb7527609e6025d54f427a5c">JsonObject::get_object</a></div><div class="ttdeci">JsonObject get_object(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00361">json.cpp:361</a></div></div>
<div class="ttc" id="aclassJsonValue_html"><div class="ttname"><a href="classJsonValue.html">JsonValue</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l01126">json.h:1127</a></div></div>
<div class="ttc" id="aclasssnippet__library_html_a02b8fc0759ba2956485b8913f616c747"><div class="ttname"><a href="classsnippet__library.html#a02b8fc0759ba2956485b8913f616c747">snippet_library::add_snippet_from_json</a></div><div class="ttdeci">void add_snippet_from_json(const std::string &amp;category, const JsonObject &amp;jo)</div><div class="ttdoc">Load a single snippet text from the json object.</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00048">text_snippets.cpp:48</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="text__snippets_8cpp_source.html#l00048">add_snippet_from_json()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="json_8cpp_source.html#l00361">JsonObject::get_object()</a>, <a class="el" href="text__snippets_8h_source.html#l00112">hash_to_id_migration</a>, <a class="el" href="optional_8h_source.html#l00022">cata::nullopt</a>, and <a class="el" href="text__snippets_8h_source.html#l00110">snippets_by_category</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l02400">Item_factory::load_basic_info()</a>, and <a class="el" href="text__snippets_8cpp_source.html#l00014">load_snippet()</a>.</p>

</div>
</div>
<a id="af2445197cd872aac751100ea5b609243" name="af2445197cd872aac751100ea5b609243"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2445197cd872aac751100ea5b609243">&#9670;&nbsp;</a></span>clear_snippets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void snippet_library::clear_snippets </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="text__snippets_8cpp_source.html#l00072">72</a> of file <a class="el" href="text__snippets_8cpp_source.html">text_snippets.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>{</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <a class="code hl_variable" href="classsnippet__library.html#a032b92272a495c241dfa46736343133f">hash_to_id_migration</a> = <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    <a class="code hl_variable" href="classsnippet__library.html#ab0e270ac99d472054be52471a02ad48d">snippets_by_category</a>.clear();</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <a class="code hl_variable" href="classsnippet__library.html#a3a6102f5bf51e26605072508b3088c15">snippets_by_id</a>.clear();</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="text__snippets_8h_source.html#l00112">hash_to_id_migration</a>, <a class="el" href="optional_8h_source.html#l00022">cata::nullopt</a>, <a class="el" href="text__snippets_8h_source.html#l00110">snippets_by_category</a>, and <a class="el" href="text__snippets_8h_source.html#l00104">snippets_by_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8cpp_source.html#l00531">DynamicDataLoader::unload_data()</a>.</p>

</div>
</div>
<a id="a2c546ab8c71efe861ce1400b8d3e1261" name="a2c546ab8c71efe861ce1400b8d3e1261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c546ab8c71efe861ce1400b8d3e1261">&#9670;&nbsp;</a></span>expand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string snippet_library::expand </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expand the string by recursively replacing tags in angle brackets (&lt;&gt;) with random snippets from the tags' respective category. </p>
<p >For example, if the string is "&lt;okay&gt;&lt;punc&gt;", the function then replaces "&lt;okay&gt;" with a snippet from the "&lt;okay&gt;" category, and "&lt;punc&gt;" with a snippet from the "&lt;punc&gt;" category, and returns, for example, "okay!". If a tag does not have a corresponding category, it is copied to the final string, for example, "drop &lt;yrwp&gt;, &lt;okay&gt;?" may expand to "drop &lt;yrwp&gt;, okay?" because "&lt;yrwp&gt;" is a special tag that does not have a category defined in the JSON files. </p>

<p class="definition">Definition at line <a class="el" href="text__snippets_8cpp_source.html#l00108">108</a> of file <a class="el" href="text__snippets_8cpp_source.html">text_snippets.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>{</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="keywordtype">size_t</span> tag_begin = str.find( <span class="charliteral">&#39;&lt;&#39;</span> );</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="keywordflow">if</span>( tag_begin == std::string::npos ) {</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>        <span class="keywordflow">return</span> str;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    }</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <span class="keywordtype">size_t</span> tag_end = str.find( <span class="charliteral">&#39;&gt;&#39;</span>, tag_begin + 1 );</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="keywordflow">if</span>( tag_end == std::string::npos ) {</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>        <span class="keywordflow">return</span> str;</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    }</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span> </div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    std::string <a class="code hl_function" href="editmap_8cpp.html#aad8315087dc1d0ef9212680412a20601">symbol</a> = str.substr( tag_begin, tag_end - tag_begin + 1 );</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    <a class="code hl_class" href="classcata_1_1optional.html">cata::optional&lt;translation&gt;</a> <a class="code hl_enumvalue" href="text__style__check_8h.html#aa76eeb43e28d7c3407b22fd9b1c4c9abaf5300127f646a4550bc4a04fbe393e79">replacement</a> = <a class="code hl_function" href="classsnippet__library.html#a0748b0d5862db55872b54b61736d8907">random_from_category</a>( <a class="code hl_function" href="editmap_8cpp.html#aad8315087dc1d0ef9212680412a20601">symbol</a> );</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="text__style__check_8h.html#aa76eeb43e28d7c3407b22fd9b1c4c9abaf5300127f646a4550bc4a04fbe393e79">replacement</a>.has_value() ) {</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>        <span class="keywordflow">return</span> str.substr( 0, tag_end + 1 )</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>               + <a class="code hl_function" href="classsnippet__library.html#a2c546ab8c71efe861ce1400b8d3e1261">expand</a>( str.substr( tag_end + 1 ) );</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    }</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="keywordflow">return</span> str.substr( 0, tag_begin )</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>           + <a class="code hl_function" href="classsnippet__library.html#a2c546ab8c71efe861ce1400b8d3e1261">expand</a>( <a class="code hl_enumvalue" href="text__style__check_8h.html#aa76eeb43e28d7c3407b22fd9b1c4c9abaf5300127f646a4550bc4a04fbe393e79">replacement</a>.value().translated() )</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>           + <a class="code hl_function" href="classsnippet__library.html#a2c546ab8c71efe861ce1400b8d3e1261">expand</a>( str.substr( tag_end + 1 ) );</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>}</div>
<div class="ttc" id="aclasscata_1_1optional_html"><div class="ttname"><a href="classcata_1_1optional.html">cata::optional</a></div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00030">optional.h:31</a></div></div>
<div class="ttc" id="aclasssnippet__library_html_a0748b0d5862db55872b54b61736d8907"><div class="ttname"><a href="classsnippet__library.html#a0748b0d5862db55872b54b61736d8907">snippet_library::random_from_category</a></div><div class="ttdeci">cata::optional&lt; translation &gt; random_from_category(const std::string &amp;cat) const</div><div class="ttdoc">Returns a random snippet out of the given category.</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00145">text_snippets.cpp:145</a></div></div>
<div class="ttc" id="aclasssnippet__library_html_a2c546ab8c71efe861ce1400b8d3e1261"><div class="ttname"><a href="classsnippet__library.html#a2c546ab8c71efe861ce1400b8d3e1261">snippet_library::expand</a></div><div class="ttdeci">std::string expand(const std::string &amp;str) const</div><div class="ttdoc">Expand the string by recursively replacing tags in angle brackets (&lt;&gt;) with random snippets from the ...</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00108">text_snippets.cpp:108</a></div></div>
<div class="ttc" id="aeditmap_8cpp_html_aad8315087dc1d0ef9212680412a20601"><div class="ttname"><a href="editmap_8cpp.html#aad8315087dc1d0ef9212680412a20601">symbol</a></div><div class="ttdeci">static int symbol(const T_t &amp;t)</div></div>
<div class="ttc" id="atext__style__check_8h_html_aa76eeb43e28d7c3407b22fd9b1c4c9abaf5300127f646a4550bc4a04fbe393e79"><div class="ttname"><a href="text__style__check_8h.html#aa76eeb43e28d7c3407b22fd9b1c4c9abaf5300127f646a4550bc4a04fbe393e79">text_style_fix::replacement</a></div><div class="ttdeci">@ replacement</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="text__snippets_8cpp_source.html#l00108">expand()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00145">random_from_category()</a>, <a class="el" href="text__style__check_8h.html#aa76eeb43e28d7c3407b22fd9b1c4c9abaf5300127f646a4550bc4a04fbe393e79">replacement</a>, and <a class="el" href="editmap_8cpp.html#aad8315087dc1d0ef9212680412a20601">symbol()</a>.</p>

<p class="reference">Referenced by <a class="el" href="text__snippets_8cpp_source.html#l00108">expand()</a>, <a class="el" href="iuse_8cpp_source.html#l04135">get_music_description()</a>, <a class="el" href="harvest_8cpp_source.html#l00048">harvest_list::message()</a>, <a class="el" href="npctalk_8cpp_source.html#l01574">parse_tags()</a>, <a class="el" href="overmap_8cpp_source.html#l04751">overmap::place_radios()</a>, and <a class="el" href="suffer_8cpp_source.html#l00432">Character::suffer_from_schizophrenia()</a>.</p>

</div>
</div>
<a id="a0988b68078e489e8e12e4a1a03931ed0" name="a0988b68078e489e8e12e4a1a03931ed0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0988b68078e489e8e12e4a1a03931ed0">&#9670;&nbsp;</a></span>get_snippet_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; <a class="el" href="classtranslation.html">translation</a> &gt; snippet_library::get_snippet_by_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the snippet referenced by the id, or <a class="el" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a> if there is no snippet with such id. </p>
<p >The tags in the snippet are not automatically expanded - you need to call <code><a class="el" href="classsnippet__library.html#a2c546ab8c71efe861ce1400b8d3e1261" title="Expand the string by recursively replacing tags in angle brackets (&lt;&gt;) with random snippets from the ...">expand()</a></code> to do that. </p>

<p class="definition">Definition at line <a class="el" href="text__snippets_8cpp_source.html#l00084">84</a> of file <a class="el" href="text__snippets_8cpp_source.html">text_snippets.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>{</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classsnippet__library.html#a3a6102f5bf51e26605072508b3088c15">snippets_by_id</a>.find( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <span class="keywordflow">if</span>( it == <a class="code hl_variable" href="classsnippet__library.html#a3a6102f5bf51e26605072508b3088c15">snippets_by_id</a>.end() ) {</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    }</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="optional_8h_source.html#l00022">cata::nullopt</a>, and <a class="el" href="text__snippets_8h_source.html#l00104">snippets_by_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="gamemode__tutorial_8cpp_source.html#l00330">tutorial_game::add_message()</a>, <a class="el" href="item_8cpp_source.html#l01469">item::basic_info()</a>, and <a class="el" href="text__snippets_8cpp_source.html#l00150">random_from_category()</a>.</p>

</div>
</div>
<a id="aa4628a72254a2d3548b472078a77f1c9" name="aa4628a72254a2d3548b472078a77f1c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4628a72254a2d3548b472078a77f1c9">&#9670;&nbsp;</a></span>get_snippet_ref_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classtranslation.html">translation</a> &amp; snippet_library::get_snippet_ref_by_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a reference to the snippet with the id, or a reference to an empty translation object if no such snippet exist. </p>

<p class="definition">Definition at line <a class="el" href="text__snippets_8cpp_source.html#l00093">93</a> of file <a class="el" href="text__snippets_8cpp_source.html">text_snippets.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>{</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classsnippet__library.html#a3a6102f5bf51e26605072508b3088c15">snippets_by_id</a>.find( <span class="keywordtype">id</span> );</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    <span class="keywordflow">if</span>( it == <a class="code hl_variable" href="classsnippet__library.html#a3a6102f5bf51e26605072508b3088c15">snippets_by_id</a>.end() ) {</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classtranslation.html">translation</a> empty_translation;</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>        <span class="keywordflow">return</span> empty_translation;</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    }</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="text__snippets_8h_source.html#l00104">snippets_by_id</a>.</p>

</div>
</div>
<a id="a04775bb228b86633909183ba39d274d8" name="a04775bb228b86633909183ba39d274d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04775bb228b86633909183ba39d274d8">&#9670;&nbsp;</a></span>has_category()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool snippet_library::has_category </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>category</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="text__snippets_8cpp_source.html#l00079">79</a> of file <a class="el" href="text__snippets_8cpp_source.html">text_snippets.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>{</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classsnippet__library.html#ab0e270ac99d472054be52471a02ad48d">snippets_by_category</a>.find( category ) != <a class="code hl_variable" href="classsnippet__library.html#ab0e270ac99d472054be52471a02ad48d">snippets_by_category</a>.end();</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="text__snippets_8h_source.html#l00110">snippets_by_category</a>.</p>

<p class="reference">Referenced by <a class="el" href="item__factory_8cpp_source.html#l01115">Item_factory::check_definitions()</a>.</p>

</div>
</div>
<a id="a243a03181727b41cd513d066e7c5b908" name="a243a03181727b41cd513d066e7c5b908"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a243a03181727b41cd513d066e7c5b908">&#9670;&nbsp;</a></span>has_snippet_with_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool snippet_library::has_snippet_with_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if there exists a snippet with the id. </p>

<p class="definition">Definition at line <a class="el" href="text__snippets_8cpp_source.html#l00103">103</a> of file <a class="el" href="text__snippets_8cpp_source.html">text_snippets.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>{</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classsnippet__library.html#a3a6102f5bf51e26605072508b3088c15">snippets_by_id</a>.find( <span class="keywordtype">id</span> ) != <a class="code hl_variable" href="classsnippet__library.html#a3a6102f5bf51e26605072508b3088c15">snippets_by_id</a>.end();</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="text__snippets_8h_source.html#l00104">snippets_by_id</a>.</p>

</div>
</div>
<a id="ac09e30d518cb9b0a7d6904c27d37f5c0" name="ac09e30d518cb9b0a7d6904c27d37f5c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac09e30d518cb9b0a7d6904c27d37f5c0">&#9670;&nbsp;</a></span>load_snippet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void snippet_library::load_snippet </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classJsonObject.html">JsonObject</a> &amp;&#160;</td>
          <td class="paramname"><em>jsobj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load snippet from the standalone entry, used by the <a class="el" href="classDynamicDataLoader.html">DynamicDataLoader</a>. </p>

<p class="definition">Definition at line <a class="el" href="text__snippets_8cpp_source.html#l00014">14</a> of file <a class="el" href="text__snippets_8cpp_source.html">text_snippets.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>{</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classsnippet__library.html#a032b92272a495c241dfa46736343133f">hash_to_id_migration</a>.has_value() ) {</div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;snippet_library::load_snippet called after snippet_library::migrate_hash_to_id.&quot;</span> );</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>    }</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>    <a class="code hl_variable" href="classsnippet__library.html#a032b92272a495c241dfa46736343133f">hash_to_id_migration</a> = <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>    <span class="keyword">const</span> std::string category = jsobj.<a class="code hl_function" href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">get_string</a>( <span class="stringliteral">&quot;category&quot;</span> );</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>    <span class="keywordflow">if</span>( jsobj.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;text&quot;</span> ) ) {</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>        <a class="code hl_function" href="classsnippet__library.html#a55d727b514e4af846a131fa956763637">add_snippets_from_json</a>( category, jsobj.<a class="code hl_function" href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">get_array</a>( <span class="stringliteral">&quot;text&quot;</span> ) );</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>        <a class="code hl_function" href="classsnippet__library.html#a02b8fc0759ba2956485b8913f616c747">add_snippet_from_json</a>( category, jsobj );</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>    }</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>}</div>
<div class="ttc" id="aclassJsonObject_html_a69f62f59b5e39da6059b7c3cf8b12421"><div class="ttname"><a href="classJsonObject.html#a69f62f59b5e39da6059b7c3cf8b12421">JsonObject::get_array</a></div><div class="ttdeci">JsonArray get_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00332">json.cpp:332</a></div></div>
<div class="ttc" id="aclassJsonObject_html_a96b6d1b9cf7bda4fc9cd177a99e0631c"><div class="ttname"><a href="classJsonObject.html#a96b6d1b9cf7bda4fc9cd177a99e0631c">JsonObject::get_string</a></div><div class="ttdeci">std::string get_string(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00314">json.cpp:314</a></div></div>
<div class="ttc" id="aclassJsonObject_html_aa92b5eb23f6b39645877d79fbef784a0"><div class="ttname"><a href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00415">json.cpp:415</a></div></div>
<div class="ttc" id="aclasssnippet__library_html_a55d727b514e4af846a131fa956763637"><div class="ttname"><a href="classsnippet__library.html#a55d727b514e4af846a131fa956763637">snippet_library::add_snippets_from_json</a></div><div class="ttdeci">void add_snippets_from_json(const std::string &amp;category, const JsonArray &amp;jarr)</div><div class="ttdoc">Load all snippet definitions in the json array into given category.</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00028">text_snippets.cpp:28</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="text__snippets_8cpp_source.html#l00048">add_snippet_from_json()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00028">add_snippets_from_json()</a>, <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="json_8cpp_source.html#l00332">JsonObject::get_array()</a>, <a class="el" href="json_8cpp_source.html#l00314">JsonObject::get_string()</a>, <a class="el" href="json_8cpp_source.html#l00415">JsonObject::has_array()</a>, <a class="el" href="text__snippets_8h_source.html#l00112">hash_to_id_migration</a>, and <a class="el" href="optional_8h_source.html#l00022">cata::nullopt</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8cpp_source.html#l00238">DynamicDataLoader::initialize()</a>.</p>

</div>
</div>
<a id="ac60917e4982bf750054e6a3d5f8770dd" name="ac60917e4982bf750054e6a3d5f8770dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac60917e4982bf750054e6a3d5f8770dd">&#9670;&nbsp;</a></span>migrate_hash_to_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a> snippet_library::migrate_hash_to_id </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used only for legacy compatibility. </p>
<p ><code>hash_to_id_migration</code> will be initialized if it hasn't been yet, and the snippet with the given hash is looked up and returned. If there's no longer any snippet with the given hash, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d" title="Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.">snippet_id::NULL_ID()</a> is returned instead. </p>

<p class="definition">Definition at line <a class="el" href="text__snippets_8cpp_source.html#l00176">176</a> of file <a class="el" href="text__snippets_8cpp_source.html">text_snippets.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>{</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="classsnippet__library.html#a032b92272a495c241dfa46736343133f">hash_to_id_migration</a>.has_value() ) {</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        <a class="code hl_variable" href="classsnippet__library.html#a032b92272a495c241dfa46736343133f">hash_to_id_migration</a>.emplace();</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;id_and_text : <a class="code hl_variable" href="classsnippet__library.html#a3a6102f5bf51e26605072508b3088c15">snippets_by_id</a> ) {</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>            std::pair&lt;bool, int&gt; hash = id_and_text.second.legacy_hash();</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>            <span class="keywordflow">if</span>( hash.first ) {</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>                <a class="code hl_variable" href="classsnippet__library.html#a032b92272a495c241dfa46736343133f">hash_to_id_migration</a>-&gt;emplace( hash.second, id_and_text.first );</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>            }</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>        }</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    }</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classsnippet__library.html#a032b92272a495c241dfa46736343133f">hash_to_id_migration</a>-&gt;find( old_hash );</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <span class="keywordflow">if</span>( it == <a class="code hl_variable" href="classsnippet__library.html#a032b92272a495c241dfa46736343133f">hash_to_id_migration</a>-&gt;end() ) {</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">snippet_id::NULL_ID</a>();</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    }</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>}</div>
<div class="ttc" id="aclassstring__id_html_ae29dd8ed38d2b5eb443a65ad46f10b2d"><div class="ttname"><a href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; translation &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; translation &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="text__snippets_8h_source.html#l00112">hash_to_id_migration</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; translation &gt;::NULL_ID()</a>, and <a class="el" href="text__snippets_8h_source.html#l00104">snippets_by_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="savegame__json_8cpp_source.html#l02167">item::io()</a>.</p>

</div>
</div>
<a id="a0748b0d5862db55872b54b61736d8907" name="a0748b0d5862db55872b54b61736d8907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0748b0d5862db55872b54b61736d8907">&#9670;&nbsp;</a></span>random_from_category() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; <a class="el" href="classtranslation.html">translation</a> &gt; snippet_library::random_from_category </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>cat</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a random snippet out of the given category. </p>
<p >Both snippets with or without an id may be returned. If there isn't any snippet in the category, <a class="el" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a> is returned. The tags in the snippet are not automatically expanded - you need to call <code><a class="el" href="classsnippet__library.html#a2c546ab8c71efe861ce1400b8d3e1261" title="Expand the string by recursively replacing tags in angle brackets (&lt;&gt;) with random snippets from the ...">expand()</a></code> to do that. </p>

<p class="definition">Definition at line <a class="el" href="text__snippets_8cpp_source.html#l00145">145</a> of file <a class="el" href="text__snippets_8cpp_source.html">text_snippets.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>{</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classsnippet__library.html#a0748b0d5862db55872b54b61736d8907">random_from_category</a>( cat, <a class="code hl_function" href="rng_8cpp.html#a63dfb6fd147b791b93d5c0bdc2e87c65">rng_bits</a>() );</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>}</div>
<div class="ttc" id="arng_8cpp_html_a63dfb6fd147b791b93d5c0bdc2e87c65"><div class="ttname"><a href="rng_8cpp.html#a63dfb6fd147b791b93d5c0bdc2e87c65">rng_bits</a></div><div class="ttdeci">unsigned int rng_bits()</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00012">rng.cpp:12</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="text__snippets_8cpp_source.html#l00145">random_from_category()</a>, and <a class="el" href="rng_8cpp_source.html#l00012">rng_bits()</a>.</p>

<p class="reference">Referenced by <a class="el" href="computer__session_8cpp_source.html#l00628">computer_session::action_amigara_log()</a>, <a class="el" href="computer__session_8cpp_source.html#l00500">computer_session::action_radio_archive()</a>, <a class="el" href="computer__session_8cpp_source.html#l00475">computer_session::action_research()</a>, <a class="el" href="computer__session_8cpp_source.html#l00868">computer_session::action_sr1_mess()</a>, <a class="el" href="computer__session_8cpp_source.html#l00875">computer_session::action_sr2_mess()</a>, <a class="el" href="computer__session_8cpp_source.html#l00882">computer_session::action_sr3_mess()</a>, <a class="el" href="computer__session_8cpp_source.html#l00889">computer_session::action_sr4_mess()</a>, <a class="el" href="computer__session_8cpp_source.html#l00896">computer_session::action_srcf_1_mess()</a>, <a class="el" href="computer__session_8cpp_source.html#l00903">computer_session::action_srcf_2_mess()</a>, <a class="el" href="computer__session_8cpp_source.html#l00913">computer_session::action_srcf_3_mess()</a>, <a class="el" href="computer__session_8cpp_source.html#l00920">computer_session::action_srcf_seal_order()</a>, <a class="el" href="mapgen_8cpp_source.html#l00928">jmapgen_sign::apply()</a>, <a class="el" href="mapgen_8cpp_source.html#l00982">jmapgen_graffiti::apply()</a>, <a class="el" href="character_8cpp_source.html#l04964">Character::check_needs_extremes()</a>, <a class="el" href="monster_8cpp_source.html#l02268">monster::die()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00108">expand()</a>, <a class="el" href="npc_8cpp_source.html#l03012">npc::get_epilogue()</a>, <a class="el" href="help_8cpp_source.html#l00228">get_hint()</a>, <a class="el" href="iuse_8cpp_source.html#l04135">get_music_description()</a>, <a class="el" href="main__menu_8cpp_source.html#l00325">main_menu::init_strings()</a>, <a class="el" href="map__extras_8cpp_source.html#l02830">MapExtras::mx_grave()</a>, <a class="el" href="timed__event_8cpp_source.html#l00240">timed_event::per_turn()</a>, <a class="el" href="overmap_8cpp_source.html#l04751">overmap::place_radios()</a>, <a class="el" href="character_8cpp_source.html#l04195">Character::print_health()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00145">random_from_category()</a>, <a class="el" href="suffer_8cpp_source.html#l00944">Character::suffer_from_other_mutations()</a>, <a class="el" href="suffer_8cpp_source.html#l00432">Character::suffer_from_schizophrenia()</a>, and <a class="el" href="activity__handlers_8cpp_source.html#l04575">activity_handlers::tree_communion_do_turn()</a>.</p>

</div>
</div>
<a id="abcac94a6ea7b73e49df2b9f901647501" name="abcac94a6ea7b73e49df2b9f901647501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcac94a6ea7b73e49df2b9f901647501">&#9670;&nbsp;</a></span>random_from_category() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt; <a class="el" href="classtranslation.html">translation</a> &gt; snippet_library::random_from_category </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>cat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>seed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use the given seed to select a random snippet from the category. </p>
<p >For the same seed, the returned snippet stays the same <em>in a single game session</em>, but may change after reloading or restarting a game, due to layout changes in the JSON files, for example. If there isn't any snippet in the category, <a class="el" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a> is returned. The tags in the snippet are not automatically expanded - you need to call <code><a class="el" href="classsnippet__library.html#a2c546ab8c71efe861ce1400b8d3e1261" title="Expand the string by recursively replacing tags in angle brackets (&lt;&gt;) with random snippets from the ...">expand()</a></code> to do that.</p>
<p >TODO: make the result stay the same through different game sessions </p>

<p class="definition">Definition at line <a class="el" href="text__snippets_8cpp_source.html#l00150">150</a> of file <a class="el" href="text__snippets_8cpp_source.html">text_snippets.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>{</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classsnippet__library.html#ab0e270ac99d472054be52471a02ad48d">snippets_by_category</a>.find( cat );</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    <span class="keywordflow">if</span>( it == <a class="code hl_variable" href="classsnippet__library.html#ab0e270ac99d472054be52471a02ad48d">snippets_by_category</a>.end() ) {</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    }</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    <span class="keywordflow">if</span>( it-&gt;second.ids.empty() &amp;&amp; it-&gt;second.no_id.empty() ) {</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata.html#ad05314667ac5d05f984aeeef26b9a87f">cata::nullopt</a>;</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    }</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> = it-&gt;second.ids.size() + it-&gt;second.no_id.size();</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <span class="comment">// uniform_int_distribution always returns zero when the random engine is</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <span class="comment">// cata_default_random_engine aka std::minstd_rand0 and the seed is small,</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="comment">// so std::mt19937 is used instead. This engine is deterministcally seeded,</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="comment">// so acceptable.</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="comment">// NOLINTNEXTLINE(cata-determinism)</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    std::mt19937 <a class="code hl_function" href="namespacemattack.html#acd587bdbaf562c2ce7521301d277afc7">generator</a>( <a class="code hl_function" href="namespaceiuse.html#a07b07d9e1b2e068106e3a2c779d3362c">seed</a> );</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    std::uniform_int_distribution&lt;size_t&gt; dis( 0, <a class="code hl_function" href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">count</a> - 1 );</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code hl_enumvalue" href="namespacedetail.html#ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86">index</a> = dis( <a class="code hl_function" href="namespacemattack.html#acd587bdbaf562c2ce7521301d277afc7">generator</a> );</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="keywordflow">if</span>( index &lt; it-&gt;<a class="code hl_enumvalue" href="calendar_8h.html#a5db9490f8316b22d7c367c5a563a2f00aa9f0e61a137d86aa9db53465e0801612">second</a>.ids.size() ) {</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classsnippet__library.html#a0988b68078e489e8e12e4a1a03931ed0">get_snippet_by_id</a>( it-&gt;second.ids[index] );</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>        <span class="keywordflow">return</span> it-&gt;second.no_id[<a class="code hl_enumvalue" href="namespacedetail.html#ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86">index</a> - it-&gt;second.ids.size()];</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    }</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>}</div>
<div class="ttc" id="acalendar_8h_html_a5db9490f8316b22d7c367c5a563a2f00aa9f0e61a137d86aa9db53465e0801612"><div class="ttname"><a href="calendar_8h.html#a5db9490f8316b22d7c367c5a563a2f00aa9f0e61a137d86aa9db53465e0801612">clipped_unit::second</a></div><div class="ttdeci">@ second</div></div>
<div class="ttc" id="aclasssnippet__library_html_a0988b68078e489e8e12e4a1a03931ed0"><div class="ttname"><a href="classsnippet__library.html#a0988b68078e489e8e12e4a1a03931ed0">snippet_library::get_snippet_by_id</a></div><div class="ttdeci">cata::optional&lt; translation &gt; get_snippet_by_id(const snippet_id &amp;id) const</div><div class="ttdoc">Returns the snippet referenced by the id, or cata::nullopt if there is no snippet with such id.</div><div class="ttdef"><b>Definition:</b> <a href="text__snippets_8cpp_source.html#l00084">text_snippets.cpp:84</a></div></div>
<div class="ttc" id="anamespacedetail_html_ab2f84fb3de26acdac3fc63a2dce5ea5e"><div class="ttname"><a href="namespacedetail.html#ab2f84fb3de26acdac3fc63a2dce5ea5e">detail::count</a></div><div class="ttdeci">constexpr size_t count()</div><div class="ttdef"><b>Definition:</b> <a href="fmtlib__core_8h_source.html#l01073">fmtlib_core.h:1073</a></div></div>
<div class="ttc" id="anamespacedetail_html_ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86"><div class="ttname"><a href="namespacedetail.html#ac4c79842ec549e8b02145d43a1fbc330a6a992d5529f459a44fee58c733255e86">detail::arg_id_kind::index</a></div><div class="ttdeci">@ index</div></div>
<div class="ttc" id="anamespaceiuse_html_a07b07d9e1b2e068106e3a2c779d3362c"><div class="ttname"><a href="namespaceiuse.html#a07b07d9e1b2e068106e3a2c779d3362c">iuse::seed</a></div><div class="ttdeci">int seed(player *, item *, bool, const tripoint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="iuse_8cpp_source.html#l05998">iuse.cpp:5998</a></div></div>
<div class="ttc" id="anamespacemattack_html_acd587bdbaf562c2ce7521301d277afc7"><div class="ttname"><a href="namespacemattack.html#acd587bdbaf562c2ce7521301d277afc7">mattack::generator</a></div><div class="ttdeci">bool generator(monster *z)</div><div class="ttdef"><b>Definition:</b> <a href="monattack_8cpp_source.html#l04022">monattack.cpp:4022</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="fmtlib__core_8h_source.html#l01073">detail::count()</a>, <a class="el" href="monattack_8cpp_source.html#l04022">mattack::generator()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00084">get_snippet_by_id()</a>, <a class="el" href="optional_8h_source.html#l00022">cata::nullopt</a>, <a class="el" href="calendar_8h.html#a5db9490f8316b22d7c367c5a563a2f00aa9f0e61a137d86aa9db53465e0801612">second</a>, <a class="el" href="iuse_8cpp_source.html#l05998">iuse::seed()</a>, and <a class="el" href="text__snippets_8h_source.html#l00110">snippets_by_category</a>.</p>

</div>
</div>
<a id="aff12dd426e9f0340f5e861ddd291cea3" name="aff12dd426e9f0340f5e861ddd291cea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff12dd426e9f0340f5e861ddd291cea3">&#9670;&nbsp;</a></span>random_id_from_category()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a> snippet_library::random_id_from_category </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>cat</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the id of a random snippet out of the given category. </p>
<p >Snippets without an id will NOT be returned by this function. If there isn't any snippet in the category, or if none of the snippets in the category has an id, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d" title="Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.">snippet_id::NULL_ID()</a> is returned. </p>

<p class="definition">Definition at line <a class="el" href="text__snippets_8cpp_source.html#l00130">130</a> of file <a class="el" href="text__snippets_8cpp_source.html">text_snippets.cpp</a>.</p>
<div class="fragment"><div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>{</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="keyword">const</span> <span class="keyword">auto</span> it = <a class="code hl_variable" href="classsnippet__library.html#ab0e270ac99d472054be52471a02ad48d">snippets_by_category</a>.find( cat );</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="keywordflow">if</span>( it == <a class="code hl_variable" href="classsnippet__library.html#ab0e270ac99d472054be52471a02ad48d">snippets_by_category</a>.end() ) {</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">snippet_id::NULL_ID</a>();</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    }</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="keywordflow">if</span>( !it-&gt;second.no_id.empty() ) {</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;ids are required, but not specified for some snippets in category %s&quot;</span>, cat );</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    }</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="keywordflow">if</span>( it-&gt;second.ids.empty() ) {</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">snippet_id::NULL_ID</a>();</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    }</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a>( it-&gt;second.ids );</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>}</div>
<div class="ttc" id="arng_8h_html_a12244355ee77108f1b08618e9962e4d1"><div class="ttname"><a href="rng_8h.html#a12244355ee77108f1b08618e9962e4d1">random_entry</a></div><div class="ttdeci">V random_entry(const C &amp;container, D default_value)</div><div class="ttdoc">Returns a random entry in the container.</div><div class="ttdef"><b>Definition:</b> <a href="rng_8h_source.html#l00088">rng.h:88</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="debug_8h_source.html#l00074">debugmsg</a>, <a class="el" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; translation &gt;::NULL_ID()</a>, <a class="el" href="rng_8h_source.html#l00088">random_entry()</a>, and <a class="el" href="text__snippets_8h_source.html#l00110">snippets_by_category</a>.</p>

<p class="reference">Referenced by <a class="el" href="item_8cpp_source.html#l00371">item::item()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a032b92272a495c241dfa46736343133f" name="a032b92272a495c241dfa46736343133f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a032b92272a495c241dfa46736343133f">&#9670;&nbsp;</a></span>hash_to_id_migration</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcata_1_1optional.html">cata::optional</a>&lt;std::map&lt;int, <a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a>&gt; &gt; snippet_library::hash_to_id_migration</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="text__snippets_8h_source.html#l00112">112</a> of file <a class="el" href="text__snippets_8h_source.html">text_snippets.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="text__snippets_8cpp_source.html#l00048">add_snippet_from_json()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00028">add_snippets_from_json()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00072">clear_snippets()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00014">load_snippet()</a>, and <a class="el" href="text__snippets_8cpp_source.html#l00176">migrate_hash_to_id()</a>.</p>

</div>
</div>
<a id="ab0e270ac99d472054be52471a02ad48d" name="ab0e270ac99d472054be52471a02ad48d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0e270ac99d472054be52471a02ad48d">&#9670;&nbsp;</a></span>snippets_by_category</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;std::string, <a class="el" href="structsnippet__library_1_1category__snippets.html">category_snippets</a>&gt; snippet_library::snippets_by_category</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="text__snippets_8h_source.html#l00110">110</a> of file <a class="el" href="text__snippets_8h_source.html">text_snippets.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="text__snippets_8cpp_source.html#l00048">add_snippet_from_json()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00028">add_snippets_from_json()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00072">clear_snippets()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00079">has_category()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00150">random_from_category()</a>, and <a class="el" href="text__snippets_8cpp_source.html#l00130">random_id_from_category()</a>.</p>

</div>
</div>
<a id="a3a6102f5bf51e26605072508b3088c15" name="a3a6102f5bf51e26605072508b3088c15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a6102f5bf51e26605072508b3088c15">&#9670;&nbsp;</a></span>snippets_by_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;<a class="el" href="type__id_8h.html#a84db133d54da75a181233bc4ba230e4c">snippet_id</a>, <a class="el" href="classtranslation.html">translation</a>&gt; snippet_library::snippets_by_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="text__snippets_8h_source.html#l00104">104</a> of file <a class="el" href="text__snippets_8h_source.html">text_snippets.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="text__snippets_8cpp_source.html#l00048">add_snippet_from_json()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00072">clear_snippets()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00084">get_snippet_by_id()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00093">get_snippet_ref_by_id()</a>, <a class="el" href="text__snippets_8cpp_source.html#l00103">has_snippet_with_id()</a>, and <a class="el" href="text__snippets_8cpp_source.html#l00176">migrate_hash_to_id()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="text__snippets_8h_source.html">text_snippets.h</a></li>
<li>src/<a class="el" href="text__snippets_8cpp_source.html">text_snippets.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classsnippet__library.html">snippet_library</a></li>
    <li class="footer">Generated on Sun Oct 23 2022 17:17:15 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
