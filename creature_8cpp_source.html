<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cataclysm BN: src/creature.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cataclysm BN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('creature_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">creature.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="creature_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#include &quot;<a class="code" href="creature_8h.html">creature.h</a>&quot;</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &lt;cstdlib&gt;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &quot;<a class="code" href="anatomy_8h.html">anatomy.h</a>&quot;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &quot;<a class="code" href="avatar_8h.html">avatar.h</a>&quot;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &quot;<a class="code" href="calendar_8h.html">calendar.h</a>&quot;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &quot;<a class="code" href="character_8h.html">character.h</a>&quot;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &quot;<a class="code" href="color_8h.html">color.h</a>&quot;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;<a class="code" href="cursesdef_8h.html">cursesdef.h</a>&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;<a class="code" href="damage_8h.html">damage.h</a>&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;<a class="code" href="debug_8h.html">debug.h</a>&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="effect_8h.html">effect.h</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &quot;<a class="code" href="enums_8h.html">enums.h</a>&quot;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="event_8h.html">event.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="event__bus_8h.html">event_bus.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="field_8h.html">field.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="game_8h.html">game.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="game__constants_8h.html">game_constants.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="int__id_8h.html">int_id.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="item_8h.html">item.h</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="json_8h.html">json.h</a>&quot;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="lightmap_8h.html">lightmap.h</a>&quot;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="line_8h.html">line.h</a>&quot;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="map_8h.html">map.h</a>&quot;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="map__iterator_8h.html">map_iterator.h</a>&quot;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &quot;<a class="code" href="mapdata_8h.html">mapdata.h</a>&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="messages_8h.html">messages.h</a>&quot;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &quot;<a class="code" href="monster_8h.html">monster.h</a>&quot;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &quot;<a class="code" href="mtype_8h.html">mtype.h</a>&quot;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;<a class="code" href="npc_8h.html">npc.h</a>&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &quot;<a class="code" href="optional_8h.html">optional.h</a>&quot;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">#include &quot;<a class="code" href="output_8h.html">output.h</a>&quot;</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &quot;<a class="code" href="player_8h.html">player.h</a>&quot;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#include &quot;<a class="code" href="point_8h.html">point.h</a>&quot;</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#include &quot;<a class="code" href="projectile_8h.html">projectile.h</a>&quot;</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="preprocessor">#include &quot;<a class="code" href="ranged_8h.html">ranged.h</a>&quot;</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="preprocessor">#include &quot;<a class="code" href="rng_8h.html">rng.h</a>&quot;</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="preprocessor">#include &quot;<a class="code" href="string__id_8h.html">string_id.h</a>&quot;</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="preprocessor">#include &quot;<a class="code" href="string__utils_8h.html">string_utils.h</a>&quot;</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="preprocessor">#include &quot;<a class="code" href="translations_8h.html">translations.h</a>&quot;</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="preprocessor">#include &quot;<a class="code" href="value__ptr_8h.html">value_ptr.h</a>&quot;</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="preprocessor">#include &quot;<a class="code" href="vehicle_8h.html">vehicle.h</a>&quot;</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="preprocessor">#include &quot;<a class="code" href="vpart__position_8h.html">vpart_position.h</a>&quot;</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a7efb873ae4e7b2dc1aa0179624e1ed89">   50</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="creature_8cpp.html#a7efb873ae4e7b2dc1aa0179624e1ed89">ammo_effect_APPLY_SAP</a>( <span class="stringliteral">&quot;APPLY_SAP&quot;</span> );</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="creature_8cpp.html#af33c8c4aad3591a2af08650aa0e3e991">   51</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="creature_8cpp.html#af33c8c4aad3591a2af08650aa0e3e991">ammo_effect_BEANBAG</a>( <span class="stringliteral">&quot;BEANBAG&quot;</span> );</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="creature_8cpp.html#aca5c34a4efa7eb7aad971e0c6ad33441">   52</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="creature_8cpp.html#aca5c34a4efa7eb7aad971e0c6ad33441">ammo_effect_BLINDS_EYES</a>( <span class="stringliteral">&quot;BLINDS_EYES&quot;</span> );</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a2e2f893aee74eb40d2c1609963133838">   53</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="creature_8cpp.html#a2e2f893aee74eb40d2c1609963133838">ammo_effect_BOUNCE</a>( <span class="stringliteral">&quot;BOUNCE&quot;</span> );</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="creature_8cpp.html#ab5bc741878d9b8001686d7776457d9f9">   54</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="creature_8cpp.html#ab5bc741878d9b8001686d7776457d9f9">ammo_effect_IGNITE</a>( <span class="stringliteral">&quot;IGNITE&quot;</span> );</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a506fc166f774a4ac78c54dd998286ef1">   55</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="creature_8cpp.html#a506fc166f774a4ac78c54dd998286ef1">ammo_effect_INCENDIARY</a>( <span class="stringliteral">&quot;INCENDIARY&quot;</span> );</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a904dad414459ca8c88a5060325581053">   56</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="creature_8cpp.html#a904dad414459ca8c88a5060325581053">ammo_effect_LARGE_BEANBAG</a>( <span class="stringliteral">&quot;LARGE_BEANBAG&quot;</span> );</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a13c53ee7aba5f4eceea92acb8990b1f7">   57</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="creature_8cpp.html#a13c53ee7aba5f4eceea92acb8990b1f7">ammo_effect_magic</a>( <span class="stringliteral">&quot;magic&quot;</span> );</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a99d97c99b6e5d138e7daa56d509e13ed">   58</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="creature_8cpp.html#a99d97c99b6e5d138e7daa56d509e13ed">ammo_effect_NO_CRIT</a>( <span class="stringliteral">&quot;NO_CRIT&quot;</span> );</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="creature_8cpp.html#afc8900d83dd4d83ef6ea32b9661faba7">   59</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="creature_8cpp.html#afc8900d83dd4d83ef6ea32b9661faba7">ammo_effect_NO_DAMAGE_SCALING</a>( <span class="stringliteral">&quot;NO_DAMAGE_SCALING&quot;</span> );</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="creature_8cpp.html#af942404faa709adb06cec47e2cc2604c">   60</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="creature_8cpp.html#af942404faa709adb06cec47e2cc2604c">ammo_effect_NOGIB</a>( <span class="stringliteral">&quot;NOGIB&quot;</span> );</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a734611af157bbe0c5629170042ad97f7">   61</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="creature_8cpp.html#a734611af157bbe0c5629170042ad97f7">ammo_effect_PARALYZEPOISON</a>( <span class="stringliteral">&quot;PARALYZEPOISON&quot;</span> );</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="creature_8cpp.html#aa629b07204a26cf4e57eabe425b3d5c4">   62</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">ammo_effect_str_id</a> <a class="code hl_variable" href="creature_8cpp.html#aa629b07204a26cf4e57eabe425b3d5c4">ammo_effect_TANGLE</a>( <span class="stringliteral">&quot;TANGLE&quot;</span> );</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span> </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">   65</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="creature_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>( <span class="stringliteral">&quot;blind&quot;</span> );</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="creature_8cpp.html#aa3f7307ad230ecea38f95a4ff0b8ee05">   66</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="creature_8cpp.html#aa3f7307ad230ecea38f95a4ff0b8ee05">effect_bounced</a>( <span class="stringliteral">&quot;bounced&quot;</span> );</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a08481f62adb6937636ea44b855311037">   67</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="creature_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>( <span class="stringliteral">&quot;downed&quot;</span> );</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno"><a class="line" href="creature_8cpp.html#ac95fd54d69ea350ea463a719fa7f3550">   68</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="creature_8cpp.html#ac95fd54d69ea350ea463a719fa7f3550">effect_lying_down</a>( <span class="stringliteral">&quot;lying_down&quot;</span> );</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno"><a class="line" href="creature_8cpp.html#af079f6d5681dabcbc1c4ee804c0ba556">   69</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="creature_8cpp.html#af079f6d5681dabcbc1c4ee804c0ba556">effect_no_sight</a>( <span class="stringliteral">&quot;no_sight&quot;</span> );</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a74abddcaf98d4f59d99c051a421bee67">   70</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="creature_8cpp.html#a74abddcaf98d4f59d99c051a421bee67">effect_npc_suspend</a>( <span class="stringliteral">&quot;npc_suspend&quot;</span> );</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno"><a class="line" href="creature_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">   71</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="creature_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>( <span class="stringliteral">&quot;onfire&quot;</span> );</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a04a9c5a38c56dac485cb30d93ee38658">   72</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="creature_8cpp.html#a04a9c5a38c56dac485cb30d93ee38658">effect_paralyzepoison</a>( <span class="stringliteral">&quot;paralyzepoison&quot;</span> );</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">   73</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="creature_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a>( <span class="stringliteral">&quot;ridden&quot;</span> );</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a0a50e3fbf57e70bfac50331092ff8ad1">   74</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="creature_8cpp.html#a0a50e3fbf57e70bfac50331092ff8ad1">effect_riding</a>( <span class="stringliteral">&quot;riding&quot;</span> );</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="creature_8cpp.html#aaafb2b8608b5451879424ff739fedd41">   75</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="creature_8cpp.html#aaafb2b8608b5451879424ff739fedd41">effect_sap</a>( <span class="stringliteral">&quot;sap&quot;</span> );</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="creature_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">   76</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="creature_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a>( <span class="stringliteral">&quot;sleep&quot;</span> );</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="creature_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">   77</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="creature_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>( <span class="stringliteral">&quot;stunned&quot;</span> );</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a09c667a72022d7e0ee0b851560831e04">   78</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="creature_8cpp.html#a09c667a72022d7e0ee0b851560831e04">effect_tied</a>( <span class="stringliteral">&quot;tied&quot;</span> );</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno"><a class="line" href="creature_8cpp.html#a30d34b241ef54963c18a6af3b2ff3962">   79</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> <a class="code hl_variable" href="creature_8cpp.html#a30d34b241ef54963c18a6af3b2ff3962">effect_zapped</a>( <span class="stringliteral">&quot;zapped&quot;</span> );</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span> </div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="keyword">const</span> std::map&lt;std::string, m_size&gt; <a class="code hl_variable" href="classCreature.html#aa1629d099a51cc34924ff468c53be9fe">Creature::size_map</a> = {</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    {<span class="stringliteral">&quot;TINY&quot;</span>, <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614">MS_TINY</a>}, {<span class="stringliteral">&quot;SMALL&quot;</span>, <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a6a1920ba558cd6584b689f53519e9e96">MS_SMALL</a>}, {<span class="stringliteral">&quot;MEDIUM&quot;</span>, <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592aaef7580aead8b8a18bc50cb6c1f98b31">MS_MEDIUM</a>},</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    {<span class="stringliteral">&quot;LARGE&quot;</span>, <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a50d9f673ed0348953b2715fa33683791">MS_LARGE</a>}, {<span class="stringliteral">&quot;HUGE&quot;</span>, <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9">MS_HUGE</a>}</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>};</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span> </div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="keyword">const</span> std::set&lt;material_id&gt; <a class="code hl_variable" href="classCreature.html#a81c28d7d1cb83a47794dbf879dede400">Creature::cmat_flesh</a>{</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;flesh&quot;</span> ), <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;iflesh&quot;</span> )</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>};</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="keyword">const</span> std::set&lt;material_id&gt; <a class="code hl_variable" href="classCreature.html#aab3ed00f0b1635fcb5efaa93cf3f8336">Creature::cmat_fleshnveg</a>{</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;flesh&quot;</span> ),  <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;iflesh&quot;</span> ), <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;veggy&quot;</span> )</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>};</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="keyword">const</span> std::set&lt;material_id&gt; <a class="code hl_variable" href="classCreature.html#a48bb40fe4132a49d95f26611d7c622a6">Creature::cmat_flammable</a>{</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;paper&quot;</span> ), <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;powder&quot;</span> ), <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;wood&quot;</span> ),</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;cotton&quot;</span> ), <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;wool&quot;</span> )</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>};</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="keyword">const</span> std::set&lt;material_id&gt; <a class="code hl_variable" href="classCreature.html#ac5fa405fe6d75e0298051ab413cdfac1">Creature::cmat_flameres</a>{</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;stone&quot;</span> ), <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;kevlar&quot;</span> ), <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;steel&quot;</span> )</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>};</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span> </div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno"><a class="line" href="classCreature.html#a597cc3b08ee17de46c3e7ec3cf0d9b58">  100</a></span><a class="code hl_function" href="classCreature.html#a597cc3b08ee17de46c3e7ec3cf0d9b58">Creature::Creature</a>()</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>{</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = 0;</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <a class="code hl_variable" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> = 0;</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <a class="code hl_variable" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <a class="code hl_variable" href="classCreature.html#a4d6cd41ef532de75cb9bb2aadcc68f06">speed_base</a> = 100;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <a class="code hl_variable" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    <a class="code hl_function" href="classCreature.html#ac17b598158d47e40713408e8c88b20b4">Creature::reset_bonuses</a>();</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> </div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <a class="code hl_variable" href="classCreature.html#a5f0f94b1cc3a6759e79c7ffc07c3b0b8">fake</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>}</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span><a class="code hl_function" href="classCreature.html#aa991b23f4813fbdb6f875204ed49814d">Creature::~Creature</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span> </div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno"><a class="line" href="classCreature.html#abd9af93b322d04729ae5e81c826cbc4f">  115</a></span>std::vector&lt;std::string&gt; <a class="code hl_function" href="classCreature.html#abd9af93b322d04729ae5e81c826cbc4f">Creature::get_grammatical_genders</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="comment">// Returning empty list means we use the language-specified default</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>}</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span> </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno"><a class="line" href="classCreature.html#a24d762d37cd6bfbf98cda9b278f5ccf2">  121</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a24d762d37cd6bfbf98cda9b278f5ccf2">Creature::normalize</a>()</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>{</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>}</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span> </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno"><a class="line" href="classCreature.html#a2d8f0e96ad41fd5d962c4fdbbed9a32b">  125</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a2d8f0e96ad41fd5d962c4fdbbed9a32b">Creature::reset</a>()</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>{</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <a class="code hl_function" href="classCreature.html#ac17b598158d47e40713408e8c88b20b4">reset_bonuses</a>();</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <a class="code hl_function" href="classCreature.html#a80f8d134c689097b8137f973e7401c84">reset_stats</a>();</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>}</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="classCreature.html#a303fcc58869f10f44be1d598ed1aa26f">  131</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a303fcc58869f10f44be1d598ed1aa26f">Creature::bleed</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">field_type_id</a> &amp;blood_type = <a class="code hl_function" href="classCreature.html#a5c6d320a21d767c65c807fe563c4b2c9">bloodType</a>();</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="keywordflow">if</span>( blood_type ) {</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>        <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>().<a class="code hl_function" href="classmap.html#a78a575384ef025ebc3bc5f29bdfb0bb1">add_splatter</a>( blood_type, <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>() );</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    }</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>}</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span> </div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno"><a class="line" href="classCreature.html#ac17b598158d47e40713408e8c88b20b4">  139</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#ac17b598158d47e40713408e8c88b20b4">Creature::reset_bonuses</a>()</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>{</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <a class="code hl_variable" href="classCreature.html#a69db025e34e82c34b56df73f56965350">num_blocks</a> = 1;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    <a class="code hl_variable" href="classCreature.html#a360b7ab7279423ee61b38d433ba338fd">num_dodges</a> = 1;</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <a class="code hl_variable" href="classCreature.html#ad773414b7104cae9ac1df7404528a956">num_blocks_bonus</a> = 0;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    <a class="code hl_variable" href="classCreature.html#a4945480df006184bdaf4b5b41ba976ea">num_dodges_bonus</a> = 0;</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <a class="code hl_variable" href="classCreature.html#ac168f97cc5268464cb3682f43de4d930">armor_bash_bonus</a> = 0;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <a class="code hl_variable" href="classCreature.html#a528da8d40c63bf838c55adcaad40651e">armor_cut_bonus</a> = 0;</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <a class="code hl_variable" href="classCreature.html#a4ebc73e7d9d10c69c542d88edeea06b3">armor_bullet_bonus</a> = 0;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span> </div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    <a class="code hl_variable" href="classCreature.html#ae668a71c7a468fe4753374d3d51481bb">speed_bonus</a> = 0;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    <a class="code hl_variable" href="classCreature.html#adbb994679f77dfa6b446c0d36961c6a2">dodge_bonus</a> = 0;</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <a class="code hl_variable" href="classCreature.html#ab0206ab4bdb7c990e917cb5240d2a470">block_bonus</a> = 0;</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>    <a class="code hl_variable" href="classCreature.html#a7bb35215732acc025692d329fb3e2e13">hit_bonus</a> = 0;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>}</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno"><a class="line" href="classCreature.html#a28d410ab38e30292e266188c1b95cae5">  156</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a28d410ab38e30292e266188c1b95cae5">Creature::process_turn</a>()</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>{</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#ab4c318885f6b9947a7c85d3328d25ffe">is_dead_state</a>() ) {</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    }</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    <a class="code hl_function" href="classCreature.html#ac17b598158d47e40713408e8c88b20b4">reset_bonuses</a>();</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span> </div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <a class="code hl_function" href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6">process_effects</a>();</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span> </div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="comment">// Call this in case any effects have changed our stats</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    <a class="code hl_function" href="classCreature.html#a80f8d134c689097b8137f973e7401c84">reset_stats</a>();</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span> </div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="comment">// add an appropriate number of moves</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a> ) ) {</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>        <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> += <a class="code hl_function" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">get_speed</a>();</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    }</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>}</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span> </div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno"><a class="line" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">  174</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">Creature::is_underwater</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a0a561860988a2692df47476d9a15511e">underwater</a>;</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>}</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span> </div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno"><a class="line" href="classCreature.html#a4e137a55dbbe37b9656e64f2547cf8da">  179</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#a4e137a55dbbe37b9656e64f2547cf8da">Creature::digging</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>}</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno"><a class="line" href="classCreature.html#a6a4c43d66f5a8b50a879d78682b00976">  184</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#a6a4c43d66f5a8b50a879d78682b00976">Creature::is_dangerous_fields</a>( <span class="keyword">const</span> <a class="code hl_class" href="classfield.html">field</a> &amp;fld )<span class="keyword"> const</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="comment">// Else check each field to see if it&#39;s dangerous to us</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;dfield : fld ) {</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#af5c36ca5b43c92f6cb02afb52a448372">is_dangerous_field</a>( dfield.second ) ) {</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>        }</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    }</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <span class="comment">// No fields were found to be dangerous, so the field set isn&#39;t dangerous</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>}</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno"><a class="line" href="classCreature.html#af5c36ca5b43c92f6cb02afb52a448372">  196</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#af5c36ca5b43c92f6cb02afb52a448372">Creature::is_dangerous_field</a>( <span class="keyword">const</span> <a class="code hl_class" href="classfield__entry.html">field_entry</a> &amp;entry )<span class="keyword"> const</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    <span class="comment">// If it&#39;s dangerous and we&#39;re not immune return true, else return false</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <span class="keywordflow">return</span> entry.<a class="code hl_function" href="classfield__entry.html#a40f3c28e4f11b4f4e0eb0414f0fbd73b">is_dangerous</a>() &amp;&amp; !<a class="code hl_function" href="classCreature.html#a090f59402eea6b1605cbfa5c2b2ac77c">is_immune_field</a>( entry.<a class="code hl_function" href="classfield__entry.html#af76e247514edaeed4bdc58638bfa0ae1">get_field_type</a>() );</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>}</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno"><a class="line" href="classCreature.html#ab42d5d429a5599b7f80906394c1236e5">  202</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#ab42d5d429a5599b7f80906394c1236e5">Creature::sees</a>( <span class="keyword">const</span> <a class="code hl_class" href="classCreature.html">Creature</a> &amp;critter )<span class="keyword"> const</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <span class="comment">// Creatures always see themselves (simplifies drawing).</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <span class="keywordflow">if</span>( &amp;critter == <span class="keyword">this</span> ) {</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    }</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span> </div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    <span class="keywordflow">if</span>( critter.<a class="code hl_function" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">is_hallucination</a>() ) {</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>        <span class="comment">// hallucinations are imaginations of the player character, npcs or monsters don&#39;t hallucinate.</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>        <span class="comment">// Invisible hallucinations would be pretty useless (nobody would see them at all), therefor</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>        <span class="comment">// the player will see them always.</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#a1217a190a2e561227e831a72d4a6d390">is_player</a>();</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    }</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span> </div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="cached__options_8cpp.html#a1eedced6e405cd87cabd19fdd193de43">fov_3d</a> &amp;&amp; !<a class="code hl_variable" href="cached__options_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a> &amp;&amp; <a class="code hl_function" href="classCreature.html#a3a3ada596854cf8084b3a728b633a9db">posz</a>() != critter.<a class="code hl_function" href="classCreature.html#a3a3ada596854cf8084b3a728b633a9db">posz</a>() ) {</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    }</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span> </div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <span class="comment">// This check is ridiculously expensive so defer it to after everything else.</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <span class="keyword">auto</span> visible = []( <span class="keyword">const</span> <a class="code hl_class" href="classCharacter.html">Character</a> * ch ) {</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>        <span class="keywordflow">return</span> ch == <span class="keyword">nullptr</span> || !ch-&gt;is_invisible();</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    };</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span> </div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <span class="keyword">const</span> <a class="code hl_class" href="classCharacter.html">Character</a> *ch = critter.<a class="code hl_function" href="classCreature.html#a0b1213e6230bbb58a598b6f90f76b74c">as_character</a>();</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> wanted_range = <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>(), critter.<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>() );</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="comment">// Can always see adjacent monsters on the same level, unless they&#39;re through a vehicle wall.</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="comment">// We also bypass lighting for vertically adjacent monsters, but still check for floors.</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <span class="keywordflow">if</span>( wanted_range &lt;= 1 &amp;&amp; ( <a class="code hl_function" href="classCreature.html#a3a3ada596854cf8084b3a728b633a9db">posz</a>() == critter.<a class="code hl_function" href="classCreature.html#a3a3ada596854cf8084b3a728b633a9db">posz</a>() || here.<a class="code hl_function" href="classmap.html#a291e3c90746d24dabba01954fde977d7">sees</a>( <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>(), critter.<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>(), 1 ) ) ) {</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>        <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#a35d1fae9a4e36858c4317f4fbd997272">obscured_by_vehicle_rotation</a>( <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>(), critter.<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>() ) ) {</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>        }</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        <span class="keywordflow">return</span> visible( ch );</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ( wanted_range &gt; 1 &amp;&amp; critter.<a class="code hl_function" href="classCreature.html#a4e137a55dbbe37b9656e64f2547cf8da">digging</a>() ) ||</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>               ( critter.<a class="code hl_function" href="classCreature.html#a993e0edf9322ff4aba71a9a3a4f5485c">has_flag</a>( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a29ce8d7831b8ff0d819d93f1a01b8582">MF_NIGHT_INVISIBILITY</a> ) &amp;&amp; here.<a class="code hl_function" href="classmap.html#a40876da830d622a5ff5ed547bb320e1b">light_at</a>( critter.<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>() ) &lt;= <a class="code hl_enumvalue" href="lightmap_8h.html#aeb9bbbd65db85e3561729666fb6c7b38a41bc94cbd8eebea13ce0491b2ac11b88">lit_level::LOW</a> ) ||</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>               ( critter.<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() &amp;&amp; !<a class="code hl_function" href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">is_underwater</a>() &amp;&amp; here.<a class="code hl_function" href="classmap.html#ab687d9988b59167571f5476882b24206">is_divable</a>( critter.<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>() ) ) ||</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>               ( here.<a class="code hl_function" href="classmap.html#a516c0764134cc86b57297811520395f7">has_flag_ter_or_furn</a>( <a class="code hl_enumvalue" href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258a1786b80153407de19da7cedf520f41cb">TFLAG_HIDE_PLACE</a>, critter.<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>() ) &amp;&amp;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>                 !( std::abs( <a class="code hl_function" href="classCreature.html#af712029844aef7ebc7af88a9242e2df0">posx</a>() - critter.<a class="code hl_function" href="classCreature.html#af712029844aef7ebc7af88a9242e2df0">posx</a>() ) &lt;= 1 &amp;&amp; std::abs( <a class="code hl_function" href="classCreature.html#a1be20ab434ada66748d5b62fcfdbd5e4">posy</a>() - critter.<a class="code hl_function" href="classCreature.html#a1be20ab434ada66748d5b62fcfdbd5e4">posy</a>() ) &lt;= 1 &amp;&amp;</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>                    std::abs( <a class="code hl_function" href="classCreature.html#a3a3ada596854cf8084b3a728b633a9db">posz</a>() - critter.<a class="code hl_function" href="classCreature.html#a3a3ada596854cf8084b3a728b633a9db">posz</a>() ) &lt;= 1 ) ) ) {</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    }</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    <span class="keywordflow">if</span>( ch != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>        <span class="keywordflow">if</span>( ch-&gt;<a class="code hl_function" href="classCharacter.html#a2ef8afad4fda9a0346b3852e4d9c3600">movement_mode_is</a>( <a class="code hl_enumvalue" href="character_8h.html#af749573d20b6327d21f9588ebdd5b19baa1885f8602d8a35017c4a310ed64e62b">CMM_CROUCH</a> ) ) {</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> coverage = here.<a class="code hl_function" href="classmap.html#a2f68bd10c5c8670061f9da7576d45879">obstacle_coverage</a>( <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>(), critter.<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>() );</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>            <span class="keywordflow">if</span>( coverage &lt; 30 ) {</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#ab42d5d429a5599b7f80906394c1236e5">sees</a>( critter.<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>(), critter.<a class="code hl_function" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) &amp;&amp; visible( ch );</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>            }</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>            <span class="keywordtype">float</span> size_modifier = 1.0;</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>            <span class="keywordflow">switch</span>( ch-&gt;<a class="code hl_function" href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">get_size</a>() ) {</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614">MS_TINY</a>:</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>                    size_modifier = 2.0;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a6a1920ba558cd6584b689f53519e9e96">MS_SMALL</a>:</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>                    size_modifier = 1.4;</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592aaef7580aead8b8a18bc50cb6c1f98b31">MS_MEDIUM</a>:</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a50d9f673ed0348953b2715fa33683791">MS_LARGE</a>:</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>                    size_modifier = 0.6;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9">MS_HUGE</a>:</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>                    size_modifier = 0.15;</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>            }</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> vision_modifier = 30 - 0.5 * coverage * size_modifier;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>            <span class="keywordflow">if</span>( vision_modifier &gt; 1 ) {</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#ab42d5d429a5599b7f80906394c1236e5">sees</a>( critter.<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>(), critter.<a class="code hl_function" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>(), vision_modifier ) &amp;&amp; visible( ch );</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>            }</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        }</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    }</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#ab42d5d429a5599b7f80906394c1236e5">sees</a>( critter.<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>(), critter.<a class="code hl_function" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a>() ) &amp;&amp; visible( ch );</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>}</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span> </div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno"><a class="line" href="classCreature.html#a27fff88bfad76aff38b190676b694482">  278</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#ab42d5d429a5599b7f80906394c1236e5">Creature::sees</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;t, <span class="keywordtype">bool</span> is_avatar, <span class="keywordtype">int</span> range_mod )<span class="keyword"> const</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    <span class="keywordflow">if</span>( !<a class="code hl_variable" href="cached__options_8cpp.html#a1eedced6e405cd87cabd19fdd193de43">fov_3d</a> &amp;&amp; <a class="code hl_function" href="classCreature.html#a3a3ada596854cf8084b3a728b633a9db">posz</a>() != t.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) {</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    }</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> range_cur = <a class="code hl_function" href="classCreature.html#aa7018efde7dddbb71b70fd93c32fe5a6">sight_range</a>( here.<a class="code hl_function" href="classmap.html#a47284179cd831f04aaa7ff3242a5fb7b">ambient_light_at</a>( t ) );</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> range_day = <a class="code hl_function" href="classCreature.html#aa7018efde7dddbb71b70fd93c32fe5a6">sight_range</a>( <a class="code hl_function" href="calendar_8cpp.html#aaf7cb0e1d64b92af65e14538a7e97674">default_daylight_level</a>() );</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> range_night = <a class="code hl_function" href="classCreature.html#aa7018efde7dddbb71b70fd93c32fe5a6">sight_range</a>( 0 );</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> range_max = std::max( range_day, range_night );</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> range_min = std::min( range_cur, range_max );</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> wanted_range = <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>(), t );</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>    <span class="keywordflow">if</span>( wanted_range &lt;= range_min ||</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        ( wanted_range &lt;= range_max &amp;&amp;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>          here.<a class="code hl_function" href="classmap.html#a47284179cd831f04aaa7ff3242a5fb7b">ambient_light_at</a>( t ) &gt; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;natural_light_level( t.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) ) ) {</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        <span class="keywordtype">int</span> range = 0;</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <span class="keywordflow">if</span>( here.<a class="code hl_function" href="classmap.html#a47284179cd831f04aaa7ff3242a5fb7b">ambient_light_at</a>( t ) &gt; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;natural_light_level( t.<a class="code hl_variable" href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">z</a> ) ) {</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>            range = <a class="code hl_variable" href="game__constants_8h.html#a745392436b19cce3012d4d8dc0fe422c">MAX_VIEW_DISTANCE</a>;</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>            range = range_min;</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        }</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#af079f6d5681dabcbc1c4ee804c0ba556">effect_no_sight</a> ) ) {</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>            range = 1;</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>        }</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>        <span class="keywordflow">if</span>( range_mod &gt; 0 ) {</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>            range = std::min( range, range_mod );</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>        }</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">is_avatar</a> ) {</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>            <span class="comment">// Special case monster -&gt; player visibility, forcing it to be symmetric with player vision.</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> player_visibility_factor = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.visibility() / 100.0f;</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>            <span class="keywordtype">int</span> adj_range = std::floor( range * player_visibility_factor );</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>            <span class="keywordflow">return</span> adj_range &gt;= wanted_range &amp;&amp;</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>                   here.<a class="code hl_function" href="classmap.html#ad969a92f39f92552ab4f177cd0faea55">get_cache_ref</a>( <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>().z ).<a class="code hl_variable" href="structlevel__cache.html#a0d5b0df13e2b5fe817a458be44546219">seen_cache</a>[<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>().<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a>][<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>().<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>] &gt; <a class="code hl_variable" href="lightmap_8h.html#af20a076fb00e8f5ee28db8f5c302914e">LIGHT_TRANSPARENCY_SOLID</a>;</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>            <span class="keywordflow">return</span> here.<a class="code hl_function" href="classmap.html#a291e3c90746d24dabba01954fde977d7">sees</a>( <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>(), t, range );</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>        }</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    }</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>}</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span><span class="comment">// Helper function to check if potential area of effect of a weapon overlaps vehicle</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span><span class="comment">// Maybe TODO: If this is too slow, precalculate a bounding box and clip the tested area to it</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno"><a class="line" href="creature_8cpp.html#add935ef55b63a9bd124cf2410ab40749">  322</a></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="creature_8cpp.html#add935ef55b63a9bd124cf2410ab40749">overlaps_vehicle</a>( <span class="keyword">const</span> std::set&lt;tripoint&gt; &amp;veh_area, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;pos,</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>                              <span class="keyword">const</span> <span class="keywordtype">int</span> area )</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>{</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;tmp : <a class="code hl_class" href="classtripoint__range.html">tripoint_range&lt;tripoint&gt;</a>( pos - <a class="code hl_struct" href="structtripoint.html">tripoint</a>( area, area, 0 ),</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>            pos + <a class="code hl_struct" href="structtripoint.html">tripoint</a>( area - 1, area - 1, 0 ) ) ) {</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>        <span class="keywordflow">if</span>( veh_area.count( tmp ) &gt; 0 ) {</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>        }</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    }</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span> </div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>}</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span> </div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno"><a class="line" href="classCreature.html#abb91e1cd5610658124d40623e7e4d698">  335</a></span><a class="code hl_class" href="classCreature.html">Creature</a> *<a class="code hl_function" href="classCreature.html#abb91e1cd5610658124d40623e7e4d698">Creature::auto_find_hostile_target</a>( <span class="keywordtype">int</span> range, <span class="keywordtype">int</span> &amp;boo_hoo, <span class="keywordtype">int</span> area )</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>{</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <a class="code hl_class" href="classCreature.html">Creature</a> *target = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    <a class="code hl_class" href="classplayer.html">player</a> &amp;u = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u; <span class="comment">// Could easily protect something that isn&#39;t the player</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>    <span class="keyword">constexpr</span> <span class="keywordtype">int</span> hostile_adj = 2; <span class="comment">// Priority bonus for hostile targets</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> iff_dist = ( range + area ) * 3 / 2 + 6; <span class="comment">// iff check triggers at this distance</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    <span class="comment">// iff safety margin (degrees). less accuracy, more paranoia</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::angle</a> iff_hangle = <a class="code hl_function" href="namespaceunits.html#a068cd98efba5fd1fbb936ce3597db23d">units::from_degrees</a>( 15 + area );</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    <span class="keywordtype">float</span> best_target_rating = -1.0f; <span class="comment">// bigger is better</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::angle</a> u_angle = {};         <span class="comment">// player angle relative to turret</span></div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>    boo_hoo = 0;         <span class="comment">// how many targets were passed due to IFF. Tragically.</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>    <span class="keywordtype">bool</span> self_area_iff = <span class="keyword">false</span>; <span class="comment">// Need to check if the target is near the vehicle we&#39;re a part of</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    <span class="keywordtype">bool</span> area_iff = <span class="keyword">false</span>;      <span class="comment">// Need to check distance from target to player</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    <span class="keywordtype">bool</span> angle_iff = <span class="keyword">true</span>;      <span class="comment">// Need to check if player is in a cone between us and target</span></div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    <span class="keywordtype">int</span> pldist = <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>(), <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.pos() );</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    <a class="code hl_class" href="classmap.html">map</a> &amp;here = <a class="code hl_function" href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a>();</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    <a class="code hl_class" href="classvehicle.html">vehicle</a> *in_veh = <a class="code hl_function" href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">is_fake</a>() ? <a class="code hl_function" href="vpart__position_8h.html#a67bd76da258293f1443f1356308381dc">veh_pointer_or_null</a>( here.<a class="code hl_function" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>() ) ) : <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    <span class="keywordflow">if</span>( pldist &lt; iff_dist &amp;&amp; <a class="code hl_function" href="classCreature.html#ab42d5d429a5599b7f80906394c1236e5">sees</a>( <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u ) ) {</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>        area_iff = area &gt; 0;</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>        angle_iff = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>        <span class="comment">// Player inside vehicle won&#39;t be hit by shots from the roof,</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>        <span class="comment">// so we can fire &quot;through&quot; them just fine.</span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = here.<a class="code hl_function" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( u.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>        <span class="keywordflow">if</span>( in_veh &amp;&amp; <a class="code hl_function" href="vpart__position_8h.html#a67bd76da258293f1443f1356308381dc">veh_pointer_or_null</a>( vp ) == in_veh &amp;&amp; vp-&gt;is_inside() ) {</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>            angle_iff = <span class="keyword">false</span>; <span class="comment">// No angle IFF, but possibly area IFF</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( pldist &lt; 3 ) {</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>            <span class="comment">// granularity increases with proximity</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>            iff_hangle = ( pldist == 2 ? 30_degrees : 60_degrees );</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>        }</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>        u_angle = <a class="code hl_function" href="line_8cpp.html#a22f984836636053038f43340f9c50149">coord_to_angle</a>( <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>(), u.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>() );</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    }</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span> </div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    <span class="keywordflow">if</span>( area &gt; 0 &amp;&amp; in_veh != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>        self_area_iff = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>    }</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span> </div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    std::vector&lt;Creature *&gt; targets = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;get_creatures_if( [&amp;]( <span class="keyword">const</span> <a class="code hl_class" href="classCreature.html">Creature</a> &amp; critter ) {</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>        <span class="keywordflow">if</span>( critter.<a class="code hl_function" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a>() ) {</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>            <span class="comment">// friendly to the player, not a target for us</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>            return static_cast&lt;const monster *&gt;( &amp;critter )-&gt;friendly == 0;</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>        }</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>        <span class="keywordflow">if</span>( critter.<a class="code hl_function" href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">is_npc</a>() ) {</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>            <span class="comment">// friendly to the player, not a target for us</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>            return static_cast&lt;const npc *&gt;( &amp;critter )-&gt;get_attitude() == NPCATT_KILL;</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>        }</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>        <span class="comment">// TODO: what about g-&gt;u?</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    } );</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;m : targets ) {</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>        <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCreature.html#ab42d5d429a5599b7f80906394c1236e5">sees</a>( *m ) ) {</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>            <span class="comment">// can&#39;t see nor sense it</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">is_fake</a>() &amp;&amp; in_veh ) {</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>                <span class="comment">// If turret in the vehicle then</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>                <span class="comment">// Hack: trying yo avoid turret LOS blocking by frames bug by trying to see target from vehicle boundary</span></div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>                <span class="comment">// Or turret wallhack for turret&#39;s car</span></div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>                <span class="comment">// TODO: to visibility checking another way, probably using 3D FOV</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>                std::vector&lt;tripoint&gt; path_to_target = <a class="code hl_function" href="coordinates_8h.html#a4a34f7ffa4c18effba7f8239c68c8738">line_to</a>( <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>(), m-&gt;pos() );</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>                path_to_target.insert( path_to_target.begin(), <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>() );</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span> </div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>                <span class="comment">// Getting point on vehicle boundaries and on line between target and turret</span></div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>                <span class="keywordtype">bool</span> continueFlag = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>                <span class="keywordflow">do</span> {</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>                    <span class="keyword">const</span> <a class="code hl_class" href="classoptional__vpart__position.html">optional_vpart_position</a> vp = here.<a class="code hl_function" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( path_to_target.back() );</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>                    <a class="code hl_class" href="classvehicle.html">vehicle</a> *<span class="keyword">const</span> veh = vp ? &amp;vp-&gt;vehicle() : <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>                    <span class="keywordflow">if</span>( in_veh == veh ) {</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>                        continueFlag = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>                        path_to_target.pop_back();</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>                    }</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>                } <span class="keywordflow">while</span>( continueFlag );</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span> </div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>                <a class="code hl_struct" href="structtripoint.html">tripoint</a> oldPos = <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>();</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>                <a class="code hl_function" href="classCreature.html#a7f9ce537b830a5f0474c001d295c0a77">setpos</a>( path_to_target.back() ); <span class="comment">//Temporary moving targeting npc on vehicle boundary postion</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>                <span class="keywordtype">bool</span> seesFromVehBound = <a class="code hl_function" href="classCreature.html#ab42d5d429a5599b7f80906394c1236e5">sees</a>( *m ); <span class="comment">// And look from there</span></div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>                <a class="code hl_function" href="classCreature.html#a7f9ce537b830a5f0474c001d295c0a77">setpos</a>( oldPos );</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>                <span class="keywordflow">if</span>( !seesFromVehBound ) {</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>                }</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>            }</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>        }</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>        <span class="keywordtype">int</span> dist = <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>(), m-&gt;pos() ) + 1; <span class="comment">// rl_dist can be 0</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>        <span class="keywordflow">if</span>( dist &gt; range + 1 || dist &lt; area ) {</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>            <span class="comment">// Too near or too far</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>        }</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>        <span class="comment">// Prioritize big, armed and hostile stuff</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>        <span class="keywordtype">float</span> mon_rating = m-&gt;power_rating();</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>        <span class="keywordtype">float</span> target_rating = mon_rating / dist;</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>        <span class="keywordflow">if</span>( mon_rating + hostile_adj &lt;= 0 ) {</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>            <span class="comment">// We wouldn&#39;t attack it even if it was hostile</span></div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>        }</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>        <span class="keywordflow">if</span>( in_veh != <span class="keyword">nullptr</span> &amp;&amp; <a class="code hl_function" href="vpart__position_8h.html#a67bd76da258293f1443f1356308381dc">veh_pointer_or_null</a>( here.<a class="code hl_function" href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">veh_at</a>( m-&gt;pos() ) ) == in_veh ) {</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>            <span class="comment">// No shooting stuff on vehicle we&#39;re a part of</span></div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>        }</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>        <span class="keywordflow">if</span>( area_iff &amp;&amp; <a class="code hl_function" href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a>( u.<a class="code hl_function" href="classCharacter.html#ad24859164517ed6e392e21df69527199">pos</a>(), m-&gt;pos() ) &lt;= area ) {</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>            <span class="comment">// Player in AoE</span></div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>            boo_hoo++;</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>        }</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>        <span class="comment">// Hostility check can be expensive, but we need to inform the player of boo_hoo</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>        <span class="comment">// only when the target is actually &quot;hostile enough&quot;</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>        <span class="keywordtype">bool</span> maybe_boo = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>        <span class="keywordflow">if</span>( angle_iff ) {</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>            <a class="code hl_class" href="classunits_1_1quantity.html">units::angle</a> tangle = <a class="code hl_function" href="line_8cpp.html#a22f984836636053038f43340f9c50149">coord_to_angle</a>( <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>(), m-&gt;pos() );</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>            <a class="code hl_class" href="classunits_1_1quantity.html">units::angle</a> diff = <a class="code hl_function" href="namespaceunits.html#a0b9218914b883c6c31f5af68deaafc2e">units::fabs</a>( u_angle - tangle );</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>            <span class="comment">// Player is in the angle and not too far behind the target</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>            <span class="keywordflow">if</span>( ( diff + iff_hangle &gt; 360_degrees || diff &lt; iff_hangle ) &amp;&amp;</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>                ( dist * 3 / 2 + 6 &gt; pldist ) ) {</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>                maybe_boo = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>            }</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>        }</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>        <span class="keywordflow">if</span>( !maybe_boo &amp;&amp; ( ( mon_rating + hostile_adj ) / dist &lt;= best_target_rating ) ) {</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>            <span class="comment">// &quot;Would we skip the target even if it was hostile?&quot;</span></div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>            <span class="comment">// Helps avoid (possibly expensive) attitude calculation</span></div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>        }</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>        <span class="keywordflow">if</span>( m-&gt;attitude_to( u ) == <a class="code hl_enumvalue" href="classCreature.html#a8a475630b3289c468bd06cf114008217a8972817fc4b645a5fee948a7ab4d3cc2">A_HOSTILE</a> ) {</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>            target_rating = ( mon_rating + hostile_adj ) / dist;</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>            <span class="keywordflow">if</span>( maybe_boo ) {</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>                boo_hoo++;</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>            }</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>        }</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>        <span class="keywordflow">if</span>( target_rating &lt;= best_target_rating || target_rating &lt;= 0 ) {</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>            <span class="keywordflow">continue</span>; <span class="comment">// Handle this late so that boo_hoo++ can happen</span></div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>        }</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>        <span class="comment">// Expensive check for proximity to vehicle</span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>        <span class="keywordflow">if</span>( self_area_iff &amp;&amp; <a class="code hl_function" href="creature_8cpp.html#add935ef55b63a9bd124cf2410ab40749">overlaps_vehicle</a>( in_veh-&gt;<a class="code hl_function" href="classvehicle.html#a2e80dafb2c03147b569688658843d9d6">get_points</a>(), m-&gt;pos(), area ) ) {</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>        }</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span> </div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>        target = m;</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>        best_target_rating = target_rating;</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    }</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>    <span class="keywordflow">return</span> target;</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>}</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span> </div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span><span class="comment">/*</span></div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span><span class="comment"> * Damage-related functions</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span><span class="comment"> */</span></div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span> </div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno"><a class="line" href="classCreature.html#a6748055fb3a5922e1fa55c4214aff48f">  481</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a6748055fb3a5922e1fa55c4214aff48f">Creature::size_melee_penalty</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>    <span class="keywordflow">switch</span>( <a class="code hl_function" href="classCreature.html#ab4c5777adaad4601b9ca17330371f5b7">get_size</a>() ) {</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614">MS_TINY</a>:</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>            <span class="keywordflow">return</span> 30;</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a6a1920ba558cd6584b689f53519e9e96">MS_SMALL</a>:</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>            <span class="keywordflow">return</span> 15;</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592aaef7580aead8b8a18bc50cb6c1f98b31">MS_MEDIUM</a>:</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a50d9f673ed0348953b2715fa33683791">MS_LARGE</a>:</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>            <span class="keywordflow">return</span> -10;</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9">MS_HUGE</a>:</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>            <span class="keywordflow">return</span> -20;</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    }</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span> </div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>    <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid target size %d&quot;</span>, <a class="code hl_function" href="classCreature.html#ab4c5777adaad4601b9ca17330371f5b7">get_size</a>() );</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>}</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span> </div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno"><a class="line" href="classCreature.html#a2ed7b87167039b2cf0ecb2464d62f802">  502</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a2ed7b87167039b2cf0ecb2464d62f802">Creature::deal_melee_attack</a>( <a class="code hl_class" href="classCreature.html">Creature</a> *source, <span class="keywordtype">int</span> hitroll )</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>{</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    <span class="keywordtype">int</span> hit_spread = hitroll - <a class="code hl_function" href="classCreature.html#a42219e0586db47a50f06e3ce2865dbf6">dodge_roll</a>() - <a class="code hl_function" href="classCreature.html#a6748055fb3a5922e1fa55c4214aff48f">size_melee_penalty</a>();</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a993e0edf9322ff4aba71a9a3a4f5485c">has_flag</a>( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842ab8381921cabe58625339ccac27dc3cd9">MF_IMMOBILE</a> ) ) {</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        <span class="comment">// Under normal circumstances, even a clumsy person would</span></div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>        <span class="comment">// not miss a turret.  It should, however, be possible to</span></div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>        <span class="comment">// miss a smaller target, especially when wielding a</span></div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>        <span class="comment">// clumsy weapon or when severely encumbered.</span></div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>        hit_spread += 40;</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    }</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span> </div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>    <span class="comment">// If attacker missed call targets on_dodge event</span></div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    <span class="keywordflow">if</span>( hit_spread &lt;= 0 &amp;&amp; source != nullptr &amp;&amp; !source-&gt;<a class="code hl_function" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">is_hallucination</a>() ) {</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>        <a class="code hl_function" href="classCreature.html#af56188882e3300853d18f166738ee37a">on_dodge</a>( source, source-&gt;<a class="code hl_function" href="classCreature.html#ad8810c3abed9b6a4f0705fd9be466e33">get_melee</a>() );</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    }</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span> </div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    <span class="keywordflow">return</span> hit_spread;</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>}</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span> </div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno"><a class="line" href="classCreature.html#a8442db1f510ee1da550ac8bf4b3675a0">  521</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a8442db1f510ee1da550ac8bf4b3675a0">Creature::deal_melee_hit</a>( <a class="code hl_class" href="classCreature.html">Creature</a> *source, <span class="keywordtype">int</span> hit_spread, <span class="keywordtype">bool</span> critical_hit,</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>                               <span class="keyword">const</span> <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> &amp;dam, <a class="code hl_struct" href="structdealt__damage__instance.html">dealt_damage_instance</a> &amp;dealt_dam )</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>{</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    <span class="keywordflow">if</span>( source == <span class="keyword">nullptr</span> || source-&gt;<a class="code hl_function" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">is_hallucination</a>() ) {</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>        dealt_dam.<a class="code hl_variable" href="structdealt__damage__instance.html#ad39dc827923ad7b203f2061134ed1db1">bp_hit</a> = <a class="code hl_typedef" href="anatomy_8h.html#a1ed57b4e8ea6d9a0e43d3bbb59750771">anatomy_id</a>( <span class="stringliteral">&quot;human_anatomy&quot;</span> )-&gt;<a class="code hl_function" href="classanatomy.html#abae9f237437b7f56f5efbd6983706324">random_body_part</a>()-&gt;token;</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    }</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>    <span class="comment">// If carrying a rider, there is a chance the hits may hit rider instead.</span></div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    <span class="comment">// melee attack will start off as targeted at mount</span></div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a> ) ) {</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>        <a class="code hl_class" href="classmonster.html">monster</a> *mons = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">&gt;</span>( this );</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>        <span class="keywordflow">if</span>( mons &amp;&amp; mons-&gt;<a class="code hl_variable" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a> ) {</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>            <span class="keywordflow">if</span>( !mons-&gt;<a class="code hl_function" href="classmonster.html#a0315651e596e69f0626b30e081726596">has_flag</a>( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842af91c5e1f99c06d67e9def13a16cc8b72">MF_MECH_DEFENSIVE</a> ) &amp;&amp;</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>                <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( std::max( 2, mons-&gt;<a class="code hl_function" href="classmonster.html#a4c251cc737554fe0bde7f7e4f68b8ef5">get_size</a>() - mons-&gt;<a class="code hl_variable" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a>-&gt;<a class="code hl_function" href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">get_size</a>() ) ) ) {</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>                mons-&gt;<a class="code hl_variable" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a>-&gt;<a class="code hl_function" href="classCreature.html#a8442db1f510ee1da550ac8bf4b3675a0">deal_melee_hit</a>( source, hit_spread, critical_hit, dam, dealt_dam );</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>            }</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>        }</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>    }</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>    <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> d = dam; <span class="comment">// copy, since we will mutate in block_hit</span></div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    <a class="code hl_class" href="classint__id.html">bodypart_id</a> bp_hit = <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( <a class="code hl_function" href="classCreature.html#ad7ff6d771fb2845965d103ad8cf2ff5d">select_body_part</a>( source, hit_spread ) ).<a class="code hl_function" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>();</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    <span class="keyword">const</span> <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp_token = bp_hit-&gt;token;</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>    <a class="code hl_function" href="classCreature.html#af7c8ef39a61456810a5581a61d297b80">block_hit</a>( source, bp_hit, d );</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span> </div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    <a class="code hl_function" href="classCreature.html#a29989737d8bdd693384ee1c193ce7270">on_hit</a>( source, bp_hit ); <span class="comment">// trigger on-gethit events</span></div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>    dealt_dam = <a class="code hl_function" href="classCreature.html#a75ad96eb6ce27d3c1df250965b4de7b5">deal_damage</a>( source, bp_hit, d );</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>    dealt_dam.<a class="code hl_variable" href="structdealt__damage__instance.html#ad39dc827923ad7b203f2061134ed1db1">bp_hit</a> = bp_token;</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>}</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span> </div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespaceranged.html">ranged</a></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>{</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span> </div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno"><a class="line" href="namespaceranged.html#af042bc3e3b1ea1c57a42ee323ad284a8">  553</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="namespaceranged.html#af042bc3e3b1ea1c57a42ee323ad284a8">print_dmg_msg</a>( <a class="code hl_class" href="classCreature.html">Creature</a> &amp;target, <a class="code hl_class" href="classCreature.html">Creature</a> *source, <span class="keyword">const</span> <a class="code hl_struct" href="structdealt__damage__instance.html">dealt_damage_instance</a> &amp;dealt_dam,</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>                    <a class="code hl_enumeration" href="namespaceranged.html#a5d9da06327706ab87ae19ee9dc08de53">hit_tier</a> ht )</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>{</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>    std::string <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a>;</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>    <a class="code hl_enumeration" href="enums_8h.html#a3baf36d700701401b6baf94db93d096e">game_message_type</a> sct_color = <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>;</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>    <span class="keywordflow">switch</span>( ht ) {</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceranged.html#a5d9da06327706ab87ae19ee9dc08de53a52b0f37c2ac81918f900f3d3e6c98597">hit_tier::grazing</a>:</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>            <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Grazing hit.&quot;</span> );</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>            sct_color = <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea379f06a1968886ca7a96b103d5a628fc">m_grazing</a>;</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceranged.html#a5d9da06327706ab87ae19ee9dc08de53afea087517c26fadd409bd4b9dc642555">hit_tier::normal</a>:</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespaceranged.html#a5d9da06327706ab87ae19ee9dc08de53a7e85bcb66fb9a809d5ab4f62a8b8bea8">hit_tier::critical</a>:</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>            <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a> = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Critical!&quot;</span> );</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>            sct_color = <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea8663170a60ff438f4ba2ab98a1e6d6b5">m_critical</a>;</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>    }</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span> </div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>    <span class="keywordflow">if</span>( source != <span class="keyword">nullptr</span> &amp;&amp; !<a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a>.empty() ) {</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>        source-&gt;<a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a> );</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>    }</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span> </div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    <span class="keywordflow">if</span>( dealt_dam.<a class="code hl_function" href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">total_damage</a>() == 0 ) {</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>        <span class="comment">//~ 1$ - monster name, 2$ - character&#39;s bodypart or monster&#39;s skin/armor</span></div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The shot reflects off %1$s %2$s!&quot;</span> ), target.<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>( <span class="keyword">true</span> ),</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>                 ( target.<a class="code hl_function" href="classCreature.html#a07012d6d1998068bef112510c7424374">is_monster</a>() || dealt_dam.<a class="code hl_variable" href="structdealt__damage__instance.html#ad39dc827923ad7b203f2061134ed1db1">bp_hit</a> == <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> ) ?</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>                 target.<a class="code hl_function" href="classCreature.html#a490503cd007e206dcd23fd8457017793">skin_name</a>() :</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>                 <a class="code hl_function" href="bodypart_8cpp.html#ab29c0bad9828b787ace4d04a5e951c6b">body_part_name_accusative</a>( dealt_dam.<a class="code hl_variable" href="structdealt__damage__instance.html#ad39dc827923ad7b203f2061134ed1db1">bp_hit</a> ) );</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( target.<a class="code hl_function" href="classCreature.html#a1217a190a2e561227e831a72d4a6d390">is_player</a>() ) {</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>        <span class="comment">//monster hits player ranged</span></div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>        <span class="comment">//~ Hit message. 1$s is bodypart name in accusative. 2$d is damage value.</span></div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>        target.<a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You were hit in the %1$s for %2$d damage.&quot;</span> ),</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>                                  <a class="code hl_function" href="bodypart_8cpp.html#ab29c0bad9828b787ace4d04a5e951c6b">body_part_name_accusative</a>( dealt_dam.<a class="code hl_variable" href="structdealt__damage__instance.html#ad39dc827923ad7b203f2061134ed1db1">bp_hit</a> ),</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>                                  dealt_dam.<a class="code hl_function" href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">total_damage</a>() );</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( source != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>        <span class="keywordflow">if</span>( source-&gt;<a class="code hl_function" href="classCreature.html#a1217a190a2e561227e831a72d4a6d390">is_player</a>() ) {</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>            <span class="comment">//player hits monster ranged</span></div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>            <a class="code hl_variable" href="output_8cpp.html#ac8f1d6275ee49732d8988e5e671b1776">SCT</a>.<a class="code hl_function" href="classscrollingcombattext.html#a10f4b620dcf4c99fe55d267fc2323723">add</a>( target.<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>().<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>(),</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>                     <a class="code hl_function" href="coordinates_8h.html#a00be0762df7b46da965e55caffac53db">direction_from</a>( <a class="code hl_variable" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, target.<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>().<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() - source-&gt;<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>().<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() ),</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>                     <a class="code hl_function" href="output_8cpp.html#a4fce254b5cc5c01524772be29ea40980">get_hp_bar</a>( dealt_dam.<a class="code hl_function" href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">total_damage</a>(), target.<a class="code hl_function" href="classCreature.html#a6e1819fd37a50af66566c6d1b896572a">get_hp_max</a>(), <span class="keyword">true</span> ).first,</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>                     <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_variable" href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">message</a>, sct_color );</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span> </div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>            <span class="keywordflow">if</span>( target.<a class="code hl_function" href="classCreature.html#a94737d93f30cee269b2df71478ee29fd">get_hp</a>() &gt; 0 ) {</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>                <a class="code hl_variable" href="output_8cpp.html#ac8f1d6275ee49732d8988e5e671b1776">SCT</a>.<a class="code hl_function" href="classscrollingcombattext.html#a10f4b620dcf4c99fe55d267fc2323723">add</a>( target.<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>().<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>(),</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>                         <a class="code hl_function" href="coordinates_8h.html#a00be0762df7b46da965e55caffac53db">direction_from</a>( <a class="code hl_variable" href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a>, target.<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>().<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() - source-&gt;<a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>().<a class="code hl_function" href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">xy</a>() ),</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>                         <a class="code hl_function" href="output_8cpp.html#a4fce254b5cc5c01524772be29ea40980">get_hp_bar</a>( target.<a class="code hl_function" href="classCreature.html#a94737d93f30cee269b2df71478ee29fd">get_hp</a>(), target.<a class="code hl_function" href="classCreature.html#a6e1819fd37a50af66566c6d1b896572a">get_hp_max</a>(), <span class="keyword">true</span> ).first, <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>,</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>                         <span class="comment">//~ &quot;hit points&quot;, used in scrolling combat text</span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>                         <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;hp&quot;</span> ), <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a>, <span class="stringliteral">&quot;hp&quot;</span> );</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>                <a class="code hl_variable" href="output_8cpp.html#ac8f1d6275ee49732d8988e5e671b1776">SCT</a>.<a class="code hl_function" href="classscrollingcombattext.html#a94b652fa370f1b1a946c726c93abb9bd">removeCreatureHP</a>();</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>            }</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span> </div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>            <span class="comment">//~ %1$s: creature name, %2$d: damage value</span></div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You hit %1$s for %2$d damage.&quot;</span> ),</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>                     target.<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>(), dealt_dam.<a class="code hl_function" href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">total_damage</a>() );</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>            <span class="comment">//~ 1$ - shooter, 2$ - target</span></div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;%1$s shoots %2$s.&quot;</span> ),</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>                     source-&gt;<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>(), target.<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>        }</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    }</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>}</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span> </div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno"><a class="line" href="namespaceranged.html#a51e6279a2008714e5596da4f5fa1b00e">  615</a></span><a class="code hl_struct" href="structdealt__damage__instance.html">dealt_damage_instance</a> <a class="code hl_function" href="namespaceranged.html#a51e6279a2008714e5596da4f5fa1b00e">hit_with_aoe</a>( <a class="code hl_class" href="classCreature.html">Creature</a> &amp;target, <a class="code hl_class" href="classCreature.html">Creature</a> *source, <span class="keyword">const</span> <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> &amp;di )</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>{</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_variable" href="bodypart_8h.html#a089a199d69623f528a3883672f0a084e">all_body_parts</a> = target.<a class="code hl_function" href="classCreature.html#ac4dbde454c86b3296f53681c60612974">get_body</a>();</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>    <span class="keywordtype">float</span> hit_size_sum = std::accumulate( <a class="code hl_variable" href="bodypart_8h.html#a089a199d69623f528a3883672f0a084e">all_body_parts</a>.begin(), <a class="code hl_variable" href="bodypart_8h.html#a089a199d69623f528a3883672f0a084e">all_body_parts</a>.end(), 0.0f,</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>    []( <span class="keywordtype">float</span> acc, <span class="keyword">const</span> std::pair&lt;bodypart_str_id, bodypart&gt; &amp;pr ) {</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>        return acc + pr.first-&gt;hit_size;</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>    } );</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>    <a class="code hl_struct" href="structdealt__damage__instance.html">dealt_damage_instance</a> dealt_damage;</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;pr : <a class="code hl_variable" href="bodypart_8h.html#a089a199d69623f528a3883672f0a084e">all_body_parts</a> ) {</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>        <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> impact = di;</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>        impact.<a class="code hl_function" href="structdamage__instance.html#a6cc673dba3d2de116c2579c3eda7ed23">mult_damage</a>( pr.first-&gt;hit_size / hit_size_sum );</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>        <a class="code hl_struct" href="structdealt__damage__instance.html">dealt_damage_instance</a> bp_damage = target.<a class="code hl_function" href="classCreature.html#a75ad96eb6ce27d3c1df250965b4de7b5">deal_damage</a>( source, pr.first.id(), impact );</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; dealt_damage.<a class="code hl_variable" href="structdealt__damage__instance.html#a406b816a99913bd6a91b000cc7198a7c">dealt_dams</a>.size(); i++ ) {</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>            dealt_damage.<a class="code hl_variable" href="structdealt__damage__instance.html#a406b816a99913bd6a91b000cc7198a7c">dealt_dams</a>[i] += bp_damage.<a class="code hl_variable" href="structdealt__damage__instance.html#a406b816a99913bd6a91b000cc7198a7c">dealt_dams</a>[i];</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>        }</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    }</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span> </div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>    dealt_damage.<a class="code hl_variable" href="structdealt__damage__instance.html#ad39dc827923ad7b203f2061134ed1db1">bp_hit</a> = <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">bodypart_str_id::NULL_ID</a>()-&gt;<a class="code hl_variable" href="structbody__part__type.html#a90beb41f3dca18cdbe06f8483336c899">token</a>;</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="character_8cpp.html#a2fcb25d686f4a35fca374c6f71280311">get_player_character</a>().sees( target ) ) {</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>        <a class="code hl_function" href="namespaceranged.html#af042bc3e3b1ea1c57a42ee323ad284a8">ranged::print_dmg_msg</a>( target, source, dealt_damage );</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>    }</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span> </div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>    <span class="keywordflow">if</span>( target.<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a> ) ) {</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno"><a class="line" href="classmonster.html#af3b0f9beac863a48f4e7b1b375ecc7cf">  638</a></span>        <a class="code hl_class" href="classmonster.html">monster</a> *mons = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">&gt;</span>( &amp;target );</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno"><a class="line" href="classmonster.html#aff08a0fd32630c9d3ea6dd7320048028">  639</a></span>        <span class="keywordflow">if</span>( mons &amp;&amp; mons-&gt;<a class="code hl_variable" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a> &amp;&amp; !mons-&gt;<a class="code hl_function" href="classmonster.html#a0315651e596e69f0626b30e081726596">has_flag</a>( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842af91c5e1f99c06d67e9def13a16cc8b72">MF_MECH_DEFENSIVE</a> ) ) {</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>            <span class="comment">// TODO: Return value</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>            <a class="code hl_function" href="namespaceranged.html#a51e6279a2008714e5596da4f5fa1b00e">hit_with_aoe</a>( *mons-&gt;<a class="code hl_variable" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a>, source, di );</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>        }</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>    }</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span> </div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>    <span class="keywordflow">return</span> dealt_damage;</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>}</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span> </div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>} <span class="comment">// namespace ranged</span></div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span><span class="comment"></span> </div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span><span class="comment">/**</span></div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span><span class="comment"> * Attempts to harm a creature with a projectile.</span></div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span><span class="comment"> *</span></div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span><span class="comment"> * @param source Pointer to the creature who shot the projectile.</span></div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span><span class="comment"> * @param attack A structure describing the attack and its results.</span></div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span><span class="comment"> * @param print_messages enables message printing by default.</span></div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span><span class="comment"> */</span></div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno"><a class="line" href="classCreature.html#a38f6eca5af094a68b5f3a03ed8521900">  657</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a38f6eca5af094a68b5f3a03ed8521900">Creature::deal_projectile_attack</a>( <a class="code hl_class" href="classCreature.html">Creature</a> *source, <a class="code hl_struct" href="structdealt__projectile__attack.html">dealt_projectile_attack</a> &amp;attack )</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>{</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> magic = attack.<a class="code hl_variable" href="structdealt__projectile__attack.html#a93f05a2866e4dbc8c4d432a67daf8ab6">proj</a>.<a class="code hl_function" href="structprojectile.html#aff5ad1d0b09b8de0a516fa61063cad14">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a13c53ee7aba5f4eceea92acb8990b1f7">ammo_effect_magic</a> );</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> targetted_crit_allowed = !attack.<a class="code hl_variable" href="structdealt__projectile__attack.html#a93f05a2866e4dbc8c4d432a67daf8ab6">proj</a>.<a class="code hl_function" href="structprojectile.html#aff5ad1d0b09b8de0a516fa61063cad14">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a99d97c99b6e5d138e7daa56d509e13ed">ammo_effect_NO_CRIT</a> );</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> missed_by = attack.<a class="code hl_variable" href="structdealt__projectile__attack.html#ab874a1233da5daa95ff296cdb1ee1849">missed_by</a>;</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    <span class="keywordflow">if</span>( missed_by &gt;= 1.0 &amp;&amp; !magic ) {</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>        <span class="comment">// Total miss</span></div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>    }</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>    <span class="comment">// If carrying a rider, there is a chance the hits may hit rider instead.</span></div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a> ) ) {</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>        <a class="code hl_class" href="classmonster.html">monster</a> *mons = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">&gt;</span>( this );</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>        <span class="keywordflow">if</span>( mons &amp;&amp; mons-&gt;<a class="code hl_variable" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a> ) {</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>            <span class="keywordflow">if</span>( !mons-&gt;<a class="code hl_function" href="classmonster.html#a0315651e596e69f0626b30e081726596">has_flag</a>( <a class="code hl_enumvalue" href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842af91c5e1f99c06d67e9def13a16cc8b72">MF_MECH_DEFENSIVE</a> ) &amp;&amp;</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>                <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( std::max( 2, mons-&gt;<a class="code hl_function" href="classmonster.html#a4c251cc737554fe0bde7f7e4f68b8ef5">get_size</a>() - mons-&gt;<a class="code hl_variable" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a>-&gt;<a class="code hl_function" href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">get_size</a>() ) ) ) {</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>                mons-&gt;<a class="code hl_variable" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a>-&gt;<a class="code hl_function" href="classCreature.html#a38f6eca5af094a68b5f3a03ed8521900">deal_projectile_attack</a>( source, attack );</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>            }</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>        }</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>    }</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>    <span class="keyword">const</span> <a class="code hl_struct" href="structprojectile.html">projectile</a> &amp;proj = attack.<a class="code hl_variable" href="structdealt__projectile__attack.html#a93f05a2866e4dbc8c4d432a67daf8ab6">proj</a>;</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    <a class="code hl_struct" href="structdealt__damage__instance.html">dealt_damage_instance</a> &amp;dealt_dam = attack.<a class="code hl_variable" href="structdealt__projectile__attack.html#aca4d2ea74ab244bb1defe86449a45c39">dealt_dam</a>;</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span> </div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> u_see_this = <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( *<span class="keyword">this</span> );</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span> </div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno"><a class="line" href="classmonster.html#a7b6938eb560ebd8f5d2518632c0d21ea">  682</a></span>    <span class="keyword">const</span> <span class="keywordtype">int</span> avoid_roll = <a class="code hl_function" href="classCreature.html#a42219e0586db47a50f06e3ce2865dbf6">dodge_roll</a>();</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>    <span class="comment">// Do dice(10, speed) instead of dice(speed, 10) because speed could potentially be &gt; 10000</span></div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno"><a class="line" href="classmonster.html#aba59f7f156a1a85ed266b0458fd6be2e">  684</a></span>    <span class="keyword">const</span> <span class="keywordtype">int</span> diff_roll = <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( 10, proj.<a class="code hl_variable" href="structprojectile.html#aa2af53bce63feecb719ef1edba54689e">speed</a> );</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>    <span class="comment">// Partial dodge, capped at [0.0, 1.0], added to missed_by</span></div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> dodge_rescaled = avoid_roll / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>( diff_roll );</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> goodhit = missed_by + std::max( 0.0, std::min( 1.0, dodge_rescaled ) );</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span> </div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    <span class="keywordflow">if</span>( goodhit &gt;= 1.0 &amp;&amp; !magic ) {</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>        attack.<a class="code hl_variable" href="structdealt__projectile__attack.html#ab874a1233da5daa95ff296cdb1ee1849">missed_by</a> = 1.0; <span class="comment">// Arbitrary value</span></div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>        <span class="comment">// &quot;Avoid&quot; rather than &quot;dodge&quot;, because it includes removing self from the line of fire</span></div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>        <span class="comment">//  rather than just Matrix-style bullet dodging</span></div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>        <span class="keywordflow">if</span>( source != <span class="keyword">nullptr</span> &amp;&amp; <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;u.sees( *source ) ) {</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>            <a class="code hl_function" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>(</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>                <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You avoid %s projectile!&quot;</span> ),</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; avoids %s projectile.&quot;</span> ),</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>                source-&gt;<a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>( <span class="keyword">true</span> ) );</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>            <a class="code hl_function" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>(</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>                <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a>,</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You avoid an incoming projectile!&quot;</span> ),</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>                <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;&lt;npcname&gt; avoids an incoming projectile.&quot;</span> ) );</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>        }</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>    }</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span> </div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>    <span class="comment">// Bounce applies whether it does damage or not.</span></div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    <span class="keywordflow">if</span>( proj.<a class="code hl_function" href="structprojectile.html#aff5ad1d0b09b8de0a516fa61063cad14">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a2e2f893aee74eb40d2c1609963133838">ammo_effect_BOUNCE</a> ) ) {</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#aa3f7307ad230ecea38f95a4ff0b8ee05">effect_bounced</a>, 1_turns );</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    }</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span> </div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>    <a class="code hl_class" href="classint__id.html">bodypart_id</a> bp_hit;</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    <span class="keywordtype">double</span> hit_value = missed_by + <a class="code hl_function" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( -0.5, 0.5 );</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>    <span class="keywordflow">if</span>( targetted_crit_allowed || magic ) { <span class="comment">//default logic for selecting bodypart</span></div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>        <span class="keywordflow">if</span>( goodhit &lt; <a class="code hl_variable" href="game__constants_8h.html#a32b6b0daa47aeb1caa71bc0585e24684">accuracy_critical</a> &amp;&amp; hit_value &lt;= 0.2 ) {</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>            bp_hit = <a class="code hl_typedef" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>( <span class="stringliteral">&quot;head&quot;</span> );</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( hit_value &lt;= 0.4 || magic ) {</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>            bp_hit = <a class="code hl_typedef" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>( <span class="stringliteral">&quot;torso&quot;</span> );</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) ) {</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>                bp_hit = <a class="code hl_typedef" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>( <span class="stringliteral">&quot;leg_l&quot;</span> );</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>                bp_hit = <a class="code hl_typedef" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>( <span class="stringliteral">&quot;leg_r&quot;</span> );</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>            }</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>                bp_hit = <a class="code hl_typedef" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>( <span class="stringliteral">&quot;arm_l&quot;</span> );</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>                bp_hit = <a class="code hl_typedef" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>( <span class="stringliteral">&quot;arm_r&quot;</span> );</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>            }</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>        }</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>    } <span class="keywordflow">else</span> { <span class="comment">// no crit logic for selecting bodypart</span></div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>        <span class="keywordflow">if</span>( hit_value &lt;= 0.4 &amp;&amp; !<a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) ) {</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>            bp_hit = <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 3 ) ? <a class="code hl_typedef" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>( <span class="stringliteral">&quot;head&quot;</span> ) : <a class="code hl_class" href="classstring__id.html">bodypart_str_id</a>( <span class="stringliteral">&quot;torso&quot;</span> );</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) ) {</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>                bp_hit = <a class="code hl_typedef" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>( <span class="stringliteral">&quot;leg_l&quot;</span> );</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>                bp_hit = <a class="code hl_typedef" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>( <span class="stringliteral">&quot;leg_r&quot;</span> );</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>            }</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 2 ) ) {</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>                bp_hit = <a class="code hl_typedef" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>( <span class="stringliteral">&quot;arm_l&quot;</span> );</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>                bp_hit = <a class="code hl_typedef" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>( <span class="stringliteral">&quot;arm_r&quot;</span> );</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>            }</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>        }</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>    }</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span> </div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span> </div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>    <span class="keywordtype">double</span> damage_mult = 1.0;</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span> </div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>    <a class="code hl_enumeration" href="namespaceranged.html#a5d9da06327706ab87ae19ee9dc08de53">ranged::hit_tier</a> ht = <a class="code hl_enumvalue" href="namespaceranged.html#a5d9da06327706ab87ae19ee9dc08de53afea087517c26fadd409bd4b9dc642555">ranged::hit_tier::normal</a>;</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>    <span class="keywordflow">if</span>( magic ) {</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>        damage_mult *= <a class="code hl_function" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( 0.9, 1.1 );</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( targetted_crit_allowed &amp;&amp; goodhit &lt; <a class="code hl_variable" href="game__constants_8h.html#a32b6b0daa47aeb1caa71bc0585e24684">accuracy_critical</a> ) {</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>        ht = <a class="code hl_enumvalue" href="namespaceranged.html#a5d9da06327706ab87ae19ee9dc08de53a7e85bcb66fb9a809d5ab4f62a8b8bea8">ranged::hit_tier::critical</a>;</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>        damage_mult *= 1.5;</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( goodhit &lt; <a class="code hl_variable" href="game__constants_8h.html#ae5e219227693b7de2d1bb823567b01c7">accuracy_standard</a> ) {</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>        damage_mult *= <a class="code hl_function" href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a>( 0.9, 1.1 );</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( goodhit &lt; <a class="code hl_variable" href="game__constants_8h.html#a45b6e116f09ae6af4ef31f1495cf48a1">accuracy_grazing</a> ) {</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>        ht = <a class="code hl_enumvalue" href="namespaceranged.html#a5d9da06327706ab87ae19ee9dc08de53a52b0f37c2ac81918f900f3d3e6c98597">ranged::hit_tier::grazing</a>;</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>        damage_mult *= 0.5;</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>    }</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span> </div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>    attack.<a class="code hl_variable" href="structdealt__projectile__attack.html#ab874a1233da5daa95ff296cdb1ee1849">missed_by</a> = goodhit;</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span> </div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>    <span class="comment">// copy it, since we&#39;re mutating</span></div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>    <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> <a class="code hl_function" href="classCreature.html#acbef2e3b6be66df5dd9a7bf587d116bf">impact</a> = proj.<a class="code hl_variable" href="structprojectile.html#a82d8f657f8cfc4e180c15bfab8ca8a6e">impact</a>;</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>    <span class="keywordflow">if</span>( damage_mult &gt; 0.0f &amp;&amp; proj.<a class="code hl_function" href="structprojectile.html#aff5ad1d0b09b8de0a516fa61063cad14">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#afc8900d83dd4d83ef6ea32b9661faba7">ammo_effect_NO_DAMAGE_SCALING</a> ) ) {</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>        damage_mult = 1.0f;</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>    }</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span> </div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>    <a class="code hl_function" href="classCreature.html#acbef2e3b6be66df5dd9a7bf587d116bf">impact</a>.mult_damage( damage_mult );</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span> </div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>    <span class="keywordflow">if</span>( proj.<a class="code hl_function" href="structprojectile.html#aff5ad1d0b09b8de0a516fa61063cad14">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#af942404faa709adb06cec47e2cc2604c">ammo_effect_NOGIB</a> ) ) {</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>        <span class="keywordtype">float</span> dmg_ratio = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>( <a class="code hl_function" href="classCreature.html#acbef2e3b6be66df5dd9a7bf587d116bf">impact</a>.total_damage() ) / <a class="code hl_function" href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561">get_hp_max</a>( bp_hit );</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>        <span class="keywordflow">if</span>( dmg_ratio &gt; 1.25f ) {</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>            <a class="code hl_function" href="classCreature.html#acbef2e3b6be66df5dd9a7bf587d116bf">impact</a>.mult_damage( 1.0f / dmg_ratio );</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>        }</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>    }</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span> </div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>    dealt_dam = <a class="code hl_function" href="classCreature.html#a75ad96eb6ce27d3c1df250965b4de7b5">deal_damage</a>( source, bp_hit, <a class="code hl_function" href="classCreature.html#acbef2e3b6be66df5dd9a7bf587d116bf">impact</a> );</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>    dealt_dam.<a class="code hl_variable" href="structdealt__damage__instance.html#ad39dc827923ad7b203f2061134ed1db1">bp_hit</a> = bp_hit-&gt;token;</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span> </div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>    <span class="comment">// Apply ammo effects to target.</span></div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>    <span class="keywordflow">if</span>( proj.<a class="code hl_function" href="structprojectile.html#aff5ad1d0b09b8de0a516fa61063cad14">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#aa629b07204a26cf4e57eabe425b3d5c4">ammo_effect_TANGLE</a> ) ) {</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>        <a class="code hl_class" href="classmonster.html">monster</a> *z = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">&gt;</span>( this );</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>        <a class="code hl_class" href="classplayer.html">player</a> *n = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classplayer.html">player</a> *<span class="keyword">&gt;</span>( this );</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>        <span class="comment">// if its a tameable animal, its a good way to catch them if they are running away, like them ranchers do!</span></div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>        <span class="comment">// we assume immediate success, then certain monster types immediately break free in monster.cpp move_effects()</span></div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>        <span class="keywordflow">if</span>( z ) {</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>            <span class="keyword">const</span> <a class="code hl_class" href="classitem.html">item</a> &amp;drop_item = proj.<a class="code hl_function" href="structprojectile.html#a370f9c2a4b37c7ed526f9d2fd1442328">get_drop</a>();</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>            <span class="keywordflow">if</span>( !drop_item.<a class="code hl_function" href="classitem.html#a4d5555082454b3cb192f59a70838c891">is_null</a>() ) {</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>                z-&gt;<a class="code hl_function" href="classmonster.html#a45462fba4c37679c66ecde2f9000c22c">add_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a09c667a72022d7e0ee0b851560831e04">effect_tied</a>, 1_turns, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a> );</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>                z-&gt;<a class="code hl_variable" href="classmonster.html#a2881507933646bca97ef83c7112595ac">tied_item</a> = cata::make_value&lt;item&gt;( drop_item );</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a>, <span class="stringliteral">&quot;projectile with TANGLE effect, but no drop item specified&quot;</span> );</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>            }</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( n &amp;&amp; !<a class="code hl_function" href="classCreature.html#acfe4b827ccc042c7933e709fbca6476e">is_immune_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a> ) ) {</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>            <span class="comment">// no tied up effect for people yet, just down them and stun them, its close enough to the desired effect.</span></div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>            <span class="comment">// we can assume a person knows how to untangle their legs eventually and not panic like an animal.</span></div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a>, 1_turns );</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>            <span class="comment">// stunned to simulate staggering around and stumbling trying to get the entangled thing off of them.</span></div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 3_turns, 8_turns ) );</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>        }</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>    }</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>    <span class="keywordflow">if</span>( proj.<a class="code hl_function" href="structprojectile.html#aff5ad1d0b09b8de0a516fa61063cad14">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a506fc166f774a4ac78c54dd998286ef1">ammo_effect_INCENDIARY</a> ) ) {</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a3b487a587c0367c588db6d9df8135612">made_of</a>( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;veggy&quot;</span> ) ) || <a class="code hl_function" href="classCreature.html#ad0d456dd94dedc99904380699582135b">made_of_any</a>( <a class="code hl_variable" href="classCreature.html#a48bb40fe4132a49d95f26611d7c622a6">cmat_flammable</a> ) ) {</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 2_turns, 6_turns ), bp_hit-&gt;token );</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#ad0d456dd94dedc99904380699582135b">made_of_any</a>( <a class="code hl_variable" href="classCreature.html#a81c28d7d1cb83a47794dbf879dede400">cmat_flesh</a> ) &amp;&amp; <a class="code hl_function" href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a>( 4 ) ) {</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1_turns, 4_turns ), bp_hit-&gt;token );</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>        }</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( proj.<a class="code hl_function" href="structprojectile.html#aff5ad1d0b09b8de0a516fa61063cad14">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#ab5bc741878d9b8001686d7776457d9f9">ammo_effect_IGNITE</a> ) ) {</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a3b487a587c0367c588db6d9df8135612">made_of</a>( <a class="code hl_typedef" href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a>( <span class="stringliteral">&quot;veggy&quot;</span> ) ) || <a class="code hl_function" href="classCreature.html#ad0d456dd94dedc99904380699582135b">made_of_any</a>( <a class="code hl_variable" href="classCreature.html#a48bb40fe4132a49d95f26611d7c622a6">cmat_flammable</a> ) ) {</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, 6_turns, bp_hit-&gt;token );</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#ad0d456dd94dedc99904380699582135b">made_of_any</a>( <a class="code hl_variable" href="classCreature.html#a81c28d7d1cb83a47794dbf879dede400">cmat_flesh</a> ) ) {</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, 10_turns, bp_hit-&gt;token );</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>        }</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>    }</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span> </div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>    <span class="keywordflow">if</span>( bp_hit == <a class="code hl_typedef" href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a>( <span class="stringliteral">&quot;head&quot;</span> ) &amp;&amp; proj.<a class="code hl_function" href="structprojectile.html#aff5ad1d0b09b8de0a516fa61063cad14">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#aca5c34a4efa7eb7aad971e0c6ad33441">ammo_effect_BLINDS_EYES</a> ) ) {</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>        <span class="comment">// TODO: Change this to require bp_eyes</span></div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>        <a class="code hl_function" href="classCreature.html#aeb7869963d4c1060c4d928424511d2e0">add_env_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a>, <a class="code hl_enumvalue" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2055386ee220ee2ca3e61d13df65e868">bp_eyes</a>, 5, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 3_turns, 10_turns ) );</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>    }</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span> </div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>    <span class="keywordflow">if</span>( proj.<a class="code hl_function" href="structprojectile.html#aff5ad1d0b09b8de0a516fa61063cad14">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a7efb873ae4e7b2dc1aa0179624e1ed89">ammo_effect_APPLY_SAP</a> ) ) {</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#aaafb2b8608b5451879424ff739fedd41">effect_sap</a>, 1_turns * dealt_dam.<a class="code hl_function" href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">total_damage</a>() );</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>    }</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    <span class="keywordflow">if</span>( proj.<a class="code hl_function" href="structprojectile.html#aff5ad1d0b09b8de0a516fa61063cad14">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a734611af157bbe0c5629170042ad97f7">ammo_effect_PARALYZEPOISON</a> ) &amp;&amp; dealt_dam.<a class="code hl_function" href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">total_damage</a>() &gt; 0 ) {</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>        <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a>, <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You feel poison coursing through your body!&quot;</span> ) );</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a04a9c5a38c56dac485cb30d93ee38658">effect_paralyzepoison</a>, 5_minutes );</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>    }</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span> </div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>    <span class="keywordtype">int</span> stun_strength = 0;</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    <span class="keywordflow">if</span>( proj.<a class="code hl_function" href="structprojectile.html#aff5ad1d0b09b8de0a516fa61063cad14">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#af33c8c4aad3591a2af08650aa0e3e991">ammo_effect_BEANBAG</a> ) ) {</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>        stun_strength = 4;</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>    }</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>    <span class="keywordflow">if</span>( proj.<a class="code hl_function" href="structprojectile.html#aff5ad1d0b09b8de0a516fa61063cad14">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a904dad414459ca8c88a5060325581053">ammo_effect_LARGE_BEANBAG</a> ) ) {</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>        stun_strength = 16;</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>    }</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>    <span class="keywordflow">if</span>( stun_strength &gt; 0 ) {</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>        <span class="keywordflow">switch</span>( <a class="code hl_function" href="classCreature.html#ab4c5777adaad4601b9ca17330371f5b7">get_size</a>() ) {</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614">MS_TINY</a>:</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>                stun_strength *= 4;</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a6a1920ba558cd6584b689f53519e9e96">MS_SMALL</a>:</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>                stun_strength *= 2;</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592aaef7580aead8b8a18bc50cb6c1f98b31">MS_MEDIUM</a>:</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a50d9f673ed0348953b2715fa33683791">MS_LARGE</a>:</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>                stun_strength /= 2;</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9">MS_HUGE</a>:</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>                stun_strength /= 4;</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>        }</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a>, 1_turns * <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( stun_strength / 2, stun_strength ) );</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    }</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span> </div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>    <span class="keywordflow">if</span>( u_see_this ) {</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>        <span class="keywordflow">if</span>( damage_mult == 0 ) {</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>            <span class="keywordflow">if</span>( source != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( source-&gt;<a class="code hl_function" href="classCreature.html#a1217a190a2e561227e831a72d4a6d390">is_player</a>() ? <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You miss!&quot;</span> ) : <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;The shot misses!&quot;</span> ) );</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>            }</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>            <a class="code hl_function" href="namespaceranged.html#af042bc3e3b1ea1c57a42ee323ad284a8">ranged::print_dmg_msg</a>( *<span class="keyword">this</span>, source, dealt_dam, ht );</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>        }</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    }</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span> </div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    <a class="code hl_function" href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158">check_dead_state</a>();</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    attack.<a class="code hl_variable" href="structdealt__projectile__attack.html#a466f327979e41691bc19c91e622078b6">hit_critter</a> = <span class="keyword">this</span>;</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>    attack.<a class="code hl_variable" href="structdealt__projectile__attack.html#ab874a1233da5daa95ff296cdb1ee1849">missed_by</a> = goodhit;</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>}</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span> </div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno"><a class="line" href="classCreature.html#a75ad96eb6ce27d3c1df250965b4de7b5">  879</a></span><a class="code hl_struct" href="structdealt__damage__instance.html">dealt_damage_instance</a> <a class="code hl_function" href="classCreature.html#a75ad96eb6ce27d3c1df250965b4de7b5">Creature::deal_damage</a>( <a class="code hl_class" href="classCreature.html">Creature</a> *source, <a class="code hl_class" href="classint__id.html">bodypart_id</a> bp,</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>        <span class="keyword">const</span> <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> &amp;dam )</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>{</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#ab4c318885f6b9947a7c85d3328d25ffe">is_dead_state</a>() ) {</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>        <span class="keywordflow">return</span> <a class="code hl_struct" href="structdealt__damage__instance.html">dealt_damage_instance</a>();</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    }</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>    <span class="keywordtype">int</span> total_damage = 0;</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>    <span class="keywordtype">int</span> total_pain = 0;</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>    <a class="code hl_struct" href="structdamage__instance.html">damage_instance</a> d = dam; <span class="comment">// copy, since we will mutate in absorb_hit</span></div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span> </div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>    <a class="code hl_struct" href="structdealt__damage__instance.html">dealt_damage_instance</a> dealt_dams;</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>    <a class="code hl_function" href="classCreature.html#a30a6abfdfc637db5b7102b5ce56a00d0">absorb_hit</a>( bp, d );</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span> </div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>    <span class="comment">// Add up all the damage units dealt</span></div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : d.<a class="code hl_variable" href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_units</a> ) {</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>        <span class="keywordtype">int</span> cur_damage = 0;</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>        <a class="code hl_function" href="classCreature.html#a9e52aa13c84bf1ab09efb7086a416fbf">deal_damage_handle_type</a>( it, bp, cur_damage, total_pain );</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>        <span class="keywordflow">if</span>( cur_damage &gt; 0 ) {</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>            dealt_dams.<a class="code hl_variable" href="structdealt__damage__instance.html#a406b816a99913bd6a91b000cc7198a7c">dealt_dams</a>[ it.type ] += cur_damage;</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>            total_damage += cur_damage;</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>        }</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>    }</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span> </div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>    <a class="code hl_function" href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54">mod_pain</a>( total_pain );</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span> </div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>    <a class="code hl_function" href="classCreature.html#a0547ea1ba1d4fcc157db6a73b877f5d6">apply_damage</a>( source, bp, total_damage );</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>    <span class="keywordflow">return</span> dealt_dams;</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>}</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno"><a class="line" href="classCreature.html#a9e52aa13c84bf1ab09efb7086a416fbf">  907</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a9e52aa13c84bf1ab09efb7086a416fbf">Creature::deal_damage_handle_type</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structdamage__unit.html">damage_unit</a> &amp;du, <a class="code hl_class" href="classint__id.html">bodypart_id</a> bp, <span class="keywordtype">int</span> &amp;damage,</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>                                        <span class="keywordtype">int</span> &amp;pain )</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>{</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>    <span class="comment">// Handles ACIDPROOF, electric immunity etc.</span></div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#ad039e02831f1a47941ae6d1f3b217444">is_immune_damage</a>( du.<a class="code hl_variable" href="structdamage__unit.html#a6fb9768fbc374c9c24960cdef9bee2f3">type</a> ) ) {</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>    }</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span> </div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>    <span class="comment">// Apply damage multiplier from skill, critical hits or grazes after all other modifications.</span></div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> adjusted_damage = du.<a class="code hl_variable" href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">amount</a> * du.<a class="code hl_variable" href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_multiplier</a>;</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>    <span class="keywordflow">if</span>( adjusted_damage &lt;= 0 ) {</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>    }</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span> </div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>    <span class="keywordtype">float</span> div = 4.0f;</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span> </div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>    <span class="keywordflow">switch</span>( du.<a class="code hl_variable" href="structdamage__unit.html#a6fb9768fbc374c9c24960cdef9bee2f3">type</a> ) {</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a>:</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>            <span class="comment">// Bashing damage is less painful</span></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>            div = 5.0f;</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span> </div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aae6af44cd6e0e8cafcc63cea198f627c9">DT_HEAT</a>:</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>            <span class="comment">// heat damage sets us on fire sometimes</span></div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 0, 100 ) &lt; adjusted_damage ) {</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>                <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a>, <a class="code hl_function" href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a>( 1_turns, 3_turns ), bp-&gt;token );</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>            }</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span> </div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa31df3b2996d2d10b2ca3e275899fdddb">DT_ELECTRIC</a>:</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>            <span class="comment">// Electrical damage adds a major speed/dex debuff</span></div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>            <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a30d34b241ef54963c18a6af3b2ff3962">effect_zapped</a>, 1_turns * std::max( adjusted_damage, 2 ) );</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span> </div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8fce673f2bfbb3fdb52be44a8e638c90">DT_ACID</a>:</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>            <span class="comment">// Acid damage and acid burns are more painful</span></div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>            div = 3.0f;</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span> </div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    }</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span> </div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>    <a class="code hl_function" href="classCreature.html#a1dc9457a261eec3c7d5b1dac46c2d2f5">on_damage_of_type</a>( adjusted_damage, du.<a class="code hl_variable" href="structdamage__unit.html#a6fb9768fbc374c9c24960cdef9bee2f3">type</a>, bp );</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span> </div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>    damage += adjusted_damage;</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>    <a class="code hl_variable" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> += <a class="code hl_function" href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a>( adjusted_damage / div );</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>}</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span> </div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span><span class="comment">/*</span></div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span><span class="comment"> * State check functions</span></div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span><span class="comment"> */</span></div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span> </div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno"><a class="line" href="classCreature.html#acd04500c61e64cf199ea86f37e95c4a6">  960</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#acd04500c61e64cf199ea86f37e95c4a6">Creature::is_warm</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>}</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span> </div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno"><a class="line" href="classCreature.html#a43b83bb780138cf2186b24cd40322756">  965</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#a43b83bb780138cf2186b24cd40322756">Creature::in_species</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">species_id</a> &amp; )<span class="keyword"> const</span></div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>}</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span> </div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno"><a class="line" href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">  970</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">Creature::is_fake</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a5f0f94b1cc3a6759e79c7ffc07c3b0b8">fake</a>;</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>}</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span> </div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno"><a class="line" href="classCreature.html#ad76a5de4e1a09c774c1fea1c3405075b">  975</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#ad76a5de4e1a09c774c1fea1c3405075b">Creature::set_fake</a>( <span class="keyword">const</span> <span class="keywordtype">bool</span> fake_value )</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>{</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>    <a class="code hl_variable" href="classCreature.html#a5f0f94b1cc3a6759e79c7ffc07c3b0b8">fake</a> = fake_value;</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>}</div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span> </div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno"><a class="line" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">  980</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a>( <span class="keyword">const</span> <a class="code hl_class" href="classeffect.html">effect</a> &amp;eff, <span class="keywordtype">bool</span> force, <span class="keywordtype">bool</span> <a class="code hl_variable" href="item__factory_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a> )</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>{</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>    <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( eff.<a class="code hl_function" href="classeffect.html#a64af3902e1495976589ba64ac4c82022">get_id</a>(), eff.<a class="code hl_function" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>(), eff.<a class="code hl_function" href="classeffect.html#ab4bef16d15bbb8c8cd36d8a0432fbbb8">get_bp</a>(), eff.<a class="code hl_function" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>(),</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>                force, <a class="code hl_variable" href="item__factory_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a> );</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>}</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span> </div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span> </div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno"><a class="line" href="classCreature.html#ae3f27adc7d930ec5f8902bf697e948c9">  987</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> &amp;eff_id, <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> &amp;dur, <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp,</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>                           <span class="keywordtype">int</span> intensity, <span class="keywordtype">bool</span> force, <span class="keywordtype">bool</span> <a class="code hl_variable" href="item__factory_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a> )</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>{</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>    <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( eff_id, dur, <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( bp ), intensity, force, <a class="code hl_variable" href="item__factory_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a> );</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span>}</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span> </div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno"><a class="line" href="classCreature.html#a9527f6d71bb600066748b5ff2173094d">  993</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> &amp;eff_id, <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> &amp;dur,</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>                           <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bodypart_str_id</a> &amp;base_bp,</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>                           <span class="keywordtype">int</span> intensity, <span class="keywordtype">bool</span> force, <span class="keywordtype">bool</span> <a class="code hl_variable" href="item__factory_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a> )</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>{</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>    <span class="comment">// Check our innate immunity</span></div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>    <span class="keywordflow">if</span>( !force &amp;&amp; <a class="code hl_function" href="classCreature.html#acfe4b827ccc042c7933e709fbca6476e">is_immune_effect</a>( eff_id ) ) {</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>    }</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>    <span class="keywordflow">if</span>( eff_id == <a class="code hl_enumvalue" href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5ba36ff0c0cae9ccd113903466f4e47c">efftype_id</a>( <span class="stringliteral">&quot;knockdown&quot;</span> ) &amp;&amp; ( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a> ) ||</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>            <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a0a50e3fbf57e70bfac50331092ff8ad1">effect_riding</a> ) ) ) {</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>        <a class="code hl_class" href="classmonster.html">monster</a> *mons = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classmonster.html">monster</a> *<span class="keyword">&gt;</span>( this );</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>        <span class="keywordflow">if</span>( mons &amp;&amp; mons-&gt;<a class="code hl_variable" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a> ) {</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>            mons-&gt;<a class="code hl_variable" href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">mounted_player</a>-&gt;<a class="code hl_function" href="classCharacter.html#a85a591640ed5dec800bd4e6e42241fbf">forced_dismount</a>();</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>        }</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>    }</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span> </div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>    <span class="keywordflow">if</span>( !eff_id.<a class="code hl_function" href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">is_valid</a>() ) {</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Invalid effect, ID: %s&quot;</span>, eff_id.<a class="code hl_function" href="classstring__id.html#a19aea01aa4a1f53aac09acc978f67cf8">c_str</a>() );</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>    }</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>    <span class="keyword">const</span> <a class="code hl_class" href="classeffect__type.html">effect_type</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = eff_id.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span> </div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>    <a class="code hl_class" href="classstring__id.html">bodypart_str_id</a> bp = base_bp;</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>    <span class="comment">// Mutate to a main (HP&#39;d) body_part if necessary.</span></div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>    <span class="keywordflow">if</span>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>.get_main_parts() ) {</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>        bp = bp-&gt;<a class="code hl_variable" href="structbody__part__type.html#ab88f4c72186cad27609e877dd46d2c33">main_part</a>;</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>    }</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span> </div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>    <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>    <span class="comment">// Check if we already have it</span></div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>    <span class="keyword">auto</span> matching_map = <a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;find( eff_id );</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>    <span class="keywordflow">if</span>( matching_map != <a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;end() ) {</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>        <span class="keyword">auto</span> &amp;bodyparts = matching_map-&gt;second;</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>        <span class="keyword">auto</span> found_effect = bodyparts.find( bp );</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>        <span class="keywordflow">if</span>( found_effect != bodyparts.end() &amp;&amp; !found_effect-&gt;second.is_removed() ) {</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>            found = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>            <a class="code hl_class" href="classeffect.html">effect</a> &amp;e = found_effect-&gt;second;</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> prev_int = e.<a class="code hl_function" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>();</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>            <span class="comment">// If we do, mod the duration, factoring in the mod value</span></div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>            e.<a class="code hl_function" href="classeffect.html#a118dd88810785bfbb8243af97a37d2ab">mod_duration</a>( <a class="code hl_function" href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>                                to_turns&lt;int64_t&gt;( dur ) * e.<a class="code hl_function" href="classeffect.html#ab0aadd6d843660333cb68199455a8393">get_dur_add_perc</a>() / 100 ) ) );</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>            <span class="comment">// Limit to max duration</span></div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>            <span class="keywordflow">if</span>( e.<a class="code hl_function" href="classeffect.html#a5201a58434d343a00ce457ce6602905c">get_max_duration</a>() &gt; 0_turns &amp;&amp; e.<a class="code hl_function" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>() &gt; e.<a class="code hl_function" href="classeffect.html#a5201a58434d343a00ce457ce6602905c">get_max_duration</a>() ) {</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>                e.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( e.<a class="code hl_function" href="classeffect.html#a5201a58434d343a00ce457ce6602905c">get_max_duration</a>() );</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>            }</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>            <span class="comment">// int_dur_factor overrides all other intensity settings</span></div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>            <span class="comment">// ...but it&#39;s handled in set_duration, so explicitly do nothing here</span></div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>            <span class="keywordflow">if</span>( e.<a class="code hl_function" href="classeffect.html#aae46cb63cdb1a4ca3e612d464f20446a">get_int_dur_factor</a>() &gt; 0_turns ) {</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>                <span class="comment">// Set intensity if value is given</span></div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( intensity &gt; 0 ) {</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>                e.<a class="code hl_function" href="classeffect.html#a8754bec3fbc3ac14160d2e4f185741e0">set_intensity</a>( intensity );</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>                <span class="comment">// Else intensity uses the type&#39;d step size if it already exists</span></div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( e.<a class="code hl_function" href="classeffect.html#a066af1ed3e05451d34a43a79a1997e1d">get_int_add_val</a>() != 0 ) {</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>                e.<a class="code hl_function" href="classeffect.html#a9ff54009330263daa8e02b30e86c854c">mod_intensity</a>( e.<a class="code hl_function" href="classeffect.html#a066af1ed3e05451d34a43a79a1997e1d">get_int_add_val</a>() );</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>            }</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span> </div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>            <span class="comment">// Bound intensity by [1, max intensity]</span></div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>            <span class="keywordflow">if</span>( e.<a class="code hl_function" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>() &lt; 1 ) {</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a>, <span class="stringliteral">&quot;Bad intensity, ID: %s&quot;</span>, e.<a class="code hl_function" href="classeffect.html#a64af3902e1495976589ba64ac4c82022">get_id</a>().<a class="code hl_function" href="classstring__id.html#a19aea01aa4a1f53aac09acc978f67cf8">c_str</a>() );</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>                e.<a class="code hl_function" href="classeffect.html#a8754bec3fbc3ac14160d2e4f185741e0">set_intensity</a>( 1 );</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( e.<a class="code hl_function" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>() &gt; e.<a class="code hl_function" href="classeffect.html#a11dfe5a38fa2a63bf309b491f64051e0">get_max_intensity</a>() ) {</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>                e.<a class="code hl_function" href="classeffect.html#a8754bec3fbc3ac14160d2e4f185741e0">set_intensity</a>( e.<a class="code hl_function" href="classeffect.html#a11dfe5a38fa2a63bf309b491f64051e0">get_max_intensity</a>() );</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>            }</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>            <span class="keywordflow">if</span>( e.<a class="code hl_function" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>() != prev_int ) {</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>                <a class="code hl_function" href="classCreature.html#ac0097db0dd4bd71fd854f02f2db7d771">on_effect_int_change</a>( e.<a class="code hl_function" href="classeffect.html#a64af3902e1495976589ba64ac4c82022">get_id</a>(), e.<a class="code hl_function" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>(), e.<a class="code hl_function" href="classeffect.html#ab4bef16d15bbb8c8cd36d8a0432fbbb8">get_bp</a>() );</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>            }</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>        }</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>    }</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span> </div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>    <span class="keywordflow">if</span>( !found ) {</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>        <span class="comment">// If we don&#39;t already have it then add a new one</span></div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span> </div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>        <span class="comment">// Then check if the effect is blocked by another</span></div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : *<a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>            <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;_effect_it : elem.second ) {</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>                <span class="keywordflow">if</span>( !_effect_it.second.is_removed() )</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>                    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;blocked_effect : _effect_it.second.get_blocks_effects() ) {</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>                        <span class="keywordflow">if</span>( blocked_effect == eff_id ) {</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>                            <span class="comment">// The effect is blocked by another, return</span></div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>                            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>                        }</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>                    }</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>            }</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>        }</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span> </div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>        <span class="comment">// Now we can make the new effect for application</span></div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>        <a class="code hl_class" href="classeffect.html">effect</a> e( &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>, dur, bp, intensity, <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a> );</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>        <span class="comment">// Bound to max duration</span></div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>        <span class="keywordflow">if</span>( e.<a class="code hl_function" href="classeffect.html#a5201a58434d343a00ce457ce6602905c">get_max_duration</a>() &gt; 0_turns &amp;&amp; e.<a class="code hl_function" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>() &gt; e.<a class="code hl_function" href="classeffect.html#a5201a58434d343a00ce457ce6602905c">get_max_duration</a>() ) {</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>            e.<a class="code hl_function" href="classeffect.html#a40265c904a684396b45a347239e38782">set_duration</a>( e.<a class="code hl_function" href="classeffect.html#a5201a58434d343a00ce457ce6602905c">get_max_duration</a>() );</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>        }</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span> </div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>        <span class="comment">// Force intensity if it is duration based</span></div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>        <span class="keywordflow">if</span>( e.<a class="code hl_function" href="classeffect.html#aae46cb63cdb1a4ca3e612d464f20446a">get_int_dur_factor</a>() != 0_turns ) {</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>            <span class="comment">// + 1 here so that the lowest is intensity 1, not 0</span></div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>            e.<a class="code hl_function" href="classeffect.html#a8754bec3fbc3ac14160d2e4f185741e0">set_intensity</a>( e.<a class="code hl_function" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>() / e.<a class="code hl_function" href="classeffect.html#aae46cb63cdb1a4ca3e612d464f20446a">get_int_dur_factor</a>() + 1 );</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>        }</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>        <span class="comment">// Bound new effect intensity by [1, max intensity]</span></div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>        <span class="keywordflow">if</span>( e.<a class="code hl_function" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>() &lt; 1 ) {</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>            <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a>, <span class="stringliteral">&quot;Bad intensity, ID: %s&quot;</span>, e.<a class="code hl_function" href="classeffect.html#a64af3902e1495976589ba64ac4c82022">get_id</a>().<a class="code hl_function" href="classstring__id.html#a19aea01aa4a1f53aac09acc978f67cf8">c_str</a>() );</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>            e.<a class="code hl_function" href="classeffect.html#a8754bec3fbc3ac14160d2e4f185741e0">set_intensity</a>( 1 );</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( e.<a class="code hl_function" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>() &gt; e.<a class="code hl_function" href="classeffect.html#a11dfe5a38fa2a63bf309b491f64051e0">get_max_intensity</a>() ) {</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>            e.<a class="code hl_function" href="classeffect.html#a8754bec3fbc3ac14160d2e4f185741e0">set_intensity</a>( e.<a class="code hl_function" href="classeffect.html#a11dfe5a38fa2a63bf309b491f64051e0">get_max_intensity</a>() );</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>        }</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>        ( *effects )[eff_id][bp] = e;</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>        <span class="keywordflow">if</span>( <a class="code hl_class" href="classCharacter.html">Character</a> *ch = <a class="code hl_function" href="classCreature.html#a0b1213e6230bbb58a598b6f90f76b74c">as_character</a>() ) {</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>            <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceaaf300b7d334ca5ec15e23a4567f4c46c">event_type::character_gains_effect</a>&gt;( ch-&gt;getID(), eff_id );</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>            <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a1217a190a2e561227e831a72d4a6d390">is_player</a>() &amp;&amp; !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>.get_apply_message().empty() ) {</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>.gain_game_message_type(), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>.get_apply_message() ) );</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>            }</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>        }</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>        <a class="code hl_function" href="classCreature.html#ac0097db0dd4bd71fd854f02f2db7d771">on_effect_int_change</a>( e.<a class="code hl_function" href="classeffect.html#a64af3902e1495976589ba64ac4c82022">get_id</a>(), e.<a class="code hl_function" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>(), e.<a class="code hl_function" href="classeffect.html#ab4bef16d15bbb8c8cd36d8a0432fbbb8">get_bp</a>() );</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>        <span class="comment">// Perform any effect addition effects.</span></div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>        <span class="comment">// only when not deferred</span></div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>        <span class="keywordflow">if</span>( !<a class="code hl_variable" href="item__factory_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a> ) {</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>            <a class="code hl_function" href="classCreature.html#a8b6571b163899884df43067ab146ab83">process_one_effect</a>( e, <span class="keyword">true</span> );</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>        }</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>    }</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>}</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"><a class="line" href="classCreature.html#aeb7869963d4c1060c4d928424511d2e0"> 1112</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#aeb7869963d4c1060c4d928424511d2e0">Creature::add_env_effect</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> &amp;eff_id, <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> vector, <span class="keywordtype">int</span> strength,</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>                               <span class="keyword">const</span> <a class="code hl_class" href="classtime__duration.html">time_duration</a> &amp;dur, <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp, <span class="keywordtype">int</span> intensity, <span class="keywordtype">bool</span> force )</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>{</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>    <span class="keywordflow">if</span>( !force &amp;&amp; <a class="code hl_function" href="classCreature.html#acfe4b827ccc042c7933e709fbca6476e">is_immune_effect</a>( eff_id ) ) {</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>    }</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span> </div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( strength, 3 ) &gt; <a class="code hl_function" href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a>( <a class="code hl_function" href="classCreature.html#a270368871cfa3557eaed0492367fa187">get_env_resist</a>( <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( vector ).<span class="keywordtype">id</span>() ), 3 ) ) {</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>        <span class="comment">// Only add the effect if we fail the resist roll</span></div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>        <span class="comment">// Don&#39;t check immunity (force == true), because we did check above</span></div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>        <a class="code hl_function" href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">add_effect</a>( eff_id, dur, bp, intensity, <span class="keyword">true</span> );</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>    }</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>}</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"><a class="line" href="classCreature.html#ade25d295e89504f92aff453b05cd2bbe"> 1128</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#ade25d295e89504f92aff453b05cd2bbe">Creature::clear_effects</a>()</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>{</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : *<a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;_effect_it : elem.second ) {</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>            <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( elem.first, _effect_it.first );</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>        }</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>    }</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>}</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"><a class="line" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de"> 1136</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">Creature::remove_effect</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> &amp;eff_id, <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp )</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>{</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( eff_id, <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( bp ) );</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>}</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"><a class="line" href="classCreature.html#af2dcbf1c848922b4970214fcdc50c05e"> 1140</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">Creature::remove_effect</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> &amp;eff_id, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bodypart_str_id</a> &amp;bp )</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>{</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>    <span class="keywordflow">if</span>( !<a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( eff_id, bp ) ) {</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>        <span class="comment">//Effect doesn&#39;t exist, so do nothing</span></div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>    }</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>    <span class="keyword">const</span> <a class="code hl_class" href="classeffect__type.html">effect_type</a> &amp;<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a> = eff_id.<a class="code hl_function" href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">obj</a>();</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span> </div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>    <a class="code hl_class" href="classCharacter.html">Character</a> *ch = <a class="code hl_function" href="classCreature.html#a0b1213e6230bbb58a598b6f90f76b74c">as_character</a>();</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>    <span class="keywordflow">if</span>( ch != <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a1217a190a2e561227e831a72d4a6d390">is_player</a>() ) {</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>            <span class="keywordflow">if</span>( !<a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>.get_remove_message().empty() ) {</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>                <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>.lose_game_message_type(), <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <a class="code hl_enumvalue" href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a>.get_remove_message() ) );</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>            }</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>        }</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>        <a class="code hl_variable" href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a>-&gt;events().send&lt;<a class="code hl_enumvalue" href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea907475eea8d7c21da2c3c3fb3172c731">event_type::character_loses_effect</a>&gt;( ch-&gt;<a class="code hl_function" href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">getID</a>(), eff_id );</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>    }</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span> </div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>    <span class="comment">// num_bp means remove all of a given effect id</span></div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>    <span class="keywordflow">if</span>( !bp ) {</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;it : ( *<a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> )[eff_id] ) {</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>            <span class="keyword">auto</span> &amp;e = it.second;</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>            <span class="keywordflow">if</span>( !e.is_removed() ) {</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>                <a class="code hl_function" href="classCreature.html#ac0097db0dd4bd71fd854f02f2db7d771">on_effect_int_change</a>( e.get_id(), 0, e.get_bp() );</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>                e.set_removed();</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>            }</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>        }</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>        <a class="code hl_class" href="classeffect.html">effect</a> &amp;e = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( eff_id, bp-&gt;<a class="code hl_variable" href="structbody__part__type.html#a90beb41f3dca18cdbe06f8483336c899">token</a> );</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>        <a class="code hl_function" href="classCreature.html#ac0097db0dd4bd71fd854f02f2db7d771">on_effect_int_change</a>( e.<a class="code hl_function" href="classeffect.html#a64af3902e1495976589ba64ac4c82022">get_id</a>(), 0, e.<a class="code hl_function" href="classeffect.html#ab4bef16d15bbb8c8cd36d8a0432fbbb8">get_bp</a>() );</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>        e.<a class="code hl_function" href="classeffect.html#a60fdf77e88d2338ae237a1082b440989">set_removed</a>();</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>    }</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>    <span class="comment">// Sleep is a special case, since it affects max sight range and other effects</span></div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>    <span class="comment">// Must be below the set_removed above or we&#39;ll get an infinite loop</span></div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>    <span class="keywordflow">if</span>( ch != <span class="keyword">nullptr</span> &amp;&amp; eff_id == <a class="code hl_variable" href="creature_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a> ) {</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>        ch-&gt;<a class="code hl_function" href="classCharacter.html#a0b32571db45faeab8561f33af6da1e28">wake_up</a>();</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>    }</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>}</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"><a class="line" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90"> 1179</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">Creature::has_effect</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> &amp;eff_id, <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp )<span class="keyword"> const</span></div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( eff_id, <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( bp ) );</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>}</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"><a class="line" href="classCreature.html#a00f1827c2198435026db46dda3cdf7d5"> 1183</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">Creature::has_effect</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> &amp;eff_id, <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">bodypart_str_id</a> &amp;bp )<span class="keyword"> const</span></div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>    <span class="comment">// num_bp means anything targeted or not</span></div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>    <span class="keywordflow">if</span>( !bp ) {</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>        <span class="keyword">auto</span> got = <a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;find( eff_id );</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>        <span class="keywordflow">return</span> got != <a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;end() &amp;&amp; !got-&gt;second.begin()-&gt;second.is_removed();</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>        <span class="keyword">auto</span> got_outer = <a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;find( eff_id );</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>        <span class="keywordflow">if</span>( got_outer != <a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;end() ) {</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>            <span class="keyword">auto</span> got_inner = got_outer-&gt;second.find( bp );</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>            <span class="keywordflow">if</span>( got_inner != got_outer-&gt;second.end() &amp;&amp; !got_inner-&gt;second.is_removed() ) {</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>            }</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>        }</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>    }</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>}</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span> </div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"><a class="line" href="classCreature.html#a2b8d5ac840f6d08881374f0483f6d798"> 1201</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#a2b8d5ac840f6d08881374f0483f6d798">Creature::has_effect_with_flag</a>( <span class="keyword">const</span> std::string &amp;flag, <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp )<span class="keyword"> const</span></div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;tmp = <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( bp ).<a class="code hl_function" href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">id</a>();</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;elem : *<a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;_it : elem.second ) {</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>            <span class="keywordflow">if</span>( tmp == _it.first &amp;&amp; !_it.second.is_removed() &amp;&amp; _it.second.has_flag( flag ) ) {</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>            }</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>        }</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>    }</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>}</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span> </div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"><a class="line" href="classCreature.html#a3721e2f822cedc9866c9e65c2681adc2"> 1214</a></span><a class="code hl_class" href="classeffect.html">effect</a> &amp;<a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">Creature::get_effect</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> &amp;eff_id, <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp )</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>{</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>    <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><a class="code hl_class" href="classeffect.html">effect</a> &amp;<span class="keyword">&gt;</span>( <span class="keyword">const_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classCreature.html">Creature</a> *<span class="keyword">&gt;</span>( this )-&gt;<a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( eff_id, bp ) );</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>}</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span> </div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"><a class="line" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817"> 1219</a></span><span class="keyword">const</span> <a class="code hl_class" href="classeffect.html">effect</a> &amp;<a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">Creature::get_effect</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> &amp;eff_id, <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp )<span class="keyword"> const</span></div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>    <span class="keyword">auto</span> got_outer = <a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;find( eff_id );</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>    <span class="keywordflow">if</span>( got_outer != <a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;end() ) {</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>        <span class="keyword">auto</span> got_inner = got_outer-&gt;second.find( <a class="code hl_function" href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a>( bp ) );</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>        <span class="keywordflow">if</span>( got_inner != got_outer-&gt;second.end() &amp;&amp; !got_inner-&gt;second.is_removed() ) {</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>            <span class="keywordflow">return</span> got_inner-&gt;second;</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>        }</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>    }</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classeffect.html#a78df933887cbfd826a31bd12e0fd4d65">effect::null_effect</a>;</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>}</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"><a class="line" href="classCreature.html#aac94e7c7a3d343c197ddc581745b8a37"> 1230</a></span>std::vector&lt;const effect *&gt; <a class="code hl_function" href="classCreature.html#aac94e7c7a3d343c197ddc581745b8a37">Creature::get_all_effects_of_type</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> &amp;eff_id )<span class="keyword"> const</span></div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>    std::vector&lt;const effect *&gt; <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>    <span class="keyword">auto</span> got_outer = <a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;find( eff_id );</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>    <span class="keywordflow">if</span>( got_outer != <a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;end() ) {</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>        <span class="keywordflow">for</span>( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;pr : got_outer-&gt;second ) {</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>            <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>.push_back( &amp;pr.second );</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>        }</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>    }</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">ret</a>;</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>}</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"><a class="line" href="classCreature.html#a2bb3543ca955d69805e57e4e09d878ef"> 1241</a></span><a class="code hl_class" href="classtime__duration.html">time_duration</a> <a class="code hl_function" href="classCreature.html#a2bb3543ca955d69805e57e4e09d878ef">Creature::get_effect_dur</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> &amp;eff_id, <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp )<span class="keyword"> const</span></div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>    <span class="keyword">const</span> <a class="code hl_class" href="classeffect.html">effect</a> &amp;eff = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( eff_id, bp );</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>    <span class="keywordflow">if</span>( !eff.<a class="code hl_function" href="classeffect.html#a39ebd2ec5b2faacde7483e0c07240baa">is_null</a>() ) {</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>        <span class="keywordflow">return</span> eff.<a class="code hl_function" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>();</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>    }</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span> </div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>    <span class="keywordflow">return</span> 0_turns;</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>}</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"><a class="line" href="classCreature.html#a70ba05a0184ff83095f639eac18f24fe"> 1250</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a70ba05a0184ff83095f639eac18f24fe">Creature::get_effect_int</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> &amp;eff_id, <a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> bp )<span class="keyword"> const</span></div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>    <span class="keyword">const</span> <a class="code hl_class" href="classeffect.html">effect</a> &amp;eff = <a class="code hl_function" href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">get_effect</a>( eff_id, bp );</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>    <span class="keywordflow">if</span>( !eff.<a class="code hl_function" href="classeffect.html#a39ebd2ec5b2faacde7483e0c07240baa">is_null</a>() ) {</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>        <span class="keywordflow">return</span> eff.<a class="code hl_function" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>();</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>    }</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span> </div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>}</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"><a class="line" href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6"> 1259</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6">Creature::process_effects</a>()</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>{</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>    <a class="code hl_function" href="classCreature.html#ab07d1af0b7437f37789e229c401a59b0">process_effects_internal</a>();</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span> </div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>    <span class="comment">// id&#39;s and body_part&#39;s of all effects to be removed. If we ever get player or</span></div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>    <span class="comment">// monster specific removals these will need to be moved down to that level and then</span></div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>    <span class="comment">// passed in to this function.</span></div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>    std::vector&lt;std::pair&lt;efftype_id, bodypart_str_id&gt;&gt; to_remove;</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span> </div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>    <span class="comment">// Decay/removal of effects</span></div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;elem : *<a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;_it : elem.second ) {</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>            <span class="keywordflow">if</span>( _it.second.is_removed() ) {</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>                to_remove.emplace_back( elem.first, _it.first );</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>            }</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>            <span class="comment">// Add any effects that others remove to the removal list</span></div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>            <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">efftype_id</a> &amp;removed_effect : _it.second.get_removes_effects() ) {</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>                to_remove.emplace_back( removed_effect, <a class="code hl_function" href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">bodypart_str_id::NULL_ID</a>() );</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>            }</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>            <a class="code hl_class" href="classeffect.html">effect</a> &amp;e = _it.second;</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> prev_int = e.<a class="code hl_function" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>();</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>            <span class="comment">// Run decay effects, marking effects for removal as necessary.</span></div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>            <span class="keywordflow">if</span>( e.<a class="code hl_function" href="classeffect.html#afc447adf56a7464b4071dc60c259631d">decay</a>( <a class="code hl_variable" href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a>, <a class="code hl_function" href="classCreature.html#a1217a190a2e561227e831a72d4a6d390">is_player</a>() ) ) {</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>                to_remove.emplace_back( elem.first, _it.first );</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>            }</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span> </div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>            <span class="keywordflow">if</span>( e.<a class="code hl_function" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>() != prev_int &amp;&amp; e.<a class="code hl_function" href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">get_duration</a>() &gt; 0_turns ) {</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>                <a class="code hl_function" href="classCreature.html#ac0097db0dd4bd71fd854f02f2db7d771">on_effect_int_change</a>( e.<a class="code hl_function" href="classeffect.html#a64af3902e1495976589ba64ac4c82022">get_id</a>(), e.<a class="code hl_function" href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">get_intensity</a>(), e.<a class="code hl_function" href="classeffect.html#ab4bef16d15bbb8c8cd36d8a0432fbbb8">get_bp</a>() );</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>            }</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>        }</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>    }</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span> </div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>    <span class="comment">// Run the on-remove effects</span></div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;efftype_id, bodypart_str_id&gt; &amp;r : to_remove ) {</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>        <a class="code hl_function" href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">remove_effect</a>( r.first, r.second );</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>    }</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>    <span class="comment">// Actually remove effects. This should be the last thing done in process_effects().</span></div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;efftype_id, bodypart_str_id&gt; &amp;r : to_remove ) {</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>        <span class="keywordflow">if</span>( !r.second ) {</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>            <a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;erase( r.first );</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>            ( *effects )[r.first].erase( r.second );</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span>            <span class="comment">// If there are no more effects of a given type remove the type map</span></div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span>            <span class="keywordflow">if</span>( ( *<a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> )[r.first].empty() ) {</div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span>                <a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a>-&gt;erase( r.first );</div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span>            }</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>        }</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>    }</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>}</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span> </div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"><a class="line" href="classCreature.html#a6b40041c12e2c414170aad5511878446"> 1310</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#a6b40041c12e2c414170aad5511878446">Creature::resists_effect</a>( <span class="keyword">const</span> <a class="code hl_class" href="classeffect.html">effect</a> &amp;e )<span class="keyword"> const</span></div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;i : e.<a class="code hl_function" href="classeffect.html#a3562276416ffa58ce420934ff75306ff">get_resist_effects</a>() ) {</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( i ) ) {</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>        }</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>    }</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;i : e.<a class="code hl_function" href="classeffect.html#a0761861661abb287a4ea8c92d9e7b463">get_resist_traits</a>() ) {</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>        <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a2946d574c3339cf1d3baf7b48802fb42">has_trait</a>( i ) ) {</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>        }</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>    }</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>}</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span> </div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"><a class="line" href="classCreature.html#a2946d574c3339cf1d3baf7b48802fb42"> 1325</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#a2946d574c3339cf1d3baf7b48802fb42">Creature::has_trait</a>( <span class="keyword">const</span> <a class="code hl_class" href="classstring__id.html">trait_id</a> &amp;<span class="comment">/*flag*/</span> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>}</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span> </div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span><span class="comment">// Methods for setting/getting misc key/value pairs.</span></div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"><a class="line" href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab"> 1331</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab">Creature::set_value</a>( <span class="keyword">const</span> std::string &amp;key, <span class="keyword">const</span> std::string &amp;value )</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>{</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>    <a class="code hl_variable" href="classCreature.html#a69d20ce599ed8aa0780a4677c14228f9">values</a>[ key ] = value;</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>}</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span> </div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"><a class="line" href="classCreature.html#a6ad06869ed97eb2701f5f74b7d36281e"> 1336</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a6ad06869ed97eb2701f5f74b7d36281e">Creature::remove_value</a>( <span class="keyword">const</span> std::string &amp;key )</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>{</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>    <a class="code hl_variable" href="classCreature.html#a69d20ce599ed8aa0780a4677c14228f9">values</a>.erase( key );</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>}</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span> </div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"><a class="line" href="classCreature.html#a2acb6e1e19bcb775748403d07d8dc3f0"> 1341</a></span>std::string <a class="code hl_function" href="classCreature.html#a2acb6e1e19bcb775748403d07d8dc3f0">Creature::get_value</a>( <span class="keyword">const</span> std::string &amp;key )<span class="keyword"> const</span></div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>    <span class="keyword">auto</span> it = <a class="code hl_variable" href="classCreature.html#a69d20ce599ed8aa0780a4677c14228f9">values</a>.find( key );</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>    <span class="keywordflow">return</span> ( it == <a class="code hl_variable" href="classCreature.html#a69d20ce599ed8aa0780a4677c14228f9">values</a>.end() ) ? <span class="stringliteral">&quot;&quot;</span> : it-&gt;second;</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>}</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span> </div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"><a class="line" href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54"> 1347</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54">Creature::mod_pain</a>( <span class="keywordtype">int</span> npain )</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>{</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>    <a class="code hl_function" href="classCreature.html#a74f17106e37657f528e42b3fd706766a">mod_pain_noresist</a>( npain );</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>}</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span> </div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"><a class="line" href="classCreature.html#a74f17106e37657f528e42b3fd706766a"> 1352</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a74f17106e37657f528e42b3fd706766a">Creature::mod_pain_noresist</a>( <span class="keywordtype">int</span> npain )</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>{</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>    <a class="code hl_function" href="classCreature.html#a0c2a2ea33a8193bb0779e87f4f67617b">set_pain</a>( <a class="code hl_variable" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> + npain );</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>}</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span> </div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"><a class="line" href="classCreature.html#a0c2a2ea33a8193bb0779e87f4f67617b"> 1357</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a0c2a2ea33a8193bb0779e87f4f67617b">Creature::set_pain</a>( <span class="keywordtype">int</span> npain )</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>{</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>    npain = std::max( npain, 0 );</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> != npain ) {</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>        <a class="code hl_variable" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> = npain;</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>        <a class="code hl_function" href="classCreature.html#afbfbda1c9112c0551c654337b6176915">on_stat_change</a>( <span class="stringliteral">&quot;pain&quot;</span>, <a class="code hl_variable" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a> );</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>    }</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>}</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span> </div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"><a class="line" href="classCreature.html#a71e8440dfb96a7a870c29e0472b7b85d"> 1366</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a71e8440dfb96a7a870c29e0472b7b85d">Creature::get_pain</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">pain</a>;</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>}</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span> </div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"><a class="line" href="classCreature.html#a402025ac07eb74792b0885446b912cac"> 1371</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a402025ac07eb74792b0885446b912cac">Creature::get_perceived_pain</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#a71e8440dfb96a7a870c29e0472b7b85d">get_pain</a>();</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>}</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span> </div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"><a class="line" href="classCreature.html#a097380bdbcc6f2fee5e82328904c0dbd"> 1376</a></span>std::pair&lt;std::string, nc_color&gt; <a class="code hl_function" href="classCreature.html#a097380bdbcc6f2fee5e82328904c0dbd">Creature::get_pain_description</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>    <span class="keywordtype">float</span> <a class="code hl_enumeration" href="namespacecoords.html#aefed5186be640da17dc0e723c536715a">scale</a> = <a class="code hl_function" href="classCreature.html#a402025ac07eb74792b0885446b912cac">get_perceived_pain</a>() / 10.f;</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>    std::string pain_string;</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>    <a class="code hl_class" href="classnc__color.html">nc_color</a> pain_color = <a class="code hl_define" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>;</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>    <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacecoords.html#aefed5186be640da17dc0e723c536715a">scale</a> &gt; 7 ) {</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>        pain_string = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Severe pain&quot;</span> );</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacecoords.html#aefed5186be640da17dc0e723c536715a">scale</a> &gt; 6 ) {</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>        pain_string = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Intense pain&quot;</span> );</div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacecoords.html#aefed5186be640da17dc0e723c536715a">scale</a> &gt; 5 ) {</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>        pain_string = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Unmanageable pain&quot;</span> );</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacecoords.html#aefed5186be640da17dc0e723c536715a">scale</a> &gt; 4 ) {</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>        pain_string = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Distressing pain&quot;</span> );</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacecoords.html#aefed5186be640da17dc0e723c536715a">scale</a> &gt; 3 ) {</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>        pain_string = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Distracting pain&quot;</span> );</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacecoords.html#aefed5186be640da17dc0e723c536715a">scale</a> &gt; 2 ) {</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>        pain_string = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Moderate pain&quot;</span> );</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacecoords.html#aefed5186be640da17dc0e723c536715a">scale</a> &gt; 1 ) {</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>        pain_string = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Mild pain&quot;</span> );</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_enumeration" href="namespacecoords.html#aefed5186be640da17dc0e723c536715a">scale</a> &gt; 0 ) {</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>        pain_string = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;Minimal pain&quot;</span> );</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>        pain_string = <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;No pain&quot;</span> );</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>        pain_color = <a class="code hl_define" href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a>;</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>    }</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>    <span class="keywordflow">return</span> std::make_pair( pain_string, pain_color );</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>}</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span> </div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"><a class="line" href="classCreature.html#af3d3fb7cfb98cf3c36f0f0681414274a"> 1404</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#af3d3fb7cfb98cf3c36f0f0681414274a">Creature::get_moves</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a>;</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>}</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"><a class="line" href="classCreature.html#a891bc2d0c564449cb462178317819254"> 1408</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">Creature::mod_moves</a>( <span class="keywordtype">int</span> nmoves )</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>{</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>    <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> += nmoves;</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>}</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"><a class="line" href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080"> 1412</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080">Creature::set_moves</a>( <span class="keywordtype">int</span> nmoves )</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>{</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>    <a class="code hl_variable" href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">moves</a> = nmoves;</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>}</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span> </div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"><a class="line" href="classCreature.html#ac7516d970e4db80cfcf8c0c8d345a2fa"> 1417</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#ac7516d970e4db80cfcf8c0c8d345a2fa">Creature::in_sleep_state</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a> ) || <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#ac95fd54d69ea350ea463a719fa7f3550">effect_lying_down</a> ) ||</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>           <a class="code hl_function" href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">has_effect</a>( <a class="code hl_variable" href="creature_8cpp.html#a74abddcaf98d4f59d99c051a421bee67">effect_npc_suspend</a> );</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>}</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span> </div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span><span class="comment">/*</span></div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span><span class="comment"> * Killer-related things</span></div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span><span class="comment"> */</span></div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"><a class="line" href="classCreature.html#a3175e1b479b42298f197f5a41de45f50"> 1426</a></span><a class="code hl_class" href="classCreature.html">Creature</a> *<a class="code hl_function" href="classCreature.html#a3175e1b479b42298f197f5a41de45f50">Creature::get_killer</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a>;</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>}</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span> </div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"><a class="line" href="classCreature.html#ad88ff594784edeceaef456d2a08180bc"> 1431</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#ad88ff594784edeceaef456d2a08180bc">Creature::set_killer</a>( <a class="code hl_class" href="classCreature.html">Creature</a> *<span class="keyword">const</span> killer )</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>{</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>    <span class="comment">// Only the first killer will be stored, calling set_killer again with a different</span></div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>    <span class="comment">// killer would mean it&#39;s called on a dead creature and therefore ignored.</span></div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>    <span class="keywordflow">if</span>( <a class="code hl_variable" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a> != <span class="keyword">nullptr</span> &amp;&amp; !<a class="code hl_variable" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a>-&gt;<a class="code hl_function" href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">is_fake</a>() &amp;&amp; this-&gt;killer == <span class="keyword">nullptr</span> ) {</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>        this-&gt;killer = <a class="code hl_variable" href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">killer</a>;</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>    }</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>}</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span> </div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"><a class="line" href="classCreature.html#a805a8d90db2178529997b355e8898d70"> 1440</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a805a8d90db2178529997b355e8898d70">Creature::get_num_blocks</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a69db025e34e82c34b56df73f56965350">num_blocks</a> + <a class="code hl_variable" href="classCreature.html#ad773414b7104cae9ac1df7404528a956">num_blocks_bonus</a>;</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>}</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"><a class="line" href="classCreature.html#a655af12aa145ee7fe2340c24a3b4b856"> 1444</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a655af12aa145ee7fe2340c24a3b4b856">Creature::get_num_dodges</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a360b7ab7279423ee61b38d433ba338fd">num_dodges</a> + <a class="code hl_variable" href="classCreature.html#a4945480df006184bdaf4b5b41ba976ea">num_dodges_bonus</a>;</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>}</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"><a class="line" href="classCreature.html#a5e5459c1b7ff6fee815a1f15643a972c"> 1448</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a5e5459c1b7ff6fee815a1f15643a972c">Creature::get_num_blocks_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#ad773414b7104cae9ac1df7404528a956">num_blocks_bonus</a>;</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>}</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"><a class="line" href="classCreature.html#ae498ac0177ab95ad88e80a454e67f721"> 1452</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#ae498ac0177ab95ad88e80a454e67f721">Creature::get_num_dodges_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a4945480df006184bdaf4b5b41ba976ea">num_dodges_bonus</a>;</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>}</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"><a class="line" href="classCreature.html#a6596f10b3ecc70bf4ece4a13eac31cb9"> 1456</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a6596f10b3ecc70bf4ece4a13eac31cb9">Creature::get_num_dodges_base</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a360b7ab7279423ee61b38d433ba338fd">num_dodges</a>;</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>}</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span> </div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span><span class="comment">// currently this is expected to be overridden to actually have use</span></div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"><a class="line" href="classCreature.html#a270368871cfa3557eaed0492367fa187"> 1462</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a270368871cfa3557eaed0492367fa187">Creature::get_env_resist</a>( <a class="code hl_class" href="classint__id.html">bodypart_id</a> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>}</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"><a class="line" href="classCreature.html#a3e049fbeaa6a392bd3a2594005b397af"> 1466</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a3e049fbeaa6a392bd3a2594005b397af">Creature::get_armor_bash</a>( <a class="code hl_class" href="classint__id.html">bodypart_id</a> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#ac168f97cc5268464cb3682f43de4d930">armor_bash_bonus</a>;</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>}</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"><a class="line" href="classCreature.html#a5bb5438474141314c9a9f11a565b6c9c"> 1470</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a5bb5438474141314c9a9f11a565b6c9c">Creature::get_armor_cut</a>( <a class="code hl_class" href="classint__id.html">bodypart_id</a> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a528da8d40c63bf838c55adcaad40651e">armor_cut_bonus</a>;</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>}</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"><a class="line" href="classCreature.html#a7295e035c9719d16155d005737932109"> 1474</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a7295e035c9719d16155d005737932109">Creature::get_armor_bullet</a>( <a class="code hl_class" href="classint__id.html">bodypart_id</a> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a4ebc73e7d9d10c69c542d88edeea06b3">armor_bullet_bonus</a>;</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>}</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"><a class="line" href="classCreature.html#a43bc2b5daebb952f970f7819cb61319d"> 1478</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a43bc2b5daebb952f970f7819cb61319d">Creature::get_armor_bash_base</a>( <a class="code hl_class" href="classint__id.html">bodypart_id</a> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#ac168f97cc5268464cb3682f43de4d930">armor_bash_bonus</a>;</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>}</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"><a class="line" href="classCreature.html#a710e146637c0d48159de984d997c551c"> 1482</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a710e146637c0d48159de984d997c551c">Creature::get_armor_cut_base</a>( <a class="code hl_class" href="classint__id.html">bodypart_id</a> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a528da8d40c63bf838c55adcaad40651e">armor_cut_bonus</a>;</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>}</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"><a class="line" href="classCreature.html#af2258ac80264fd7dd385016b97490324"> 1486</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#af2258ac80264fd7dd385016b97490324">Creature::get_armor_bullet_base</a>( <a class="code hl_class" href="classint__id.html">bodypart_id</a> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a4ebc73e7d9d10c69c542d88edeea06b3">armor_bullet_bonus</a>;</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>}</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"><a class="line" href="classCreature.html#ac60aa5fbf2288af721c85d4ad0e5c3d7"> 1490</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#ac60aa5fbf2288af721c85d4ad0e5c3d7">Creature::get_armor_bash_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#ac168f97cc5268464cb3682f43de4d930">armor_bash_bonus</a>;</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>}</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"><a class="line" href="classCreature.html#ac0a50a1c65fe8eb4879f9efcb8611aaa"> 1494</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#ac0a50a1c65fe8eb4879f9efcb8611aaa">Creature::get_armor_cut_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a528da8d40c63bf838c55adcaad40651e">armor_cut_bonus</a>;</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>}</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"><a class="line" href="classCreature.html#ade576569fbf413f86248ed9612266181"> 1498</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#ade576569fbf413f86248ed9612266181">Creature::get_armor_bullet_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a4ebc73e7d9d10c69c542d88edeea06b3">armor_bullet_bonus</a>;</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>}</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span> </div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span> </div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"><a class="line" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de"> 1504</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">Creature::get_speed</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">get_speed_base</a>() + <a class="code hl_function" href="classCreature.html#a35bbfb9c042ed3cf7e0ae9b7280384c4">get_speed_bonus</a>();</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>}</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"><a class="line" href="classCreature.html#aaa501dbe3d1e90d47da43fb9ea57b3be"> 1508</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classCreature.html#aaa501dbe3d1e90d47da43fb9ea57b3be">Creature::get_dodge</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#a33f2223d3fa61c5a6cad98914f3895fa">get_dodge_base</a>() + <a class="code hl_function" href="classCreature.html#ab7f9ca1f62f41d70a2615dfeb17b7cbc">get_dodge_bonus</a>();</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>}</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"><a class="line" href="classCreature.html#a88b81d1ff0359794554e81c7ae16f370"> 1512</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classCreature.html#a88b81d1ff0359794554e81c7ae16f370">Creature::get_hit</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#a0c2ef38bf9bcedcb014daefe3571e37c">get_hit_base</a>() + <a class="code hl_function" href="classCreature.html#a06ca4f66498062afc881d76b82946bac">get_hit_bonus</a>();</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>}</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span> </div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"><a class="line" href="classCreature.html#a59d8ead2387b3b99cb2e88c5f1858e17"> 1517</a></span><a class="code hl_class" href="classstring__id.html">anatomy_id</a> <a class="code hl_function" href="classCreature.html#a59d8ead2387b3b99cb2e88c5f1858e17">Creature::get_anatomy</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#ac339c87d92ebb3cc1092d12e78886184">creature_anatomy</a>;</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>}</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span> </div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"><a class="line" href="classCreature.html#aae4a92105510e6459a382ff5a4e74833"> 1522</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#aae4a92105510e6459a382ff5a4e74833">Creature::set_anatomy</a>( <a class="code hl_class" href="classstring__id.html">anatomy_id</a> anat )</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>{</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>    <a class="code hl_variable" href="classCreature.html#ac339c87d92ebb3cc1092d12e78886184">creature_anatomy</a> = anat;</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>}</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span> </div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"><a class="line" href="classCreature.html#ac4dbde454c86b3296f53681c60612974"> 1527</a></span><span class="keyword">const</span> std::map&lt;bodypart_str_id, bodypart&gt; &amp;<a class="code hl_function" href="classCreature.html#ac4dbde454c86b3296f53681c60612974">Creature::get_body</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>;</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>}</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span> </div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"><a class="line" href="classCreature.html#a08520d85381520ff27dc274d5718a989"> 1532</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a08520d85381520ff27dc274d5718a989">Creature::set_body</a>()</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>{</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>    <a class="code hl_variable" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>.clear();</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;bp : <a class="code hl_function" href="classCreature.html#a59d8ead2387b3b99cb2e88c5f1858e17">get_anatomy</a>()-&gt;get_bodyparts() ) {</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>        <a class="code hl_variable" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>.emplace( bp.id(), <a class="code hl_class" href="classbodypart.html">bodypart</a>( bp.id() ) );</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>    }</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>}</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span> </div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"><a class="line" href="classCreature.html#af376b238bc80631e8873908f465fe7b2"> 1540</a></span><a class="code hl_class" href="classbodypart.html">bodypart</a> *<a class="code hl_function" href="classCreature.html#af376b238bc80631e8873908f465fe7b2">Creature::get_part</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>{</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span>    <span class="keyword">auto</span> found = <a class="code hl_variable" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>.find( <span class="keywordtype">id</span>.<span class="keywordtype">id</span>() );</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span>    <span class="keywordflow">if</span>( found == <a class="code hl_variable" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>.end() ) {</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Could not find bodypart %s in %s&#39;s body&quot;</span>, <span class="keywordtype">id</span>.<span class="keywordtype">id</span>().c_str(), <a class="code hl_function" href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">get_name</a>() );</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>    }</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>    <span class="keywordflow">return</span> &amp;found-&gt;second;</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>}</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span> </div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"><a class="line" href="classCreature.html#aab0b7b276eb26a27b07f4c228126b5ae"> 1550</a></span><a class="code hl_class" href="classbodypart.html">bodypart</a> <a class="code hl_function" href="classCreature.html#af376b238bc80631e8873908f465fe7b2">Creature::get_part</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>    <span class="keyword">auto</span> found = <a class="code hl_variable" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>.find( <span class="keywordtype">id</span>.<span class="keywordtype">id</span>() );</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>    <span class="keywordflow">if</span>( found == <a class="code hl_variable" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a>.end() ) {</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>        <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Could not find bodypart %s in %s&#39;s body&quot;</span>, <span class="keywordtype">id</span>.<span class="keywordtype">id</span>().c_str(), <a class="code hl_function" href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">get_name</a>() );</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="classbodypart.html">bodypart</a>();</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>    }</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>    <span class="keywordflow">return</span> found-&gt;second;</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>}</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span> </div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"><a class="line" href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c"> 1560</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c">Creature::get_part_hp_cur</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#af376b238bc80631e8873908f465fe7b2">get_part</a>( <span class="keywordtype">id</span> ).<a class="code hl_function" href="classbodypart.html#a9427d18e8394124cbea692220e565338">get_hp_cur</a>();</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>}</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span> </div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"><a class="line" href="classCreature.html#aad6dc5532f233030d367ed67e0ea6613"> 1565</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#aad6dc5532f233030d367ed67e0ea6613">Creature::get_part_hp_max</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#af376b238bc80631e8873908f465fe7b2">get_part</a>( <span class="keywordtype">id</span> ).<a class="code hl_function" href="classbodypart.html#a6ada80f0743249902457366cbe91f9a3">get_hp_max</a>();</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>}</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span> </div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"><a class="line" href="classCreature.html#aeff660cc0df3f660c46142e5362f8ffe"> 1570</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#aeff660cc0df3f660c46142e5362f8ffe">Creature::get_part_healed_total</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#af376b238bc80631e8873908f465fe7b2">get_part</a>( <span class="keywordtype">id</span> ).<a class="code hl_function" href="classbodypart.html#a01e15a79b1fb4a5197486c91860b9a82">get_healed_total</a>();</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>}</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span> </div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"><a class="line" href="classCreature.html#a226d6b1000b12edac3e5adecae7b8928"> 1575</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a226d6b1000b12edac3e5adecae7b8928">Creature::set_part_hp_cur</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> set )</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>{</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>    <a class="code hl_function" href="classCreature.html#af376b238bc80631e8873908f465fe7b2">get_part</a>( <span class="keywordtype">id</span> )-&gt;<a class="code hl_function" href="classbodypart.html#ae88ff0fc462258a02b00a69aa789b7c5">set_hp_cur</a>( set );</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>}</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span> </div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"><a class="line" href="classCreature.html#a6ee8599df32920db133b4d40281fe61e"> 1580</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a6ee8599df32920db133b4d40281fe61e">Creature::set_part_hp_max</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> set )</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>{</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>    <a class="code hl_function" href="classCreature.html#af376b238bc80631e8873908f465fe7b2">get_part</a>( <span class="keywordtype">id</span> )-&gt;<a class="code hl_function" href="classbodypart.html#acb7258a8e81bf912411924022d5e190e">set_hp_max</a>( set );</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>}</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span> </div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"><a class="line" href="classCreature.html#a92182fbfd56229f1d8d23b929955b6a4"> 1585</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a92182fbfd56229f1d8d23b929955b6a4">Creature::set_part_healed_total</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> set )</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>{</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>    <a class="code hl_function" href="classCreature.html#af376b238bc80631e8873908f465fe7b2">get_part</a>( <span class="keywordtype">id</span> )-&gt;<a class="code hl_function" href="classbodypart.html#a6e0c176c23e7925aff8da7dbab93049e">set_healed_total</a>( set );</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>}</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span> </div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"><a class="line" href="classCreature.html#a29006b1d624e44def0208134e7f0ac3f"> 1590</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a29006b1d624e44def0208134e7f0ac3f">Creature::mod_part_hp_cur</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> )</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>{</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>    <a class="code hl_function" href="classCreature.html#af376b238bc80631e8873908f465fe7b2">get_part</a>( <span class="keywordtype">id</span> )-&gt;<a class="code hl_function" href="classbodypart.html#a0ea0f17ff89b6c44b1c9609a34bdf608">mod_hp_cur</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>}</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span> </div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"><a class="line" href="classCreature.html#a29b7481562f5db150aa48141a0994ed2"> 1595</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a29b7481562f5db150aa48141a0994ed2">Creature::mod_part_hp_max</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> )</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>{</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>    <a class="code hl_function" href="classCreature.html#af376b238bc80631e8873908f465fe7b2">get_part</a>( <span class="keywordtype">id</span> )-&gt;<a class="code hl_function" href="classbodypart.html#a24002476e28e50b4ad9122caec149e15">mod_hp_max</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>}</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span> </div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"><a class="line" href="classCreature.html#a55954967387e535b1e52f16946a85a47"> 1600</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a55954967387e535b1e52f16946a85a47">Creature::mod_part_healed_total</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;<span class="keywordtype">id</span>, <span class="keywordtype">int</span> <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> )</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>{</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>    <a class="code hl_function" href="classCreature.html#af376b238bc80631e8873908f465fe7b2">get_part</a>( <span class="keywordtype">id</span> )-&gt;<a class="code hl_function" href="classbodypart.html#adf6b6eeaa4113a29750b2c952506643a">mod_healed_total</a>( <a class="code hl_enumeration" href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">mod</a> );</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>}</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span> </div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"><a class="line" href="classCreature.html#a6ebcf1d6c0af9f4223695752a5ae3632"> 1605</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a6ebcf1d6c0af9f4223695752a5ae3632">Creature::set_all_parts_hp_cur</a>( <span class="keyword">const</span> <span class="keywordtype">int</span> set )</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>{</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>    <span class="keywordflow">for</span>( std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code hl_variable" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a> ) {</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>        elem.second.set_hp_cur( set );</div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>    }</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>}</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span> </div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"><a class="line" href="classCreature.html#a6af61264a3d5ac62a64df4899e87d2c1"> 1612</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a6af61264a3d5ac62a64df4899e87d2c1">Creature::set_all_parts_hp_to_max</a>()</div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span>{</div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>    <span class="keywordflow">for</span>( std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code hl_variable" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a> ) {</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>        elem.second.set_hp_to_max();</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>    }</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>}</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span> </div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span> </div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"><a class="line" href="classCreature.html#a51c96c81ae1ea766b5eead4a265c1492"> 1620</a></span><a class="code hl_class" href="classint__id.html">bodypart_id</a> <a class="code hl_function" href="classCreature.html#a51c96c81ae1ea766b5eead4a265c1492">Creature::get_random_body_part</a>( <span class="keywordtype">bool</span> <a class="code hl_function" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>    <span class="comment">// TODO: Refuse broken limbs, adjust for mutations</span></div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>    <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;part = <a class="code hl_function" href="classCreature.html#a59d8ead2387b3b99cb2e88c5f1858e17">get_anatomy</a>()-&gt;<a class="code hl_function" href="classanatomy.html#abae9f237437b7f56f5efbd6983706324">random_body_part</a>();</div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> ? part-&gt;main_part.<a class="code hl_function" href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">id</a>() : part;</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>}</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span> </div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"><a class="line" href="classCreature.html#a9f9cc294949ffc5bd51ab464b5c5ad6f"> 1627</a></span>std::vector&lt;bodypart_id&gt; <a class="code hl_function" href="classCreature.html#a9f9cc294949ffc5bd51ab464b5c5ad6f">Creature::get_all_body_parts</a>( <span class="keywordtype">bool</span> only_main )<span class="keyword"> const</span></div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>    std::vector&lt;bodypart_id&gt; all_bps;</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code hl_variable" href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">body</a> ) {</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>        <span class="keywordflow">if</span>( only_main &amp;&amp; elem.first-&gt;main_part != elem.first ) {</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>        }</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>        all_bps.push_back( elem.first );</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>    }</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span> </div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>    <span class="keywordflow">return</span>  all_bps;</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>}</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span> </div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"><a class="line" href="classCreature.html#a94737d93f30cee269b2df71478ee29fd"> 1640</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#ab1bef04dffb96ab1ad30472fd2895a08">Creature::get_hp</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;bp )<span class="keyword"> const</span></div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>    <span class="keywordflow">if</span>( bp != <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;num_bp&quot;</span> ) ) {</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c">get_part_hp_cur</a>( bp );</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>    }</div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>    <span class="keywordtype">int</span> hp_total = 0;</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code hl_function" href="classCreature.html#ac4dbde454c86b3296f53681c60612974">get_body</a>() ) {</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>        hp_total += elem.second.get_hp_cur();</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>    }</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>    <span class="keywordflow">return</span> hp_total;</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>}</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span> </div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"><a class="line" href="classCreature.html#ab1bef04dffb96ab1ad30472fd2895a08"> 1652</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#ab1bef04dffb96ab1ad30472fd2895a08">Creature::get_hp</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#ab1bef04dffb96ab1ad30472fd2895a08">get_hp</a>( <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;num_bp&quot;</span> ) );</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>}</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span> </div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"><a class="line" href="classCreature.html#a6e1819fd37a50af66566c6d1b896572a"> 1657</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561">Creature::get_hp_max</a>( <span class="keyword">const</span> <a class="code hl_class" href="classint__id.html">bodypart_id</a> &amp;bp )<span class="keyword"> const</span></div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>    <span class="keywordflow">if</span>( bp != <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;num_bp&quot;</span> ) ) {</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#aad6dc5532f233030d367ed67e0ea6613">get_part_hp_max</a>( bp );</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>    }</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>    <span class="keywordtype">int</span> hp_total = 0;</div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>    <span class="keywordflow">for</span>( <span class="keyword">const</span> std::pair&lt;const bodypart_str_id, bodypart&gt; &amp;elem : <a class="code hl_function" href="classCreature.html#ac4dbde454c86b3296f53681c60612974">get_body</a>() ) {</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>        hp_total += elem.second.get_hp_max();</div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>    }</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>    <span class="keywordflow">return</span> hp_total;</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>}</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span> </div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"><a class="line" href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561"> 1669</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561">Creature::get_hp_max</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561">get_hp_max</a>( <a class="code hl_typedef" href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a>( <span class="stringliteral">&quot;num_bp&quot;</span> ) );</div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span>}</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span> </div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"><a class="line" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b"> 1674</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">Creature::get_speed_base</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a4d6cd41ef532de75cb9bb2aadcc68f06">speed_base</a>;</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>}</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"><a class="line" href="classCreature.html#a35bbfb9c042ed3cf7e0ae9b7280384c4"> 1678</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a35bbfb9c042ed3cf7e0ae9b7280384c4">Creature::get_speed_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#ae668a71c7a468fe4753374d3d51481bb">speed_bonus</a>;</div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>}</div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"><a class="line" href="classCreature.html#ab7f9ca1f62f41d70a2615dfeb17b7cbc"> 1682</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classCreature.html#ab7f9ca1f62f41d70a2615dfeb17b7cbc">Creature::get_dodge_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#adbb994679f77dfa6b446c0d36961c6a2">dodge_bonus</a>;</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>}</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"><a class="line" href="classCreature.html#a282e131a72c19f24c7f0a56323b47ecb"> 1686</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classCreature.html#a282e131a72c19f24c7f0a56323b47ecb">Creature::get_block_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#ab0206ab4bdb7c990e917cb5240d2a470">block_bonus</a>; <span class="comment">//base is 0</span></div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>}</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"><a class="line" href="classCreature.html#a06ca4f66498062afc881d76b82946bac"> 1690</a></span><span class="keywordtype">float</span> <a class="code hl_function" href="classCreature.html#a06ca4f66498062afc881d76b82946bac">Creature::get_hit_bonus</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classCreature.html#a7bb35215732acc025692d329fb3e2e13">hit_bonus</a>; <span class="comment">//base is 0</span></div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>}</div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span> </div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"><a class="line" href="classCreature.html#aafc0c68bbbca5efcf8d82a321b657588"> 1695</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#aafc0c68bbbca5efcf8d82a321b657588">Creature::mod_stat</a>( <span class="keyword">const</span> std::string &amp;stat, <span class="keywordtype">float</span> modifier )</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>{</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>    <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;speed&quot;</span> ) {</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>        <a class="code hl_function" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">mod_speed_bonus</a>( modifier );</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;dodge&quot;</span> ) {</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>        <a class="code hl_function" href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">mod_dodge_bonus</a>( modifier );</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;block&quot;</span> ) {</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>        <a class="code hl_function" href="classCreature.html#a73dcd9331c055a2cd05d05be0337257d">mod_block_bonus</a>( modifier );</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;hit&quot;</span> ) {</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>        <a class="code hl_function" href="classCreature.html#a089a7123da50e5ffa294e86e0d8dacd6">mod_hit_bonus</a>( modifier );</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;pain&quot;</span> ) {</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>        <a class="code hl_function" href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54">mod_pain</a>( modifier );</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( stat == <span class="stringliteral">&quot;moves&quot;</span> ) {</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>        <a class="code hl_function" href="classCreature.html#a891bc2d0c564449cb462178317819254">mod_moves</a>( modifier );</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>        <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <span class="stringliteral">&quot;Tried to modify a nonexistent stat %s.&quot;</span>, stat.c_str() );</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>    }</div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>}</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span> </div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"><a class="line" href="classCreature.html#aaed992e8acaf0e9dc182ea8ce1d15423"> 1714</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#aaed992e8acaf0e9dc182ea8ce1d15423">Creature::set_num_blocks_bonus</a>( <span class="keywordtype">int</span> nblocks )</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>{</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>    <a class="code hl_variable" href="classCreature.html#ad773414b7104cae9ac1df7404528a956">num_blocks_bonus</a> = nblocks;</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>}</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"><a class="line" href="classCreature.html#adffc2b92625bf6103e3e2f95c3a404c3"> 1718</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#adffc2b92625bf6103e3e2f95c3a404c3">Creature::mod_num_dodges_bonus</a>( <span class="keywordtype">int</span> ndodges )</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>{</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>    <a class="code hl_variable" href="classCreature.html#a4945480df006184bdaf4b5b41ba976ea">num_dodges_bonus</a> += ndodges;</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>}</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span> </div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"><a class="line" href="classCreature.html#a1d5c909ab864ba5bf09323c083af1283"> 1723</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a1d5c909ab864ba5bf09323c083af1283">Creature::set_armor_bash_bonus</a>( <span class="keywordtype">int</span> nbasharm )</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>{</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>    <a class="code hl_variable" href="classCreature.html#ac168f97cc5268464cb3682f43de4d930">armor_bash_bonus</a> = nbasharm;</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>}</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"><a class="line" href="classCreature.html#a963a66db8e5601c1fb7ade8501d98d4a"> 1727</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a963a66db8e5601c1fb7ade8501d98d4a">Creature::set_armor_cut_bonus</a>( <span class="keywordtype">int</span> ncutarm )</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>{</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>    <a class="code hl_variable" href="classCreature.html#a528da8d40c63bf838c55adcaad40651e">armor_cut_bonus</a> = ncutarm;</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>}</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"><a class="line" href="classCreature.html#ae7b4cc2f6c25729d298e22052e54bc6c"> 1731</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#ae7b4cc2f6c25729d298e22052e54bc6c">Creature::set_armor_bullet_bonus</a>( <span class="keywordtype">int</span> nbulletarm )</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>{</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>    <a class="code hl_variable" href="classCreature.html#a4ebc73e7d9d10c69c542d88edeea06b3">armor_bullet_bonus</a> = nbulletarm;</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>}</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span> </div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"><a class="line" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa"> 1736</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">Creature::set_speed_base</a>( <span class="keywordtype">int</span> nspeed )</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>{</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>    <a class="code hl_variable" href="classCreature.html#a4d6cd41ef532de75cb9bb2aadcc68f06">speed_base</a> = nspeed;</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>}</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"><a class="line" href="classCreature.html#a81fd71e521e09908425fc63a64458f59"> 1740</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a81fd71e521e09908425fc63a64458f59">Creature::set_speed_bonus</a>( <span class="keywordtype">int</span> nspeed )</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>{</div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>    <a class="code hl_variable" href="classCreature.html#ae668a71c7a468fe4753374d3d51481bb">speed_bonus</a> = nspeed;</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>}</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"><a class="line" href="classCreature.html#a7e9c58c5ee7f2c5780abe8f90bdd6608"> 1744</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a7e9c58c5ee7f2c5780abe8f90bdd6608">Creature::set_dodge_bonus</a>( <span class="keywordtype">float</span> ndodge )</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span>{</div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>    <a class="code hl_variable" href="classCreature.html#adbb994679f77dfa6b446c0d36961c6a2">dodge_bonus</a> = ndodge;</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>}</div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span> </div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"><a class="line" href="classCreature.html#a9993b4cb7492f25fb6eb70568009d90a"> 1749</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a9993b4cb7492f25fb6eb70568009d90a">Creature::set_block_bonus</a>( <span class="keywordtype">int</span> nblock )</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>{</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>    <a class="code hl_variable" href="classCreature.html#ab0206ab4bdb7c990e917cb5240d2a470">block_bonus</a> = nblock;</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>}</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"><a class="line" href="classCreature.html#a1258aef238c0dbd5dd72427a73ab0714"> 1753</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a1258aef238c0dbd5dd72427a73ab0714">Creature::set_hit_bonus</a>( <span class="keywordtype">float</span> nhit )</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>{</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>    <a class="code hl_variable" href="classCreature.html#a7bb35215732acc025692d329fb3e2e13">hit_bonus</a> = nhit;</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>}</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"><a class="line" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682"> 1757</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">Creature::mod_speed_bonus</a>( <span class="keywordtype">int</span> nspeed )</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>{</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>    <a class="code hl_variable" href="classCreature.html#ae668a71c7a468fe4753374d3d51481bb">speed_bonus</a> += nspeed;</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>}</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"><a class="line" href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048"> 1761</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">Creature::mod_dodge_bonus</a>( <span class="keywordtype">float</span> ndodge )</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>{</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>    <a class="code hl_variable" href="classCreature.html#adbb994679f77dfa6b446c0d36961c6a2">dodge_bonus</a> += ndodge;</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>}</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"><a class="line" href="classCreature.html#a73dcd9331c055a2cd05d05be0337257d"> 1765</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a73dcd9331c055a2cd05d05be0337257d">Creature::mod_block_bonus</a>( <span class="keywordtype">int</span> nblock )</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>{</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>    <a class="code hl_variable" href="classCreature.html#ab0206ab4bdb7c990e917cb5240d2a470">block_bonus</a> += nblock;</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>}</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"><a class="line" href="classCreature.html#a089a7123da50e5ffa294e86e0d8dacd6"> 1769</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a089a7123da50e5ffa294e86e0d8dacd6">Creature::mod_hit_bonus</a>( <span class="keywordtype">float</span> nhit )</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>{</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>    <a class="code hl_variable" href="classCreature.html#a7bb35215732acc025692d329fb3e2e13">hit_bonus</a> += nhit;</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>}</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span> </div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"><a class="line" href="classCreature.html#a3abf87ed21086c0a4ea2c6da9aef08cd"> 1774</a></span><a class="code hl_class" href="classunits_1_1quantity.html">units::mass</a> <a class="code hl_function" href="classCreature.html#a3abf87ed21086c0a4ea2c6da9aef08cd">Creature::weight_capacity</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>    <a class="code hl_class" href="classunits_1_1quantity.html">units::mass</a> base_carry = 13_kilogram;</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>    <span class="keywordflow">switch</span>( <a class="code hl_function" href="classCreature.html#ab4c5777adaad4601b9ca17330371f5b7">get_size</a>() ) {</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614">MS_TINY</a>:</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>            base_carry /= 4;</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a6a1920ba558cd6584b689f53519e9e96">MS_SMALL</a>:</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>            base_carry /= 2;</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592aaef7580aead8b8a18bc50cb6c1f98b31">MS_MEDIUM</a>:</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a50d9f673ed0348953b2715fa33683791">MS_LARGE</a>:</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>            base_carry *= 2;</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9">MS_HUGE</a>:</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>            base_carry *= 4;</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>    }</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span> </div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>    <span class="keywordflow">return</span> base_carry;</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span>}</div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span> </div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span><span class="comment">/*</span></div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span><span class="comment"> * Drawing-related functions</span></div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span><span class="comment"> */</span></div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"><a class="line" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316"> 1801</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">Creature::draw</a>( <span class="keyword">const</span> <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, <span class="keyword">const</span> <a class="code hl_struct" href="structpoint.html">point</a> &amp;<a class="code hl_enumeration" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, <span class="keywordtype">bool</span> inverted )<span class="keyword"> const</span></div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>    <a class="code hl_function" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">draw</a>( w, <a class="code hl_struct" href="structtripoint.html">tripoint</a>( <a class="code hl_enumeration" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, <a class="code hl_function" href="classCreature.html#a3a3ada596854cf8084b3a728b633a9db">posz</a>() ), inverted );</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>}</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span> </div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"><a class="line" href="classCreature.html#ac9bcfd9fd983268a76a178dc61869d52"> 1806</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">Creature::draw</a>( <span class="keyword">const</span> <a class="code hl_class" href="classcatacurses_1_1window.html">catacurses::window</a> &amp;w, <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;<a class="code hl_enumeration" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>, <span class="keywordtype">bool</span> inverted )<span class="keyword"> const</span></div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="output_8cpp.html#a734462f5e51e4a40374f3e301f0b847c">is_draw_tiles_mode</a>() ) {</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>    }</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span> </div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>    <a class="code hl_struct" href="structpoint.html">point</a> <a class="code hl_function" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">draw</a>( -<a class="code hl_enumeration" href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">origin</a>.xy() + <a class="code hl_struct" href="structpoint.html">point</a>( <a class="code hl_function" href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">getmaxx</a>( w ) / 2 + <a class="code hl_function" href="classCreature.html#af712029844aef7ebc7af88a9242e2df0">posx</a>(), <a class="code hl_function" href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">getmaxy</a>( w ) / 2 + <a class="code hl_function" href="classCreature.html#a1be20ab434ada66748d5b62fcfdbd5e4">posy</a>() ) );</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>    <span class="keywordflow">if</span>( inverted ) {</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>        <a class="code hl_function" href="output_8cpp.html#a8032083aedcd06543ba48b487844ca4b">mvwputch_inv</a>( w, <a class="code hl_function" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">draw</a>, <a class="code hl_function" href="classCreature.html#ae5454f0e4db71d31ab3c1331e5103a4b">basic_symbol_color</a>(), <a class="code hl_function" href="classCreature.html#a73c33e2237c032ac99b79a727216596a">symbol</a>() );</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a9eea7f2ab169160c6d6fc2a7d93c96f1">is_symbol_highlighted</a>() ) {</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>        <a class="code hl_function" href="output_8cpp.html#ae5dd6b0452233905e03a18f54b721f99">mvwputch_hi</a>( w, <a class="code hl_function" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">draw</a>, <a class="code hl_function" href="classCreature.html#ae5454f0e4db71d31ab3c1331e5103a4b">basic_symbol_color</a>(), <a class="code hl_function" href="classCreature.html#a73c33e2237c032ac99b79a727216596a">symbol</a>() );</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>        <a class="code hl_function" href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a>( w, <a class="code hl_function" href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">draw</a>, <a class="code hl_function" href="classCreature.html#ac05b5c462926b4f5b329e7b2826f8ce7">symbol_color</a>(), <a class="code hl_function" href="classCreature.html#a73c33e2237c032ac99b79a727216596a">symbol</a>() );</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>    }</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>}</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span> </div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"><a class="line" href="classCreature.html#a9eea7f2ab169160c6d6fc2a7d93c96f1"> 1822</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classCreature.html#a9eea7f2ab169160c6d6fc2a7d93c96f1">Creature::is_symbol_highlighted</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>}</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span> </div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"><a class="line" href="classCreature.html#ad7ff6d771fb2845965d103ad8cf2ff5d"> 1827</a></span><a class="code hl_enumeration" href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a> <a class="code hl_function" href="classCreature.html#ad7ff6d771fb2845965d103ad8cf2ff5d">Creature::select_body_part</a>( <a class="code hl_class" href="classCreature.html">Creature</a> *source, <span class="keywordtype">int</span> hit_roll )<span class="keyword"> const</span></div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>    <span class="keywordtype">int</span> szdif = source-&gt;<a class="code hl_function" href="classCreature.html#ab4c5777adaad4601b9ca17330371f5b7">get_size</a>() - <a class="code hl_function" href="classCreature.html#ab4c5777adaad4601b9ca17330371f5b7">get_size</a>();</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span> </div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a>, <span class="stringliteral">&quot;hit roll = %d&quot;</span>, <a class="code hl_function" href="classCreature.html#ae92d2444aa89afae41c107cf6fcf6851">hit_roll</a> );</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a>, <span class="stringliteral">&quot;source size = %d&quot;</span>, source-&gt;<a class="code hl_function" href="classCreature.html#ab4c5777adaad4601b9ca17330371f5b7">get_size</a>() );</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a>, <span class="stringliteral">&quot;target size = %d&quot;</span>, <a class="code hl_function" href="classCreature.html#ab4c5777adaad4601b9ca17330371f5b7">get_size</a>() );</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>    <a class="code hl_function" href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a>( <a class="code hl_enumvalue" href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a>, <span class="stringliteral">&quot;difference = %d&quot;</span>, szdif );</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span> </div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="anatomy_8cpp.html#a8f0c6d4c70f7d6652b6ddd64eb2c2ad2">human_anatomy</a>-&gt;<a class="code hl_function" href="classanatomy.html#a01f2145db69bbe77fd962184524a27c4">select_body_part</a>( szdif, <a class="code hl_function" href="classCreature.html#ae92d2444aa89afae41c107cf6fcf6851">hit_roll</a> )-&gt;token;</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>}</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span> </div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"><a class="line" href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158"> 1839</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158">Creature::check_dead_state</a>()</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>{</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#ab4c318885f6b9947a7c85d3328d25ffe">is_dead_state</a>() ) {</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>        <a class="code hl_function" href="classCreature.html#a330dad28f732a1cf3af695eedb54877d">die</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>    }</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>}</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span> </div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"><a class="line" href="classCreature.html#ad628fd3820652dc675e2165d3252e6dc"> 1846</a></span>std::string <a class="code hl_function" href="classCreature.html#ad628fd3820652dc675e2165d3252e6dc">Creature::attitude_raw_string</a>( <a class="code hl_enumeration" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Attitude</a> att )</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>{</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>    <span class="keywordflow">switch</span>( att ) {</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classCreature.html#a8a475630b3289c468bd06cf114008217a8972817fc4b645a5fee948a7ab4d3cc2">Creature::A_HOSTILE</a>:</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;hostile&quot;</span>;</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classCreature.html#a8a475630b3289c468bd06cf114008217a19028b9cbf5de71e700a5d8964fabab8">Creature::A_NEUTRAL</a>:</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;neutral&quot;</span>;</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classCreature.html#a8a475630b3289c468bd06cf114008217ac45ee12dee5d3dc56de7fe86e4484bea">Creature::A_FRIENDLY</a>:</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;friendly&quot;</span>;</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;other&quot;</span>;</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>    }</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>}</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span> </div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"><a class="line" href="classCreature.html#a025b4f9c24e557111c1501d2d7aaccef"> 1860</a></span><span class="keyword">const</span> std::pair&lt;translation, nc_color&gt; &amp;<a class="code hl_function" href="classCreature.html#a025b4f9c24e557111c1501d2d7aaccef">Creature::get_attitude_ui_data</a>( <a class="code hl_enumeration" href="classCreature.html#a8a475630b3289c468bd06cf114008217">Attitude</a> att )</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>{</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>    <span class="keyword">using</span> pair_t = std::pair&lt;translation, nc_color&gt;;</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>    <span class="keyword">static</span> <span class="keyword">const</span> std::array&lt;pair_t, 5&gt; strings {</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>        {</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>            pair_t {<a class="code hl_function" href="translations_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Hostile&quot;</span> ), <a class="code hl_define" href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a>},</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>            pair_t {<a class="code hl_function" href="translations_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Neutral&quot;</span> ), <a class="code hl_define" href="color_8h.html#a995c6d4982f304048812605b34fb31cb">h_white</a>},</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>            pair_t {<a class="code hl_function" href="translations_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Friendly&quot;</span> ), <a class="code hl_define" href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a>},</div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>            pair_t {<a class="code hl_function" href="translations_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;Any&quot;</span> ), <a class="code hl_define" href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a>},</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>            pair_t {<a class="code hl_function" href="translations_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a>( <span class="stringliteral">&quot;BUG: Behavior unnamed.  (Creature::get_attitude_ui_data)&quot;</span> ), <a class="code hl_define" href="color_8h.html#a59eb996497e69c762e67c0636fac348f">h_red</a>}</div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>        }</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>    };</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span> </div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>    <span class="keywordflow">if</span>( <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( att ) &lt; 0 || <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( att ) &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>( strings.size() ) ) {</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>        <span class="keywordflow">return</span> strings.back();</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>    }</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span> </div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>    <span class="keywordflow">return</span> strings[att];</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>}</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span> </div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"><a class="line" href="classCreature.html#aabed1ac65b7fbd67cfb8a3252b16e67d"> 1880</a></span>std::string <a class="code hl_function" href="classCreature.html#aabed1ac65b7fbd67cfb8a3252b16e67d">Creature::replace_with_npc_name</a>( std::string input )<span class="keyword"> const</span></div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="string__utils_8cpp.html#adf69fff1e9a5471c677d36846674eaa5">replace_all</a>( <a class="code hl_function" href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">std::move</a>( input ), <span class="stringliteral">&quot;&lt;npcname&gt;&quot;</span>, <a class="code hl_function" href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">disp_name</a>() );</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>}</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span> </div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"><a class="line" href="classCreature.html#aa39af83d946765e7e652fd66d50e807c"> 1885</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#aa39af83d946765e7e652fd66d50e807c">Creature::knock_back_from</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structtripoint.html">tripoint</a> &amp;p )</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>{</div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>    <span class="keywordflow">if</span>( p == <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>() ) {</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>        <span class="keywordflow">return</span>; <span class="comment">// No effect</span></div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>    }</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>    <span class="keywordflow">if</span>( <a class="code hl_function" href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">is_hallucination</a>() ) {</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>        <a class="code hl_function" href="classCreature.html#a330dad28f732a1cf3af695eedb54877d">die</a>( <span class="keyword">nullptr</span> );</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>    }</div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>    <a class="code hl_struct" href="structtripoint.html">tripoint</a> to = <a class="code hl_function" href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">pos</a>();</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>    <span class="keywordflow">if</span>( p.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> &lt; <a class="code hl_function" href="classCreature.html#af712029844aef7ebc7af88a9242e2df0">posx</a>() ) {</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>        to.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a>++;</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>    }</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>    <span class="keywordflow">if</span>( p.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a> &gt; <a class="code hl_function" href="classCreature.html#af712029844aef7ebc7af88a9242e2df0">posx</a>() ) {</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>        to.<a class="code hl_variable" href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">x</a>--;</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>    }</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>    <span class="keywordflow">if</span>( p.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> &lt; <a class="code hl_function" href="classCreature.html#a1be20ab434ada66748d5b62fcfdbd5e4">posy</a>() ) {</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>        to.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>++;</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>    }</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>    <span class="keywordflow">if</span>( p.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a> &gt; <a class="code hl_function" href="classCreature.html#a1be20ab434ada66748d5b62fcfdbd5e4">posy</a>() ) {</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>        to.<a class="code hl_variable" href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">y</a>--;</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>    }</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span> </div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>    <a class="code hl_function" href="classCreature.html#af79c1e1ef891477157860a3e31db8492">knock_back_to</a>( to );</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>}</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span> </div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"><a class="line" href="classCreature.html#a362ab9bed1655e6a8d89500c0a918151"> 1911</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">Creature::add_msg_if_player</a>( <span class="keyword">const</span> <a class="code hl_class" href="classtranslation.html">translation</a> &amp;msg )<span class="keyword"> const</span></div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( msg.<a class="code hl_function" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>() );</div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>}</div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span> </div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"><a class="line" href="classCreature.html#a9f53ca8ced4f6083f02d47ceef2aeb8b"> 1916</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">Creature::add_msg_if_player</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structgame__message__params.html">game_message_params</a> &amp;params, <span class="keyword">const</span> <a class="code hl_class" href="classtranslation.html">translation</a> &amp;msg )<span class="keyword"> const</span></div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">add_msg_if_player</a>( params, msg.<a class="code hl_function" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>() );</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>}</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span> </div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"><a class="line" href="classCreature.html#af3b0f9beac863a48f4e7b1b375ecc7cf"> 1921</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">Creature::add_msg_if_npc</a>( <span class="keyword">const</span> <a class="code hl_class" href="classtranslation.html">translation</a> &amp;msg )<span class="keyword"> const</span></div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( msg.<a class="code hl_function" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>() );</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>}</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span> </div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"><a class="line" href="classCreature.html#aff08a0fd32630c9d3ea6dd7320048028"> 1926</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">Creature::add_msg_if_npc</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structgame__message__params.html">game_message_params</a> &amp;params, <span class="keyword">const</span> <a class="code hl_class" href="classtranslation.html">translation</a> &amp;msg )<span class="keyword"> const</span></div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">add_msg_if_npc</a>( params, msg.<a class="code hl_function" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>() );</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>}</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span> </div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"><a class="line" href="classCreature.html#a7b6938eb560ebd8f5d2518632c0d21ea"> 1931</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">Creature::add_msg_player_or_npc</a>( <span class="keyword">const</span> <a class="code hl_class" href="classtranslation.html">translation</a> &amp;pc, <span class="keyword">const</span> <a class="code hl_class" href="classtranslation.html">translation</a> &amp;<a class="code hl_class" href="classnpc.html">npc</a> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( pc.<a class="code hl_function" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>(), <a class="code hl_class" href="classnpc.html">npc</a>.translated() );</div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>}</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span> </div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"><a class="line" href="classCreature.html#aba59f7f156a1a85ed266b0458fd6be2e"> 1936</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">Creature::add_msg_player_or_npc</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structgame__message__params.html">game_message_params</a> &amp;params, <span class="keyword">const</span> <a class="code hl_class" href="classtranslation.html">translation</a> &amp;pc,</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>                                      <span class="keyword">const</span> <a class="code hl_class" href="classtranslation.html">translation</a> &amp;<a class="code hl_class" href="classnpc.html">npc</a> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">add_msg_player_or_npc</a>( params, pc.<a class="code hl_function" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>(), <a class="code hl_class" href="classnpc.html">npc</a>.translated() );</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>}</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span> </div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"><a class="line" href="classCreature.html#a44a4fc37b385760d28c9d1ef786ed7c9"> 1942</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a915f59d2cd13a723af0b26fba3703926">Creature::add_msg_player_or_say</a>( <span class="keyword">const</span> <a class="code hl_class" href="classtranslation.html">translation</a> &amp;pc, <span class="keyword">const</span> <a class="code hl_class" href="classtranslation.html">translation</a> &amp;<a class="code hl_class" href="classnpc.html">npc</a> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#a915f59d2cd13a723af0b26fba3703926">add_msg_player_or_say</a>( pc.<a class="code hl_function" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>(), <a class="code hl_class" href="classnpc.html">npc</a>.translated() );</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>}</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span> </div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"><a class="line" href="classCreature.html#a5a71f490d521680c54e485b811129ca2"> 1947</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a915f59d2cd13a723af0b26fba3703926">Creature::add_msg_player_or_say</a>( <span class="keyword">const</span> <a class="code hl_struct" href="structgame__message__params.html">game_message_params</a> &amp;params, <span class="keyword">const</span> <a class="code hl_class" href="classtranslation.html">translation</a> &amp;pc,</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>                                      <span class="keyword">const</span> <a class="code hl_class" href="classtranslation.html">translation</a> &amp;<a class="code hl_class" href="classnpc.html">npc</a> )<span class="keyword"> const</span></div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classCreature.html#a915f59d2cd13a723af0b26fba3703926">add_msg_player_or_say</a>( params, pc.<a class="code hl_function" href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translated</a>(), <a class="code hl_class" href="classnpc.html">npc</a>.translated() );</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>}</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span> </div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"><a class="line" href="creature_8cpp.html#aa0ec3804384550ecf8db5c2e08993096"> 1953</a></span><span class="keyword">static</span> std::vector&lt;int&gt; <a class="code hl_variable" href="creature_8cpp.html#aa0ec3804384550ecf8db5c2e08993096">default_dispersion_for_ecogh</a> = { {</div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>        1731, 859, 573, 421, 341, 286, 245, 214, 191, 175,</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>        151, 143, 129, 118, 114, 107, 101, 94, 90, 78,</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>        78, 78, 74, 71, 68, 66, 62, 61, 59, 57,</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>        46, 46, 46, 46, 46, 46, 45, 45, 44, 42,</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>        41, 41, 39, 39, 38, 37, 36, 35, 34, 34,</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>        33, 33, 32, 30, 30, 30, 30, 29, 28</div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>    }</div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span>};</div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>std::vector&lt;int&gt; <a class="code hl_variable" href="classCreature.html#a73b9cb6320e4447addaec375887e7861">Creature::dispersion_for_even_chance_of_good_hit</a> = <a class="code hl_variable" href="creature_8cpp.html#aa0ec3804384550ecf8db5c2e08993096">default_dispersion_for_ecogh</a>;</div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span> </div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"><a class="line" href="classCreature.html#a1d0965e36bf4e849645d2d24c87cd5f0"> 1964</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a1d0965e36bf4e849645d2d24c87cd5f0">Creature::load_hit_range</a>( <span class="keyword">const</span> <a class="code hl_class" href="classJsonObject.html">JsonObject</a> &amp;jo )</div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>{</div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>    <span class="keywordflow">if</span>( jo.<a class="code hl_function" href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">has_array</a>( <span class="stringliteral">&quot;even_good&quot;</span> ) ) {</div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span>        jo.<a class="code hl_function" href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">read</a>( <span class="stringliteral">&quot;even_good&quot;</span>, <a class="code hl_variable" href="classCreature.html#a73b9cb6320e4447addaec375887e7861">dispersion_for_even_chance_of_good_hit</a> );</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span>    }</div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>}</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span> </div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"><a class="line" href="classCreature.html#a3bf8de6374564ea2a011d1235acb44a1"> 1971</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a3bf8de6374564ea2a011d1235acb44a1">Creature::reset_hit_range</a>()</div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span>{</div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>    <a class="code hl_variable" href="classCreature.html#a73b9cb6320e4447addaec375887e7861">dispersion_for_even_chance_of_good_hit</a> = <a class="code hl_variable" href="creature_8cpp.html#aa0ec3804384550ecf8db5c2e08993096">default_dispersion_for_ecogh</a>;</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>}</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span> </div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"><a class="line" href="classCreature.html#a1eadbc3e5891d1ff578ac49291e12b66"> 1976</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a1eadbc3e5891d1ff578ac49291e12b66">Creature::describe_infrared</a>( std::vector&lt;std::string&gt; &amp;buf )<span class="keyword"> const</span></div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span>    std::string size_str;</div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span>    <span class="keywordflow">switch</span>( <a class="code hl_function" href="classCreature.html#ab4c5777adaad4601b9ca17330371f5b7">get_size</a>() ) {</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614">m_size::MS_TINY</a>:</div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>            size_str = <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;infrared size&quot;</span>, <span class="stringliteral">&quot;tiny&quot;</span> );</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a6a1920ba558cd6584b689f53519e9e96">m_size::MS_SMALL</a>:</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span>            size_str = <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;infrared size&quot;</span>, <span class="stringliteral">&quot;small&quot;</span> );</div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592aaef7580aead8b8a18bc50cb6c1f98b31">m_size::MS_MEDIUM</a>:</div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>            size_str = <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;infrared size&quot;</span>, <span class="stringliteral">&quot;medium&quot;</span> );</div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a50d9f673ed0348953b2715fa33683791">m_size::MS_LARGE</a>:</div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span>            size_str = <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;infrared size&quot;</span>, <span class="stringliteral">&quot;large&quot;</span> );</div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9">m_size::MS_HUGE</a>:</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>            size_str = <a class="code hl_function" href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a>( <span class="stringliteral">&quot;infrared size&quot;</span>, <span class="stringliteral">&quot;huge&quot;</span> );</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>            <a class="code hl_define" href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a>( <span class="stringliteral">&quot;Creature has invalid size class.&quot;</span> );</div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span>            size_str = <span class="stringliteral">&quot;invalid&quot;</span>;</div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span>    }</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span>    buf.push_back( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You see a figure radiating heat.&quot;</span> ) );</div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span>    buf.push_back( <a class="code hl_function" href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a>( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;It is %s in size.&quot;</span> ), size_str ) );</div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>}</div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span> </div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"><a class="line" href="classCreature.html#a6293c17885ef44d613618b4953a1be17"> 2004</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classCreature.html#a6293c17885ef44d613618b4953a1be17">Creature::describe_specials</a>( std::vector&lt;std::string&gt; &amp;buf )<span class="keyword"> const</span></div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span><span class="keyword"></span>{</div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>    buf.push_back( <a class="code hl_define" href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a>( <span class="stringliteral">&quot;You sense a creature here.&quot;</span> ) );</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>}</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span> </div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"><a class="line" href="classCreature.html#acd41fe70086446befdb8d6e5a950c1ff"> 2009</a></span><a class="code hl_class" href="classeffects__map.html">effects_map</a> <a class="code hl_function" href="classCreature.html#acd41fe70086446befdb8d6e5a950c1ff">Creature::get_all_effects</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span><span class="keyword"></span>{</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>    <a class="code hl_class" href="classeffects__map.html">effects_map</a> effects_without_removed;</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>    <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;outer : *<a class="code hl_variable" href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">effects</a> ) {</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>        <span class="keywordflow">for</span>( <span class="keyword">auto</span> &amp;inner : outer.second ) {</div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>            <span class="keywordflow">if</span>( !inner.second.is_removed() ) {</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>                effects_without_removed[outer.first][inner.first] = inner.second;</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>            }</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span>        }</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>    }</div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span>    <span class="keywordflow">return</span> effects_without_removed;</div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>}</div>
<div class="ttc" id="aanatomy_8cpp_html_a8f0c6d4c70f7d6652b6ddd64eb2c2ad2"><div class="ttname"><a href="anatomy_8cpp.html#a8f0c6d4c70f7d6652b6ddd64eb2c2ad2">human_anatomy</a></div><div class="ttdeci">anatomy_id human_anatomy(&quot;human_anatomy&quot;)</div></div>
<div class="ttc" id="aanatomy_8h_html"><div class="ttname"><a href="anatomy_8h.html">anatomy.h</a></div></div>
<div class="ttc" id="aanatomy_8h_html_a1ed57b4e8ea6d9a0e43d3bbb59750771"><div class="ttname"><a href="anatomy_8h.html#a1ed57b4e8ea6d9a0e43d3bbb59750771">anatomy_id</a></div><div class="ttdeci">string_id&lt; anatomy &gt; anatomy_id</div><div class="ttdef"><b>Definition:</b> <a href="anatomy_8h_source.html#l00014">anatomy.h:14</a></div></div>
<div class="ttc" id="aartifact_8cpp_html_a70800e95389f34dd34186fafaea2a840"><div class="ttname"><a href="artifact_8cpp.html#a70800e95389f34dd34186fafaea2a840">rng</a></div><div class="ttdeci">units::quantity&lt; V, B &gt; rng(const units::quantity&lt; V, B &gt; &amp;min, const units::quantity&lt; V, B &gt; &amp;max)</div><div class="ttdef"><b>Definition:</b> <a href="artifact_8cpp_source.html#l00032">artifact.cpp:32</a></div></div>
<div class="ttc" id="aavatar_8h_html"><div class="ttname"><a href="avatar_8h.html">avatar.h</a></div></div>
<div class="ttc" id="abodypart_8cpp_html_ab29c0bad9828b787ace4d04a5e951c6b"><div class="ttname"><a href="bodypart_8cpp.html#ab29c0bad9828b787ace4d04a5e951c6b">body_part_name_accusative</a></div><div class="ttdeci">std::string body_part_name_accusative(body_part bp, int number)</div><div class="ttdoc">Returns the matching accusative name of the body_part token, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00329">bodypart.cpp:329</a></div></div>
<div class="ttc" id="abodypart_8cpp_html_ae34a481a7c686b233f2d8c48e43b723a"><div class="ttname"><a href="bodypart_8cpp.html#ae34a481a7c686b233f2d8c48e43b723a">convert_bp</a></div><div class="ttdeci">const bodypart_str_id &amp; convert_bp(body_part bp)</div><div class="ttdoc">Returns the new id for old token.</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00185">bodypart.cpp:185</a></div></div>
<div class="ttc" id="abodypart_8h_html_a089a199d69623f528a3883672f0a084e"><div class="ttname"><a href="bodypart_8h.html#a089a199d69623f528a3883672f0a084e">all_body_parts</a></div><div class="ttdeci">constexpr std::array&lt; body_part, 12 &gt; all_body_parts</div><div class="ttdoc">Contains all valid body_part values in the order they are defined in.</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00082">bodypart.h:82</a></div></div>
<div class="ttc" id="abodypart_8h_html_a426444e2d486ce1ee315d8b8acc86b40"><div class="ttname"><a href="bodypart_8h.html#a426444e2d486ce1ee315d8b8acc86b40">bodypart_id</a></div><div class="ttdeci">int_id&lt; body_part_type &gt; bodypart_id</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00023">bodypart.h:23</a></div></div>
<div class="ttc" id="abodypart_8h_html_ab5d79e6a6fc7e853dcd7e5fdc9cbe34c"><div class="ttname"><a href="bodypart_8h.html#ab5d79e6a6fc7e853dcd7e5fdc9cbe34c">bodypart_str_id</a></div><div class="ttdeci">string_id&lt; body_part_type &gt; bodypart_str_id</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00022">bodypart.h:22</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980">body_part</a></div><div class="ttdeci">body_part</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00039">bodypart.h:39</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980a2055386ee220ee2ca3e61d13df65e868"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980a2055386ee220ee2ca3e61d13df65e868">bp_eyes</a></div><div class="ttdeci">@ bp_eyes</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00042">bodypart.h:42</a></div></div>
<div class="ttc" id="abodypart_8h_html_af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700"><div class="ttname"><a href="bodypart_8h.html#af618290c4c2de42aab87977ac7311980ac09d37dac773806a42c13041ba254700">num_bp</a></div><div class="ttdeci">@ num_bp</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00053">bodypart.h:52</a></div></div>
<div class="ttc" id="acached__options_8cpp_html_a1eedced6e405cd87cabd19fdd193de43"><div class="ttname"><a href="cached__options_8cpp.html#a1eedced6e405cd87cabd19fdd193de43">fov_3d</a></div><div class="ttdeci">bool fov_3d</div><div class="ttdoc">3D FoV enabled/disabled.</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00014">cached_options.cpp:14</a></div></div>
<div class="ttc" id="acached__options_8cpp_html_aa021995764a0c77f628e3411497239cc"><div class="ttname"><a href="cached__options_8cpp.html#aa021995764a0c77f628e3411497239cc">debug_mode</a></div><div class="ttdeci">bool debug_mode</div><div class="ttdoc">Extended debugging mode, can be toggled during game.</div><div class="ttdef"><b>Definition:</b> <a href="cached__options_8cpp_source.html#l00004">cached_options.cpp:4</a></div></div>
<div class="ttc" id="acalendar_8cpp_html_aaf7cb0e1d64b92af65e14538a7e97674"><div class="ttname"><a href="calendar_8cpp.html#aaf7cb0e1d64b92af65e14538a7e97674">default_daylight_level</a></div><div class="ttdeci">double default_daylight_level()</div><div class="ttdoc">How much light is provided in full daylight.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00062">calendar.cpp:62</a></div></div>
<div class="ttc" id="acalendar_8h_html"><div class="ttname"><a href="calendar_8h.html">calendar.h</a></div></div>
<div class="ttc" id="acata__variant_8h_html_adfe42687fffdd05d233096b4e7dac2f4a5ba36ff0c0cae9ccd113903466f4e47c"><div class="ttname"><a href="cata__variant_8h.html#adfe42687fffdd05d233096b4e7dac2f4a5ba36ff0c0cae9ccd113903466f4e47c">cata_variant_type::efftype_id</a></div><div class="ttdeci">@ efftype_id</div></div>
<div class="ttc" id="acharacter_8cpp_html_a2fcb25d686f4a35fca374c6f71280311"><div class="ttname"><a href="character_8cpp.html#a2fcb25d686f4a35fca374c6f71280311">get_player_character</a></div><div class="ttdeci">Character &amp; get_player_character()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00387">character.cpp:387</a></div></div>
<div class="ttc" id="acharacter_8h_html"><div class="ttname"><a href="character_8h.html">character.h</a></div></div>
<div class="ttc" id="acharacter_8h_html_af749573d20b6327d21f9588ebdd5b19baa1885f8602d8a35017c4a310ed64e62b"><div class="ttname"><a href="character_8h.html#af749573d20b6327d21f9588ebdd5b19baa1885f8602d8a35017c4a310ed64e62b">CMM_CROUCH</a></div><div class="ttdeci">@ CMM_CROUCH</div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00104">character.h:104</a></div></div>
<div class="ttc" id="aclassCharacter_html"><div class="ttname"><a href="classCharacter.html">Character</a></div><div class="ttdef"><b>Definition:</b> <a href="character_8h_source.html#l00202">character.h:203</a></div></div>
<div class="ttc" id="aclassCharacter_html_a0b32571db45faeab8561f33af6da1e28"><div class="ttname"><a href="classCharacter.html#a0b32571db45faeab8561f33af6da1e28">Character::wake_up</a></div><div class="ttdeci">void wake_up()</div><div class="ttdoc">Removes &quot;sleep&quot; and &quot;lying_down&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l07673">character.cpp:7673</a></div></div>
<div class="ttc" id="aclassCharacter_html_a2ef8afad4fda9a0346b3852e4d9c3600"><div class="ttname"><a href="classCharacter.html#a2ef8afad4fda9a0346b3852e4d9c3600">Character::movement_mode_is</a></div><div class="ttdeci">bool movement_mode_is(character_movemode mode) const</div><div class="ttdoc">Check against the character's current movement mode.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01619">character.cpp:1619</a></div></div>
<div class="ttc" id="aclassCharacter_html_a85a591640ed5dec800bd4e6e42241fbf"><div class="ttname"><a href="classCharacter.html#a85a591640ed5dec800bd4e6e42241fbf">Character::forced_dismount</a></div><div class="ttdeci">void forced_dismount()</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l01148">character.cpp:1148</a></div></div>
<div class="ttc" id="aclassCharacter_html_aa5ca0f6c4fb1c08bb93ece1c9746c368"><div class="ttname"><a href="classCharacter.html#aa5ca0f6c4fb1c08bb93ece1c9746c368">Character::get_size</a></div><div class="ttdeci">m_size get_size() const override</div><div class="ttdoc">Get size class of character.</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00541">character.cpp:541</a></div></div>
<div class="ttc" id="aclassCharacter_html_ad24859164517ed6e392e21df69527199"><div class="ttname"><a href="classCharacter.html#ad24859164517ed6e392e21df69527199">Character::pos</a></div><div class="ttdeci">const tripoint &amp; pos() const override</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00714">character.cpp:714</a></div></div>
<div class="ttc" id="aclassCharacter_html_adb54bdcb284abb66b6be99c8ae225065"><div class="ttname"><a href="classCharacter.html#adb54bdcb284abb66b6be99c8ae225065">Character::getID</a></div><div class="ttdeci">character_id getID() const</div><div class="ttdef"><b>Definition:</b> <a href="character_8cpp_source.html#l00477">character.cpp:477</a></div></div>
<div class="ttc" id="aclassCreature_html"><div class="ttname"><a href="classCreature.html">Creature</a></div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00077">creature.h:78</a></div></div>
<div class="ttc" id="aclassCreature_html_a025b4f9c24e557111c1501d2d7aaccef"><div class="ttname"><a href="classCreature.html#a025b4f9c24e557111c1501d2d7aaccef">Creature::get_attitude_ui_data</a></div><div class="ttdeci">static const std::pair&lt; translation, nc_color &gt; &amp; get_attitude_ui_data(Attitude att)</div><div class="ttdoc">Creature Attitude as String and color.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01860">creature.cpp:1860</a></div></div>
<div class="ttc" id="aclassCreature_html_a04c1983abeefbf67db1e3f2b2a9b58ab"><div class="ttname"><a href="classCreature.html#a04c1983abeefbf67db1e3f2b2a9b58ab">Creature::set_value</a></div><div class="ttdeci">void set_value(const std::string &amp;key, const std::string &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01331">creature.cpp:1331</a></div></div>
<div class="ttc" id="aclassCreature_html_a0547ea1ba1d4fcc157db6a73b877f5d6"><div class="ttname"><a href="classCreature.html#a0547ea1ba1d4fcc157db6a73b877f5d6">Creature::apply_damage</a></div><div class="ttdeci">virtual void apply_damage(Creature *source, bodypart_id bp, int amount, bool bypass_med=false)=0</div></div>
<div class="ttc" id="aclassCreature_html_a06ca4f66498062afc881d76b82946bac"><div class="ttname"><a href="classCreature.html#a06ca4f66498062afc881d76b82946bac">Creature::get_hit_bonus</a></div><div class="ttdeci">virtual float get_hit_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01690">creature.cpp:1690</a></div></div>
<div class="ttc" id="aclassCreature_html_a07012d6d1998068bef112510c7424374"><div class="ttname"><a href="classCreature.html#a07012d6d1998068bef112510c7424374">Creature::is_monster</a></div><div class="ttdeci">virtual bool is_monster() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00101">creature.h:101</a></div></div>
<div class="ttc" id="aclassCreature_html_a08520d85381520ff27dc274d5718a989"><div class="ttname"><a href="classCreature.html#a08520d85381520ff27dc274d5718a989">Creature::set_body</a></div><div class="ttdeci">void set_body()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01532">creature.cpp:1532</a></div></div>
<div class="ttc" id="aclassCreature_html_a089a7123da50e5ffa294e86e0d8dacd6"><div class="ttname"><a href="classCreature.html#a089a7123da50e5ffa294e86e0d8dacd6">Creature::mod_hit_bonus</a></div><div class="ttdeci">virtual void mod_hit_bonus(float nhit)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01769">creature.cpp:1769</a></div></div>
<div class="ttc" id="aclassCreature_html_a090f59402eea6b1605cbfa5c2b2ac77c"><div class="ttname"><a href="classCreature.html#a090f59402eea6b1605cbfa5c2b2ac77c">Creature::is_immune_field</a></div><div class="ttdeci">virtual bool is_immune_field(const field_type_id &amp;) const</div><div class="ttdoc">Returns true if we are immune to the field type with the given fid.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00325">creature.h:325</a></div></div>
<div class="ttc" id="aclassCreature_html_a097380bdbcc6f2fee5e82328904c0dbd"><div class="ttname"><a href="classCreature.html#a097380bdbcc6f2fee5e82328904c0dbd">Creature::get_pain_description</a></div><div class="ttdeci">virtual std::pair&lt; std::string, nc_color &gt; get_pain_description() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01376">creature.cpp:1376</a></div></div>
<div class="ttc" id="aclassCreature_html_a0a561860988a2692df47476d9a15511e"><div class="ttname"><a href="classCreature.html#a0a561860988a2692df47476d9a15511e">Creature::underwater</a></div><div class="ttdeci">bool underwater</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00570">creature.h:570</a></div></div>
<div class="ttc" id="aclassCreature_html_a0b1213e6230bbb58a598b6f90f76b74c"><div class="ttname"><a href="classCreature.html#a0b1213e6230bbb58a598b6f90f76b74c">Creature::as_character</a></div><div class="ttdeci">virtual Character * as_character()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00116">creature.h:116</a></div></div>
<div class="ttc" id="aclassCreature_html_a0c2a2ea33a8193bb0779e87f4f67617b"><div class="ttname"><a href="classCreature.html#a0c2a2ea33a8193bb0779e87f4f67617b">Creature::set_pain</a></div><div class="ttdeci">virtual void set_pain(int npain)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01357">creature.cpp:1357</a></div></div>
<div class="ttc" id="aclassCreature_html_a0c2ef38bf9bcedcb014daefe3571e37c"><div class="ttname"><a href="classCreature.html#a0c2ef38bf9bcedcb014daefe3571e37c">Creature::get_hit_base</a></div><div class="ttdeci">virtual float get_hit_base() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a1217a190a2e561227e831a72d4a6d390"><div class="ttname"><a href="classCreature.html#a1217a190a2e561227e831a72d4a6d390">Creature::is_player</a></div><div class="ttdeci">virtual bool is_player() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00092">creature.h:92</a></div></div>
<div class="ttc" id="aclassCreature_html_a1258aef238c0dbd5dd72427a73ab0714"><div class="ttname"><a href="classCreature.html#a1258aef238c0dbd5dd72427a73ab0714">Creature::set_hit_bonus</a></div><div class="ttdeci">virtual void set_hit_bonus(float nhit)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01753">creature.cpp:1753</a></div></div>
<div class="ttc" id="aclassCreature_html_a1707dc490c8a090f13e4728a9de4aed2"><div class="ttname"><a href="classCreature.html#a1707dc490c8a090f13e4728a9de4aed2">Creature::pain</a></div><div class="ttdeci">int pain</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00888">creature.h:888</a></div></div>
<div class="ttc" id="aclassCreature_html_a1be20ab434ada66748d5b62fcfdbd5e4"><div class="ttname"><a href="classCreature.html#a1be20ab434ada66748d5b62fcfdbd5e4">Creature::posy</a></div><div class="ttdeci">virtual int posy() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a1d0965e36bf4e849645d2d24c87cd5f0"><div class="ttname"><a href="classCreature.html#a1d0965e36bf4e849645d2d24c87cd5f0">Creature::load_hit_range</a></div><div class="ttdeci">static void load_hit_range(const JsonObject &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01964">creature.cpp:1964</a></div></div>
<div class="ttc" id="aclassCreature_html_a1d5c909ab864ba5bf09323c083af1283"><div class="ttname"><a href="classCreature.html#a1d5c909ab864ba5bf09323c083af1283">Creature::set_armor_bash_bonus</a></div><div class="ttdeci">virtual void set_armor_bash_bonus(int nbasharm)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01723">creature.cpp:1723</a></div></div>
<div class="ttc" id="aclassCreature_html_a1dc9457a261eec3c7d5b1dac46c2d2f5"><div class="ttname"><a href="classCreature.html#a1dc9457a261eec3c7d5b1dac46c2d2f5">Creature::on_damage_of_type</a></div><div class="ttdeci">virtual void on_damage_of_type(int, damage_type, const bodypart_id &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00840">creature.h:840</a></div></div>
<div class="ttc" id="aclassCreature_html_a1eadbc3e5891d1ff578ac49291e12b66"><div class="ttname"><a href="classCreature.html#a1eadbc3e5891d1ff578ac49291e12b66">Creature::describe_infrared</a></div><div class="ttdeci">void describe_infrared(std::vector&lt; std::string &gt; &amp;buf) const</div><div class="ttdoc">Describe this creature as seen by the avatar via infrared vision.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01976">creature.cpp:1976</a></div></div>
<div class="ttc" id="aclassCreature_html_a1f39711701b63d9ae4e74b624c326316"><div class="ttname"><a href="classCreature.html#a1f39711701b63d9ae4e74b624c326316">Creature::draw</a></div><div class="ttdeci">void draw(const catacurses::window &amp;w, const point &amp;origin, bool inverted) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01801">creature.cpp:1801</a></div></div>
<div class="ttc" id="aclassCreature_html_a226d6b1000b12edac3e5adecae7b8928"><div class="ttname"><a href="classCreature.html#a226d6b1000b12edac3e5adecae7b8928">Creature::set_part_hp_cur</a></div><div class="ttdeci">void set_part_hp_cur(const bodypart_id &amp;id, int set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01575">creature.cpp:1575</a></div></div>
<div class="ttc" id="aclassCreature_html_a24d762d37cd6bfbf98cda9b278f5ccf2"><div class="ttname"><a href="classCreature.html#a24d762d37cd6bfbf98cda9b278f5ccf2">Creature::normalize</a></div><div class="ttdeci">virtual void normalize()</div><div class="ttdoc">Recreates the Creature from scratch.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00121">creature.cpp:121</a></div></div>
<div class="ttc" id="aclassCreature_html_a261dff3caa6aabe255ae9d3eaa94d3de"><div class="ttname"><a href="classCreature.html#a261dff3caa6aabe255ae9d3eaa94d3de">Creature::get_speed</a></div><div class="ttdeci">virtual int get_speed() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01504">creature.cpp:1504</a></div></div>
<div class="ttc" id="aclassCreature_html_a26b7c431f85f0b99b888db69318ebdc5"><div class="ttname"><a href="classCreature.html#a26b7c431f85f0b99b888db69318ebdc5">Creature::disp_name</a></div><div class="ttdeci">virtual std::string disp_name(bool possessive=false, bool capitalize_first=false) const =0</div></div>
<div class="ttc" id="aclassCreature_html_a270368871cfa3557eaed0492367fa187"><div class="ttname"><a href="classCreature.html#a270368871cfa3557eaed0492367fa187">Creature::get_env_resist</a></div><div class="ttdeci">virtual int get_env_resist(bodypart_id bp) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01462">creature.cpp:1462</a></div></div>
<div class="ttc" id="aclassCreature_html_a282e131a72c19f24c7f0a56323b47ecb"><div class="ttname"><a href="classCreature.html#a282e131a72c19f24c7f0a56323b47ecb">Creature::get_block_bonus</a></div><div class="ttdeci">virtual int get_block_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01686">creature.cpp:1686</a></div></div>
<div class="ttc" id="aclassCreature_html_a28d410ab38e30292e266188c1b95cae5"><div class="ttname"><a href="classCreature.html#a28d410ab38e30292e266188c1b95cae5">Creature::process_turn</a></div><div class="ttdeci">virtual void process_turn()</div><div class="ttdoc">Processes effects and bonuses and allocates move points based on speed.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00156">creature.cpp:156</a></div></div>
<div class="ttc" id="aclassCreature_html_a29006b1d624e44def0208134e7f0ac3f"><div class="ttname"><a href="classCreature.html#a29006b1d624e44def0208134e7f0ac3f">Creature::mod_part_hp_cur</a></div><div class="ttdeci">void mod_part_hp_cur(const bodypart_id &amp;id, int mod)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01590">creature.cpp:1590</a></div></div>
<div class="ttc" id="aclassCreature_html_a2946d574c3339cf1d3baf7b48802fb42"><div class="ttname"><a href="classCreature.html#a2946d574c3339cf1d3baf7b48802fb42">Creature::has_trait</a></div><div class="ttdeci">virtual bool has_trait(const trait_id &amp;flag) const</div><div class="ttdoc">Returns true if the player has the entered trait, returns false for non-humans.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01325">creature.cpp:1325</a></div></div>
<div class="ttc" id="aclassCreature_html_a29989737d8bdd693384ee1c193ce7270"><div class="ttname"><a href="classCreature.html#a29989737d8bdd693384ee1c193ce7270">Creature::on_hit</a></div><div class="ttdeci">virtual void on_hit(Creature *source, bodypart_id bp_hit, float difficulty=INT_MIN, dealt_projectile_attack const *proj=nullptr)=0</div><div class="ttdoc">This creature just got hit by an attack - possibly special/ranged attack - from source.</div></div>
<div class="ttc" id="aclassCreature_html_a29b7481562f5db150aa48141a0994ed2"><div class="ttname"><a href="classCreature.html#a29b7481562f5db150aa48141a0994ed2">Creature::mod_part_hp_max</a></div><div class="ttdeci">void mod_part_hp_max(const bodypart_id &amp;id, int mod)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01595">creature.cpp:1595</a></div></div>
<div class="ttc" id="aclassCreature_html_a2acb6e1e19bcb775748403d07d8dc3f0"><div class="ttname"><a href="classCreature.html#a2acb6e1e19bcb775748403d07d8dc3f0">Creature::get_value</a></div><div class="ttdeci">std::string get_value(const std::string &amp;key) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01341">creature.cpp:1341</a></div></div>
<div class="ttc" id="aclassCreature_html_a2b8d5ac840f6d08881374f0483f6d798"><div class="ttname"><a href="classCreature.html#a2b8d5ac840f6d08881374f0483f6d798">Creature::has_effect_with_flag</a></div><div class="ttdeci">bool has_effect_with_flag(const std::string &amp;flag, body_part bp=num_bp) const</div><div class="ttdoc">Check if creature has any effect with the given flag.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01201">creature.cpp:1201</a></div></div>
<div class="ttc" id="aclassCreature_html_a2bb3543ca955d69805e57e4e09d878ef"><div class="ttname"><a href="classCreature.html#a2bb3543ca955d69805e57e4e09d878ef">Creature::get_effect_dur</a></div><div class="ttdeci">time_duration get_effect_dur(const efftype_id &amp;eff_id, body_part bp=num_bp) const</div><div class="ttdoc">Returns the duration of the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01241">creature.cpp:1241</a></div></div>
<div class="ttc" id="aclassCreature_html_a2d8f0e96ad41fd5d962c4fdbbed9a32b"><div class="ttname"><a href="classCreature.html#a2d8f0e96ad41fd5d962c4fdbbed9a32b">Creature::reset</a></div><div class="ttdeci">virtual void reset()</div><div class="ttdoc">Handles stat and bonus reset.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00125">creature.cpp:125</a></div></div>
<div class="ttc" id="aclassCreature_html_a2ed7b87167039b2cf0ecb2464d62f802"><div class="ttname"><a href="classCreature.html#a2ed7b87167039b2cf0ecb2464d62f802">Creature::deal_melee_attack</a></div><div class="ttdeci">virtual int deal_melee_attack(Creature *source, int hitroll)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00502">creature.cpp:502</a></div></div>
<div class="ttc" id="aclassCreature_html_a303fcc58869f10f44be1d598ed1aa26f"><div class="ttname"><a href="classCreature.html#a303fcc58869f10f44be1d598ed1aa26f">Creature::bleed</a></div><div class="ttdeci">virtual void bleed() const</div><div class="ttdoc">Adds an appropriate blood splatter.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00131">creature.cpp:131</a></div></div>
<div class="ttc" id="aclassCreature_html_a30a6abfdfc637db5b7102b5ce56a00d0"><div class="ttname"><a href="classCreature.html#a30a6abfdfc637db5b7102b5ce56a00d0">Creature::absorb_hit</a></div><div class="ttdeci">virtual void absorb_hit(const bodypart_id &amp;bp, damage_instance &amp;dam)=0</div></div>
<div class="ttc" id="aclassCreature_html_a3175e1b479b42298f197f5a41de45f50"><div class="ttname"><a href="classCreature.html#a3175e1b479b42298f197f5a41de45f50">Creature::get_killer</a></div><div class="ttdeci">virtual Creature * get_killer() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01426">creature.cpp:1426</a></div></div>
<div class="ttc" id="aclassCreature_html_a330dad28f732a1cf3af695eedb54877d"><div class="ttname"><a href="classCreature.html#a330dad28f732a1cf3af695eedb54877d">Creature::die</a></div><div class="ttdeci">virtual void die(Creature *killer)=0</div><div class="ttdoc">Empty function.</div></div>
<div class="ttc" id="aclassCreature_html_a33f2223d3fa61c5a6cad98914f3895fa"><div class="ttname"><a href="classCreature.html#a33f2223d3fa61c5a6cad98914f3895fa">Creature::get_dodge_base</a></div><div class="ttdeci">virtual float get_dodge_base() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a35bbfb9c042ed3cf7e0ae9b7280384c4"><div class="ttname"><a href="classCreature.html#a35bbfb9c042ed3cf7e0ae9b7280384c4">Creature::get_speed_bonus</a></div><div class="ttdeci">virtual int get_speed_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01678">creature.cpp:1678</a></div></div>
<div class="ttc" id="aclassCreature_html_a360b7ab7279423ee61b38d433ba338fd"><div class="ttname"><a href="classCreature.html#a360b7ab7279423ee61b38d433ba338fd">Creature::num_dodges</a></div><div class="ttdeci">int num_dodges</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00816">creature.h:816</a></div></div>
<div class="ttc" id="aclassCreature_html_a36dcf5a04ddc0cf9fa29c08b7b099158"><div class="ttname"><a href="classCreature.html#a36dcf5a04ddc0cf9fa29c08b7b099158">Creature::check_dead_state</a></div><div class="ttdeci">void check_dead_state()</div><div class="ttdoc">This function checks the creatures is_dead_state and (if true) calls die.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01839">creature.cpp:1839</a></div></div>
<div class="ttc" id="aclassCreature_html_a38f6eca5af094a68b5f3a03ed8521900"><div class="ttname"><a href="classCreature.html#a38f6eca5af094a68b5f3a03ed8521900">Creature::deal_projectile_attack</a></div><div class="ttdeci">virtual void deal_projectile_attack(Creature *source, dealt_projectile_attack &amp;attack)</div><div class="ttdoc">Attempts to harm a creature with a projectile.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00657">creature.cpp:657</a></div></div>
<div class="ttc" id="aclassCreature_html_a3a3ada596854cf8084b3a728b633a9db"><div class="ttname"><a href="classCreature.html#a3a3ada596854cf8084b3a728b633a9db">Creature::posz</a></div><div class="ttdeci">virtual int posz() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a3abf87ed21086c0a4ea2c6da9aef08cd"><div class="ttname"><a href="classCreature.html#a3abf87ed21086c0a4ea2c6da9aef08cd">Creature::weight_capacity</a></div><div class="ttdeci">virtual units::mass weight_capacity() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01774">creature.cpp:1774</a></div></div>
<div class="ttc" id="aclassCreature_html_a3b487a587c0367c588db6d9df8135612"><div class="ttname"><a href="classCreature.html#a3b487a587c0367c588db6d9df8135612">Creature::made_of</a></div><div class="ttdeci">virtual bool made_of(const material_id &amp;m) const =0</div></div>
<div class="ttc" id="aclassCreature_html_a3bf8de6374564ea2a011d1235acb44a1"><div class="ttname"><a href="classCreature.html#a3bf8de6374564ea2a011d1235acb44a1">Creature::reset_hit_range</a></div><div class="ttdeci">static void reset_hit_range()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01971">creature.cpp:1971</a></div></div>
<div class="ttc" id="aclassCreature_html_a3cb42eea32fd7e172dca0e902d1184ed"><div class="ttname"><a href="classCreature.html#a3cb42eea32fd7e172dca0e902d1184ed">Creature::is_hallucination</a></div><div class="ttdeci">virtual bool is_hallucination() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a3e049fbeaa6a392bd3a2594005b397af"><div class="ttname"><a href="classCreature.html#a3e049fbeaa6a392bd3a2594005b397af">Creature::get_armor_bash</a></div><div class="ttdeci">virtual int get_armor_bash(bodypart_id bp) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01466">creature.cpp:1466</a></div></div>
<div class="ttc" id="aclassCreature_html_a402025ac07eb74792b0885446b912cac"><div class="ttname"><a href="classCreature.html#a402025ac07eb74792b0885446b912cac">Creature::get_perceived_pain</a></div><div class="ttdeci">virtual int get_perceived_pain() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01371">creature.cpp:1371</a></div></div>
<div class="ttc" id="aclassCreature_html_a42219e0586db47a50f06e3ce2865dbf6"><div class="ttname"><a href="classCreature.html#a42219e0586db47a50f06e3ce2865dbf6">Creature::dodge_roll</a></div><div class="ttdeci">virtual float dodge_roll()=0</div></div>
<div class="ttc" id="aclassCreature_html_a43b83bb780138cf2186b24cd40322756"><div class="ttname"><a href="classCreature.html#a43b83bb780138cf2186b24cd40322756">Creature::in_species</a></div><div class="ttdeci">virtual bool in_species(const species_id &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00965">creature.cpp:965</a></div></div>
<div class="ttc" id="aclassCreature_html_a43bc2b5daebb952f970f7819cb61319d"><div class="ttname"><a href="classCreature.html#a43bc2b5daebb952f970f7819cb61319d">Creature::get_armor_bash_base</a></div><div class="ttdeci">virtual int get_armor_bash_base(bodypart_id bp) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01478">creature.cpp:1478</a></div></div>
<div class="ttc" id="aclassCreature_html_a45926a7ba63ccc9be744f87a4d540b7d"><div class="ttname"><a href="classCreature.html#a45926a7ba63ccc9be744f87a4d540b7d">Creature::pos</a></div><div class="ttdeci">virtual const tripoint &amp; pos() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a48bb40fe4132a49d95f26611d7c622a6"><div class="ttname"><a href="classCreature.html#a48bb40fe4132a49d95f26611d7c622a6">Creature::cmat_flammable</a></div><div class="ttdeci">static const std::set&lt; material_id &gt; cmat_flammable</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00477">creature.h:477</a></div></div>
<div class="ttc" id="aclassCreature_html_a490503cd007e206dcd23fd8457017793"><div class="ttname"><a href="classCreature.html#a490503cd007e206dcd23fd8457017793">Creature::skin_name</a></div><div class="ttdeci">virtual std::string skin_name() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a4945480df006184bdaf4b5b41ba976ea"><div class="ttname"><a href="classCreature.html#a4945480df006184bdaf4b5b41ba976ea">Creature::num_dodges_bonus</a></div><div class="ttdeci">int num_dodges_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00818">creature.h:818</a></div></div>
<div class="ttc" id="aclassCreature_html_a4d6cd41ef532de75cb9bb2aadcc68f06"><div class="ttname"><a href="classCreature.html#a4d6cd41ef532de75cb9bb2aadcc68f06">Creature::speed_base</a></div><div class="ttdeci">int speed_base</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00823">creature.h:823</a></div></div>
<div class="ttc" id="aclassCreature_html_a4e137a55dbbe37b9656e64f2547cf8da"><div class="ttname"><a href="classCreature.html#a4e137a55dbbe37b9656e64f2547cf8da">Creature::digging</a></div><div class="ttdeci">virtual bool digging() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00179">creature.cpp:179</a></div></div>
<div class="ttc" id="aclassCreature_html_a4ebc73e7d9d10c69c542d88edeea06b3"><div class="ttname"><a href="classCreature.html#a4ebc73e7d9d10c69c542d88edeea06b3">Creature::armor_bullet_bonus</a></div><div class="ttdeci">int armor_bullet_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00822">creature.h:822</a></div></div>
<div class="ttc" id="aclassCreature_html_a51c96c81ae1ea766b5eead4a265c1492"><div class="ttname"><a href="classCreature.html#a51c96c81ae1ea766b5eead4a265c1492">Creature::get_random_body_part</a></div><div class="ttdeci">bodypart_id get_random_body_part(bool main=false) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01620">creature.cpp:1620</a></div></div>
<div class="ttc" id="aclassCreature_html_a528da8d40c63bf838c55adcaad40651e"><div class="ttname"><a href="classCreature.html#a528da8d40c63bf838c55adcaad40651e">Creature::armor_cut_bonus</a></div><div class="ttdeci">int armor_cut_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00821">creature.h:821</a></div></div>
<div class="ttc" id="aclassCreature_html_a5391e672390a2e5f28f0d5e6742c0b54"><div class="ttname"><a href="classCreature.html#a5391e672390a2e5f28f0d5e6742c0b54">Creature::mod_pain</a></div><div class="ttdeci">virtual void mod_pain(int npain)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01347">creature.cpp:1347</a></div></div>
<div class="ttc" id="aclassCreature_html_a55954967387e535b1e52f16946a85a47"><div class="ttname"><a href="classCreature.html#a55954967387e535b1e52f16946a85a47">Creature::mod_part_healed_total</a></div><div class="ttdeci">void mod_part_healed_total(const bodypart_id &amp;id, int mod)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01600">creature.cpp:1600</a></div></div>
<div class="ttc" id="aclassCreature_html_a5881c150a3ed435f757e0b34b0d1009e"><div class="ttname"><a href="classCreature.html#a5881c150a3ed435f757e0b34b0d1009e">Creature::get_name</a></div><div class="ttdeci">virtual std::string get_name() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a597cc3b08ee17de46c3e7ec3cf0d9b58"><div class="ttname"><a href="classCreature.html#a597cc3b08ee17de46c3e7ec3cf0d9b58">Creature::Creature</a></div><div class="ttdeci">Creature()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00100">creature.cpp:100</a></div></div>
<div class="ttc" id="aclassCreature_html_a59d8ead2387b3b99cb2e88c5f1858e17"><div class="ttname"><a href="classCreature.html#a59d8ead2387b3b99cb2e88c5f1858e17">Creature::get_anatomy</a></div><div class="ttdeci">anatomy_id get_anatomy() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01517">creature.cpp:1517</a></div></div>
<div class="ttc" id="aclassCreature_html_a5a2346f549de9c87e8f2afeec1e71366"><div class="ttname"><a href="classCreature.html#a5a2346f549de9c87e8f2afeec1e71366">Creature::is_underwater</a></div><div class="ttdeci">virtual bool is_underwater() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00174">creature.cpp:174</a></div></div>
<div class="ttc" id="aclassCreature_html_a5bb5438474141314c9a9f11a565b6c9c"><div class="ttname"><a href="classCreature.html#a5bb5438474141314c9a9f11a565b6c9c">Creature::get_armor_cut</a></div><div class="ttdeci">virtual int get_armor_cut(bodypart_id bp) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01470">creature.cpp:1470</a></div></div>
<div class="ttc" id="aclassCreature_html_a5c6d320a21d767c65c807fe563c4b2c9"><div class="ttname"><a href="classCreature.html#a5c6d320a21d767c65c807fe563c4b2c9">Creature::bloodType</a></div><div class="ttdeci">virtual field_type_id bloodType() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a5e5459c1b7ff6fee815a1f15643a972c"><div class="ttname"><a href="classCreature.html#a5e5459c1b7ff6fee815a1f15643a972c">Creature::get_num_blocks_bonus</a></div><div class="ttdeci">virtual int get_num_blocks_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01448">creature.cpp:1448</a></div></div>
<div class="ttc" id="aclassCreature_html_a5f0f94b1cc3a6759e79c7ffc07c3b0b8"><div class="ttname"><a href="classCreature.html#a5f0f94b1cc3a6759e79c7ffc07c3b0b8">Creature::fake</a></div><div class="ttdeci">bool fake</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00830">creature.h:830</a></div></div>
<div class="ttc" id="aclassCreature_html_a60ca228583adf18b2e56e1c96ff8b048"><div class="ttname"><a href="classCreature.html#a60ca228583adf18b2e56e1c96ff8b048">Creature::mod_dodge_bonus</a></div><div class="ttdeci">virtual void mod_dodge_bonus(float ndodge)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01761">creature.cpp:1761</a></div></div>
<div class="ttc" id="aclassCreature_html_a6293c17885ef44d613618b4953a1be17"><div class="ttname"><a href="classCreature.html#a6293c17885ef44d613618b4953a1be17">Creature::describe_specials</a></div><div class="ttdeci">void describe_specials(std::vector&lt; std::string &gt; &amp;buf) const</div><div class="ttdoc">Describe this creature as detected by the avatar's special senses.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02004">creature.cpp:2004</a></div></div>
<div class="ttc" id="aclassCreature_html_a655af12aa145ee7fe2340c24a3b4b856"><div class="ttname"><a href="classCreature.html#a655af12aa145ee7fe2340c24a3b4b856">Creature::get_num_dodges</a></div><div class="ttdeci">virtual int get_num_dodges() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01444">creature.cpp:1444</a></div></div>
<div class="ttc" id="aclassCreature_html_a6596f10b3ecc70bf4ece4a13eac31cb9"><div class="ttname"><a href="classCreature.html#a6596f10b3ecc70bf4ece4a13eac31cb9">Creature::get_num_dodges_base</a></div><div class="ttdeci">virtual int get_num_dodges_base() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01456">creature.cpp:1456</a></div></div>
<div class="ttc" id="aclassCreature_html_a666022fd3ed772fa109d273c20e8de55"><div class="ttname"><a href="classCreature.html#a666022fd3ed772fa109d273c20e8de55">Creature::add_effect</a></div><div class="ttdeci">void add_effect(const effect &amp;eff, bool force=false, bool deferred=false)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00980">creature.cpp:980</a></div></div>
<div class="ttc" id="aclassCreature_html_a6748055fb3a5922e1fa55c4214aff48f"><div class="ttname"><a href="classCreature.html#a6748055fb3a5922e1fa55c4214aff48f">Creature::size_melee_penalty</a></div><div class="ttdeci">int size_melee_penalty() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00481">creature.cpp:481</a></div></div>
<div class="ttc" id="aclassCreature_html_a69d20ce599ed8aa0780a4677c14228f9"><div class="ttname"><a href="classCreature.html#a69d20ce599ed8aa0780a4677c14228f9">Creature::values</a></div><div class="ttdeci">std::unordered_map&lt; std::string, std::string &gt; values</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00810">creature.h:810</a></div></div>
<div class="ttc" id="aclassCreature_html_a69db025e34e82c34b56df73f56965350"><div class="ttname"><a href="classCreature.html#a69db025e34e82c34b56df73f56965350">Creature::num_blocks</a></div><div class="ttdeci">int num_blocks</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00815">creature.h:815</a></div></div>
<div class="ttc" id="aclassCreature_html_a6a4c43d66f5a8b50a879d78682b00976"><div class="ttname"><a href="classCreature.html#a6a4c43d66f5a8b50a879d78682b00976">Creature::is_dangerous_fields</a></div><div class="ttdeci">bool is_dangerous_fields(const field &amp;fld) const</div><div class="ttdoc">Returns true if there is a field in the field set that is dangerous to us.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00184">creature.cpp:184</a></div></div>
<div class="ttc" id="aclassCreature_html_a6ad06869ed97eb2701f5f74b7d36281e"><div class="ttname"><a href="classCreature.html#a6ad06869ed97eb2701f5f74b7d36281e">Creature::remove_value</a></div><div class="ttdeci">void remove_value(const std::string &amp;key)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01336">creature.cpp:1336</a></div></div>
<div class="ttc" id="aclassCreature_html_a6af61264a3d5ac62a64df4899e87d2c1"><div class="ttname"><a href="classCreature.html#a6af61264a3d5ac62a64df4899e87d2c1">Creature::set_all_parts_hp_to_max</a></div><div class="ttdeci">void set_all_parts_hp_to_max()</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01612">creature.cpp:1612</a></div></div>
<div class="ttc" id="aclassCreature_html_a6b40041c12e2c414170aad5511878446"><div class="ttname"><a href="classCreature.html#a6b40041c12e2c414170aad5511878446">Creature::resists_effect</a></div><div class="ttdeci">bool resists_effect(const effect &amp;e) const</div><div class="ttdoc">Returns true if the creature resists an effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01310">creature.cpp:1310</a></div></div>
<div class="ttc" id="aclassCreature_html_a6e1819fd37a50af66566c6d1b896572a"><div class="ttname"><a href="classCreature.html#a6e1819fd37a50af66566c6d1b896572a">Creature::get_hp_max</a></div><div class="ttdeci">virtual int get_hp_max(const bodypart_id &amp;bp) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01657">creature.cpp:1657</a></div></div>
<div class="ttc" id="aclassCreature_html_a6ebcf1d6c0af9f4223695752a5ae3632"><div class="ttname"><a href="classCreature.html#a6ebcf1d6c0af9f4223695752a5ae3632">Creature::set_all_parts_hp_cur</a></div><div class="ttdeci">void set_all_parts_hp_cur(int set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01605">creature.cpp:1605</a></div></div>
<div class="ttc" id="aclassCreature_html_a6ee8599df32920db133b4d40281fe61e"><div class="ttname"><a href="classCreature.html#a6ee8599df32920db133b4d40281fe61e">Creature::set_part_hp_max</a></div><div class="ttdeci">void set_part_hp_max(const bodypart_id &amp;id, int set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01580">creature.cpp:1580</a></div></div>
<div class="ttc" id="aclassCreature_html_a6f36b7308f6193dd46224b951e74f96e"><div class="ttname"><a href="classCreature.html#a6f36b7308f6193dd46224b951e74f96e">Creature::body</a></div><div class="ttdeci">std::map&lt; bodypart_str_id, bodypart &gt; body</div><div class="ttdoc">this is the actual body of the creature</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00493">creature.h:493</a></div></div>
<div class="ttc" id="aclassCreature_html_a6fb79df9315dc2bed6f34d9a2e37da90"><div class="ttname"><a href="classCreature.html#a6fb79df9315dc2bed6f34d9a2e37da90">Creature::has_effect</a></div><div class="ttdeci">bool has_effect(const efftype_id &amp;eff_id, body_part bp=num_bp) const</div><div class="ttdoc">Check if creature has the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01179">creature.cpp:1179</a></div></div>
<div class="ttc" id="aclassCreature_html_a70ba05a0184ff83095f639eac18f24fe"><div class="ttname"><a href="classCreature.html#a70ba05a0184ff83095f639eac18f24fe">Creature::get_effect_int</a></div><div class="ttdeci">int get_effect_int(const efftype_id &amp;eff_id, body_part bp=num_bp) const</div><div class="ttdoc">Returns the intensity of the matching effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01250">creature.cpp:1250</a></div></div>
<div class="ttc" id="aclassCreature_html_a710e146637c0d48159de984d997c551c"><div class="ttname"><a href="classCreature.html#a710e146637c0d48159de984d997c551c">Creature::get_armor_cut_base</a></div><div class="ttdeci">virtual int get_armor_cut_base(bodypart_id bp) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01482">creature.cpp:1482</a></div></div>
<div class="ttc" id="aclassCreature_html_a71e8440dfb96a7a870c29e0472b7b85d"><div class="ttname"><a href="classCreature.html#a71e8440dfb96a7a870c29e0472b7b85d">Creature::get_pain</a></div><div class="ttdeci">virtual int get_pain() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01366">creature.cpp:1366</a></div></div>
<div class="ttc" id="aclassCreature_html_a7295e035c9719d16155d005737932109"><div class="ttname"><a href="classCreature.html#a7295e035c9719d16155d005737932109">Creature::get_armor_bullet</a></div><div class="ttdeci">virtual int get_armor_bullet(bodypart_id bp) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01474">creature.cpp:1474</a></div></div>
<div class="ttc" id="aclassCreature_html_a730fb8be5a540edd31ed9d8126ea20de"><div class="ttname"><a href="classCreature.html#a730fb8be5a540edd31ed9d8126ea20de">Creature::remove_effect</a></div><div class="ttdeci">bool remove_effect(const efftype_id &amp;eff_id, body_part bp=num_bp)</div><div class="ttdoc">Removes a listed effect.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01136">creature.cpp:1136</a></div></div>
<div class="ttc" id="aclassCreature_html_a73b9cb6320e4447addaec375887e7861"><div class="ttname"><a href="classCreature.html#a73b9cb6320e4447addaec375887e7861">Creature::dispersion_for_even_chance_of_good_hit</a></div><div class="ttdeci">static std::vector&lt; int &gt; dispersion_for_even_chance_of_good_hit</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00848">creature.h:848</a></div></div>
<div class="ttc" id="aclassCreature_html_a73c33e2237c032ac99b79a727216596a"><div class="ttname"><a href="classCreature.html#a73c33e2237c032ac99b79a727216596a">Creature::symbol</a></div><div class="ttdeci">virtual const std::string &amp; symbol() const =0</div></div>
<div class="ttc" id="aclassCreature_html_a73dcd9331c055a2cd05d05be0337257d"><div class="ttname"><a href="classCreature.html#a73dcd9331c055a2cd05d05be0337257d">Creature::mod_block_bonus</a></div><div class="ttdeci">virtual void mod_block_bonus(int nblock)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01765">creature.cpp:1765</a></div></div>
<div class="ttc" id="aclassCreature_html_a74f17106e37657f528e42b3fd706766a"><div class="ttname"><a href="classCreature.html#a74f17106e37657f528e42b3fd706766a">Creature::mod_pain_noresist</a></div><div class="ttdeci">virtual void mod_pain_noresist(int npain)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01352">creature.cpp:1352</a></div></div>
<div class="ttc" id="aclassCreature_html_a75ad96eb6ce27d3c1df250965b4de7b5"><div class="ttname"><a href="classCreature.html#a75ad96eb6ce27d3c1df250965b4de7b5">Creature::deal_damage</a></div><div class="ttdeci">virtual dealt_damage_instance deal_damage(Creature *source, bodypart_id bp, const damage_instance &amp;dam)</div><div class="ttdoc">Deals the damage via an attack.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00879">creature.cpp:879</a></div></div>
<div class="ttc" id="aclassCreature_html_a7bb35215732acc025692d329fb3e2e13"><div class="ttname"><a href="classCreature.html#a7bb35215732acc025692d329fb3e2e13">Creature::hit_bonus</a></div><div class="ttdeci">float hit_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00828">creature.h:828</a></div></div>
<div class="ttc" id="aclassCreature_html_a7c4224e3e3ce5b7bf6af5da26c622af6"><div class="ttname"><a href="classCreature.html#a7c4224e3e3ce5b7bf6af5da26c622af6">Creature::process_effects</a></div><div class="ttdeci">void process_effects()</div><div class="ttdoc">Processes through all the effects on the Creature.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01259">creature.cpp:1259</a></div></div>
<div class="ttc" id="aclassCreature_html_a7cf71d2bd6c350f2ceda3f1d64046e63"><div class="ttname"><a href="classCreature.html#a7cf71d2bd6c350f2ceda3f1d64046e63">Creature::add_msg_player_or_npc</a></div><div class="ttdeci">virtual void add_msg_player_or_npc(const std::string &amp;, const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00677">creature.h:677</a></div></div>
<div class="ttc" id="aclassCreature_html_a7e9c58c5ee7f2c5780abe8f90bdd6608"><div class="ttname"><a href="classCreature.html#a7e9c58c5ee7f2c5780abe8f90bdd6608">Creature::set_dodge_bonus</a></div><div class="ttdeci">virtual void set_dodge_bonus(float ndodge)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01744">creature.cpp:1744</a></div></div>
<div class="ttc" id="aclassCreature_html_a7f9ce537b830a5f0474c001d295c0a77"><div class="ttname"><a href="classCreature.html#a7f9ce537b830a5f0474c001d295c0a77">Creature::setpos</a></div><div class="ttdeci">virtual void setpos(const tripoint &amp;pos)=0</div></div>
<div class="ttc" id="aclassCreature_html_a805a8d90db2178529997b355e8898d70"><div class="ttname"><a href="classCreature.html#a805a8d90db2178529997b355e8898d70">Creature::get_num_blocks</a></div><div class="ttdeci">virtual int get_num_blocks() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01440">creature.cpp:1440</a></div></div>
<div class="ttc" id="aclassCreature_html_a80f8d134c689097b8137f973e7401c84"><div class="ttname"><a href="classCreature.html#a80f8d134c689097b8137f973e7401c84">Creature::reset_stats</a></div><div class="ttdeci">virtual void reset_stats()=0</div><div class="ttdoc">Resets stats, and applies effects in an idempotent manner.</div></div>
<div class="ttc" id="aclassCreature_html_a81c28d7d1cb83a47794dbf879dede400"><div class="ttname"><a href="classCreature.html#a81c28d7d1cb83a47794dbf879dede400">Creature::cmat_flesh</a></div><div class="ttdeci">static const std::set&lt; material_id &gt; cmat_flesh</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00475">creature.h:475</a></div></div>
<div class="ttc" id="aclassCreature_html_a81fd71e521e09908425fc63a64458f59"><div class="ttname"><a href="classCreature.html#a81fd71e521e09908425fc63a64458f59">Creature::set_speed_bonus</a></div><div class="ttdeci">virtual void set_speed_bonus(int nspeed)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01740">creature.cpp:1740</a></div></div>
<div class="ttc" id="aclassCreature_html_a8442db1f510ee1da550ac8bf4b3675a0"><div class="ttname"><a href="classCreature.html#a8442db1f510ee1da550ac8bf4b3675a0">Creature::deal_melee_hit</a></div><div class="ttdeci">virtual void deal_melee_hit(Creature *source, int hit_spread, bool critical_hit, const damage_instance &amp;dam, dealt_damage_instance &amp;dealt_dam)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00521">creature.cpp:521</a></div></div>
<div class="ttc" id="aclassCreature_html_a88b81d1ff0359794554e81c7ae16f370"><div class="ttname"><a href="classCreature.html#a88b81d1ff0359794554e81c7ae16f370">Creature::get_hit</a></div><div class="ttdeci">virtual float get_hit() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01512">creature.cpp:1512</a></div></div>
<div class="ttc" id="aclassCreature_html_a891bc2d0c564449cb462178317819254"><div class="ttname"><a href="classCreature.html#a891bc2d0c564449cb462178317819254">Creature::mod_moves</a></div><div class="ttdeci">void mod_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01408">creature.cpp:1408</a></div></div>
<div class="ttc" id="aclassCreature_html_a89f56544cdbf34297b4c0e62f3350817"><div class="ttname"><a href="classCreature.html#a89f56544cdbf34297b4c0e62f3350817">Creature::get_effect</a></div><div class="ttdeci">const effect &amp; get_effect(const efftype_id &amp;eff_id, body_part bp=num_bp) const</div><div class="ttdoc">Return the effect that matches the given arguments exactly.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01219">creature.cpp:1219</a></div></div>
<div class="ttc" id="aclassCreature_html_a8a475630b3289c468bd06cf114008217"><div class="ttname"><a href="classCreature.html#a8a475630b3289c468bd06cf114008217">Creature::Attitude</a></div><div class="ttdeci">Attitude</div><div class="ttdoc">Simplified attitude towards any creature: hostile - hate, want to kill, etc.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00168">creature.h:168</a></div></div>
<div class="ttc" id="aclassCreature_html_a8a475630b3289c468bd06cf114008217a19028b9cbf5de71e700a5d8964fabab8"><div class="ttname"><a href="classCreature.html#a8a475630b3289c468bd06cf114008217a19028b9cbf5de71e700a5d8964fabab8">Creature::A_NEUTRAL</a></div><div class="ttdeci">@ A_NEUTRAL</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00170">creature.h:170</a></div></div>
<div class="ttc" id="aclassCreature_html_a8a475630b3289c468bd06cf114008217a8972817fc4b645a5fee948a7ab4d3cc2"><div class="ttname"><a href="classCreature.html#a8a475630b3289c468bd06cf114008217a8972817fc4b645a5fee948a7ab4d3cc2">Creature::A_HOSTILE</a></div><div class="ttdeci">@ A_HOSTILE</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00169">creature.h:169</a></div></div>
<div class="ttc" id="aclassCreature_html_a8a475630b3289c468bd06cf114008217ac45ee12dee5d3dc56de7fe86e4484bea"><div class="ttname"><a href="classCreature.html#a8a475630b3289c468bd06cf114008217ac45ee12dee5d3dc56de7fe86e4484bea">Creature::A_FRIENDLY</a></div><div class="ttdeci">@ A_FRIENDLY</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00171">creature.h:171</a></div></div>
<div class="ttc" id="aclassCreature_html_a8b6571b163899884df43067ab146ab83"><div class="ttname"><a href="classCreature.html#a8b6571b163899884df43067ab146ab83">Creature::process_one_effect</a></div><div class="ttdeci">virtual void process_one_effect(effect &amp;e, bool is_new)=0</div><div class="ttdoc">Processes one effect on the Creature.</div></div>
<div class="ttc" id="aclassCreature_html_a8c5a392caa213bee9581b47e9f0e2052"><div class="ttname"><a href="classCreature.html#a8c5a392caa213bee9581b47e9f0e2052">Creature::moves</a></div><div class="ttdeci">int moves</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00569">creature.h:569</a></div></div>
<div class="ttc" id="aclassCreature_html_a915f59d2cd13a723af0b26fba3703926"><div class="ttname"><a href="classCreature.html#a915f59d2cd13a723af0b26fba3703926">Creature::add_msg_player_or_say</a></div><div class="ttdeci">virtual void add_msg_player_or_say(const std::string &amp;, const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00733">creature.h:733</a></div></div>
<div class="ttc" id="aclassCreature_html_a91dc4715c36eef7d116f944be9a4d435"><div class="ttname"><a href="classCreature.html#a91dc4715c36eef7d116f944be9a4d435">Creature::add_msg_if_player</a></div><div class="ttdeci">virtual void add_msg_if_player(const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00593">creature.h:593</a></div></div>
<div class="ttc" id="aclassCreature_html_a92182fbfd56229f1d8d23b929955b6a4"><div class="ttname"><a href="classCreature.html#a92182fbfd56229f1d8d23b929955b6a4">Creature::set_part_healed_total</a></div><div class="ttdeci">void set_part_healed_total(const bodypart_id &amp;id, int set)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01585">creature.cpp:1585</a></div></div>
<div class="ttc" id="aclassCreature_html_a94737d93f30cee269b2df71478ee29fd"><div class="ttname"><a href="classCreature.html#a94737d93f30cee269b2df71478ee29fd">Creature::get_hp</a></div><div class="ttdeci">virtual int get_hp(const bodypart_id &amp;bp) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01640">creature.cpp:1640</a></div></div>
<div class="ttc" id="aclassCreature_html_a963a66db8e5601c1fb7ade8501d98d4a"><div class="ttname"><a href="classCreature.html#a963a66db8e5601c1fb7ade8501d98d4a">Creature::set_armor_cut_bonus</a></div><div class="ttdeci">virtual void set_armor_cut_bonus(int ncutarm)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01727">creature.cpp:1727</a></div></div>
<div class="ttc" id="aclassCreature_html_a98ef8437aca8647165ccbe2ebb2e1f2c"><div class="ttname"><a href="classCreature.html#a98ef8437aca8647165ccbe2ebb2e1f2c">Creature::is_fake</a></div><div class="ttdeci">virtual bool is_fake() const</div><div class="ttdoc">Returns true for non-real Creatures used temporarily; i.e.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00970">creature.cpp:970</a></div></div>
<div class="ttc" id="aclassCreature_html_a993e0edf9322ff4aba71a9a3a4f5485c"><div class="ttname"><a href="classCreature.html#a993e0edf9322ff4aba71a9a3a4f5485c">Creature::has_flag</a></div><div class="ttdeci">virtual bool has_flag(const m_flag) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00482">creature.h:482</a></div></div>
<div class="ttc" id="aclassCreature_html_a9993b4cb7492f25fb6eb70568009d90a"><div class="ttname"><a href="classCreature.html#a9993b4cb7492f25fb6eb70568009d90a">Creature::set_block_bonus</a></div><div class="ttdeci">virtual void set_block_bonus(int nblock)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01749">creature.cpp:1749</a></div></div>
<div class="ttc" id="aclassCreature_html_a9e52aa13c84bf1ab09efb7086a416fbf"><div class="ttname"><a href="classCreature.html#a9e52aa13c84bf1ab09efb7086a416fbf">Creature::deal_damage_handle_type</a></div><div class="ttdeci">virtual void deal_damage_handle_type(const damage_unit &amp;du, bodypart_id bp, int &amp;damage, int &amp;pain)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00907">creature.cpp:907</a></div></div>
<div class="ttc" id="aclassCreature_html_a9eea7f2ab169160c6d6fc2a7d93c96f1"><div class="ttname"><a href="classCreature.html#a9eea7f2ab169160c6d6fc2a7d93c96f1">Creature::is_symbol_highlighted</a></div><div class="ttdeci">virtual bool is_symbol_highlighted() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01822">creature.cpp:1822</a></div></div>
<div class="ttc" id="aclassCreature_html_a9f9cc294949ffc5bd51ab464b5c5ad6f"><div class="ttname"><a href="classCreature.html#a9f9cc294949ffc5bd51ab464b5c5ad6f">Creature::get_all_body_parts</a></div><div class="ttdeci">std::vector&lt; bodypart_id &gt; get_all_body_parts(bool only_main=false) const</div><div class="ttdoc">Returns body parts this creature have.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01627">creature.cpp:1627</a></div></div>
<div class="ttc" id="aclassCreature_html_aa1629d099a51cc34924ff468c53be9fe"><div class="ttname"><a href="classCreature.html#aa1629d099a51cc34924ff468c53be9fe">Creature::size_map</a></div><div class="ttdeci">static const std::map&lt; std::string, m_size &gt; size_map</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00082">creature.h:82</a></div></div>
<div class="ttc" id="aclassCreature_html_aa39af83d946765e7e652fd66d50e807c"><div class="ttname"><a href="classCreature.html#aa39af83d946765e7e652fd66d50e807c">Creature::knock_back_from</a></div><div class="ttdeci">void knock_back_from(const tripoint &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01885">creature.cpp:1885</a></div></div>
<div class="ttc" id="aclassCreature_html_aa4f09ff71f1aa8562798d47cb4ef0682"><div class="ttname"><a href="classCreature.html#aa4f09ff71f1aa8562798d47cb4ef0682">Creature::mod_speed_bonus</a></div><div class="ttdeci">virtual void mod_speed_bonus(int nspeed)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01757">creature.cpp:1757</a></div></div>
<div class="ttc" id="aclassCreature_html_aa5da3a2470cbe9db76174216826307c1"><div class="ttname"><a href="classCreature.html#aa5da3a2470cbe9db76174216826307c1">Creature::add_msg_if_npc</a></div><div class="ttdeci">virtual void add_msg_if_npc(const std::string &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00635">creature.h:635</a></div></div>
<div class="ttc" id="aclassCreature_html_aa7018efde7dddbb71b70fd93c32fe5a6"><div class="ttname"><a href="classCreature.html#aa7018efde7dddbb71b70fd93c32fe5a6">Creature::sight_range</a></div><div class="ttdeci">virtual int sight_range(int light_level) const =0</div><div class="ttdoc">How far the creature sees under the given light.</div></div>
<div class="ttc" id="aclassCreature_html_aa991b23f4813fbdb6f875204ed49814d"><div class="ttname"><a href="classCreature.html#aa991b23f4813fbdb6f875204ed49814d">Creature::~Creature</a></div><div class="ttdeci">virtual ~Creature()</div></div>
<div class="ttc" id="aclassCreature_html_aaa501dbe3d1e90d47da43fb9ea57b3be"><div class="ttname"><a href="classCreature.html#aaa501dbe3d1e90d47da43fb9ea57b3be">Creature::get_dodge</a></div><div class="ttdeci">virtual float get_dodge() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01508">creature.cpp:1508</a></div></div>
<div class="ttc" id="aclassCreature_html_aab3ed00f0b1635fcb5efaa93cf3f8336"><div class="ttname"><a href="classCreature.html#aab3ed00f0b1635fcb5efaa93cf3f8336">Creature::cmat_fleshnveg</a></div><div class="ttdeci">static const std::set&lt; material_id &gt; cmat_fleshnveg</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00476">creature.h:476</a></div></div>
<div class="ttc" id="aclassCreature_html_aabed1ac65b7fbd67cfb8a3252b16e67d"><div class="ttname"><a href="classCreature.html#aabed1ac65b7fbd67cfb8a3252b16e67d">Creature::replace_with_npc_name</a></div><div class="ttdeci">std::string replace_with_npc_name(std::string input) const</div><div class="ttdoc">This function replaces the &quot;&lt;npcname&gt;&quot; substring with the disp_name of this creature.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01880">creature.cpp:1880</a></div></div>
<div class="ttc" id="aclassCreature_html_aac94e7c7a3d343c197ddc581745b8a37"><div class="ttname"><a href="classCreature.html#aac94e7c7a3d343c197ddc581745b8a37">Creature::get_all_effects_of_type</a></div><div class="ttdeci">std::vector&lt; const effect * &gt; get_all_effects_of_type(const efftype_id &amp;eff_id) const</div><div class="ttdoc">Returns pointers to all effects matching given type.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01230">creature.cpp:1230</a></div></div>
<div class="ttc" id="aclassCreature_html_aad6dc5532f233030d367ed67e0ea6613"><div class="ttname"><a href="classCreature.html#aad6dc5532f233030d367ed67e0ea6613">Creature::get_part_hp_max</a></div><div class="ttdeci">int get_part_hp_max(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01565">creature.cpp:1565</a></div></div>
<div class="ttc" id="aclassCreature_html_aae4a92105510e6459a382ff5a4e74833"><div class="ttname"><a href="classCreature.html#aae4a92105510e6459a382ff5a4e74833">Creature::set_anatomy</a></div><div class="ttdeci">void set_anatomy(anatomy_id anat)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01522">creature.cpp:1522</a></div></div>
<div class="ttc" id="aclassCreature_html_aaed992e8acaf0e9dc182ea8ce1d15423"><div class="ttname"><a href="classCreature.html#aaed992e8acaf0e9dc182ea8ce1d15423">Creature::set_num_blocks_bonus</a></div><div class="ttdeci">virtual void set_num_blocks_bonus(int nblocks)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01714">creature.cpp:1714</a></div></div>
<div class="ttc" id="aclassCreature_html_aafc0c68bbbca5efcf8d82a321b657588"><div class="ttname"><a href="classCreature.html#aafc0c68bbbca5efcf8d82a321b657588">Creature::mod_stat</a></div><div class="ttdeci">virtual void mod_stat(const std::string &amp;stat, float modifier)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01695">creature.cpp:1695</a></div></div>
<div class="ttc" id="aclassCreature_html_ab0206ab4bdb7c990e917cb5240d2a470"><div class="ttname"><a href="classCreature.html#ab0206ab4bdb7c990e917cb5240d2a470">Creature::block_bonus</a></div><div class="ttdeci">int block_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00827">creature.h:827</a></div></div>
<div class="ttc" id="aclassCreature_html_ab07d1af0b7437f37789e229c401a59b0"><div class="ttname"><a href="classCreature.html#ab07d1af0b7437f37789e229c401a59b0">Creature::process_effects_internal</a></div><div class="ttdeci">virtual void process_effects_internal()=0</div><div class="ttdoc">Processes effects according to class (monster, player)</div></div>
<div class="ttc" id="aclassCreature_html_ab1bef04dffb96ab1ad30472fd2895a08"><div class="ttname"><a href="classCreature.html#ab1bef04dffb96ab1ad30472fd2895a08">Creature::get_hp</a></div><div class="ttdeci">virtual int get_hp() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01652">creature.cpp:1652</a></div></div>
<div class="ttc" id="aclassCreature_html_ab42d5d429a5599b7f80906394c1236e5"><div class="ttname"><a href="classCreature.html#ab42d5d429a5599b7f80906394c1236e5">Creature::sees</a></div><div class="ttdeci">virtual bool sees(const Creature &amp;critter) const</div><div class="ttdoc">The functions check whether this creature can see the target.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00202">creature.cpp:202</a></div></div>
<div class="ttc" id="aclassCreature_html_ab4c318885f6b9947a7c85d3328d25ffe"><div class="ttname"><a href="classCreature.html#ab4c318885f6b9947a7c85d3328d25ffe">Creature::is_dead_state</a></div><div class="ttdeci">virtual bool is_dead_state() const =0</div></div>
<div class="ttc" id="aclassCreature_html_ab4c5777adaad4601b9ca17330371f5b7"><div class="ttname"><a href="classCreature.html#ab4c5777adaad4601b9ca17330371f5b7">Creature::get_size</a></div><div class="ttdeci">virtual m_size get_size() const =0</div></div>
<div class="ttc" id="aclassCreature_html_ab7f9ca1f62f41d70a2615dfeb17b7cbc"><div class="ttname"><a href="classCreature.html#ab7f9ca1f62f41d70a2615dfeb17b7cbc">Creature::get_dodge_bonus</a></div><div class="ttdeci">virtual float get_dodge_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01682">creature.cpp:1682</a></div></div>
<div class="ttc" id="aclassCreature_html_ab901ee8b150fdad01ff2028ec8dba84c"><div class="ttname"><a href="classCreature.html#ab901ee8b150fdad01ff2028ec8dba84c">Creature::get_part_hp_cur</a></div><div class="ttdeci">int get_part_hp_cur(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01560">creature.cpp:1560</a></div></div>
<div class="ttc" id="aclassCreature_html_abb91e1cd5610658124d40623e7e4d698"><div class="ttname"><a href="classCreature.html#abb91e1cd5610658124d40623e7e4d698">Creature::auto_find_hostile_target</a></div><div class="ttdeci">Creature * auto_find_hostile_target(int range, int &amp;boo_hoo, int area=0)</div><div class="ttdoc">For fake-players (turrets, mounted turrets) this functions chooses a target.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00335">creature.cpp:335</a></div></div>
<div class="ttc" id="aclassCreature_html_abd9af93b322d04729ae5e81c826cbc4f"><div class="ttname"><a href="classCreature.html#abd9af93b322d04729ae5e81c826cbc4f">Creature::get_grammatical_genders</a></div><div class="ttdeci">virtual std::vector&lt; std::string &gt; get_grammatical_genders() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00115">creature.cpp:115</a></div></div>
<div class="ttc" id="aclassCreature_html_ac0097db0dd4bd71fd854f02f2db7d771"><div class="ttname"><a href="classCreature.html#ac0097db0dd4bd71fd854f02f2db7d771">Creature::on_effect_int_change</a></div><div class="ttdeci">virtual void on_effect_int_change(const efftype_id &amp;, int, const bodypart_str_id &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00839">creature.h:839</a></div></div>
<div class="ttc" id="aclassCreature_html_ac05b5c462926b4f5b329e7b2826f8ce7"><div class="ttname"><a href="classCreature.html#ac05b5c462926b4f5b329e7b2826f8ce7">Creature::symbol_color</a></div><div class="ttdeci">virtual nc_color symbol_color() const =0</div></div>
<div class="ttc" id="aclassCreature_html_ac0a50a1c65fe8eb4879f9efcb8611aaa"><div class="ttname"><a href="classCreature.html#ac0a50a1c65fe8eb4879f9efcb8611aaa">Creature::get_armor_cut_bonus</a></div><div class="ttdeci">virtual int get_armor_cut_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01494">creature.cpp:1494</a></div></div>
<div class="ttc" id="aclassCreature_html_ac168f97cc5268464cb3682f43de4d930"><div class="ttname"><a href="classCreature.html#ac168f97cc5268464cb3682f43de4d930">Creature::armor_bash_bonus</a></div><div class="ttdeci">int armor_bash_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00820">creature.h:820</a></div></div>
<div class="ttc" id="aclassCreature_html_ac17b598158d47e40713408e8c88b20b4"><div class="ttname"><a href="classCreature.html#ac17b598158d47e40713408e8c88b20b4">Creature::reset_bonuses</a></div><div class="ttdeci">virtual void reset_bonuses()</div><div class="ttdoc">Resets the value of all bonus fields to 0.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00139">creature.cpp:139</a></div></div>
<div class="ttc" id="aclassCreature_html_ac209d32cbfd3774af3d5c0500e2fae52"><div class="ttname"><a href="classCreature.html#ac209d32cbfd3774af3d5c0500e2fae52">Creature::is_avatar</a></div><div class="ttdeci">virtual bool is_avatar() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00095">creature.h:95</a></div></div>
<div class="ttc" id="aclassCreature_html_ac2a4228cdac0e116a7f9238e2d1b5561"><div class="ttname"><a href="classCreature.html#ac2a4228cdac0e116a7f9238e2d1b5561">Creature::get_hp_max</a></div><div class="ttdeci">virtual int get_hp_max() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01669">creature.cpp:1669</a></div></div>
<div class="ttc" id="aclassCreature_html_ac339c87d92ebb3cc1092d12e78886184"><div class="ttname"><a href="classCreature.html#ac339c87d92ebb3cc1092d12e78886184">Creature::creature_anatomy</a></div><div class="ttdeci">anatomy_id creature_anatomy</div><div class="ttdoc">anatomy is the plan of the creature's body</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00491">creature.h:491</a></div></div>
<div class="ttc" id="aclassCreature_html_ac4dbde454c86b3296f53681c60612974"><div class="ttname"><a href="classCreature.html#ac4dbde454c86b3296f53681c60612974">Creature::get_body</a></div><div class="ttdeci">const std::map&lt; bodypart_str_id, bodypart &gt; &amp; get_body() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01527">creature.cpp:1527</a></div></div>
<div class="ttc" id="aclassCreature_html_ac5fa405fe6d75e0298051ab413cdfac1"><div class="ttname"><a href="classCreature.html#ac5fa405fe6d75e0298051ab413cdfac1">Creature::cmat_flameres</a></div><div class="ttdeci">static const std::set&lt; material_id &gt; cmat_flameres</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00478">creature.h:478</a></div></div>
<div class="ttc" id="aclassCreature_html_ac60aa5fbf2288af721c85d4ad0e5c3d7"><div class="ttname"><a href="classCreature.html#ac60aa5fbf2288af721c85d4ad0e5c3d7">Creature::get_armor_bash_bonus</a></div><div class="ttdeci">virtual int get_armor_bash_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01490">creature.cpp:1490</a></div></div>
<div class="ttc" id="aclassCreature_html_ac7516d970e4db80cfcf8c0c8d345a2fa"><div class="ttname"><a href="classCreature.html#ac7516d970e4db80cfcf8c0c8d345a2fa">Creature::in_sleep_state</a></div><div class="ttdeci">virtual bool in_sleep_state() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01417">creature.cpp:1417</a></div></div>
<div class="ttc" id="aclassCreature_html_acbef2e3b6be66df5dd9a7bf587d116bf"><div class="ttname"><a href="classCreature.html#acbef2e3b6be66df5dd9a7bf587d116bf">Creature::impact</a></div><div class="ttdeci">virtual int impact(int force, const tripoint &amp;pos)=0</div><div class="ttdoc">Deals falling/collision damage with terrain/creature at pos.</div></div>
<div class="ttc" id="aclassCreature_html_acd04500c61e64cf199ea86f37e95c4a6"><div class="ttname"><a href="classCreature.html#acd04500c61e64cf199ea86f37e95c4a6">Creature::is_warm</a></div><div class="ttdeci">virtual bool is_warm() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00960">creature.cpp:960</a></div></div>
<div class="ttc" id="aclassCreature_html_acd41fe70086446befdb8d6e5a950c1ff"><div class="ttname"><a href="classCreature.html#acd41fe70086446befdb8d6e5a950c1ff">Creature::get_all_effects</a></div><div class="ttdeci">effects_map get_all_effects() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l02009">creature.cpp:2009</a></div></div>
<div class="ttc" id="aclassCreature_html_acfac03f5782f8ea53e1efcb5321ead1b"><div class="ttname"><a href="classCreature.html#acfac03f5782f8ea53e1efcb5321ead1b">Creature::get_speed_base</a></div><div class="ttdeci">virtual int get_speed_base() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01674">creature.cpp:1674</a></div></div>
<div class="ttc" id="aclassCreature_html_acfe4b827ccc042c7933e709fbca6476e"><div class="ttname"><a href="classCreature.html#acfe4b827ccc042c7933e709fbca6476e">Creature::is_immune_effect</a></div><div class="ttdeci">virtual bool is_immune_effect(const efftype_id &amp;type) const =0</div></div>
<div class="ttc" id="aclassCreature_html_ad039e02831f1a47941ae6d1f3b217444"><div class="ttname"><a href="classCreature.html#ad039e02831f1a47941ae6d1f3b217444">Creature::is_immune_damage</a></div><div class="ttdeci">virtual bool is_immune_damage(damage_type type) const =0</div></div>
<div class="ttc" id="aclassCreature_html_ad0d456dd94dedc99904380699582135b"><div class="ttname"><a href="classCreature.html#ad0d456dd94dedc99904380699582135b">Creature::made_of_any</a></div><div class="ttdeci">virtual bool made_of_any(const std::set&lt; material_id &gt; &amp;ms) const =0</div></div>
<div class="ttc" id="aclassCreature_html_ad628fd3820652dc675e2165d3252e6dc"><div class="ttname"><a href="classCreature.html#ad628fd3820652dc675e2165d3252e6dc">Creature::attitude_raw_string</a></div><div class="ttdeci">static std::string attitude_raw_string(Attitude att)</div><div class="ttdoc">Simplified attitude string for unlocalized needs.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01846">creature.cpp:1846</a></div></div>
<div class="ttc" id="aclassCreature_html_ad76a5de4e1a09c774c1fea1c3405075b"><div class="ttname"><a href="classCreature.html#ad76a5de4e1a09c774c1fea1c3405075b">Creature::set_fake</a></div><div class="ttdeci">virtual void set_fake(bool fake_value)</div><div class="ttdoc">Sets a Creature's fake boolean.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00975">creature.cpp:975</a></div></div>
<div class="ttc" id="aclassCreature_html_ad773414b7104cae9ac1df7404528a956"><div class="ttname"><a href="classCreature.html#ad773414b7104cae9ac1df7404528a956">Creature::num_blocks_bonus</a></div><div class="ttdeci">int num_blocks_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00817">creature.h:817</a></div></div>
<div class="ttc" id="aclassCreature_html_ad7ff6d771fb2845965d103ad8cf2ff5d"><div class="ttname"><a href="classCreature.html#ad7ff6d771fb2845965d103ad8cf2ff5d">Creature::select_body_part</a></div><div class="ttdeci">body_part select_body_part(Creature *source, int hit_roll) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01827">creature.cpp:1827</a></div></div>
<div class="ttc" id="aclassCreature_html_ad8810c3abed9b6a4f0705fd9be466e33"><div class="ttname"><a href="classCreature.html#ad8810c3abed9b6a4f0705fd9be466e33">Creature::get_melee</a></div><div class="ttdeci">virtual float get_melee() const =0</div></div>
<div class="ttc" id="aclassCreature_html_ad88ff594784edeceaef456d2a08180bc"><div class="ttname"><a href="classCreature.html#ad88ff594784edeceaef456d2a08180bc">Creature::set_killer</a></div><div class="ttdeci">void set_killer(Creature *killer)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01431">creature.cpp:1431</a></div></div>
<div class="ttc" id="aclassCreature_html_adbb994679f77dfa6b446c0d36961c6a2"><div class="ttname"><a href="classCreature.html#adbb994679f77dfa6b446c0d36961c6a2">Creature::dodge_bonus</a></div><div class="ttdeci">float dodge_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00826">creature.h:826</a></div></div>
<div class="ttc" id="aclassCreature_html_ade25d295e89504f92aff453b05cd2bbe"><div class="ttname"><a href="classCreature.html#ade25d295e89504f92aff453b05cd2bbe">Creature::clear_effects</a></div><div class="ttdeci">void clear_effects()</div><div class="ttdoc">Remove all effects.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01128">creature.cpp:1128</a></div></div>
<div class="ttc" id="aclassCreature_html_ade576569fbf413f86248ed9612266181"><div class="ttname"><a href="classCreature.html#ade576569fbf413f86248ed9612266181">Creature::get_armor_bullet_bonus</a></div><div class="ttdeci">virtual int get_armor_bullet_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01498">creature.cpp:1498</a></div></div>
<div class="ttc" id="aclassCreature_html_adffc2b92625bf6103e3e2f95c3a404c3"><div class="ttname"><a href="classCreature.html#adffc2b92625bf6103e3e2f95c3a404c3">Creature::mod_num_dodges_bonus</a></div><div class="ttdeci">virtual void mod_num_dodges_bonus(int ndodges)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01718">creature.cpp:1718</a></div></div>
<div class="ttc" id="aclassCreature_html_ae14e3b3ab4a876a17538cfe38818356c"><div class="ttname"><a href="classCreature.html#ae14e3b3ab4a876a17538cfe38818356c">Creature::effects</a></div><div class="ttdeci">pimpl&lt; effects_map &gt; effects</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00808">creature.h:808</a></div></div>
<div class="ttc" id="aclassCreature_html_ae498ac0177ab95ad88e80a454e67f721"><div class="ttname"><a href="classCreature.html#ae498ac0177ab95ad88e80a454e67f721">Creature::get_num_dodges_bonus</a></div><div class="ttdeci">virtual int get_num_dodges_bonus() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01452">creature.cpp:1452</a></div></div>
<div class="ttc" id="aclassCreature_html_ae5454f0e4db71d31ab3c1331e5103a4b"><div class="ttname"><a href="classCreature.html#ae5454f0e4db71d31ab3c1331e5103a4b">Creature::basic_symbol_color</a></div><div class="ttdeci">virtual nc_color basic_symbol_color() const =0</div></div>
<div class="ttc" id="aclassCreature_html_ae668a71c7a468fe4753374d3d51481bb"><div class="ttname"><a href="classCreature.html#ae668a71c7a468fe4753374d3d51481bb">Creature::speed_bonus</a></div><div class="ttdeci">int speed_bonus</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00825">creature.h:825</a></div></div>
<div class="ttc" id="aclassCreature_html_ae7b4cc2f6c25729d298e22052e54bc6c"><div class="ttname"><a href="classCreature.html#ae7b4cc2f6c25729d298e22052e54bc6c">Creature::set_armor_bullet_bonus</a></div><div class="ttdeci">virtual void set_armor_bullet_bonus(int nbulletarm)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01731">creature.cpp:1731</a></div></div>
<div class="ttc" id="aclassCreature_html_ae92d2444aa89afae41c107cf6fcf6851"><div class="ttname"><a href="classCreature.html#ae92d2444aa89afae41c107cf6fcf6851">Creature::hit_roll</a></div><div class="ttdeci">virtual float hit_roll() const =0</div><div class="ttdoc">Should always be overwritten by the appropriate player/NPC/monster version.</div></div>
<div class="ttc" id="aclassCreature_html_aeb7869963d4c1060c4d928424511d2e0"><div class="ttname"><a href="classCreature.html#aeb7869963d4c1060c4d928424511d2e0">Creature::add_env_effect</a></div><div class="ttdeci">bool add_env_effect(const efftype_id &amp;eff_id, body_part vector, int strength, const time_duration &amp;dur, body_part bp=num_bp, int intensity=1, bool force=false)</div><div class="ttdoc">Gives chance to save via environmental resist, returns false if resistance was successful.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01112">creature.cpp:1112</a></div></div>
<div class="ttc" id="aclassCreature_html_aed84fe52e1335d48d53f482f8a278c87"><div class="ttname"><a href="classCreature.html#aed84fe52e1335d48d53f482f8a278c87">Creature::is_npc</a></div><div class="ttdeci">virtual bool is_npc() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00098">creature.h:98</a></div></div>
<div class="ttc" id="aclassCreature_html_aeff660cc0df3f660c46142e5362f8ffe"><div class="ttname"><a href="classCreature.html#aeff660cc0df3f660c46142e5362f8ffe">Creature::get_part_healed_total</a></div><div class="ttdeci">int get_part_healed_total(const bodypart_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01570">creature.cpp:1570</a></div></div>
<div class="ttc" id="aclassCreature_html_af2258ac80264fd7dd385016b97490324"><div class="ttname"><a href="classCreature.html#af2258ac80264fd7dd385016b97490324">Creature::get_armor_bullet_base</a></div><div class="ttdeci">virtual int get_armor_bullet_base(bodypart_id bp) const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01486">creature.cpp:1486</a></div></div>
<div class="ttc" id="aclassCreature_html_af376b238bc80631e8873908f465fe7b2"><div class="ttname"><a href="classCreature.html#af376b238bc80631e8873908f465fe7b2">Creature::get_part</a></div><div class="ttdeci">bodypart * get_part(const bodypart_id &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01540">creature.cpp:1540</a></div></div>
<div class="ttc" id="aclassCreature_html_af3d3fb7cfb98cf3c36f0f0681414274a"><div class="ttname"><a href="classCreature.html#af3d3fb7cfb98cf3c36f0f0681414274a">Creature::get_moves</a></div><div class="ttdeci">int get_moves() const</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01404">creature.cpp:1404</a></div></div>
<div class="ttc" id="aclassCreature_html_af4d6d569180f457e7d2294946eaf7563"><div class="ttname"><a href="classCreature.html#af4d6d569180f457e7d2294946eaf7563">Creature::killer</a></div><div class="ttdeci">Creature * killer</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00800">creature.h:800</a></div></div>
<div class="ttc" id="aclassCreature_html_af56188882e3300853d18f166738ee37a"><div class="ttname"><a href="classCreature.html#af56188882e3300853d18f166738ee37a">Creature::on_dodge</a></div><div class="ttdeci">virtual void on_dodge(Creature *source, float difficulty)=0</div><div class="ttdoc">This creature just dodged an attack - possibly special/ranged attack - from source.</div></div>
<div class="ttc" id="aclassCreature_html_af5c36ca5b43c92f6cb02afb52a448372"><div class="ttname"><a href="classCreature.html#af5c36ca5b43c92f6cb02afb52a448372">Creature::is_dangerous_field</a></div><div class="ttdeci">bool is_dangerous_field(const field_entry &amp;entry) const</div><div class="ttdoc">Returns true if the given field entry is dangerous to us.</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00196">creature.cpp:196</a></div></div>
<div class="ttc" id="aclassCreature_html_af712029844aef7ebc7af88a9242e2df0"><div class="ttname"><a href="classCreature.html#af712029844aef7ebc7af88a9242e2df0">Creature::posx</a></div><div class="ttdeci">virtual int posx() const =0</div></div>
<div class="ttc" id="aclassCreature_html_af79c1e1ef891477157860a3e31db8492"><div class="ttname"><a href="classCreature.html#af79c1e1ef891477157860a3e31db8492">Creature::knock_back_to</a></div><div class="ttdeci">virtual void knock_back_to(const tripoint &amp;to)=0</div></div>
<div class="ttc" id="aclassCreature_html_af7c8ef39a61456810a5581a61d297b80"><div class="ttname"><a href="classCreature.html#af7c8ef39a61456810a5581a61d297b80">Creature::block_hit</a></div><div class="ttdeci">virtual bool block_hit(Creature *source, bodypart_id &amp;bp_hit, damage_instance &amp;dam)=0</div></div>
<div class="ttc" id="aclassCreature_html_af826bfbdc9d7f81a8b9e53775f43d080"><div class="ttname"><a href="classCreature.html#af826bfbdc9d7f81a8b9e53775f43d080">Creature::set_moves</a></div><div class="ttdeci">void set_moves(int nmoves)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01412">creature.cpp:1412</a></div></div>
<div class="ttc" id="aclassCreature_html_afbfbda1c9112c0551c654337b6176915"><div class="ttname"><a href="classCreature.html#afbfbda1c9112c0551c654337b6176915">Creature::on_stat_change</a></div><div class="ttdeci">virtual void on_stat_change(const std::string &amp;, int)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00838">creature.h:838</a></div></div>
<div class="ttc" id="aclassCreature_html_afedb5874d4d3438d3c82cb2104ec49fa"><div class="ttname"><a href="classCreature.html#afedb5874d4d3438d3c82cb2104ec49fa">Creature::set_speed_base</a></div><div class="ttdeci">virtual void set_speed_base(int nspeed)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01736">creature.cpp:1736</a></div></div>
<div class="ttc" id="aclassJsonObject_html"><div class="ttname"><a href="classJsonObject.html">JsonObject</a></div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00831">json.h:832</a></div></div>
<div class="ttc" id="aclassJsonObject_html_aa92b5eb23f6b39645877d79fbef784a0"><div class="ttname"><a href="classJsonObject.html#aa92b5eb23f6b39645877d79fbef784a0">JsonObject::has_array</a></div><div class="ttdeci">bool has_array(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8cpp_source.html#l00415">json.cpp:415</a></div></div>
<div class="ttc" id="aclassJsonObject_html_ae66d47f9cb4993dfaf79819ec2aff2f8"><div class="ttname"><a href="classJsonObject.html#ae66d47f9cb4993dfaf79819ec2aff2f8">JsonObject::read</a></div><div class="ttdeci">bool read(const std::string &amp;name, T &amp;t, bool throw_on_error=true) const</div><div class="ttdef"><b>Definition:</b> <a href="json_8h_source.html#l00944">json.h:944</a></div></div>
<div class="ttc" id="aclassanatomy_html_a01f2145db69bbe77fd962184524a27c4"><div class="ttname"><a href="classanatomy.html#a01f2145db69bbe77fd962184524a27c4">anatomy::select_body_part</a></div><div class="ttdeci">bodypart_id select_body_part(int size_diff, int hit_roll) const</div><div class="ttdoc">Returns a random body part dependent on attacker's relative size and hit roll.</div><div class="ttdef"><b>Definition:</b> <a href="anatomy_8cpp_source.html#l00139">anatomy.cpp:139</a></div></div>
<div class="ttc" id="aclassanatomy_html_abae9f237437b7f56f5efbd6983706324"><div class="ttname"><a href="classanatomy.html#abae9f237437b7f56f5efbd6983706324">anatomy::random_body_part</a></div><div class="ttdeci">bodypart_id random_body_part() const</div><div class="ttdoc">Returns a random body_part token.</div><div class="ttdef"><b>Definition:</b> <a href="anatomy_8cpp_source.html#l00134">anatomy.cpp:134</a></div></div>
<div class="ttc" id="aclassbodypart_html"><div class="ttname"><a href="classbodypart.html">bodypart</a></div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00154">bodypart.h:155</a></div></div>
<div class="ttc" id="aclassbodypart_html_a01e15a79b1fb4a5197486c91860b9a82"><div class="ttname"><a href="classbodypart.html#a01e15a79b1fb4a5197486c91860b9a82">bodypart::get_healed_total</a></div><div class="ttdeci">int get_healed_total() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00405">bodypart.cpp:405</a></div></div>
<div class="ttc" id="aclassbodypart_html_a0ea0f17ff89b6c44b1c9609a34bdf608"><div class="ttname"><a href="classbodypart.html#a0ea0f17ff89b6c44b1c9609a34bdf608">bodypart::mod_hp_cur</a></div><div class="ttdeci">void mod_hp_cur(int mod)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00445">bodypart.cpp:445</a></div></div>
<div class="ttc" id="aclassbodypart_html_a24002476e28e50b4ad9122caec149e15"><div class="ttname"><a href="classbodypart.html#a24002476e28e50b4ad9122caec149e15">bodypart::mod_hp_max</a></div><div class="ttdeci">void mod_hp_max(int mod)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00450">bodypart.cpp:450</a></div></div>
<div class="ttc" id="aclassbodypart_html_a6ada80f0743249902457366cbe91f9a3"><div class="ttname"><a href="classbodypart.html#a6ada80f0743249902457366cbe91f9a3">bodypart::get_hp_max</a></div><div class="ttdeci">int get_hp_max() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00400">bodypart.cpp:400</a></div></div>
<div class="ttc" id="aclassbodypart_html_a6e0c176c23e7925aff8da7dbab93049e"><div class="ttname"><a href="classbodypart.html#a6e0c176c23e7925aff8da7dbab93049e">bodypart::set_healed_total</a></div><div class="ttdeci">void set_healed_total(int set)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00430">bodypart.cpp:430</a></div></div>
<div class="ttc" id="aclassbodypart_html_a9427d18e8394124cbea692220e565338"><div class="ttname"><a href="classbodypart.html#a9427d18e8394124cbea692220e565338">bodypart::get_hp_cur</a></div><div class="ttdeci">int get_hp_cur() const</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00395">bodypart.cpp:395</a></div></div>
<div class="ttc" id="aclassbodypart_html_acb7258a8e81bf912411924022d5e190e"><div class="ttname"><a href="classbodypart.html#acb7258a8e81bf912411924022d5e190e">bodypart::set_hp_max</a></div><div class="ttdeci">void set_hp_max(int set)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00425">bodypart.cpp:425</a></div></div>
<div class="ttc" id="aclassbodypart_html_adf6b6eeaa4113a29750b2c952506643a"><div class="ttname"><a href="classbodypart.html#adf6b6eeaa4113a29750b2c952506643a">bodypart::mod_healed_total</a></div><div class="ttdeci">void mod_healed_total(int mod)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00455">bodypart.cpp:455</a></div></div>
<div class="ttc" id="aclassbodypart_html_ae88ff0fc462258a02b00a69aa789b7c5"><div class="ttname"><a href="classbodypart.html#ae88ff0fc462258a02b00a69aa789b7c5">bodypart::set_hp_cur</a></div><div class="ttdeci">void set_hp_cur(int set)</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8cpp_source.html#l00420">bodypart.cpp:420</a></div></div>
<div class="ttc" id="aclasscatacurses_1_1window_html"><div class="ttname"><a href="classcatacurses_1_1window.html">catacurses::window</a></div><div class="ttdoc">A wrapper over a pointer to a curses window.</div><div class="ttdef"><b>Definition:</b> <a href="cursesdef_8h_source.html#l00054">cursesdef.h:55</a></div></div>
<div class="ttc" id="aclasseffect__type_html"><div class="ttname"><a href="classeffect__type.html">effect_type</a></div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00035">effect.h:36</a></div></div>
<div class="ttc" id="aclasseffect_html"><div class="ttname"><a href="classeffect.html">effect</a></div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00160">effect.h:161</a></div></div>
<div class="ttc" id="aclasseffect_html_a066af1ed3e05451d34a43a79a1997e1d"><div class="ttname"><a href="classeffect.html#a066af1ed3e05451d34a43a79a1997e1d">effect::get_int_add_val</a></div><div class="ttdeci">int get_int_add_val() const</div><div class="ttdoc">Returns the amount an already existing effect intensity is modified by further applications of the sa...</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01211">effect.cpp:1211</a></div></div>
<div class="ttc" id="aclasseffect_html_a0761861661abb287a4ea8c92d9e7b463"><div class="ttname"><a href="classeffect.html#a0761861661abb287a4ea8c92d9e7b463">effect::get_resist_traits</a></div><div class="ttdeci">const std::vector&lt; trait_id &gt; &amp; get_resist_traits() const</div><div class="ttdoc">Returns the string id of the resist trait to be used in has_trait(&quot;id&quot;).</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00891">effect.cpp:891</a></div></div>
<div class="ttc" id="aclasseffect_html_a118dd88810785bfbb8243af97a37d2ab"><div class="ttname"><a href="classeffect.html#a118dd88810785bfbb8243af97a37d2ab">effect::mod_duration</a></div><div class="ttdeci">void mod_duration(const time_duration &amp;dur, bool alert=false)</div><div class="ttdoc">Mods the duration, capping at max_duration if it exists.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00821">effect.cpp:821</a></div></div>
<div class="ttc" id="aclasseffect_html_a11dfe5a38fa2a63bf309b491f64051e0"><div class="ttname"><a href="classeffect.html#a11dfe5a38fa2a63bf309b491f64051e0">effect::get_max_intensity</a></div><div class="ttdeci">int get_max_intensity() const</div><div class="ttdoc">Returns the maximum intensity of an effect.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00853">effect.cpp:853</a></div></div>
<div class="ttc" id="aclasseffect_html_a34c766f51dc0f89ebdab09c344bb506b"><div class="ttname"><a href="classeffect.html#a34c766f51dc0f89ebdab09c344bb506b">effect::get_duration</a></div><div class="ttdeci">time_duration get_duration() const</div><div class="ttdoc">Returns the remaining duration of an effect.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00797">effect.cpp:797</a></div></div>
<div class="ttc" id="aclasseffect_html_a3562276416ffa58ce420934ff75306ff"><div class="ttname"><a href="classeffect.html#a3562276416ffa58ce420934ff75306ff">effect::get_resist_effects</a></div><div class="ttdeci">const std::vector&lt; efftype_id &gt; &amp; get_resist_effects() const</div><div class="ttdoc">Returns the string id of the resist effect to be used in has_effect(&quot;id&quot;).</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00895">effect.cpp:895</a></div></div>
<div class="ttc" id="aclasseffect_html_a39ebd2ec5b2faacde7483e0c07240baa"><div class="ttname"><a href="classeffect.html#a39ebd2ec5b2faacde7483e0c07240baa">effect::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdoc">Returns true if the effect is the result of effect(), ie.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00553">effect.cpp:553</a></div></div>
<div class="ttc" id="aclasseffect_html_a40265c904a684396b45a347239e38782"><div class="ttname"><a href="classeffect.html#a40265c904a684396b45a347239e38782">effect::set_duration</a></div><div class="ttdeci">void set_duration(const time_duration &amp;dur, bool alert=false)</div><div class="ttdoc">Sets the duration, capping at max_duration if it exists.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00805">effect.cpp:805</a></div></div>
<div class="ttc" id="aclasseffect_html_a5201a58434d343a00ce457ce6602905c"><div class="ttname"><a href="classeffect.html#a5201a58434d343a00ce457ce6602905c">effect::get_max_duration</a></div><div class="ttdeci">time_duration get_max_duration() const</div><div class="ttdoc">Returns the maximum duration of an effect.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00801">effect.cpp:801</a></div></div>
<div class="ttc" id="aclasseffect_html_a60fdf77e88d2338ae237a1082b440989"><div class="ttname"><a href="classeffect.html#a60fdf77e88d2338ae237a1082b440989">effect::set_removed</a></div><div class="ttdeci">void set_removed()</div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00249">effect.h:249</a></div></div>
<div class="ttc" id="aclasseffect_html_a64af3902e1495976589ba64ac4c82022"><div class="ttname"><a href="classeffect.html#a64af3902e1495976589ba64ac4c82022">effect::get_id</a></div><div class="ttdeci">const efftype_id &amp; get_id() const</div><div class="ttdoc">Returns the effect's matching effect_type id.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00305">effect.h:305</a></div></div>
<div class="ttc" id="aclasseffect_html_a68192c5a91cf7ad4618263ba3de8b802"><div class="ttname"><a href="classeffect.html#a68192c5a91cf7ad4618263ba3de8b802">effect::get_intensity</a></div><div class="ttdeci">int get_intensity() const</div><div class="ttdoc">Returns the intensity of an effect.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00849">effect.cpp:849</a></div></div>
<div class="ttc" id="aclasseffect_html_a78df933887cbfd826a31bd12e0fd4d65"><div class="ttname"><a href="classeffect.html#a78df933887cbfd826a31bd12e0fd4d65">effect::null_effect</a></div><div class="ttdeci">static effect null_effect</div><div class="ttdoc">Dummy used for &quot;reference to effect()&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00183">effect.h:183</a></div></div>
<div class="ttc" id="aclasseffect_html_a8754bec3fbc3ac14160d2e4f185741e0"><div class="ttname"><a href="classeffect.html#a8754bec3fbc3ac14160d2e4f185741e0">effect::set_intensity</a></div><div class="ttdeci">int set_intensity(int val, bool alert=false)</div><div class="ttdoc">Sets intensity of effect capped by range [1..max_intensity].</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00858">effect.cpp:858</a></div></div>
<div class="ttc" id="aclasseffect_html_a9ff54009330263daa8e02b30e86c854c"><div class="ttname"><a href="classeffect.html#a9ff54009330263daa8e02b30e86c854c">effect::mod_intensity</a></div><div class="ttdeci">int mod_intensity(int mod, bool alert=false)</div><div class="ttdoc">Modify intensity of effect capped by range [1..max_intensity].</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00886">effect.cpp:886</a></div></div>
<div class="ttc" id="aclasseffect_html_aae46cb63cdb1a4ca3e612d464f20446a"><div class="ttname"><a href="classeffect.html#aae46cb63cdb1a4ca3e612d464f20446a">effect::get_int_dur_factor</a></div><div class="ttdeci">time_duration get_int_dur_factor() const</div><div class="ttdoc">Returns the number of turns it takes for the intensity to fall by 1 or 0 if intensity isn't based on ...</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01207">effect.cpp:1207</a></div></div>
<div class="ttc" id="aclasseffect_html_ab0aadd6d843660333cb68199455a8393"><div class="ttname"><a href="classeffect.html#ab0aadd6d843660333cb68199455a8393">effect::get_dur_add_perc</a></div><div class="ttdeci">int get_dur_add_perc() const</div><div class="ttdoc">Returns the percentage value by further applications of existing effects' duration is multiplied by.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l01203">effect.cpp:1203</a></div></div>
<div class="ttc" id="aclasseffect_html_ab4bef16d15bbb8c8cd36d8a0432fbbb8"><div class="ttname"><a href="classeffect.html#ab4bef16d15bbb8c8cd36d8a0432fbbb8">effect::get_bp</a></div><div class="ttdeci">const bodypart_str_id &amp; get_bp() const</div><div class="ttdoc">Returns the targeted body_part of the effect.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00835">effect.cpp:835</a></div></div>
<div class="ttc" id="aclasseffect_html_afc447adf56a7464b4071dc60c259631d"><div class="ttname"><a href="classeffect.html#afc447adf56a7464b4071dc60c259631d">effect::decay</a></div><div class="ttdeci">bool decay(const time_point &amp;time, bool player)</div><div class="ttdoc">Decays effect durations, returning true if duration &lt;= 0.</div><div class="ttdef"><b>Definition:</b> <a href="effect_8cpp_source.html#l00773">effect.cpp:773</a></div></div>
<div class="ttc" id="aclasseffects__map_html"><div class="ttname"><a href="classeffects__map.html">effects_map</a></div><div class="ttdef"><b>Definition:</b> <a href="effect_8h_source.html#l00340">effect.h:342</a></div></div>
<div class="ttc" id="aclassfield__entry_html"><div class="ttname"><a href="classfield__entry.html">field_entry</a></div><div class="ttdoc">An active or passive effect existing on a tile.</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00019">field.h:20</a></div></div>
<div class="ttc" id="aclassfield__entry_html_a40f3c28e4f11b4f4e0eb0414f0fbd73b"><div class="ttname"><a href="classfield__entry.html#a40f3c28e4f11b4f4e0eb0414f0fbd73b">field_entry::is_dangerous</a></div><div class="ttdeci">bool is_dangerous() const</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00078">field.h:78</a></div></div>
<div class="ttc" id="aclassfield__entry_html_af76e247514edaeed4bdc58638bfa0ae1"><div class="ttname"><a href="classfield__entry.html#af76e247514edaeed4bdc58638bfa0ae1">field_entry::get_field_type</a></div><div class="ttdeci">field_type_id get_field_type() const</div><div class="ttdef"><b>Definition:</b> <a href="field_8cpp_source.html#l00105">field.cpp:105</a></div></div>
<div class="ttc" id="aclassfield_html"><div class="ttname"><a href="classfield.html">field</a></div><div class="ttdoc">A variable sized collection of field entries on a given map square.</div><div class="ttdef"><b>Definition:</b> <a href="field_8h_source.html#l00130">field.h:131</a></div></div>
<div class="ttc" id="aclassint__id_html"><div class="ttname"><a href="classint__id.html">int_id&lt; field_type &gt;</a></div></div>
<div class="ttc" id="aclassint__id_html_a88b1e0c550f4d6f36cac7a73feca7f01"><div class="ttname"><a href="classint__id.html#a88b1e0c550f4d6f36cac7a73feca7f01">int_id::id</a></div><div class="ttdeci">const string_id&lt; T &gt; &amp; id() const</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00033">ammo_effect.cpp:33</a></div></div>
<div class="ttc" id="aclassitem_html"><div class="ttname"><a href="classitem.html">item</a></div><div class="ttdef"><b>Definition:</b> <a href="item_8h_source.html#l00176">item.h:177</a></div></div>
<div class="ttc" id="aclassitem_html_a4d5555082454b3cb192f59a70838c891"><div class="ttname"><a href="classitem.html#a4d5555082454b3cb192f59a70838c891">item::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="item_8cpp_source.html#l00732">item.cpp:732</a></div></div>
<div class="ttc" id="aclassmap_html"><div class="ttname"><a href="classmap.html">map</a></div><div class="ttdoc">Manage and cache data about a part of the map.</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00383">map.h:384</a></div></div>
<div class="ttc" id="aclassmap_html_a291e3c90746d24dabba01954fde977d7"><div class="ttname"><a href="classmap.html#a291e3c90746d24dabba01954fde977d7">map::sees</a></div><div class="ttdeci">bool sees(const tripoint &amp;F, const tripoint &amp;T, int range) const</div><div class="ttdoc">Returns whether F sees T with a view range of range.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06130">map.cpp:6130</a></div></div>
<div class="ttc" id="aclassmap_html_a2f68bd10c5c8670061f9da7576d45879"><div class="ttname"><a href="classmap.html#a2f68bd10c5c8670061f9da7576d45879">map::obstacle_coverage</a></div><div class="ttdeci">int obstacle_coverage(const tripoint &amp;loc1, const tripoint &amp;loc2) const</div><div class="ttdoc">Returns coverage of target in relation to the observer.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06217">map.cpp:6217</a></div></div>
<div class="ttc" id="aclassmap_html_a35d1fae9a4e36858c4317f4fbd997272"><div class="ttname"><a href="classmap.html#a35d1fae9a4e36858c4317f4fbd997272">map::obscured_by_vehicle_rotation</a></div><div class="ttdeci">bool obscured_by_vehicle_rotation(const tripoint &amp;from, const tripoint &amp;to) const</div><div class="ttdoc">Checks if a rotated vehicle is blocking diagonal vision, tripoints must be adjacent.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l06520">map.cpp:6520</a></div></div>
<div class="ttc" id="aclassmap_html_a40876da830d622a5ff5ed547bb320e1b"><div class="ttname"><a href="classmap.html#a40876da830d622a5ff5ed547bb320e1b">map::light_at</a></div><div class="ttdeci">lit_level light_at(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00621">lightmap.cpp:621</a></div></div>
<div class="ttc" id="aclassmap_html_a47284179cd831f04aaa7ff3242a5fb7b"><div class="ttname"><a href="classmap.html#a47284179cd831f04aaa7ff3242a5fb7b">map::ambient_light_at</a></div><div class="ttdeci">float ambient_light_at(const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8cpp_source.html#l00646">lightmap.cpp:646</a></div></div>
<div class="ttc" id="aclassmap_html_a516c0764134cc86b57297811520395f7"><div class="ttname"><a href="classmap.html#a516c0764134cc86b57297811520395f7">map::has_flag_ter_or_furn</a></div><div class="ttdeci">bool has_flag_ter_or_furn(const std::string &amp;flag, const tripoint &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02322">map.cpp:2322</a></div></div>
<div class="ttc" id="aclassmap_html_a78a575384ef025ebc3bc5f29bdfb0bb1"><div class="ttname"><a href="classmap.html#a78a575384ef025ebc3bc5f29bdfb0bb1">map::add_splatter</a></div><div class="ttdeci">void add_splatter(const field_type_id &amp;type, const tripoint &amp;where, int intensity=1)</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l05479">map.cpp:5479</a></div></div>
<div class="ttc" id="aclassmap_html_aa487d96256c3d35db7a1bf273156b64a"><div class="ttname"><a href="classmap.html#aa487d96256c3d35db7a1bf273156b64a">map::veh_at</a></div><div class="ttdeci">optional_vpart_position veh_at(const tripoint &amp;p) const</div><div class="ttdoc">Checks if tile is occupied by vehicle and by which part.</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l01009">map.cpp:1009</a></div></div>
<div class="ttc" id="aclassmap_html_ab687d9988b59167571f5476882b24206"><div class="ttname"><a href="classmap.html#ab687d9988b59167571f5476882b24206">map::is_divable</a></div><div class="ttdeci">bool is_divable(const tripoint &amp;p) const</div><div class="ttdoc">Returns whether or not the terrain at the given location can be dived into (by monsters that can swim...</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l02558">map.cpp:2558</a></div></div>
<div class="ttc" id="aclassmap_html_ad969a92f39f92552ab4f177cd0faea55"><div class="ttname"><a href="classmap.html#ad969a92f39f92552ab4f177cd0faea55">map::get_cache_ref</a></div><div class="ttdeci">const level_cache &amp; get_cache_ref(int zlev) const</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l02045">map.h:2045</a></div></div>
<div class="ttc" id="aclassmonster_html"><div class="ttname"><a href="classmonster.html">monster</a></div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00084">monster.h:85</a></div></div>
<div class="ttc" id="aclassmonster_html_a0315651e596e69f0626b30e081726596"><div class="ttname"><a href="classmonster.html#a0315651e596e69f0626b30e081726596">monster::has_flag</a></div><div class="ttdeci">bool has_flag(m_flag f) const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l00889">monster.cpp:889</a></div></div>
<div class="ttc" id="aclassmonster_html_a2881507933646bca97ef83c7112595ac"><div class="ttname"><a href="classmonster.html#a2881507933646bca97ef83c7112595ac">monster::tied_item</a></div><div class="ttdeci">cata::value_ptr&lt; item &gt; tied_item</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00464">monster.h:464</a></div></div>
<div class="ttc" id="aclassmonster_html_a45462fba4c37679c66ecde2f9000c22c"><div class="ttname"><a href="classmonster.html#a45462fba4c37679c66ecde2f9000c22c">monster::add_effect</a></div><div class="ttdeci">void add_effect(const efftype_id &amp;eff_id, const time_duration &amp;dur, const bodypart_str_id &amp;bp, int intensity=0, bool force=false, bool deferred=false) override</div><div class="ttdoc">Performs any monster-specific modifications to the arguments before passing to Creature::add_effect()...</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l01831">monster.cpp:1831</a></div></div>
<div class="ttc" id="aclassmonster_html_a4c251cc737554fe0bde7f7e4f68b8ef5"><div class="ttname"><a href="classmonster.html#a4c251cc737554fe0bde7f7e4f68b8ef5">monster::get_size</a></div><div class="ttdeci">m_size get_size() const override</div><div class="ttdef"><b>Definition:</b> <a href="monster_8cpp_source.html#l02692">monster.cpp:2692</a></div></div>
<div class="ttc" id="aclassmonster_html_aa07ebef40819868b9f7a86383d6cd8c3"><div class="ttname"><a href="classmonster.html#aa07ebef40819868b9f7a86383d6cd8c3">monster::mounted_player</a></div><div class="ttdeci">Character * mounted_player</div><div class="ttdef"><b>Definition:</b> <a href="monster_8h_source.html#l00461">monster.h:461</a></div></div>
<div class="ttc" id="aclassnc__color_html"><div class="ttname"><a href="classnc__color.html">nc_color</a></div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00348">color.h:349</a></div></div>
<div class="ttc" id="aclassnpc_html"><div class="ttname"><a href="classnpc.html">npc</a></div><div class="ttdef"><b>Definition:</b> <a href="npc_8h_source.html#l00780">npc.h:781</a></div></div>
<div class="ttc" id="aclassoptional__vpart__position_html"><div class="ttname"><a href="classoptional__vpart__position.html">optional_vpart_position</a></div><div class="ttdoc">Simple wrapper to forward functions that may return a cata::optional to vpart_position.</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00103">vpart_position.h:104</a></div></div>
<div class="ttc" id="aclassplayer_html"><div class="ttname"><a href="classplayer.html">player</a></div><div class="ttdef"><b>Definition:</b> <a href="player_8h_source.html#l00090">player.h:91</a></div></div>
<div class="ttc" id="aclassscrollingcombattext_html_a10f4b620dcf4c99fe55d267fc2323723"><div class="ttname"><a href="classscrollingcombattext.html#a10f4b620dcf4c99fe55d267fc2323723">scrollingcombattext::add</a></div><div class="ttdeci">void add(const point &amp;pos, direction p_oDir, const std::string &amp;p_sText, game_message_type p_gmt, const std::string &amp;p_sText2=&quot;&quot;, game_message_type p_gmt2=m_neutral, const std::string &amp;p_sType=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01757">output.cpp:1757</a></div></div>
<div class="ttc" id="aclassscrollingcombattext_html_a94b652fa370f1b1a946c726c93abb9bd"><div class="ttname"><a href="classscrollingcombattext.html#a94b652fa370f1b1a946c726c93abb9bd">scrollingcombattext::removeCreatureHP</a></div><div class="ttdeci">void removeCreatureHP()</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01937">output.cpp:1937</a></div></div>
<div class="ttc" id="aclassstring__id_html"><div class="ttname"><a href="classstring__id.html">string_id</a></div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00196">string_id.h:197</a></div></div>
<div class="ttc" id="aclassstring__id_html_a19aea01aa4a1f53aac09acc978f67cf8"><div class="ttname"><a href="classstring__id.html#a19aea01aa4a1f53aac09acc978f67cf8">string_id::c_str</a></div><div class="ttdeci">const char * c_str() const</div><div class="ttdoc">Interface to the plain C-string of the id.</div><div class="ttdef"><b>Definition:</b> <a href="string__id_8h_source.html#l00247">string_id.h:247</a></div></div>
<div class="ttc" id="aclassstring__id_html_a4796245d3cd6e0283670698a98d46ae9"><div class="ttname"><a href="classstring__id.html#a4796245d3cd6e0283670698a98d46ae9">string_id::obj</a></div><div class="ttdeci">const T &amp; obj() const</div><div class="ttdoc">Returns the actual object this id refers to.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00058">achievement.cpp:58</a></div></div>
<div class="ttc" id="aclassstring__id_html_a8ca0e76fa665125f1e50bd1ed8dbd213"><div class="ttname"><a href="classstring__id.html#a8ca0e76fa665125f1e50bd1ed8dbd213">string_id::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdoc">Returns whether this id is valid, that means whether it refers to an existing object.</div><div class="ttdef"><b>Definition:</b> <a href="achievement_8cpp_source.html#l00065">achievement.cpp:65</a></div></div>
<div class="ttc" id="aclassstring__id_html_aa3cde2bfb58efa9621289c0a70d24c5a"><div class="ttname"><a href="classstring__id.html#aa3cde2bfb58efa9621289c0a70d24c5a">string_id::id</a></div><div class="ttdeci">int_id&lt; T &gt; id() const</div><div class="ttdoc">Translate the string based it to the matching integer based id.</div><div class="ttdef"><b>Definition:</b> <a href="ammo__effect_8cpp_source.html#l00054">ammo_effect.cpp:54</a></div></div>
<div class="ttc" id="aclassstring__id_html_ae29dd8ed38d2b5eb443a65ad46f10b2d"><div class="ttname"><a href="classstring__id.html#ae29dd8ed38d2b5eb443a65ad46f10b2d">string_id&lt; body_part_type &gt;::NULL_ID</a></div><div class="ttdeci">static const string_id&lt; body_part_type &gt; &amp; NULL_ID()</div><div class="ttdoc">Returns a null id whose string_id&lt;T&gt;::is_null() must always return true.</div></div>
<div class="ttc" id="aclasstime__duration_html"><div class="ttname"><a href="classtime__duration.html">time_duration</a></div><div class="ttdoc">A duration defined as a number of specific time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00179">calendar.h:180</a></div></div>
<div class="ttc" id="aclasstime__duration_html_a0f7145f4fc4c09defbaf25f468e4e54a"><div class="ttname"><a href="classtime__duration.html#a0f7145f4fc4c09defbaf25f468e4e54a">time_duration::from_turns</a></div><div class="ttdeci">static constexpr time_duration from_turns(const T t)</div><div class="ttdoc">Named constructors to get a duration representing a multiple of the named time units.</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8h_source.html#l00204">calendar.h:204</a></div></div>
<div class="ttc" id="aclasstranslation_html"><div class="ttname"><a href="classtranslation.html">translation</a></div><div class="ttdoc">Class for storing translation context and raw string for deferred translation.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00151">translations.h:152</a></div></div>
<div class="ttc" id="aclasstranslation_html_a30b5b9d586c786942c2321701a53e572"><div class="ttname"><a href="classtranslation.html#a30b5b9d586c786942c2321701a53e572">translation::translated</a></div><div class="ttdeci">std::string translated(int num=1) const</div><div class="ttdoc">Returns raw string if no translation is needed, otherwise returns the translated string.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00309">translations.cpp:309</a></div></div>
<div class="ttc" id="aclasstripoint__range_html"><div class="ttname"><a href="classtripoint__range.html">tripoint_range</a></div><div class="ttdef"><b>Definition:</b> <a href="map__iterator_8h_source.html#l00012">map_iterator.h:13</a></div></div>
<div class="ttc" id="aclassunits_1_1quantity_html"><div class="ttname"><a href="classunits_1_1quantity.html">units::quantity</a></div><div class="ttdef"><b>Definition:</b> <a href="units__def_8h_source.html#l00014">units_def.h:15</a></div></div>
<div class="ttc" id="aclassvehicle_html"><div class="ttname"><a href="classvehicle.html">vehicle</a></div><div class="ttdoc">A vehicle as a whole with all its components.</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8h_source.html#l00674">vehicle.h:675</a></div></div>
<div class="ttc" id="aclassvehicle_html_a2e80dafb2c03147b569688658843d9d6"><div class="ttname"><a href="classvehicle.html#a2e80dafb2c03147b569688658843d9d6">vehicle::get_points</a></div><div class="ttdeci">std::set&lt; tripoint &gt; &amp; get_points(bool force_refresh=false)</div><div class="ttdef"><b>Definition:</b> <a href="vehicle_8cpp_source.html#l06758">vehicle.cpp:6758</a></div></div>
<div class="ttc" id="acolor_8h_html"><div class="ttname"><a href="color_8h.html">color.h</a></div></div>
<div class="ttc" id="acolor_8h_html_a0d06dc49b9761bbc54607397213728bb"><div class="ttname"><a href="color_8h.html#a0d06dc49b9761bbc54607397213728bb">c_white</a></div><div class="ttdeci">#define c_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00018">color.h:18</a></div></div>
<div class="ttc" id="acolor_8h_html_a1cb87e74156596960610fd0a9ace766d"><div class="ttname"><a href="color_8h.html#a1cb87e74156596960610fd0a9ace766d">c_green</a></div><div class="ttdeci">#define c_green</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00022">color.h:22</a></div></div>
<div class="ttc" id="acolor_8h_html_a59eb996497e69c762e67c0636fac348f"><div class="ttname"><a href="color_8h.html#a59eb996497e69c762e67c0636fac348f">h_red</a></div><div class="ttdeci">#define h_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00038">color.h:38</a></div></div>
<div class="ttc" id="acolor_8h_html_a81e80ab9142609903b4788a6bb31ae45"><div class="ttname"><a href="color_8h.html#a81e80ab9142609903b4788a6bb31ae45">c_yellow</a></div><div class="ttdeci">#define c_yellow</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00032">color.h:32</a></div></div>
<div class="ttc" id="acolor_8h_html_a995c6d4982f304048812605b34fb31cb"><div class="ttname"><a href="color_8h.html#a995c6d4982f304048812605b34fb31cb">h_white</a></div><div class="ttdeci">#define h_white</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00035">color.h:35</a></div></div>
<div class="ttc" id="acolor_8h_html_af0a87eaef36305269f4506dfa34d94c0"><div class="ttname"><a href="color_8h.html#af0a87eaef36305269f4506dfa34d94c0">c_red</a></div><div class="ttdeci">#define c_red</div><div class="ttdef"><b>Definition:</b> <a href="color_8h_source.html#l00021">color.h:21</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a00be0762df7b46da965e55caffac53db"><div class="ttname"><a href="coordinates_8h.html#a00be0762df7b46da965e55caffac53db">direction_from</a></div><div class="ttdeci">direction direction_from(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00540">coordinates.h:540</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a47953b33a873caa0861b12222842a5ec"><div class="ttname"><a href="coordinates_8h.html#a47953b33a873caa0861b12222842a5ec">rl_dist</a></div><div class="ttdeci">int rl_dist(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00519">coordinates.h:519</a></div></div>
<div class="ttc" id="acoordinates_8h_html_a4a34f7ffa4c18effba7f8239c68c8738"><div class="ttname"><a href="coordinates_8h.html#a4a34f7ffa4c18effba7f8239c68c8738">line_to</a></div><div class="ttdeci">std::vector&lt; coords::coord_point&lt; Point, Origin, Scale &gt; &gt; line_to(const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc1, const coords::coord_point&lt; Point, Origin, Scale &gt; &amp;loc2)</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00548">coordinates.h:548</a></div></div>
<div class="ttc" id="acreature_8cpp_html_a04a9c5a38c56dac485cb30d93ee38658"><div class="ttname"><a href="creature_8cpp.html#a04a9c5a38c56dac485cb30d93ee38658">effect_paralyzepoison</a></div><div class="ttdeci">static const efftype_id effect_paralyzepoison(&quot;paralyzepoison&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a08481f62adb6937636ea44b855311037"><div class="ttname"><a href="creature_8cpp.html#a08481f62adb6937636ea44b855311037">effect_downed</a></div><div class="ttdeci">static const efftype_id effect_downed(&quot;downed&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a09c667a72022d7e0ee0b851560831e04"><div class="ttname"><a href="creature_8cpp.html#a09c667a72022d7e0ee0b851560831e04">effect_tied</a></div><div class="ttdeci">static const efftype_id effect_tied(&quot;tied&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a09e952ef4d27618e2f60ec737a8d1bae"><div class="ttname"><a href="creature_8cpp.html#a09e952ef4d27618e2f60ec737a8d1bae">effect_blind</a></div><div class="ttdeci">static const efftype_id effect_blind(&quot;blind&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a0a50e3fbf57e70bfac50331092ff8ad1"><div class="ttname"><a href="creature_8cpp.html#a0a50e3fbf57e70bfac50331092ff8ad1">effect_riding</a></div><div class="ttdeci">static const efftype_id effect_riding(&quot;riding&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a13c53ee7aba5f4eceea92acb8990b1f7"><div class="ttname"><a href="creature_8cpp.html#a13c53ee7aba5f4eceea92acb8990b1f7">ammo_effect_magic</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_magic(&quot;magic&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a2e2f893aee74eb40d2c1609963133838"><div class="ttname"><a href="creature_8cpp.html#a2e2f893aee74eb40d2c1609963133838">ammo_effect_BOUNCE</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_BOUNCE(&quot;BOUNCE&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a30d34b241ef54963c18a6af3b2ff3962"><div class="ttname"><a href="creature_8cpp.html#a30d34b241ef54963c18a6af3b2ff3962">effect_zapped</a></div><div class="ttdeci">static const efftype_id effect_zapped(&quot;zapped&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a506fc166f774a4ac78c54dd998286ef1"><div class="ttname"><a href="creature_8cpp.html#a506fc166f774a4ac78c54dd998286ef1">ammo_effect_INCENDIARY</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_INCENDIARY(&quot;INCENDIARY&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a734611af157bbe0c5629170042ad97f7"><div class="ttname"><a href="creature_8cpp.html#a734611af157bbe0c5629170042ad97f7">ammo_effect_PARALYZEPOISON</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_PARALYZEPOISON(&quot;PARALYZEPOISON&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a74abddcaf98d4f59d99c051a421bee67"><div class="ttname"><a href="creature_8cpp.html#a74abddcaf98d4f59d99c051a421bee67">effect_npc_suspend</a></div><div class="ttdeci">static const efftype_id effect_npc_suspend(&quot;npc_suspend&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a7c7651a289cc19a34456c213eeb46edc"><div class="ttname"><a href="creature_8cpp.html#a7c7651a289cc19a34456c213eeb46edc">effect_ridden</a></div><div class="ttdeci">static const efftype_id effect_ridden(&quot;ridden&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a7efb873ae4e7b2dc1aa0179624e1ed89"><div class="ttname"><a href="creature_8cpp.html#a7efb873ae4e7b2dc1aa0179624e1ed89">ammo_effect_APPLY_SAP</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_APPLY_SAP(&quot;APPLY_SAP&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a904dad414459ca8c88a5060325581053"><div class="ttname"><a href="creature_8cpp.html#a904dad414459ca8c88a5060325581053">ammo_effect_LARGE_BEANBAG</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_LARGE_BEANBAG(&quot;LARGE_BEANBAG&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_a99d97c99b6e5d138e7daa56d509e13ed"><div class="ttname"><a href="creature_8cpp.html#a99d97c99b6e5d138e7daa56d509e13ed">ammo_effect_NO_CRIT</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_NO_CRIT(&quot;NO_CRIT&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_aa0ec3804384550ecf8db5c2e08993096"><div class="ttname"><a href="creature_8cpp.html#aa0ec3804384550ecf8db5c2e08993096">default_dispersion_for_ecogh</a></div><div class="ttdeci">static std::vector&lt; int &gt; default_dispersion_for_ecogh</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l01953">creature.cpp:1953</a></div></div>
<div class="ttc" id="acreature_8cpp_html_aa3f7307ad230ecea38f95a4ff0b8ee05"><div class="ttname"><a href="creature_8cpp.html#aa3f7307ad230ecea38f95a4ff0b8ee05">effect_bounced</a></div><div class="ttdeci">static const efftype_id effect_bounced(&quot;bounced&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_aa629b07204a26cf4e57eabe425b3d5c4"><div class="ttname"><a href="creature_8cpp.html#aa629b07204a26cf4e57eabe425b3d5c4">ammo_effect_TANGLE</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_TANGLE(&quot;TANGLE&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_aaafb2b8608b5451879424ff739fedd41"><div class="ttname"><a href="creature_8cpp.html#aaafb2b8608b5451879424ff739fedd41">effect_sap</a></div><div class="ttdeci">static const efftype_id effect_sap(&quot;sap&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_ab16f8be4be2050986e76d2cb0cff7609"><div class="ttname"><a href="creature_8cpp.html#ab16f8be4be2050986e76d2cb0cff7609">effect_sleep</a></div><div class="ttdeci">static const efftype_id effect_sleep(&quot;sleep&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_ab5bc741878d9b8001686d7776457d9f9"><div class="ttname"><a href="creature_8cpp.html#ab5bc741878d9b8001686d7776457d9f9">ammo_effect_IGNITE</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_IGNITE(&quot;IGNITE&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_ac95fd54d69ea350ea463a719fa7f3550"><div class="ttname"><a href="creature_8cpp.html#ac95fd54d69ea350ea463a719fa7f3550">effect_lying_down</a></div><div class="ttdeci">static const efftype_id effect_lying_down(&quot;lying_down&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_aca5c34a4efa7eb7aad971e0c6ad33441"><div class="ttname"><a href="creature_8cpp.html#aca5c34a4efa7eb7aad971e0c6ad33441">ammo_effect_BLINDS_EYES</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_BLINDS_EYES(&quot;BLINDS_EYES&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_ad1df0ca2944a94c3ad796e8baada33ae"><div class="ttname"><a href="creature_8cpp.html#ad1df0ca2944a94c3ad796e8baada33ae">effect_stunned</a></div><div class="ttdeci">static const efftype_id effect_stunned(&quot;stunned&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_add935ef55b63a9bd124cf2410ab40749"><div class="ttname"><a href="creature_8cpp.html#add935ef55b63a9bd124cf2410ab40749">overlaps_vehicle</a></div><div class="ttdeci">static bool overlaps_vehicle(const std::set&lt; tripoint &gt; &amp;veh_area, const tripoint &amp;pos, const int area)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00322">creature.cpp:322</a></div></div>
<div class="ttc" id="acreature_8cpp_html_af079f6d5681dabcbc1c4ee804c0ba556"><div class="ttname"><a href="creature_8cpp.html#af079f6d5681dabcbc1c4ee804c0ba556">effect_no_sight</a></div><div class="ttdeci">static const efftype_id effect_no_sight(&quot;no_sight&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_af33c8c4aad3591a2af08650aa0e3e991"><div class="ttname"><a href="creature_8cpp.html#af33c8c4aad3591a2af08650aa0e3e991">ammo_effect_BEANBAG</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_BEANBAG(&quot;BEANBAG&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_af942404faa709adb06cec47e2cc2604c"><div class="ttname"><a href="creature_8cpp.html#af942404faa709adb06cec47e2cc2604c">ammo_effect_NOGIB</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_NOGIB(&quot;NOGIB&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_afc8900d83dd4d83ef6ea32b9661faba7"><div class="ttname"><a href="creature_8cpp.html#afc8900d83dd4d83ef6ea32b9661faba7">ammo_effect_NO_DAMAGE_SCALING</a></div><div class="ttdeci">static const ammo_effect_str_id ammo_effect_NO_DAMAGE_SCALING(&quot;NO_DAMAGE_SCALING&quot;)</div></div>
<div class="ttc" id="acreature_8cpp_html_afcfa82c36c0dc2d76cd19d622c2b6ab4"><div class="ttname"><a href="creature_8cpp.html#afcfa82c36c0dc2d76cd19d622c2b6ab4">effect_onfire</a></div><div class="ttdeci">static const efftype_id effect_onfire(&quot;onfire&quot;)</div></div>
<div class="ttc" id="acreature_8h_html"><div class="ttname"><a href="creature_8h.html">creature.h</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a07b6bf6678272622a1fb127d59cf0614">MS_TINY</a></div><div class="ttdeci">@ MS_TINY</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00058">creature.h:58</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592a50d9f673ed0348953b2715fa33683791"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a50d9f673ed0348953b2715fa33683791">MS_LARGE</a></div><div class="ttdeci">@ MS_LARGE</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00061">creature.h:61</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592a6a1920ba558cd6584b689f53519e9e96"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a6a1920ba558cd6584b689f53519e9e96">MS_SMALL</a></div><div class="ttdeci">@ MS_SMALL</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00059">creature.h:59</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592a75a0e62060c8f624b2c71038a5a77ae9">MS_HUGE</a></div><div class="ttdeci">@ MS_HUGE</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00062">creature.h:62</a></div></div>
<div class="ttc" id="acreature_8h_html_a94151e401c177b20ea9b8bcadf74f592aaef7580aead8b8a18bc50cb6c1f98b31"><div class="ttname"><a href="creature_8h.html#a94151e401c177b20ea9b8bcadf74f592aaef7580aead8b8a18bc50cb6c1f98b31">MS_MEDIUM</a></div><div class="ttdeci">@ MS_MEDIUM</div><div class="ttdef"><b>Definition:</b> <a href="creature_8h_source.html#l00060">creature.h:60</a></div></div>
<div class="ttc" id="acursesdef_8h_html"><div class="ttname"><a href="cursesdef_8h.html">cursesdef.h</a></div></div>
<div class="ttc" id="adamage_8h_html"><div class="ttname"><a href="damage_8h.html">damage.h</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa31df3b2996d2d10b2ca3e275899fdddb"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa31df3b2996d2d10b2ca3e275899fdddb">DT_ELECTRIC</a></div><div class="ttdeci">@ DT_ELECTRIC</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00030">damage.h:30</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa5f8b46c6c239266403858fa2ae90ef23">DT_BASH</a></div><div class="ttdeci">@ DT_BASH</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00024">damage.h:24</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aa8fce673f2bfbb3fdb52be44a8e638c90"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aa8fce673f2bfbb3fdb52be44a8e638c90">DT_ACID</a></div><div class="ttdeci">@ DT_ACID</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00026">damage.h:26</a></div></div>
<div class="ttc" id="adamage_8h_html_ae63a2cf8429f9edf77b547d34ffe4e7aae6af44cd6e0e8cafcc63cea198f627c9"><div class="ttname"><a href="damage_8h.html#ae63a2cf8429f9edf77b547d34ffe4e7aae6af44cd6e0e8cafcc63cea198f627c9">DT_HEAT</a></div><div class="ttdeci">@ DT_HEAT</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00028">damage.h:28</a></div></div>
<div class="ttc" id="adebug_8h_html"><div class="ttname"><a href="debug_8h.html">debug.h</a></div></div>
<div class="ttc" id="adebug_8h_html_a87e509562277a7ada3a75330d00cb445"><div class="ttname"><a href="debug_8h.html#a87e509562277a7ada3a75330d00cb445">debugmsg</a></div><div class="ttdeci">#define debugmsg(...)</div><div class="ttdoc">Debug message of level DL::Error and class DC::DebugMsg, also includes the source file name and line,...</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00074">debug.h:74</a></div></div>
<div class="ttc" id="aeffect_8h_html"><div class="ttname"><a href="effect_8h.html">effect.h</a></div></div>
<div class="ttc" id="aenums_8h_html"><div class="ttname"><a href="enums_8h.html">enums.h</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096e"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096e">game_message_type</a></div><div class="ttdeci">game_message_type</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00259">enums.h:259</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea2f644bab8f796b847285eab073040f10">m_good</a></div><div class="ttdeci">@ m_good</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00260">enums.h:260</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea379f06a1968886ca7a96b103d5a628fc"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea379f06a1968886ca7a96b103d5a628fc">m_grazing</a></div><div class="ttdeci">@ m_grazing</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00275">enums.h:275</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea3ab788e6c7dfa584be4ca2e90c49ec8c">m_neutral</a></div><div class="ttdeci">@ m_neutral</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00267">enums.h:267</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea72e7b82d57a6df0d4263c2043139b1b1">m_bad</a></div><div class="ttdeci">@ m_bad</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00261">enums.h:261</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea8663170a60ff438f4ba2ab98a1e6d6b5"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea8663170a60ff438f4ba2ab98a1e6d6b5">m_critical</a></div><div class="ttdeci">@ m_critical</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00274">enums.h:274</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096ea9855e523119c93601d8f67718994df05">m_debug</a></div><div class="ttdeci">@ m_debug</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00271">enums.h:271</a></div></div>
<div class="ttc" id="aenums_8h_html_a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687"><div class="ttname"><a href="enums_8h.html#a3baf36d700701401b6baf94db93d096eaed9222dd268c0a08567f6c9081b3e687">m_warning</a></div><div class="ttdeci">@ m_warning</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00264">enums.h:264</a></div></div>
<div class="ttc" id="aenums_8h_html_ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab"><div class="ttname"><a href="enums_8h.html#ac7c2392f800a8be2feb093ef5fe48d40af3725cafa78eb43cc647b405bb6ecfab">type</a></div><div class="ttdeci">@ type</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00075">enums.h:75</a></div></div>
<div class="ttc" id="aevent_8h_html"><div class="ttname"><a href="event_8h.html">event.h</a></div></div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1cea907475eea8d7c21da2c3c3fb3172c731"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1cea907475eea8d7c21da2c3c3fb3172c731">event_type::character_loses_effect</a></div><div class="ttdeci">@ character_loses_effect</div></div>
<div class="ttc" id="aevent_8h_html_a430b444c74dd3fd1472a31714ec5f1ceaaf300b7d334ca5ec15e23a4567f4c46c"><div class="ttname"><a href="event_8h.html#a430b444c74dd3fd1472a31714ec5f1ceaaf300b7d334ca5ec15e23a4567f4c46c">event_type::character_gains_effect</a></div><div class="ttdeci">@ character_gains_effect</div></div>
<div class="ttc" id="aevent__bus_8h_html"><div class="ttname"><a href="event__bus_8h.html">event_bus.h</a></div></div>
<div class="ttc" id="afield_8h_html"><div class="ttname"><a href="field_8h.html">field.h</a></div></div>
<div class="ttc" id="agame_8cpp_html_abeb98e93502d73818b4a73fabe191bc1"><div class="ttname"><a href="game_8cpp.html#abeb98e93502d73818b4a73fabe191bc1">g</a></div><div class="ttdeci">std::unique_ptr&lt; game &gt; g</div><div class="ttdef"><b>Definition:</b> <a href="game_8cpp_source.html#l00274">game.cpp:274</a></div></div>
<div class="ttc" id="agame_8h_html"><div class="ttname"><a href="game_8h.html">game.h</a></div></div>
<div class="ttc" id="agame__constants_8h_html"><div class="ttname"><a href="game__constants_8h.html">game_constants.h</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a32b6b0daa47aeb1caa71bc0585e24684"><div class="ttname"><a href="game__constants_8h.html#a32b6b0daa47aeb1caa71bc0585e24684">accuracy_critical</a></div><div class="ttdeci">constexpr double accuracy_critical</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00121">game_constants.h:121</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a45b6e116f09ae6af4ef31f1495cf48a1"><div class="ttname"><a href="game__constants_8h.html#a45b6e116f09ae6af4ef31f1495cf48a1">accuracy_grazing</a></div><div class="ttdeci">constexpr double accuracy_grazing</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00124">game_constants.h:124</a></div></div>
<div class="ttc" id="agame__constants_8h_html_a745392436b19cce3012d4d8dc0fe422c"><div class="ttname"><a href="game__constants_8h.html#a745392436b19cce3012d4d8dc0fe422c">MAX_VIEW_DISTANCE</a></div><div class="ttdeci">static constexpr int MAX_VIEW_DISTANCE</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00045">game_constants.h:45</a></div></div>
<div class="ttc" id="agame__constants_8h_html_ae5e219227693b7de2d1bb823567b01c7"><div class="ttname"><a href="game__constants_8h.html#ae5e219227693b7de2d1bb823567b01c7">accuracy_standard</a></div><div class="ttdeci">constexpr double accuracy_standard</div><div class="ttdef"><b>Definition:</b> <a href="game__constants_8h_source.html#l00123">game_constants.h:123</a></div></div>
<div class="ttc" id="aint__id_8h_html"><div class="ttname"><a href="int__id_8h.html">int_id.h</a></div></div>
<div class="ttc" id="aitem_8h_html"><div class="ttname"><a href="item_8h.html">item.h</a></div></div>
<div class="ttc" id="aitem__factory_8cpp_html_a9c21005f31e0aa8c574e3a02f2d265db"><div class="ttname"><a href="item__factory_8cpp.html#a9c21005f31e0aa8c574e3a02f2d265db">deferred</a></div><div class="ttdeci">static DynamicDataLoader::deferred_json deferred</div><div class="ttdef"><b>Definition:</b> <a href="item__factory_8cpp_source.html#l00064">item_factory.cpp:64</a></div></div>
<div class="ttc" id="ajson_8h_html"><div class="ttname"><a href="json_8h.html">json.h</a></div></div>
<div class="ttc" id="alightmap_8h_html"><div class="ttname"><a href="lightmap_8h.html">lightmap.h</a></div></div>
<div class="ttc" id="alightmap_8h_html_aeb9bbbd65db85e3561729666fb6c7b38a41bc94cbd8eebea13ce0491b2ac11b88"><div class="ttname"><a href="lightmap_8h.html#aeb9bbbd65db85e3561729666fb6c7b38a41bc94cbd8eebea13ce0491b2ac11b88">lit_level::LOW</a></div><div class="ttdeci">@ LOW</div></div>
<div class="ttc" id="alightmap_8h_html_af20a076fb00e8f5ee28db8f5c302914e"><div class="ttname"><a href="lightmap_8h.html#af20a076fb00e8f5ee28db8f5c302914e">LIGHT_TRANSPARENCY_SOLID</a></div><div class="ttdeci">static constexpr float LIGHT_TRANSPARENCY_SOLID</div><div class="ttdoc">Transparency 101: Transparency usually ranges between 0.038 (open air) and 0.38 (regular smoke).</div><div class="ttdef"><b>Definition:</b> <a href="lightmap_8h_source.html#l00032">lightmap.h:32</a></div></div>
<div class="ttc" id="aline_8cpp_html_a22f984836636053038f43340f9c50149"><div class="ttname"><a href="line_8cpp.html#a22f984836636053038f43340f9c50149">coord_to_angle</a></div><div class="ttdeci">units::angle coord_to_angle(const tripoint &amp;a, const tripoint &amp;b)</div><div class="ttdoc">Calculates the horizontal angle between the lines from (0,0,0) to a and the line from (0,...</div><div class="ttdef"><b>Definition:</b> <a href="line_8cpp_source.html#l00781">line.cpp:781</a></div></div>
<div class="ttc" id="aline_8h_html"><div class="ttname"><a href="line_8h.html">line.h</a></div></div>
<div class="ttc" id="amain_8cpp_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdef"><b>Definition:</b> <a href="main_8cpp_source.html#l00188">main.cpp:188</a></div></div>
<div class="ttc" id="amap_8cpp_html_acb0b34be6e497bdd2f9f40ae6929d562"><div class="ttname"><a href="map_8cpp.html#acb0b34be6e497bdd2f9f40ae6929d562">get_map</a></div><div class="ttdeci">map &amp; get_map()</div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00146">map.cpp:146</a></div></div>
<div class="ttc" id="amap_8h_html"><div class="ttname"><a href="map_8h.html">map.h</a></div></div>
<div class="ttc" id="amap__iterator_8h_html"><div class="ttname"><a href="map__iterator_8h.html">map_iterator.h</a></div></div>
<div class="ttc" id="amapdata_8h_html"><div class="ttname"><a href="mapdata_8h.html">mapdata.h</a></div></div>
<div class="ttc" id="amapdata_8h_html_aa04d037303ea30193f7cf0cd82304258a1786b80153407de19da7cedf520f41cb"><div class="ttname"><a href="mapdata_8h.html#aa04d037303ea30193f7cf0cd82304258a1786b80153407de19da7cedf520f41cb">TFLAG_HIDE_PLACE</a></div><div class="ttdeci">@ TFLAG_HIDE_PLACE</div><div class="ttdef"><b>Definition:</b> <a href="mapdata_8h_source.html#l00315">mapdata.h:315</a></div></div>
<div class="ttc" id="amessages_8cpp_html_a54489326fc37823819c5105addfa27f2"><div class="ttname"><a href="messages_8cpp.html#a54489326fc37823819c5105addfa27f2">add_msg</a></div><div class="ttdeci">void add_msg(std::string msg)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cpp_source.html#l00884">messages.cpp:884</a></div></div>
<div class="ttc" id="amessages_8h_html"><div class="ttname"><a href="messages_8h.html">messages.h</a></div></div>
<div class="ttc" id="amonster_8h_html"><div class="ttname"><a href="monster_8h.html">monster.h</a></div></div>
<div class="ttc" id="amtype_8h_html"><div class="ttname"><a href="mtype_8h.html">mtype.h</a></div></div>
<div class="ttc" id="amtype_8h_html_afa4c966d04d2ddb261a7cde725eca842a29ce8d7831b8ff0d819d93f1a01b8582"><div class="ttname"><a href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842a29ce8d7831b8ff0d819d93f1a01b8582">MF_NIGHT_INVISIBILITY</a></div><div class="ttdeci">@ MF_NIGHT_INVISIBILITY</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00151">mtype.h:151</a></div></div>
<div class="ttc" id="amtype_8h_html_afa4c966d04d2ddb261a7cde725eca842ab8381921cabe58625339ccac27dc3cd9"><div class="ttname"><a href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842ab8381921cabe58625339ccac27dc3cd9">MF_IMMOBILE</a></div><div class="ttdeci">@ MF_IMMOBILE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00113">mtype.h:113</a></div></div>
<div class="ttc" id="amtype_8h_html_afa4c966d04d2ddb261a7cde725eca842af91c5e1f99c06d67e9def13a16cc8b72"><div class="ttname"><a href="mtype_8h.html#afa4c966d04d2ddb261a7cde725eca842af91c5e1f99c06d67e9def13a16cc8b72">MF_MECH_DEFENSIVE</a></div><div class="ttdeci">@ MF_MECH_DEFENSIVE</div><div class="ttdef"><b>Definition:</b> <a href="mtype_8h_source.html#l00118">mtype.h:118</a></div></div>
<div class="ttc" id="anamespaceavatar__action_html_a76ba74774376a08222b8cdcce08f7304"><div class="ttname"><a href="namespaceavatar__action.html#a76ba74774376a08222b8cdcce08f7304">avatar_action::move</a></div><div class="ttdeci">bool move(avatar &amp;you, map &amp;m, const tripoint &amp;d)</div><div class="ttdef"><b>Definition:</b> <a href="avatar__action_8cpp_source.html#l00093">avatar_action.cpp:93</a></div></div>
<div class="ttc" id="anamespacecalendar_html_ae15fcbf1c971589eb49c1a657fb6a580"><div class="ttname"><a href="namespacecalendar.html#ae15fcbf1c971589eb49c1a657fb6a580">calendar::turn</a></div><div class="ttdeci">time_point turn</div><div class="ttdef"><b>Definition:</b> <a href="calendar_8cpp_source.html#l00036">calendar.cpp:36</a></div></div>
<div class="ttc" id="anamespacecata_1_1hash64__detail_html_a5ca825db6fd06946302c60daa97333e4"><div class="ttname"><a href="namespacecata_1_1hash64__detail.html#a5ca825db6fd06946302c60daa97333e4">cata::hash64_detail::ret</a></div><div class="ttdeci">T ret</div><div class="ttdef"><b>Definition:</b> <a href="hash__utils_8h_source.html#l00097">hash_utils.h:97</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_a929fe85d472028f52d8a5cdfc0d35017"><div class="ttname"><a href="namespacecatacurses.html#a929fe85d472028f52d8a5cdfc0d35017">catacurses::getmaxx</a></div><div class="ttdeci">int getmaxx(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00058">ncurses_def.cpp:58</a></div></div>
<div class="ttc" id="anamespacecatacurses_html_adc81ca40445dc062af12fb6d7a4793d0"><div class="ttname"><a href="namespacecatacurses.html#adc81ca40445dc062af12fb6d7a4793d0">catacurses::getmaxy</a></div><div class="ttdeci">int getmaxy(const window &amp;win)</div><div class="ttdef"><b>Definition:</b> <a href="ncurses__def_8cpp_source.html#l00063">ncurses_def.cpp:63</a></div></div>
<div class="ttc" id="anamespacecoords_html_ad99808a305ad40299e592d1266bed4a7"><div class="ttname"><a href="namespacecoords.html#ad99808a305ad40299e592d1266bed4a7">coords::origin</a></div><div class="ttdeci">origin</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00057">coordinates.h:57</a></div></div>
<div class="ttc" id="anamespacecoords_html_aefed5186be640da17dc0e723c536715a"><div class="ttname"><a href="namespacecoords.html#aefed5186be640da17dc0e723c536715a">coords::scale</a></div><div class="ttdeci">scale</div><div class="ttdef"><b>Definition:</b> <a href="coordinates_8h_source.html#l00021">coordinates.h:21</a></div></div>
<div class="ttc" id="anamespaceenchant__vals_html_acd6a6ebb27f9ecb82b3bce1d3aef2998"><div class="ttname"><a href="namespaceenchant__vals.html#acd6a6ebb27f9ecb82b3bce1d3aef2998">enchant_vals::mod</a></div><div class="ttdeci">mod</div><div class="ttdef"><b>Definition:</b> <a href="magic__enchantment_8h_source.html#l00026">magic_enchantment.h:26</a></div></div>
<div class="ttc" id="anamespacemapgen__defer_html_a616ad2c7ee2eb002b683b41b04a888c1"><div class="ttname"><a href="namespacemapgen__defer.html#a616ad2c7ee2eb002b683b41b04a888c1">mapgen_defer::message</a></div><div class="ttdeci">std::string message</div><div class="ttdef"><b>Definition:</b> <a href="mapgen_8cpp_source.html#l00408">mapgen.cpp:408</a></div></div>
<div class="ttc" id="anamespaceranged_html"><div class="ttname"><a href="namespaceranged.html">ranged</a></div><div class="ttdef"><b>Definition:</b> <a href="animation_8cpp_source.html#l01082">animation.cpp:1083</a></div></div>
<div class="ttc" id="anamespaceranged_html_a51e6279a2008714e5596da4f5fa1b00e"><div class="ttname"><a href="namespaceranged.html#a51e6279a2008714e5596da4f5fa1b00e">ranged::hit_with_aoe</a></div><div class="ttdeci">dealt_damage_instance hit_with_aoe(Creature &amp;target, Creature *source, const damage_instance &amp;di)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00615">creature.cpp:615</a></div></div>
<div class="ttc" id="anamespaceranged_html_a5d9da06327706ab87ae19ee9dc08de53"><div class="ttname"><a href="namespaceranged.html#a5d9da06327706ab87ae19ee9dc08de53">ranged::hit_tier</a></div><div class="ttdeci">hit_tier</div><div class="ttdef"><b>Definition:</b> <a href="ranged_8h_source.html#l00108">ranged.h:108</a></div></div>
<div class="ttc" id="anamespaceranged_html_a5d9da06327706ab87ae19ee9dc08de53a52b0f37c2ac81918f900f3d3e6c98597"><div class="ttname"><a href="namespaceranged.html#a5d9da06327706ab87ae19ee9dc08de53a52b0f37c2ac81918f900f3d3e6c98597">ranged::hit_tier::grazing</a></div><div class="ttdeci">@ grazing</div></div>
<div class="ttc" id="anamespaceranged_html_a5d9da06327706ab87ae19ee9dc08de53a7e85bcb66fb9a809d5ab4f62a8b8bea8"><div class="ttname"><a href="namespaceranged.html#a5d9da06327706ab87ae19ee9dc08de53a7e85bcb66fb9a809d5ab4f62a8b8bea8">ranged::hit_tier::critical</a></div><div class="ttdeci">@ critical</div></div>
<div class="ttc" id="anamespaceranged_html_a5d9da06327706ab87ae19ee9dc08de53afea087517c26fadd409bd4b9dc642555"><div class="ttname"><a href="namespaceranged.html#a5d9da06327706ab87ae19ee9dc08de53afea087517c26fadd409bd4b9dc642555">ranged::hit_tier::normal</a></div><div class="ttdeci">@ normal</div></div>
<div class="ttc" id="anamespaceranged_html_af042bc3e3b1ea1c57a42ee323ad284a8"><div class="ttname"><a href="namespaceranged.html#af042bc3e3b1ea1c57a42ee323ad284a8">ranged::print_dmg_msg</a></div><div class="ttdeci">void print_dmg_msg(Creature &amp;target, Creature *source, const dealt_damage_instance &amp;dealt_dam, hit_tier ht)</div><div class="ttdef"><b>Definition:</b> <a href="creature_8cpp_source.html#l00553">creature.cpp:553</a></div></div>
<div class="ttc" id="anamespaceunits_html_a068cd98efba5fd1fbb936ce3597db23d"><div class="ttname"><a href="namespaceunits.html#a068cd98efba5fd1fbb936ce3597db23d">units::from_degrees</a></div><div class="ttdeci">constexpr quantity&lt; double, angle_in_radians_tag &gt; from_degrees(const value_type v)</div><div class="ttdef"><b>Definition:</b> <a href="units__angle_8h_source.html#l00031">units_angle.h:31</a></div></div>
<div class="ttc" id="anamespaceunits_html_a0b9218914b883c6c31f5af68deaafc2e"><div class="ttname"><a href="namespaceunits.html#a0b9218914b883c6c31f5af68deaafc2e">units::fabs</a></div><div class="ttdeci">quantity&lt; V, U &gt; fabs(quantity&lt; V, U &gt; q)</div><div class="ttdef"><b>Definition:</b> <a href="units__def_8h_source.html#l00136">units_def.h:136</a></div></div>
<div class="ttc" id="anpc_8h_html"><div class="ttname"><a href="npc_8h.html">npc.h</a></div></div>
<div class="ttc" id="aoptional_8h_html"><div class="ttname"><a href="optional_8h.html">optional.h</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a4fce254b5cc5c01524772be29ea40980"><div class="ttname"><a href="output_8cpp.html#a4fce254b5cc5c01524772be29ea40980">get_hp_bar</a></div><div class="ttdeci">std::pair&lt; std::string, nc_color &gt; get_hp_bar(const int cur_hp, const int max_hp, const bool is_mon)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l01604">output.cpp:1604</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a734462f5e51e4a40374f3e301f0b847c"><div class="ttname"><a href="output_8cpp.html#a734462f5e51e4a40374f3e301f0b847c">is_draw_tiles_mode</a></div><div class="ttdeci">bool is_draw_tiles_mode()</div><div class="ttdoc">Check whether we're in tile drawing mode.</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l02029">output.cpp:2029</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_a8032083aedcd06543ba48b487844ca4b"><div class="ttname"><a href="output_8cpp.html#a8032083aedcd06543ba48b487844ca4b">mvwputch_inv</a></div><div class="ttdeci">void mvwputch_inv(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00491">output.cpp:491</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ac8f1d6275ee49732d8988e5e671b1776"><div class="ttname"><a href="output_8cpp.html#ac8f1d6275ee49732d8988e5e671b1776">SCT</a></div><div class="ttdeci">scrollingcombattext SCT</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00065">output.cpp:65</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_ae5dd6b0452233905e03a18f54b721f99"><div class="ttname"><a href="output_8cpp.html#ae5dd6b0452233905e03a18f54b721f99">mvwputch_hi</a></div><div class="ttdeci">void mvwputch_hi(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00508">output.cpp:508</a></div></div>
<div class="ttc" id="aoutput_8cpp_html_afb5597c87a5847c7d64b878ab3a77d5b"><div class="ttname"><a href="output_8cpp.html#afb5597c87a5847c7d64b878ab3a77d5b">mvwputch</a></div><div class="ttdeci">void mvwputch(const catacurses::window &amp;w, const point &amp;p, nc_color FG, int ch)</div><div class="ttdef"><b>Definition:</b> <a href="output_8cpp_source.html#l00477">output.cpp:477</a></div></div>
<div class="ttc" id="aoutput_8h_html"><div class="ttname"><a href="output_8h.html">output.h</a></div></div>
<div class="ttc" id="aplayer_8h_html"><div class="ttname"><a href="player_8h.html">player.h</a></div></div>
<div class="ttc" id="apoint_8h_html"><div class="ttname"><a href="point_8h.html">point.h</a></div></div>
<div class="ttc" id="apoint_8h_html_a0ee2195dcb488ae55fbf4316f5011172"><div class="ttname"><a href="point_8h.html#a0ee2195dcb488ae55fbf4316f5011172">point_zero</a></div><div class="ttdeci">static constexpr point point_zero</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00274">point.h:274</a></div></div>
<div class="ttc" id="aprojectile_8h_html"><div class="ttname"><a href="projectile_8h.html">projectile.h</a></div></div>
<div class="ttc" id="aranged_8h_html"><div class="ttname"><a href="ranged_8h.html">ranged.h</a></div></div>
<div class="ttc" id="arng_8cpp_html_a0c88381d6334a2fbaa726c53f5cf9bb9"><div class="ttname"><a href="rng_8cpp.html#a0c88381d6334a2fbaa726c53f5cf9bb9">rng_float</a></div><div class="ttdeci">double rng_float(double lo, double hi)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00028">rng.cpp:28</a></div></div>
<div class="ttc" id="arng_8cpp_html_a7ba03e7147e43d808dc29c54bce9e57f"><div class="ttname"><a href="rng_8cpp.html#a7ba03e7147e43d808dc29c54bce9e57f">dice</a></div><div class="ttdeci">int dice(int number, int sides)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00085">rng.cpp:85</a></div></div>
<div class="ttc" id="arng_8cpp_html_aad28bdad07401a34ecf9912708f8b750"><div class="ttname"><a href="rng_8cpp.html#aad28bdad07401a34ecf9912708f8b750">one_in</a></div><div class="ttdeci">bool one_in(int chance)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00065">rng.cpp:65</a></div></div>
<div class="ttc" id="arng_8cpp_html_acd19ae79e3590a99c9eaf0389318b686"><div class="ttname"><a href="rng_8cpp.html#acd19ae79e3590a99c9eaf0389318b686">roll_remainder</a></div><div class="ttdeci">int roll_remainder(double value)</div><div class="ttdef"><b>Definition:</b> <a href="rng_8cpp_source.html#l00096">rng.cpp:96</a></div></div>
<div class="ttc" id="arng_8h_html"><div class="ttname"><a href="rng_8h.html">rng.h</a></div></div>
<div class="ttc" id="astring__formatter_8h_html_a9b089d0b697443b096063219dab08ef5"><div class="ttname"><a href="string__formatter_8h.html#a9b089d0b697443b096063219dab08ef5">string_format</a></div><div class="ttdeci">std::string string_format(std::string format, Args &amp;&amp;...args)</div><div class="ttdoc">Simple wrapper over string_formatter::parse.</div><div class="ttdef"><b>Definition:</b> <a href="string__formatter_8h_source.html#l00418">string_formatter.h:418</a></div></div>
<div class="ttc" id="astring__id_8h_html"><div class="ttname"><a href="string__id_8h.html">string_id.h</a></div></div>
<div class="ttc" id="astring__utils_8cpp_html_adf69fff1e9a5471c677d36846674eaa5"><div class="ttname"><a href="string__utils_8cpp.html#adf69fff1e9a5471c677d36846674eaa5">replace_all</a></div><div class="ttdeci">std::string replace_all(std::string input, const std::string &amp;what, const std::string &amp;with)</div><div class="ttdoc">Replace all occurences of 'what' within 'input' with 'with'.</div><div class="ttdef"><b>Definition:</b> <a href="string__utils_8cpp_source.html#l00290">string_utils.cpp:290</a></div></div>
<div class="ttc" id="astring__utils_8h_html"><div class="ttname"><a href="string__utils_8h.html">string_utils.h</a></div></div>
<div class="ttc" id="astructbody__part__type_html_a90beb41f3dca18cdbe06f8483336c899"><div class="ttname"><a href="structbody__part__type.html#a90beb41f3dca18cdbe06f8483336c899">body_part_type::token</a></div><div class="ttdeci">body_part token</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00106">bodypart.h:106</a></div></div>
<div class="ttc" id="astructbody__part__type_html_ab88f4c72186cad27609e877dd46d2c33"><div class="ttname"><a href="structbody__part__type.html#ab88f4c72186cad27609e877dd46d2c33">body_part_type::main_part</a></div><div class="ttdeci">bodypart_str_id main_part</div><div class="ttdef"><b>Definition:</b> <a href="bodypart_8h_source.html#l00120">bodypart.h:120</a></div></div>
<div class="ttc" id="astructdamage__instance_html"><div class="ttname"><a href="structdamage__instance.html">damage_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00051">damage.h:51</a></div></div>
<div class="ttc" id="astructdamage__instance_html_a2cc3ee4ff8f77ab6cd74168b1999246a"><div class="ttname"><a href="structdamage__instance.html#a2cc3ee4ff8f77ab6cd74168b1999246a">damage_instance::damage_units</a></div><div class="ttdeci">std::vector&lt; damage_unit &gt; damage_units</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00052">damage.h:52</a></div></div>
<div class="ttc" id="astructdamage__instance_html_a6cc673dba3d2de116c2579c3eda7ed23"><div class="ttname"><a href="structdamage__instance.html#a6cc673dba3d2de116c2579c3eda7ed23">damage_instance::mult_damage</a></div><div class="ttdeci">void mult_damage(double multiplier, bool pre_armor=false)</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00048">damage.cpp:48</a></div></div>
<div class="ttc" id="astructdamage__unit_html"><div class="ttname"><a href="structdamage__unit.html">damage_unit</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00035">damage.h:35</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a5937d5d78a6db9efaefb0bf9517377d3"><div class="ttname"><a href="structdamage__unit.html#a5937d5d78a6db9efaefb0bf9517377d3">damage_unit::amount</a></div><div class="ttdeci">float amount</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00037">damage.h:37</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a6fb9768fbc374c9c24960cdef9bee2f3"><div class="ttname"><a href="structdamage__unit.html#a6fb9768fbc374c9c24960cdef9bee2f3">damage_unit::type</a></div><div class="ttdeci">damage_type type</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00036">damage.h:36</a></div></div>
<div class="ttc" id="astructdamage__unit_html_a8c5cf76dd074bd5dac9b76aaece0ecf4"><div class="ttname"><a href="structdamage__unit.html#a8c5cf76dd074bd5dac9b76aaece0ecf4">damage_unit::damage_multiplier</a></div><div class="ttdeci">float damage_multiplier</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00040">damage.h:40</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html"><div class="ttname"><a href="structdealt__damage__instance.html">dealt_damage_instance</a></div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00085">damage.h:85</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html_a406b816a99913bd6a91b000cc7198a7c"><div class="ttname"><a href="structdealt__damage__instance.html#a406b816a99913bd6a91b000cc7198a7c">dealt_damage_instance::dealt_dams</a></div><div class="ttdeci">std::array&lt; int, NUM_DT &gt; dealt_dams</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00086">damage.h:86</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html_a86b702070a1c313624abc78ff34eff48"><div class="ttname"><a href="structdealt__damage__instance.html#a86b702070a1c313624abc78ff34eff48">dealt_damage_instance::total_damage</a></div><div class="ttdeci">int total_damage() const</div><div class="ttdef"><b>Definition:</b> <a href="damage_8cpp_source.html#l00180">damage.cpp:180</a></div></div>
<div class="ttc" id="astructdealt__damage__instance_html_ad39dc827923ad7b203f2061134ed1db1"><div class="ttname"><a href="structdealt__damage__instance.html#ad39dc827923ad7b203f2061134ed1db1">dealt_damage_instance::bp_hit</a></div><div class="ttdeci">body_part bp_hit</div><div class="ttdef"><b>Definition:</b> <a href="damage_8h_source.html#l00087">damage.h:87</a></div></div>
<div class="ttc" id="astructdealt__projectile__attack_html"><div class="ttname"><a href="structdealt__projectile__attack.html">dealt_projectile_attack</a></div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00070">projectile.h:70</a></div></div>
<div class="ttc" id="astructdealt__projectile__attack_html_a466f327979e41691bc19c91e622078b6"><div class="ttname"><a href="structdealt__projectile__attack.html#a466f327979e41691bc19c91e622078b6">dealt_projectile_attack::hit_critter</a></div><div class="ttdeci">Creature * hit_critter</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00072">projectile.h:72</a></div></div>
<div class="ttc" id="astructdealt__projectile__attack_html_a93f05a2866e4dbc8c4d432a67daf8ab6"><div class="ttname"><a href="structdealt__projectile__attack.html#a93f05a2866e4dbc8c4d432a67daf8ab6">dealt_projectile_attack::proj</a></div><div class="ttdeci">projectile proj</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00071">projectile.h:71</a></div></div>
<div class="ttc" id="astructdealt__projectile__attack_html_ab874a1233da5daa95ff296cdb1ee1849"><div class="ttname"><a href="structdealt__projectile__attack.html#ab874a1233da5daa95ff296cdb1ee1849">dealt_projectile_attack::missed_by</a></div><div class="ttdeci">double missed_by</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00075">projectile.h:75</a></div></div>
<div class="ttc" id="astructdealt__projectile__attack_html_aca4d2ea74ab244bb1defe86449a45c39"><div class="ttname"><a href="structdealt__projectile__attack.html#aca4d2ea74ab244bb1defe86449a45c39">dealt_projectile_attack::dealt_dam</a></div><div class="ttdeci">dealt_damage_instance dealt_dam</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00073">projectile.h:73</a></div></div>
<div class="ttc" id="astructgame__message__params_html"><div class="ttname"><a href="structgame__message__params.html">game_message_params</a></div><div class="ttdoc">Structure allowing a combination of game_message_type and game_message_flags.</div><div class="ttdef"><b>Definition:</b> <a href="enums_8h_source.html#l00293">enums.h:293</a></div></div>
<div class="ttc" id="astructlevel__cache_html_a0d5b0df13e2b5fe817a458be44546219"><div class="ttname"><a href="structlevel__cache.html#a0d5b0df13e2b5fe817a458be44546219">level_cache::seen_cache</a></div><div class="ttdeci">float seen_cache[MAPSIZE_X][MAPSIZE_Y]</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00343">map.h:343</a></div></div>
<div class="ttc" id="astructpoint_html"><div class="ttname"><a href="structpoint.html">point</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00035">point.h:35</a></div></div>
<div class="ttc" id="astructprojectile_html"><div class="ttname"><a href="structprojectile.html">projectile</a></div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00020">projectile.h:20</a></div></div>
<div class="ttc" id="astructprojectile_html_a370f9c2a4b37c7ed526f9d2fd1442328"><div class="ttname"><a href="structprojectile.html#a370f9c2a4b37c7ed526f9d2fd1442328">projectile::get_drop</a></div><div class="ttdeci">const item &amp; get_drop() const</div><div class="ttdoc">Returns an item that should be dropped or an item for which is_null() is true when item to drop is un...</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8cpp_source.html#l00043">projectile.cpp:43</a></div></div>
<div class="ttc" id="astructprojectile_html_a82d8f657f8cfc4e180c15bfab8ca8a6e"><div class="ttname"><a href="structprojectile.html#a82d8f657f8cfc4e180c15bfab8ca8a6e">projectile::impact</a></div><div class="ttdeci">damage_instance impact</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00021">projectile.h:21</a></div></div>
<div class="ttc" id="astructprojectile_html_aa2af53bce63feecb719ef1edba54689e"><div class="ttname"><a href="structprojectile.html#aa2af53bce63feecb719ef1edba54689e">projectile::speed</a></div><div class="ttdeci">int speed</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00025">projectile.h:25</a></div></div>
<div class="ttc" id="astructprojectile_html_aff5ad1d0b09b8de0a516fa61063cad14"><div class="ttname"><a href="structprojectile.html#aff5ad1d0b09b8de0a516fa61063cad14">projectile::has_effect</a></div><div class="ttdeci">bool has_effect(const ammo_effect_str_id &amp;id) const</div><div class="ttdef"><b>Definition:</b> <a href="projectile_8h_source.html#l00055">projectile.h:55</a></div></div>
<div class="ttc" id="astructtripoint_html"><div class="ttname"><a href="structtripoint.html">tripoint</a></div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00147">point.h:147</a></div></div>
<div class="ttc" id="astructtripoint_html_a89f6c0a16e2bfd7ce4f1f1d20404c4d7"><div class="ttname"><a href="structtripoint.html#a89f6c0a16e2bfd7ce4f1f1d20404c4d7">tripoint::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00151">point.h:151</a></div></div>
<div class="ttc" id="astructtripoint_html_ac944c0e329b5eba2602f7a52f66bbbb9"><div class="ttname"><a href="structtripoint.html#ac944c0e329b5eba2602f7a52f66bbbb9">tripoint::z</a></div><div class="ttdeci">int z</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00152">point.h:152</a></div></div>
<div class="ttc" id="astructtripoint_html_accc0725c936dbebb2486f969f39e2e5f"><div class="ttname"><a href="structtripoint.html#accc0725c936dbebb2486f969f39e2e5f">tripoint::xy</a></div><div class="ttdeci">constexpr point xy() const</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00220">point.h:220</a></div></div>
<div class="ttc" id="astructtripoint_html_affdc0d5b75024cbfacd208a495def3dc"><div class="ttname"><a href="structtripoint.html#affdc0d5b75024cbfacd208a495def3dc">tripoint::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="point_8h_source.html#l00150">point.h:150</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_a176e288c640c6506a86330cb10fbe13a"><div class="ttname"><a href="translations_8cpp.html#a176e288c640c6506a86330cb10fbe13a">to_translation</a></div><div class="ttdeci">translation to_translation(const std::string &amp;raw)</div><div class="ttdoc">Shorthands for translation::to_translation.</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00384">translations.cpp:384</a></div></div>
<div class="ttc" id="atranslations_8cpp_html_af0c79b5c75a7cf2df78663485b03ed9a"><div class="ttname"><a href="translations_8cpp.html#af0c79b5c75a7cf2df78663485b03ed9a">pgettext</a></div><div class="ttdeci">const char * pgettext(const char *context, const char *msgid)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8cpp_source.html#l00041">translations.cpp:41</a></div></div>
<div class="ttc" id="atranslations_8h_html"><div class="ttname"><a href="translations_8h.html">translations.h</a></div></div>
<div class="ttc" id="atranslations_8h_html_aa829053017e23ef22d44dccecba63a34"><div class="ttname"><a href="translations_8h.html#aa829053017e23ef22d44dccecba63a34">_</a></div><div class="ttdeci">#define _(msg)</div><div class="ttdef"><b>Definition:</b> <a href="translations_8h_source.html#l00116">translations.h:116</a></div></div>
<div class="ttc" id="atype__id_8h_html_a569ce0271cf4ab170e63bb05658be142"><div class="ttname"><a href="type__id_8h.html#a569ce0271cf4ab170e63bb05658be142">material_id</a></div><div class="ttdeci">string_id&lt; material_type &gt; material_id</div><div class="ttdef"><b>Definition:</b> <a href="type__id_8h_source.html#l00092">type_id.h:92</a></div></div>
<div class="ttc" id="avalue__ptr_8h_html"><div class="ttname"><a href="value__ptr_8h.html">value_ptr.h</a></div></div>
<div class="ttc" id="avehicle_8h_html"><div class="ttname"><a href="vehicle_8h.html">vehicle.h</a></div></div>
<div class="ttc" id="avpart__position_8h_html"><div class="ttname"><a href="vpart__position_8h.html">vpart_position.h</a></div></div>
<div class="ttc" id="avpart__position_8h_html_a67bd76da258293f1443f1356308381dc"><div class="ttname"><a href="vpart__position_8h.html#a67bd76da258293f1443f1356308381dc">veh_pointer_or_null</a></div><div class="ttdeci">vehicle * veh_pointer_or_null(const optional_vpart_position &amp;p)</div><div class="ttdef"><b>Definition:</b> <a href="vpart__position_8h_source.html#l00156">vpart_position.h:156</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="creature_8cpp.html">creature.cpp</a></li>
    <li class="footer">Generated on Mon Oct 31 2022 22:21:02 for Cataclysm BN by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
